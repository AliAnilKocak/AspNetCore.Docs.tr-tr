---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern
title: Kuyruk merkezli çalışma deseni (Azure ile gerçek bulut uygulamaları derleme) | Microsoft Docs
author: MikeWasson
description: Yapı gerçek dünya ile bulut uygulamaları Azure e-kitap Scott Guthrie tarafından geliştirilen bir sunu temel alır. 13 desenleri ve kendisi için yöntemler açıklanmaktadır...
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/12/2014
ms.topic: article
ms.assetid: cc1ad51b-40c3-4c68-8620-9aaa0fd1f6cf
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern
msc.type: authoredcontent
ms.openlocfilehash: 124e673206ecea2eac5efb8c2802a32a690fa104
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30875441"
---
<a name="queue-centric-work-pattern-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="cf9db-104">Kuyruk merkezli çalışma deseni (Azure ile gerçek bulut uygulamaları derleme)</span><span class="sxs-lookup"><span data-stu-id="cf9db-104">Queue-Centric Work Pattern (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="cf9db-105">tarafından [CAN Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [zel Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="cf9db-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="cf9db-106">[İndirme proje düzelt](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) veya [E-kitap indirin](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="cf9db-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="cf9db-107">**Yapı gerçek dünya bulut uygulamalarını Azure ile** e-kitap Scott Guthrie tarafından geliştirilen bir sunu dayanır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="cf9db-108">13 desenleri açıklar ve yardımcı olacak yöntemler bulutu için web uygulamaları geliştirme başarılı.</span><span class="sxs-lookup"><span data-stu-id="cf9db-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="cf9db-109">E-kitap hakkında daha fazla bilgi için bkz: [ilk bölüm](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="cf9db-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="cf9db-110">Birden çok hizmetlerini kullanarak uygulamanın etkili SLA olduğu bir "bileşik" SLA'da sonuçlanabilir daha önce gördüğümüz *ürün* tek tek SLA'ları.</span><span class="sxs-lookup"><span data-stu-id="cf9db-110">Earlier, we saw that using multiple services can result in a "composite" SLA, where the app's effective SLA is the *product* of the individual SLAs.</span></span> <span data-ttu-id="cf9db-111">Örneğin, Web siteleri, depolama ve SQL veritabanı Düzelt uygulama kullanır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-111">For example, the Fix It app uses Web Sites, Storage, and SQL Database.</span></span> <span data-ttu-id="cf9db-112">Bu hizmetlerden herhangi biri başarısız olursa, uygulama kullanıcıya bir hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="cf9db-112">If any one of these services fails, the app will return an error to the user.</span></span>

<span data-ttu-id="cf9db-113">Önbelleğe alma, salt okunur içerik için geçici hataları işlemek için iyi bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="cf9db-113">Caching is a good way to handle transient failures for read-only content.</span></span> <span data-ttu-id="cf9db-114">Ancak, uygulamanızın ne çalışması gerekir?</span><span class="sxs-lookup"><span data-stu-id="cf9db-114">But what if your application needs to do work?</span></span> <span data-ttu-id="cf9db-115">Örneğin, kullanıcı yeni bir Düzelt görev gönderdiğinde, uygulama görevi yalnızca önbelleğe yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="cf9db-115">For example, when the user submits a new Fix It task, the app can't just put the task into the cache.</span></span> <span data-ttu-id="cf9db-116">Uygulama işleme alınacak şekilde Düzelt görev kalıcı veri deposuna yazması gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-116">The app needs to write the Fix It task into a persistent data store, so it can be processed.</span></span>

<span data-ttu-id="cf9db-117">Kuyruk merkezli çalışma deseni nereden geldiğini olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-117">That's where the queue-centric work pattern comes in.</span></span> <span data-ttu-id="cf9db-118">Bu desen web katmanı ve arka uç hizmeti arasındaki bu sıkı bağ sağlar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-118">This pattern enables loose coupling between a web tier and a backend service.</span></span>

<span data-ttu-id="cf9db-119">İşte düzeni nasıl çalışır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-119">Here's how the pattern works.</span></span> <span data-ttu-id="cf9db-120">Uygulama bir istek aldığında, bir iş öğesi bir sıraya koyar ve hemen yanıtı döndürür.</span><span class="sxs-lookup"><span data-stu-id="cf9db-120">When the application gets a request, it puts a work item onto a queue and immediately returns the response.</span></span> <span data-ttu-id="cf9db-121">Daha sonra ayrı arka uç işlemi sıranın iş öğelerinden çeker ve çalışır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-121">Then a separate backend process pulls work items from the queue and does the work.</span></span>

<span data-ttu-id="cf9db-122">Kuyruk merkezli çalışma deseni için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="cf9db-122">The queue-centric work pattern is useful for:</span></span>

- <span data-ttu-id="cf9db-123">Uzun süren (yüksek gecikme süresi) çalışma.</span><span class="sxs-lookup"><span data-stu-id="cf9db-123">Work that is time consuming (high latency).</span></span>
- <span data-ttu-id="cf9db-124">Her zaman kullanılamayabilir bir dış hizmet gerektirir çalışın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-124">Work that requires an external service that might not always be available.</span></span>
- <span data-ttu-id="cf9db-125">Yani iş yoğun kaynak (yüksek CPU).</span><span class="sxs-lookup"><span data-stu-id="cf9db-125">Work that is resource-intensive (high CPU).</span></span>
- <span data-ttu-id="cf9db-126">(Tabi ani yük WINS'e) Dengeleme kurundan yararlanabileceğini çalışın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-126">Work that would benefit from rate leveling (subject to sudden load bursts).</span></span>

## <a name="reduced-latency"></a><span data-ttu-id="cf9db-127">Düşük gecikme süresi</span><span class="sxs-lookup"><span data-stu-id="cf9db-127">Reduced Latency</span></span>

<span data-ttu-id="cf9db-128">Kuyruklar, uzun süren iş yapmakta olduğunuz dilediğiniz zaman yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-128">Queues are useful any time you are doing time-consuming work.</span></span> <span data-ttu-id="cf9db-129">Bir görev birkaç saniye sürer veya artık, son kullanıcı engelleme yerine iş öğesi bir kuyruğa koymak varsa.</span><span class="sxs-lookup"><span data-stu-id="cf9db-129">If a task takes a few seconds or longer, instead of blocking the end user, put the work item into a queue.</span></span> <span data-ttu-id="cf9db-130">Kullanıcı "Üzerinde çalışıyoruz" söyleyin ve sonra görev arka planda işlemek için bir kuyruk dinleyicisini kullanın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-130">Tell the user "We're working on it," and then use a queue listener to process the task in the background.</span></span>

<span data-ttu-id="cf9db-131">Örneğin, bir çevrimiçi satıcısı konumundaki bir şey satın aldığınızda, web sitesini hemen siparişinizi onaylar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-131">For example, when you purchase something at an online retailer, the web site confirms your order immediately.</span></span> <span data-ttu-id="cf9db-132">Ancak, öğelerinizi zaten teslim edilen bir kamyonu olduğu anlamına gelmez.</span><span class="sxs-lookup"><span data-stu-id="cf9db-132">But that doesn't mean your stuff is already in a truck being delivered.</span></span> <span data-ttu-id="cf9db-133">Bir görev sıraya koyarlar ve arka planda öğelerinizi dağıtımı için hazırlama kredi kontrolü işleminden olduğundan ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="cf9db-133">They put a task in a queue, and in the background they are doing the credit check, preparing your items for shipping, and so forth.</span></span>

<span data-ttu-id="cf9db-134">Kısa bir gecikme süresi ile senaryoları için toplam uçtan uca süre görevi eşzamanlı olarak yapılması ile karşılaştırıldığında, bir sıra kullanarak daha uzun olabilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-134">For scenarios with short latency, the total end-to-end time might be longer using a queue, compared with doing the task synchronously.</span></span> <span data-ttu-id="cf9db-135">Ancak daha sonra diğer ağır bu dezavantajı basıyor.</span><span class="sxs-lookup"><span data-stu-id="cf9db-135">But even then, the other benefits can outweigh that disadvantage.</span></span>

## <a name="increased-reliability"></a><span data-ttu-id="cf9db-136">Daha fazla güvenilirlik</span><span class="sxs-lookup"><span data-stu-id="cf9db-136">Increased Reliability</span></span>

<span data-ttu-id="cf9db-137">Sürümünde düzeltin, biz kadarki bakarak bu, ön uç web SQL veritabanı uç ile sıkı şekilde bağlı.</span><span class="sxs-lookup"><span data-stu-id="cf9db-137">In the version of Fix It that we've been looking at so far, the web front-end is tightly coupled with the SQL Database back-end.</span></span> <span data-ttu-id="cf9db-138">SQL veritabanı hizmeti kullanılamıyorsa, kullanıcı hata alır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-138">If the SQL database service is unavailable, the user gets an error.</span></span> <span data-ttu-id="cf9db-139">Yeniden deneme işe yaramazsa (diğer bir deyişle, birden fazla geçici hatasıdır), bir hata gösterebilir ve daha sonra yeniden denemek için kullanıcıya sor yapabileceğiniz tek şey.</span><span class="sxs-lookup"><span data-stu-id="cf9db-139">If retries don't work (that is, the failure is more than transient), the only thing you can do is show an error and ask the user to try again later.</span></span>

![Diyagram gösteren web SQL veritabanı arka uç başarısız olduğunda başarısız olan ön uç](queue-centric-work-pattern/_static/image1.png)

<span data-ttu-id="cf9db-141">Bir kullanıcı bir Düzelt görev gönderdiğinde kuyrukları kullanma, uygulama kuyruğa bir ileti yazar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-141">Using queues, when a user submits a Fix It task, the app writes a message to the queue.</span></span> <span data-ttu-id="cf9db-142">İleti yükü bir [JSON](http://json.org/) görev gösterimi.</span><span class="sxs-lookup"><span data-stu-id="cf9db-142">The message payload is a [JSON](http://json.org/) representation of the task.</span></span> <span data-ttu-id="cf9db-143">İleti sıraya yazılan hemen uygulama döndürür ve hemen kullanıcıya bir başarı iletisi gösterilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-143">As soon as the message is written to the queue, the app returns and immediately shows a success message to the user.</span></span>

<span data-ttu-id="cf9db-144">Arka uç hizmetlerini – gibi SQL veritabanı veya sıra dinleyicisi--çevrimdışı kalırsa, kullanıcı hala Düzelt yeni görevler gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-144">If any of the backend services – such as the SQL database or the queue listener -- go offline, users can still submit new Fix It tasks.</span></span> <span data-ttu-id="cf9db-145">Arka uç hizmetlerini yeniden kullanılabilir kadar iletileri yalnızca sıraya koyar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-145">The messages will just queue up until the backend services are available again.</span></span> <span data-ttu-id="cf9db-146">Bu noktada, arka uç hizmetlerini biriktirme listesi üzerinde Yakala.</span><span class="sxs-lookup"><span data-stu-id="cf9db-146">At that point, the backend services will catch up on the backlog.</span></span>

![Web ön uç bir SQL veritabanı hatası olduğunda çalışmaya devam eden gösteren diyagram](queue-centric-work-pattern/_static/image2.png)

<span data-ttu-id="cf9db-148">Üstelik artık daha fazla arka uç mantığı ön ucu dayanıklılık hakkında endişelenmeden ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-148">Moreover, now you can add more backend logic without worrying about the resiliency of the front end.</span></span> <span data-ttu-id="cf9db-149">Örneğin, bir yeni düzeltin, kendine atanan her sahibine bir e-posta veya SMS mesajı göndermek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-149">For example, you might want to send an email or SMS message to the owner whenever a new Fix It is assigned.</span></span> <span data-ttu-id="cf9db-150">E-posta veya SMS hizmeti kullanılamaz duruma gelirse, şey işlemek ve ardından e-posta/SMS iletileri göndermek için ayrı bir sıraya bir ileti yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="cf9db-150">If the email or SMS service becomes unavailable, you can process everything else, and then put a message into a separate queue for sending email/SMS messages.</span></span>

<span data-ttu-id="cf9db-151">Daha önce Web uygulamaları bizim etkili SLA edildi &times; depolama &times; SQL veritabanı = %99.7.</span><span class="sxs-lookup"><span data-stu-id="cf9db-151">Previously, our effective SLA was Web Apps &times; Storage &times; SQL Database = 99.7%.</span></span> <span data-ttu-id="cf9db-152">(Bkz [hatalarına karşı korur tasarım](design-to-survive-failures.md).)</span><span class="sxs-lookup"><span data-stu-id="cf9db-152">(See [Design to Survive Failures](design-to-survive-failures.md).)</span></span>

<span data-ttu-id="cf9db-153">Biz bir sıra kullanmak üzere uygulamayı değiştirdiğinizde, web ön uç, yalnızca Web uygulamaları ve depolama, bir bileşik %99.8 SLA bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-153">When we change the app to use a queue, the web front end depends only on Web Apps and Storage, for a composite SLA of 99.8%.</span></span> <span data-ttu-id="cf9db-154">(Blob depolama aynı SLA dahil edilir şekilde sıralar Azure depolama hizmetinin bir parçası olduğunu unutmayın.)</span><span class="sxs-lookup"><span data-stu-id="cf9db-154">(Note that queues are part of the Azure storage service, so they are included in the same SLA as blob storage.)</span></span>

<span data-ttu-id="cf9db-155">%99.8 daha da iyi gerekiyorsa, iki farklı bölgelerde iki sıralar da oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-155">If you need even better than 99.8%, you can create two queues in two different regions.</span></span> <span data-ttu-id="cf9db-156">Birincil ve diğeri de bir ikincil olarak belirleyin.</span><span class="sxs-lookup"><span data-stu-id="cf9db-156">Designate one as the primary, and the other as the secondary.</span></span> <span data-ttu-id="cf9db-157">Birincil kuyruk kullanılabilir değilse, uygulamanızda ikincil kuyruğuna yük devri.</span><span class="sxs-lookup"><span data-stu-id="cf9db-157">In your app, fail over to the secondary queue if the primary queue is not available.</span></span> <span data-ttu-id="cf9db-158">Her iki olma kullanılamaz aynı anda fırsat çok küçük.</span><span class="sxs-lookup"><span data-stu-id="cf9db-158">The chance of both being unavailable at the same time is very small.</span></span>

## <a name="rate-leveling-and-independent-scaling"></a><span data-ttu-id="cf9db-159">Oranı Dengeleme ve bağımsız ölçeklendirme</span><span class="sxs-lookup"><span data-stu-id="cf9db-159">Rate Leveling and Independent Scaling</span></span>

<span data-ttu-id="cf9db-160">Kuyruklar adlı bir şey için yararlı de *oranı Dengeleme* veya *Yük Dengeleme*.</span><span class="sxs-lookup"><span data-stu-id="cf9db-160">Queues are also useful for something called *rate leveling* or *load leveling*.</span></span>

<span data-ttu-id="cf9db-161">Web uygulamaları genellikle trafiğinin ani WINS'e maruz kalabilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-161">Web apps are often susceptible to sudden bursts in traffic.</span></span> <span data-ttu-id="cf9db-162">Artan web trafiğini işlemek için web sunucuları otomatik olarak eklemek için otomatik ölçeklendirmeyi kullanabilirsiniz, ancak otomatik ölçeklendirmeyi ani artışlarını yük için yeterince hızlı tepki mümkün olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-162">While you can use autoscaling to automatically add web servers to handle increased web traffic, autoscaling might not be able to react quickly enough to handle abrupt spikes in load.</span></span> <span data-ttu-id="cf9db-163">Web sunucuları bir sıraya bir ileti yazarak yapmak için sahip oldukları iş bazıları boşaltabileceği varsa, bunlar daha fazla trafiği işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-163">If the web servers can offload some of the work they have to do by writing a message to a queue, they can handle more traffic.</span></span> <span data-ttu-id="cf9db-164">Bir arka uç hizmeti sıradaki iletileri okumak ve bunları işlemek.</span><span class="sxs-lookup"><span data-stu-id="cf9db-164">A backend service can then read messages from the queue and process them.</span></span> <span data-ttu-id="cf9db-165">Sıra Derinliği büyütür veya gelen Yük hacmi değiştikçe küçültür.</span><span class="sxs-lookup"><span data-stu-id="cf9db-165">The depth of the queue will grow or shrink as the incoming load varies.</span></span>

<span data-ttu-id="cf9db-166">Bir arka uç hizmetine off-loaded zaman çalışmasını çoğunu ile web katmanı daha kolay trafiğinin ani ani yanıt verebilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-166">With much of its time-consuming work off-loaded to a backend service, the web tier can more easily respond to sudden spikes in traffic.</span></span> <span data-ttu-id="cf9db-167">Ve daha az web sunucuları tarafından verilen tüm trafik miktarı işlenebilir çünkü paradan tasarruf.</span><span class="sxs-lookup"><span data-stu-id="cf9db-167">And you save money because any given amount of traffic can be handled by fewer web servers.</span></span>

<span data-ttu-id="cf9db-168">Web katmanı ve arka uç hizmeti bağımsız olarak ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-168">You can scale the web tier and backend service independently.</span></span> <span data-ttu-id="cf9db-169">Örneğin, yalnızca bir sunucu işleme sırası iletiler ancak üç web sunucuları gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-169">For example, you might need three web servers but only one server processing queue messages.</span></span> <span data-ttu-id="cf9db-170">Veya arka planda işlem yoğunluklu görev çalıştırıyorsanız, daha fazla arka uç sunucularına gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-170">Or if you're running a compute-intensive task in the background, you might need more backend servers.</span></span>

![](queue-centric-work-pattern/_static/image3.png)

<span data-ttu-id="cf9db-171">Otomatik ölçeklendirmeyi arka uç hizmetleriyle ve aynı zamanda web katmanı ile çalışır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-171">Autoscaling works with backend services as well as with the web tier.</span></span> <span data-ttu-id="cf9db-172">Ölçeği artırma veya arka uç VM'ler CPU kullanımına dayalı sırasındaki görevlerin işleme VM'ler ölçeğini.</span><span class="sxs-lookup"><span data-stu-id="cf9db-172">You can scale up or scale down the number of VMs that are processing the tasks in the queue, based on the CPU usage of the backend VMs.</span></span> <span data-ttu-id="cf9db-173">Veya, bir kuyruktaki öğe sayısını göre otomatik ölçekleme yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-173">Or, you can autoscale based on how many items are in a queue.</span></span> <span data-ttu-id="cf9db-174">Örneğin, en fazla 10 öğe sırada tutmaya çalışın için otomatik ölçeklendirme anlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-174">For example, you can tell autoscale to try to keep no more than 10 items in the queue.</span></span> <span data-ttu-id="cf9db-175">Sıra birden fazla 10 öğe varsa, otomatik ölçeklendirme sanal makineleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="cf9db-175">If the queue has more than 10 items, autoscale will add VMs.</span></span> <span data-ttu-id="cf9db-176">Catch olduğunda otomatik ölçeklendirme fazladan VM'ler kesmeden.</span><span class="sxs-lookup"><span data-stu-id="cf9db-176">When they catch up, autoscale will tear down the extra VMs.</span></span>

## <a name="adding-queues-to-the-fix-it-application"></a><span data-ttu-id="cf9db-177">Ekleme kuyruklar düzeltmesi, uygulama</span><span class="sxs-lookup"><span data-stu-id="cf9db-177">Adding Queues to the Fix It Application</span></span>

<span data-ttu-id="cf9db-178">Sıra desen uygulamak için biz Düzelt uygulama için iki değişiklikler yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-178">To implement the queue pattern, we need to make two changes to the Fix It app.</span></span>

- <span data-ttu-id="cf9db-179">Bir kullanıcı yeni bir Düzelt görev gönderdiğinde, görev sırasındaki veritabanına yazmak yerine, yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="cf9db-179">When a user submits a new Fix It task, put the task in the queue, instead of writing it to the database.</span></span>
- <span data-ttu-id="cf9db-180">Sıradaki iletileri işleyen bir arka uç hizmeti oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cf9db-180">Create a back-end service that processes messages in the queue.</span></span>

<span data-ttu-id="cf9db-181">Sıra için kullanacağız [Azure kuyruk depolama hizmeti](https://www.windowsazure.com/develop/net/how-to-guides/queue-service/).</span><span class="sxs-lookup"><span data-stu-id="cf9db-181">For the queue, we'll use the [Azure Queue Storage Service](https://www.windowsazure.com/develop/net/how-to-guides/queue-service/).</span></span> <span data-ttu-id="cf9db-182">Başka bir seçenek kullanmaktır [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="cf9db-182">Another option is to use [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/).</span></span>

<span data-ttu-id="cf9db-183">Hangi kuyruk hizmetini kullanacak biçimde karar vermek için nasıl uygulamanızın ileti gönderme ve sıraya alma gerektiğini göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="cf9db-183">To decide which queue service to use, consider how your app needs to send and receive the messages in the queue:</span></span>

- <span data-ttu-id="cf9db-184">Birlikte çalışan üreticileri ve rakip tüketiciye varsa, Azure kuyruk depolama hizmeti kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="cf9db-184">If you have cooperating producers and competing consumers, consider using Azure Queue Storage Service.</span></span> <span data-ttu-id="cf9db-185">"Cooperating üreticileri" birden çok işlem iletileri kuyruğa eklemekte olduğunuz anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-185">"Cooperating producers" means multiple processes are adding messages to a queue.</span></span> <span data-ttu-id="cf9db-186">Birden çok işlem iletileri işlemek için sıra dışı çekme, ancak belirli bir ileti yalnızca "tüketici tarafından." işlenebilir "Rekabet tüketicileri" anlamına gelir</span><span class="sxs-lookup"><span data-stu-id="cf9db-186">"Competing consumers" means multiple processes are pulling messages off the queue to process them, but any given message can only be processed by one "consumer."</span></span> <span data-ttu-id="cf9db-187">İle tek bir sıraya yapabileceğinizden daha fazla verimlilik gerekiyorsa, ek kuyruklar ve/veya ek depolama hesapları kullanın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-187">If you need more throughput than you can get with a single queue, use additional queues and/or additional storage accounts.</span></span>
- <span data-ttu-id="cf9db-188">Gerekirse bir [Yayınla/Abone ol modeli](http://en.wikipedia.org/wiki/Publish/subscribe), Azure Service Bus kuyruklarını kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="cf9db-188">If you need a [publish/subscribe model](http://en.wikipedia.org/wiki/Publish/subscribe), consider using Azure Service Bus Queues.</span></span>

<span data-ttu-id="cf9db-189">Düzelt uygulama için birlikte çalışan üreticileri ve rakip tüketiciye modeli uygun.</span><span class="sxs-lookup"><span data-stu-id="cf9db-189">The Fix It app fits the cooperating producers and competing consumers model.</span></span>

<span data-ttu-id="cf9db-190">Uygulama kullanılabilirliği başka bir konudur.</span><span class="sxs-lookup"><span data-stu-id="cf9db-190">Another consideration is application availability.</span></span> <span data-ttu-id="cf9db-191">Kuyruk depolama hizmeti kullanmaya bizim SLA üzerinde hiçbir etkisi yoktur, blob depolama için kullanmakta olduğunuz aynı hizmeti bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-191">The Queue Storage Service is part of the same service that we're using for blob storage, so using it has no effect on our SLA.</span></span> <span data-ttu-id="cf9db-192">Azure hizmet veri yolu, kendi SLA ile ayrı bir hizmettir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-192">Azure Service Bus is a separate service with its own SLA.</span></span> <span data-ttu-id="cf9db-193">Hizmet veri yolu kuyrukları kullansaydık, biz ek bir SLA yüzdesi faktörü gerekirdi ve bizim bileşik SLA daha düşük olacaktır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-193">If we used Service Bus Queues, we would have to factor in an additional SLA percentage, and our composite SLA would be lower.</span></span> <span data-ttu-id="cf9db-194">Sıra Hizmeti seçerken uygulama kullanılabilirliği tercih ettiğiniz etkilerini anladığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="cf9db-194">When you're choosing a queue service, make sure you understand the impact of your choice on application availability.</span></span> <span data-ttu-id="cf9db-195">Daha fazla bilgi için bkz: [kaynakları](#resources) bölümü.</span><span class="sxs-lookup"><span data-stu-id="cf9db-195">For more information, see the [Resources](#resources) section.</span></span>

## <a name="creating-queue-messages"></a><span data-ttu-id="cf9db-196">İletileri kuyruğa oluşturma</span><span class="sxs-lookup"><span data-stu-id="cf9db-196">Creating Queue Messages</span></span>

<span data-ttu-id="cf9db-197">Düzelt görev sırasına koymak için web ön uç aşağıdaki adımları gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="cf9db-197">To put a Fix It task on the queue, the web front end performs the following steps:</span></span>

1. <span data-ttu-id="cf9db-198">Oluşturma bir [CloudQueueClient](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueueclient.aspx) örneği.</span><span class="sxs-lookup"><span data-stu-id="cf9db-198">Create a [CloudQueueClient](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueueclient.aspx) instance.</span></span> <span data-ttu-id="cf9db-199">`CloudQueueClient` Örneği sıra hizmeti isteklerini yürütmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-199">The `CloudQueueClient` instance is used to execute requests against the Queue Service.</span></span>
2. <span data-ttu-id="cf9db-200">Henüz yoksa kuyruk oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cf9db-200">Create the queue, if it doesn't exist yet.</span></span>
3. <span data-ttu-id="cf9db-201">Düzelt görev serileştirir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-201">Serialize the Fix It task.</span></span>
4. <span data-ttu-id="cf9db-202">Çağrı [CloudQueue.AddMessageAsync](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueue.addmessageasync.aspx) ileti sıranın yerleştirilecek.</span><span class="sxs-lookup"><span data-stu-id="cf9db-202">Call [CloudQueue.AddMessageAsync](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueue.addmessageasync.aspx) to put the message onto the queue.</span></span>

<span data-ttu-id="cf9db-203">Biz bu iş oluşturucuda gerçekleştirirsiniz ve `SendMessageAsync` yöntemi yeni bir `FixItQueueManager` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="cf9db-203">We'll do this work in the constructor and `SendMessageAsync` method of a new `FixItQueueManager` class.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample1.cs?highlight=11-12,16,18-25)]

<span data-ttu-id="cf9db-204">Burada kullanıyoruz [Json.NET](https://github.com/JamesNK/Newtonsoft.Json) Düzelt JSON biçiminde seri hale getirmek için kitaplık.</span><span class="sxs-lookup"><span data-stu-id="cf9db-204">Here we are using the [Json.NET](https://github.com/JamesNK/Newtonsoft.Json) library to serialize the fixit to JSON format.</span></span> <span data-ttu-id="cf9db-205">Tercih ettiğiniz herhangi bir seri hale getirme yaklaşım kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-205">You can use whatever serialization approach you prefer.</span></span> <span data-ttu-id="cf9db-206">JSON XML daha az ayrıntılı devam ederken okunabilir, olma avantajına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-206">JSON has the advantage of being human-readable, while being less verbose than XML.</span></span>

<span data-ttu-id="cf9db-207">Üretim kaliteli kod hata işleme mantığı ekleme, veritabanı kullanılamaz hale geldiyse duraklatmak, kurtarmayı daha düzgün bir şekilde işlemek, sıra üzerinde uygulama başlatma oluşturmak ve yönetmek "[zarar" iletileri](https://msdn.microsoft.com/library/ms789028(v=vs.110).aspx).</span><span class="sxs-lookup"><span data-stu-id="cf9db-207">Production-quality code would add error handling logic, pause if the database became unavailable, handle recovery more cleanly, create the queue on application start-up, and manage "[poison" messages](https://msdn.microsoft.com/library/ms789028(v=vs.110).aspx).</span></span> <span data-ttu-id="cf9db-208">(Zararlı bir ileti herhangi bir nedenden dolayı işlenemeyen bir iletidir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-208">(A poison message is a message that cannot be processed for some reason.</span></span> <span data-ttu-id="cf9db-209">Kuyrukta, burada çalışan rolü sürekli işlenecekleri, başarısız, yeniden deneyin, başarısız ve benzeri dener sit zarar iletileri istemediğiniz.)</span><span class="sxs-lookup"><span data-stu-id="cf9db-209">You don't want poison messages to sit in the queue, where the worker role will continually try to process them, fail, try again, fail, and so on.)</span></span>

<span data-ttu-id="cf9db-210">Ön uç MVC uygulamasındaki size yeni bir görev oluşturur kodu güncelleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-210">In the front-end MVC application, we need to update the code that creates a new task.</span></span> <span data-ttu-id="cf9db-211">Görev depoya koyma yerine çağrı `SendMessageAsync` yukarıda gösterilen yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cf9db-211">Instead of putting the task into the repository, call the `SendMessageAsync` method shown above.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample2.cs?highlight=10)]

## <a name="processing-queue-messages"></a><span data-ttu-id="cf9db-212">İletileri işleme</span><span class="sxs-lookup"><span data-stu-id="cf9db-212">Processing Queue Messages</span></span>

<span data-ttu-id="cf9db-213">Sıradaki iletileri işlemek için bir arka uç hizmeti oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="cf9db-213">To process messages in the queue, we'll create a backend service.</span></span> <span data-ttu-id="cf9db-214">Arka uç hizmetine aşağıdaki adımları gerçekleştirir sonsuz bir döngüde çalışır:</span><span class="sxs-lookup"><span data-stu-id="cf9db-214">The backend service will run an infinite loop that performs the following steps:</span></span>

1. <span data-ttu-id="cf9db-215">Sonraki iletiyi sıradan alın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-215">Get the next message from the queue.</span></span>
2. <span data-ttu-id="cf9db-216">Bir Düzelt görevi seri durumdan çıkarır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-216">Deserialize the message to a Fix It task.</span></span>
3. <span data-ttu-id="cf9db-217">Düzelt görev veritabanına yazar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-217">Write the Fix It task to the database.</span></span>

<span data-ttu-id="cf9db-218">Arka uç hizmetine barındırmak için Azure bulut hizmeti içeren oluşturacağız bir *çalışan rolü*.</span><span class="sxs-lookup"><span data-stu-id="cf9db-218">To host the backend service, we'll create an Azure Cloud Service that contains a *worker role*.</span></span> <span data-ttu-id="cf9db-219">Çalışan rolü, arka uç işleme yapmak için bir veya daha fazla VM oluşur.</span><span class="sxs-lookup"><span data-stu-id="cf9db-219">A worker role consists of one or more VMs that can do backend processing.</span></span> <span data-ttu-id="cf9db-220">Bu Vm'lerde çalışan bir kod kullanılabilir olduklarında sırasından ileti çeker.</span><span class="sxs-lookup"><span data-stu-id="cf9db-220">The code that runs in these VMs will pull messages from the queue as they become available.</span></span> <span data-ttu-id="cf9db-221">Her ileti için şu JSON yükü seri durumdan ve daha önce web katmanında kullandık aynı deponun kullanarak düzeltme bu görev varlık örneği veritabanına yazma.</span><span class="sxs-lookup"><span data-stu-id="cf9db-221">For each message, we'll deserialize the JSON payload and write an instance of the Fix It Task entity to the database, using the same repository that we used earlier in the web tier.</span></span>

<span data-ttu-id="cf9db-222">Aşağıdaki adımlar, standart web projesi bulunduğu bir çözümü rolü projesine bir çalışan ekleme gösterir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-222">The following steps show how to add a worker role project to a solution that has a standard web project.</span></span> <span data-ttu-id="cf9db-223">Bu adımları yükleyebileceğiniz Düzelt projede zaten yapılmış.</span><span class="sxs-lookup"><span data-stu-id="cf9db-223">These steps have already been done in the Fix It project that you can download.</span></span>

<span data-ttu-id="cf9db-224">Önce bir bulut hizmeti projesini Visual Studio çözümü ekleyin.</span><span class="sxs-lookup"><span data-stu-id="cf9db-224">First add a Cloud Service project to the Visual Studio solution.</span></span> <span data-ttu-id="cf9db-225">Çözüme sağ tıklayın ve seçin **Ekle**, ardından **yeni proje**.</span><span class="sxs-lookup"><span data-stu-id="cf9db-225">Right-click the solution and select **Add**, then **New Project**.</span></span> <span data-ttu-id="cf9db-226">Sol bölmede **Visual C#** seçip **bulut**.</span><span class="sxs-lookup"><span data-stu-id="cf9db-226">In the left pane, expand **Visual C#** and select **Cloud**.</span></span>

[![](queue-centric-work-pattern/_static/image5.png)](queue-centric-work-pattern/_static/image4.png)

<span data-ttu-id="cf9db-227">İçinde **yeni Azure bulut hizmeti** iletişim kutusunda, genişletin **Visual C#** sol bölmedeki düğüm.</span><span class="sxs-lookup"><span data-stu-id="cf9db-227">In the **New Azure Cloud Service** dialog, expand the **Visual C#** node on the left pane.</span></span> <span data-ttu-id="cf9db-228">Seçin **çalışan rolü** ve sağ ok simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-228">Select **Worker Role** and click the right-arrow icon.</span></span>

![](queue-centric-work-pattern/_static/image6.png)

<span data-ttu-id="cf9db-229">(Ayrıca ekleyebileceğiniz bildirimi bir *web rolü*.</span><span class="sxs-lookup"><span data-stu-id="cf9db-229">(Notice that you can also add a *web role*.</span></span> <span data-ttu-id="cf9db-230">Biz düzeltin, bir Azure Web sitesini çalıştırmak yerine aynı bulut hizmetinde ön uç çalıştırabilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-230">We could run the Fix It front-end in the same Cloud Service instead of running it in an Azure Web Site.</span></span> <span data-ttu-id="cf9db-231">Ön uç ve arka uç arasındaki bağlantıları koordine kolaylaştırma içinde bazı avantajları vardır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-231">That has some advantages in making connections between front-end and back-end easier to coordinate.</span></span> <span data-ttu-id="cf9db-232">Ancak, bu demo basit tutmak için biz ön uç bir Azure App Service Web uygulaması tutulması ve yalnızca arka uç bulut hizmetinde çalışan.)</span><span class="sxs-lookup"><span data-stu-id="cf9db-232">However, to keep this demo simple, we're keeping the front-end in an Azure App Service Web App and only running the back-end in a Cloud Service.)</span></span>

<span data-ttu-id="cf9db-233">Varsayılan ad çalışan rolü atanır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-233">A default name is assigned to the worker role.</span></span> <span data-ttu-id="cf9db-234">Adını değiştirmek için fareyi sağ bölmede çalışan rolü üzerine gelin ve Kalem simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-234">To change the name, hover the mouse over the worker role in the right pane, then click the pencil icon.</span></span>

![](queue-centric-work-pattern/_static/image7.png)

<span data-ttu-id="cf9db-235">Tıklatın **Tamam** iletişim tamamlamak için.</span><span class="sxs-lookup"><span data-stu-id="cf9db-235">Click **OK** to complete the dialog.</span></span> <span data-ttu-id="cf9db-236">Bu iki proje için Visual Studio çözümü ekler.</span><span class="sxs-lookup"><span data-stu-id="cf9db-236">This adds two projects to the Visual Studio solution.</span></span>

- <span data-ttu-id="cf9db-237">bir Azure projesi yapılandırma bilgilerini de dahil olmak üzere bulut hizmetini tanımlar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-237">an Azure project that defines the cloud service, including configuration information.</span></span>
- <span data-ttu-id="cf9db-238">Çalışan rolü tanımlayan çalışan rolü projesi.</span><span class="sxs-lookup"><span data-stu-id="cf9db-238">A worker role project that defines the worker role.</span></span>

![](queue-centric-work-pattern/_static/image8.png)

<span data-ttu-id="cf9db-239">Daha fazla bilgi için bkz: [Visual Studio ile bir Azure projesi oluşturma.](https://msdn.microsoft.com/library/windowsazure/ee405487.aspx)</span><span class="sxs-lookup"><span data-stu-id="cf9db-239">For more information, see [Creating an Azure Project with Visual Studio.](https://msdn.microsoft.com/library/windowsazure/ee405487.aspx)</span></span>

<span data-ttu-id="cf9db-240">Çalışan rolü biz iletileri çağırarak yoklamak `ProcessMessageAsync` yöntemi `FixItQueueManager` daha önce gördüğümüz sınıfı.</span><span class="sxs-lookup"><span data-stu-id="cf9db-240">Inside the worker role, we poll for messages by calling the `ProcessMessageAsync` method of the `FixItQueueManager` class that we saw earlier.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample3.cs?highlight=25)]

<span data-ttu-id="cf9db-241">`ProcessMessagesAsync` Yöntemi bir ileti bekleme olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="cf9db-241">The `ProcessMessagesAsync` method checks if there's a message waiting.</span></span> <span data-ttu-id="cf9db-242">Varsa, iletisine çıkarır bir `FixItTask` varlık ve varlık veritabanına kaydeder.</span><span class="sxs-lookup"><span data-stu-id="cf9db-242">If there is one, it deserializes the message into a `FixItTask` entity and saves the entity in the database.</span></span> <span data-ttu-id="cf9db-243">Sıranın boş olmadığı sürece döngüye girer.</span><span class="sxs-lookup"><span data-stu-id="cf9db-243">It loops until the queue is empty.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample4.cs)]

<span data-ttu-id="cf9db-244">İletileri kuyruğa doğurur için küçük bir işlem yoklama gider, bunu işlenmek üzere bekleyen bir ileti olduğunda çalışan rolün `RunAsync` yöntemi bekler yoklama önce ikinci bir yeniden çağırarak `Task.Delay(1000)`.</span><span class="sxs-lookup"><span data-stu-id="cf9db-244">Polling for queue messages incurs a small transaction charge, so when there's no message waiting to be processed, the worker role's `RunAsync` method waits a second before polling again by calling `Task.Delay(1000)`.</span></span>

<span data-ttu-id="cf9db-245">IIS sınırlı iş parçacığı havuzu yönetir çünkü bir web projesi zaman uyumsuz kod ekleme otomatik olarak performansı artırabilir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-245">In a web project, adding asynchronous code can automatically improve performance because IIS manages a limited thread pool.</span></span> <span data-ttu-id="cf9db-246">Çalışan rolü projesi durumda değil.</span><span class="sxs-lookup"><span data-stu-id="cf9db-246">That is not the case in a worker role project.</span></span> <span data-ttu-id="cf9db-247">Çalışan rolü ölçeklenebilirliği artırmak için çok iş parçacıklı kod yazmak veya uygulamak için zaman uyumsuz kodu kullanın [paralel programlama](https://msdn.microsoft.com/library/ff963553.aspx).</span><span class="sxs-lookup"><span data-stu-id="cf9db-247">To improve scalability of the worker role, you can write multi-threaded code or use asynchronous code to implement [parallel programming](https://msdn.microsoft.com/library/ff963553.aspx).</span></span> <span data-ttu-id="cf9db-248">Örnek paralel programlama uygulamaz ancak paralel programlama uygulamak için kod zaman uyumsuz nasıl yapılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="cf9db-248">The sample doesn't implement parallel programming but shows how to make the code asynchronous so you can implement parallel programming.</span></span>

## <a name="summary"></a><span data-ttu-id="cf9db-249">Özet</span><span class="sxs-lookup"><span data-stu-id="cf9db-249">Summary</span></span>

<span data-ttu-id="cf9db-250">Bu bölümde kuyruk merkezli çalışma deseni uygulayarak uygulama yanıt hızını, güvenilirliğini ve ölçeklenebilirliğini artırmak öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="cf9db-250">In this chapter you've seen how to improve application responsiveness, reliability, and scalability by implementing the queue-centric work pattern.</span></span>

<span data-ttu-id="cf9db-251">Bu e-kitap içinde kapsanan 13 desenleri son budur ancak yardımcı olacak yöntemler başarılı bulut uygulamaları derleme ve diğer birçok desenleri Elbette vardır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-251">This is the last of the 13 patterns covered in this e-book, but there are of course many other patterns and practices that can help you build successful cloud apps.</span></span> <span data-ttu-id="cf9db-252">[Son bölüm](more-patterns-and-guidance.md) bu 13 düzenleri kapsamdaki henüz konular için kaynaklara bağlantılar sağlanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-252">The [final chapter](more-patterns-and-guidance.md) provides links to resources for topics that haven't been covered in these 13 patterns.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="cf9db-253">Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="cf9db-253">Resources</span></span>

<span data-ttu-id="cf9db-254">Kuyruklar hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-254">For more information about queues, see the following resources.</span></span>

<span data-ttu-id="cf9db-255">Belgeler:</span><span class="sxs-lookup"><span data-stu-id="cf9db-255">Documentation:</span></span>

- <span data-ttu-id="cf9db-256">[Microsoft Azure depolama kuyrukları bölüm 1: Başlarken](http://justazure.com/microsoft-azure-storage-queues-part-1-getting-started/).</span><span class="sxs-lookup"><span data-stu-id="cf9db-256">[Microsoft Azure Storage Queues Part 1: Getting Started](http://justazure.com/microsoft-azure-storage-queues-part-1-getting-started/).</span></span> <span data-ttu-id="cf9db-257">Latin Schacherl makalesiyle.</span><span class="sxs-lookup"><span data-stu-id="cf9db-257">Article by Roman Schacherl.</span></span>
- <span data-ttu-id="cf9db-258">[Arka plan görevleri çalıştırma](https://msdn.microsoft.com/library/ff803365.aspx), bölüm 5 [3 bulut uygulamalarını taşıma](https://msdn.microsoft.com/library/ff728592.aspx) Microsoft Patterns ve yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="cf9db-258">[Executing Background Tasks](https://msdn.microsoft.com/library/ff803365.aspx), chapter 5 of [Moving Applications to the Cloud, 3rd Edition](https://msdn.microsoft.com/library/ff728592.aspx) from Microsoft Patterns and Practices.</span></span> <span data-ttu-id="cf9db-259">(Özellikle, bölüm ["Azure depolama kuyruklarını kullanarak"](https://msdn.microsoft.com/library/ff803365.aspx#sec7).)</span><span class="sxs-lookup"><span data-stu-id="cf9db-259">(In particular, the section ["Using Azure Storage Queues"](https://msdn.microsoft.com/library/ff803365.aspx#sec7).)</span></span>
- <span data-ttu-id="cf9db-260">[Ölçeklenebilirlik ve sıra tabanlı Mesajlaşma çözümü Azure üzerinde maliyet verimliliğini en üst düzeye çıkarma için en iyi uygulamalar](https://msdn.microsoft.com/library/windowsazure/hh697709.aspx).</span><span class="sxs-lookup"><span data-stu-id="cf9db-260">[Best Practices for Maximizing Scalability and Cost Effectiveness of Queue-Based Messaging Solutions on Azure](https://msdn.microsoft.com/library/windowsazure/hh697709.aspx).</span></span> <span data-ttu-id="cf9db-261">Teknik incelemesi Valery Mizonov tarafından.</span><span class="sxs-lookup"><span data-stu-id="cf9db-261">White paper by Valery Mizonov.</span></span>
- <span data-ttu-id="cf9db-262">[Azure kuyruklar ve hizmet veri yolu kuyrukları karşılaştırma](https://msdn.microsoft.com/magazine/jj159884.aspx).</span><span class="sxs-lookup"><span data-stu-id="cf9db-262">[Comparing Azure Queues and Service Bus Queues](https://msdn.microsoft.com/magazine/jj159884.aspx).</span></span> <span data-ttu-id="cf9db-263">MSDN dergisi makale kullanmak için hangi sıra hizmeti seçmenize yardımcı olabilecek ek bilgiler sağlar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-263">MSDN Magazine article, provides additional information that can help you choose which queue service to use.</span></span> <span data-ttu-id="cf9db-264">Makale, Service Bus ACS kullanılamadığında SB sıraları kullanılamaz durumda olurdu anlamına gelir kimlik doğrulaması için üzerinde ACS bağımlı olduğunu tanımlamıştır.</span><span class="sxs-lookup"><span data-stu-id="cf9db-264">The article mentions that Service Bus is dependent on ACS for authentication, which means your SB queues would be unavailable when ACS is unavailable.</span></span> <span data-ttu-id="cf9db-265">Makalenin yazıldığı olduğundan, ancak SB kullanmanızı sağlamak üzere değiştirilmiştir [SAS belirteci](https://msdn.microsoft.com/library/windowsazure/dn170477.aspx) alternatif ACS'nin olarak.</span><span class="sxs-lookup"><span data-stu-id="cf9db-265">However, since the article was written, SB was changed to enable you to use [SAS tokens](https://msdn.microsoft.com/library/windowsazure/dn170477.aspx) as an alternative to ACS.</span></span>
- <span data-ttu-id="cf9db-266">[Microsoft Patterns and Practices - Azure Kılavuzu](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="cf9db-266">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="cf9db-267">Zaman uyumsuz Mesajlaşma primer, Kanallar ve filtreleri düzeni, karşılayan işlem düzeni, rekabet tüketicileri düzeni, CQRS düzeni bakın.</span><span class="sxs-lookup"><span data-stu-id="cf9db-267">See Asynchronous Messaging primer, Pipes and Filters pattern, Compensating Transaction pattern, Competing Consumers pattern, CQRS pattern.</span></span>
- <span data-ttu-id="cf9db-268">[CQRS Journey](https://msdn.microsoft.com/library/jj554200).</span><span class="sxs-lookup"><span data-stu-id="cf9db-268">[CQRS Journey](https://msdn.microsoft.com/library/jj554200).</span></span> <span data-ttu-id="cf9db-269">E-kitap Microsoft desenleri ve uygulamalar tarafından CQRS hakkında.</span><span class="sxs-lookup"><span data-stu-id="cf9db-269">E-book about CQRS by Microsoft Patterns and Practices.</span></span>

<span data-ttu-id="cf9db-270">Video:</span><span class="sxs-lookup"><span data-stu-id="cf9db-270">Video:</span></span>

- <span data-ttu-id="cf9db-271">[Hatasız: Ölçeklenebilir ve esnek bulut Hizmetleri derleme](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="cf9db-271">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="cf9db-272">Ulrich Homann, Marc Mercuri ve işareti SIMM'lerinin video serisi dokuz bölümü.</span><span class="sxs-lookup"><span data-stu-id="cf9db-272">Nine-part video series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="cf9db-273">Üst düzey kavramlarını ve mimari ilkeler çok erişilebilir ve ilginç yolla, Microsoft Müşteri danışma ekibi (CAT) deneyiminde gerçek müşterilerle çizilmiş hikayeleri sunar.</span><span class="sxs-lookup"><span data-stu-id="cf9db-273">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="cf9db-274">Kuyruklar ve Azure depolama hizmeti için bir giriş için bkz: Bölüm 5 35:13 başlatma.</span><span class="sxs-lookup"><span data-stu-id="cf9db-274">For an introduction to the Azure Storage service and queues, see episode 5 starting at 35:13.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="cf9db-275">[Önceki](distributed-caching.md)
> [sonraki](more-patterns-and-guidance.md)</span><span class="sxs-lookup"><span data-stu-id="cf9db-275">[Previous](distributed-caching.md)
[Next](more-patterns-and-guidance.md)</span></span>

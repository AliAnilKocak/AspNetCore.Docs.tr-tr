---
uid: mvc/overview/older-versions-1/nerddinner/provide-crud-create-read-update-delete-data-form-entry-support
title: CRUD sağlayın (oluşturma, okuma, güncelleştirme, silme) veri Form girişi destek | Microsoft Docs
author: microsoft
description: 5. adım, düzenleme, oluşturma ve azalma ile de silmek için etkinleştirme desteği tarafından daha fazla bizim DinnersController sınıfı yapılacak gösterilmiştir.
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/27/2010
ms.topic: article
ms.assetid: bbb976e5-6150-4283-a374-c22fbafe29f5
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions-1/nerddinner/provide-crud-create-read-update-delete-data-form-entry-support
msc.type: authoredcontent
ms.openlocfilehash: bd906282db5c620476966ffbe09cecb5ade66ee4
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30876754"
---
<a name="provide-crud-create-read-update-delete-data-form-entry-support"></a><span data-ttu-id="9952f-103">CRUD sağlayın (oluşturma, okuma, güncelleştirme, silme) veri Form girişi desteği</span><span class="sxs-lookup"><span data-stu-id="9952f-103">Provide CRUD (Create, Read, Update, Delete) Data Form Entry Support</span></span>
====================
<span data-ttu-id="9952f-104">tarafından [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="9952f-104">by [Microsoft](https://github.com/microsoft)</span></span>

[<span data-ttu-id="9952f-105">PDF indirin</span><span class="sxs-lookup"><span data-stu-id="9952f-105">Download PDF</span></span>](http://aspnetmvcbook.s3.amazonaws.com/aspnetmvc-nerdinner_v1.pdf)

> <span data-ttu-id="9952f-106">5. adımını ücretsiz budur ["NerdDinner" uygulaması Öğreticisi](introducing-the-nerddinner-tutorial.md) , yetenekte küçük bir yapı ancak tamamlandı, ASP.NET MVC 1 kullanarak web uygulamasına nasıl aracılığıyla.</span><span class="sxs-lookup"><span data-stu-id="9952f-106">This is step 5 of a free ["NerdDinner" application tutorial](introducing-the-nerddinner-tutorial.md) that walks-through how to build a small, but complete, web application using ASP.NET MVC 1.</span></span>
> 
> <span data-ttu-id="9952f-107">5. adım, düzenleme, oluşturma ve azalma ile de silmek için etkinleştirme desteği tarafından daha fazla bizim DinnersController sınıfı yapılacak gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="9952f-107">Step 5 shows how to take our DinnersController class further by enable support for editing, creating and deleting Dinners with it as well.</span></span>
> 
> <span data-ttu-id="9952f-108">ASP.NET MVC 3 kullanıyorsanız, izlemeniz önerilir [MVC 3 ile çalışmaya başlama](../../older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) veya [MVC müzik deposu](../../older-versions/mvc-music-store/mvc-music-store-part-1.md) öğreticileri.</span><span class="sxs-lookup"><span data-stu-id="9952f-108">If you are using ASP.NET MVC 3, we recommend you follow the [Getting Started With MVC 3](../../older-versions/getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) or [MVC Music Store](../../older-versions/mvc-music-store/mvc-music-store-part-1.md) tutorials.</span></span>


## <a name="nerddinner-step-5-create-update-delete-form-scenarios"></a><span data-ttu-id="9952f-109">NerdDinner adım 5: Oluştur, Güncelleştir, Form senaryolarını silin</span><span class="sxs-lookup"><span data-stu-id="9952f-109">NerdDinner Step 5: Create, Update, Delete Form Scenarios</span></span>

<span data-ttu-id="9952f-110">Artık denetleyicileri ve görünümler sunulan ve bunların azalma dökümü/ayrıntıları deneyimindeki sitesinde uygulamak için nasıl kullanılacağını kapsamdaki.</span><span class="sxs-lookup"><span data-stu-id="9952f-110">We've introduced controllers and views, and covered how to use them to implement a listing/details experience for Dinners on site.</span></span> <span data-ttu-id="9952f-111">Bizim DinnersController sınıfı başka yapmanıza ve düzenleme, oluşturma ve azalma ile de silmeden desteğini etkinleştirmek için sonraki adım olacaktır.</span><span class="sxs-lookup"><span data-stu-id="9952f-111">Our next step will be to take our DinnersController class further and enable support for editing, creating and deleting Dinners with it as well.</span></span>

### <a name="urls-handled-by-dinnerscontroller"></a><span data-ttu-id="9952f-112">DinnersController tarafından işlenen URL'leri</span><span class="sxs-lookup"><span data-stu-id="9952f-112">URLs handled by DinnersController</span></span>

<span data-ttu-id="9952f-113">Daha önce eylem yöntemleri için iki URL'ler için destek uygulanmadı DinnersController eklediğimiz: */Dinners* ve */Dinners/Ayrıntılar / [kimlik]*.</span><span class="sxs-lookup"><span data-stu-id="9952f-113">We previously added action methods to DinnersController that implemented support for two URLs: */Dinners* and */Dinners/Details/[id]*.</span></span>

| <span data-ttu-id="9952f-114">**URL**</span><span class="sxs-lookup"><span data-stu-id="9952f-114">**URL**</span></span> | <span data-ttu-id="9952f-115">**FİİL**</span><span class="sxs-lookup"><span data-stu-id="9952f-115">**VERB**</span></span> | <span data-ttu-id="9952f-116">**Amaç**</span><span class="sxs-lookup"><span data-stu-id="9952f-116">**Purpose**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9952f-117">*/Dinners/*</span><span class="sxs-lookup"><span data-stu-id="9952f-117">*/Dinners/*</span></span> | <span data-ttu-id="9952f-118">AL</span><span class="sxs-lookup"><span data-stu-id="9952f-118">GET</span></span> | <span data-ttu-id="9952f-119">Yaklaşan azalma HTML listesini görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9952f-119">Display an HTML list of upcoming dinners.</span></span> |
| <span data-ttu-id="9952f-120">*/Dinners/Ayrıntılar / [kimlik]*</span><span class="sxs-lookup"><span data-stu-id="9952f-120">*/Dinners/Details/[id]*</span></span> | <span data-ttu-id="9952f-121">AL</span><span class="sxs-lookup"><span data-stu-id="9952f-121">GET</span></span> | <span data-ttu-id="9952f-122">Belirli bir Yemeği hakkındaki ayrıntıları görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9952f-122">Display details about a specific dinner.</span></span> |

<span data-ttu-id="9952f-123">Üç ek URL'ler uygulamak için eylem yöntemleri şimdi ekleyeceğiz: <em>/Dinners/düzenleme / [kimlik], / azalma/oluşturun,</em>ve<em>/Dinners/silme / [kimlik]</em>.</span><span class="sxs-lookup"><span data-stu-id="9952f-123">We will now add action methods to implement three additional URLs: <em>/Dinners/Edit/[id], /Dinners/Create,</em>and<em>/Dinners/Delete/[id]</em>.</span></span> <span data-ttu-id="9952f-124">Bu URL'leri yeni azalma oluşturma ve azalma silme düzenleme varolan azalma desteğini etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="9952f-124">These URLs will enable support for editing existing Dinners, creating new Dinners, and deleting Dinners.</span></span>

<span data-ttu-id="9952f-125">Bu yeni URL'ler ile HTTP GET ve HTTP POST fiil etkileşimleri destekliyoruz.</span><span class="sxs-lookup"><span data-stu-id="9952f-125">We will support both HTTP GET and HTTP POST verb interactions with these new URLs.</span></span> <span data-ttu-id="9952f-126">Bu URL'leri HTTP GET isteklerine ("Düzenle" durumunda Yemeği verilerle doldurulur form, "oluşturma" durumunda boş bir form ve bir delete onay ekranı "Sil" söz konusu olduğunda) verilerinin ilk HTML görünümü görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9952f-126">HTTP GET requests to these URLs will display the initial HTML view of the data (a form populated with the Dinner data in the case of "edit", a blank form in the case of "create", and a delete confirmation screen in the case of "delete").</span></span> <span data-ttu-id="9952f-127">Bu URL'leri HTTP POST isteklerini kaydetme/güncelleştirme/silme Yemeği verileri bizim DinnerRepository (ve veritabanına buradan) olur.</span><span class="sxs-lookup"><span data-stu-id="9952f-127">HTTP POST requests to these URLs will save/update/delete the Dinner data in our DinnerRepository (and from there to the database).</span></span>

| <span data-ttu-id="9952f-128">**URL**</span><span class="sxs-lookup"><span data-stu-id="9952f-128">**URL**</span></span> | <span data-ttu-id="9952f-129">**FİİL**</span><span class="sxs-lookup"><span data-stu-id="9952f-129">**VERB**</span></span> | <span data-ttu-id="9952f-130">**Amaç**</span><span class="sxs-lookup"><span data-stu-id="9952f-130">**Purpose**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9952f-131">*/Dinners/Edit/[id]*</span><span class="sxs-lookup"><span data-stu-id="9952f-131">*/Dinners/Edit/[id]*</span></span> | <span data-ttu-id="9952f-132">AL</span><span class="sxs-lookup"><span data-stu-id="9952f-132">GET</span></span> | <span data-ttu-id="9952f-133">Yemeği verilerle doldurmuş düzenlenebilir bir HTML formuna görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9952f-133">Display an editable HTML form populated with Dinner data.</span></span> |
| <span data-ttu-id="9952f-134">YAYINLA</span><span class="sxs-lookup"><span data-stu-id="9952f-134">POST</span></span> | <span data-ttu-id="9952f-135">Belirli bir Yemeği veritabanı için form değişiklikleri kaydedin.</span><span class="sxs-lookup"><span data-stu-id="9952f-135">Save the form changes for a particular Dinner to the database.</span></span> |
| <span data-ttu-id="9952f-136">*/Dinners/Create*</span><span class="sxs-lookup"><span data-stu-id="9952f-136">*/Dinners/Create*</span></span> | <span data-ttu-id="9952f-137">AL</span><span class="sxs-lookup"><span data-stu-id="9952f-137">GET</span></span> | <span data-ttu-id="9952f-138">Yeni azalma tanımlamak kullanıcılara boş bir HTML formuna görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9952f-138">Display an empty HTML form that allows users to define new Dinners.</span></span> |
| <span data-ttu-id="9952f-139">YAYINLA</span><span class="sxs-lookup"><span data-stu-id="9952f-139">POST</span></span> | <span data-ttu-id="9952f-140">Yeni Yemeği oluşturma ve veritabanındaki kaydedin.</span><span class="sxs-lookup"><span data-stu-id="9952f-140">Create a new Dinner and save it in the database.</span></span> |
| <span data-ttu-id="9952f-141">*/Dinners/silme / [kimlik]*</span><span class="sxs-lookup"><span data-stu-id="9952f-141">*/Dinners/Delete/[id]*</span></span> | <span data-ttu-id="9952f-142">AL</span><span class="sxs-lookup"><span data-stu-id="9952f-142">GET</span></span> | <span data-ttu-id="9952f-143">Görüntü onay ekranı silin.</span><span class="sxs-lookup"><span data-stu-id="9952f-143">Display delete confirmation screen.</span></span> |
| <span data-ttu-id="9952f-144">YAYINLA</span><span class="sxs-lookup"><span data-stu-id="9952f-144">POST</span></span> | <span data-ttu-id="9952f-145">Belirtilen Yemeği veritabanından siler.</span><span class="sxs-lookup"><span data-stu-id="9952f-145">Deletes the specified dinner from the database.</span></span> |

### <a name="edit-support"></a><span data-ttu-id="9952f-146">Destek Düzenle</span><span class="sxs-lookup"><span data-stu-id="9952f-146">Edit Support</span></span>

<span data-ttu-id="9952f-147">"Düzenle" senaryo uygulayarak başlayalım.</span><span class="sxs-lookup"><span data-stu-id="9952f-147">Let's begin by implementing the "edit" scenario.</span></span>

#### <a name="the-http-get-edit-action-method"></a><span data-ttu-id="9952f-148">HTTP GET düzenleme eylem yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-148">The HTTP-GET Edit Action Method</span></span>

<span data-ttu-id="9952f-149">HTTP "GET" davranışını bizim düzenleme eylem yöntemi uygulayarak başlayacağız.</span><span class="sxs-lookup"><span data-stu-id="9952f-149">We'll start by implementing the HTTP "GET" behavior of our edit action method.</span></span> <span data-ttu-id="9952f-150">Bu yöntem olacaktır olduğunda çağrılan */Dinners/düzenleme / [kimlik]* URL istendi.</span><span class="sxs-lookup"><span data-stu-id="9952f-150">This method will be invoked when the */Dinners/Edit/[id]* URL is requested.</span></span> <span data-ttu-id="9952f-151">Bizim uygulaması gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="9952f-151">Our implementation will look like:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample1.cs)]

<span data-ttu-id="9952f-152">Yukarıdaki kod DinnerRepository Yemeği nesnesini almak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="9952f-152">The code above uses the DinnerRepository to retrieve a Dinner object.</span></span> <span data-ttu-id="9952f-153">Ardından, Yemeği nesnesi kullanılarak bir görünüm şablonu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9952f-153">It then renders a View template using the Dinner object.</span></span> <span data-ttu-id="9952f-154">Biz açıkça bir şablon adı geçirilen henüz çünkü *View()* yardımcı yöntemi, onu kullanır dayalı varsayılan yol şablonu görüntüleme gidermek için: /Views/Dinners/Edit.aspx.</span><span class="sxs-lookup"><span data-stu-id="9952f-154">Because we haven't explicitly passed a template name to the *View()* helper method, it will use the convention based default path to resolve the view template: /Views/Dinners/Edit.aspx.</span></span>

<span data-ttu-id="9952f-155">Şimdi bu görünüm şablonu oluşturalım.</span><span class="sxs-lookup"><span data-stu-id="9952f-155">Let's now create this view template.</span></span> <span data-ttu-id="9952f-156">Bu düzen yöntemi içinde sağ tıklayıp "Görünümü Ekle" bağlam menü komutu seçme gerçekleştiririz:</span><span class="sxs-lookup"><span data-stu-id="9952f-156">We will do this by right-clicking within the Edit method and selecting the "Add View" context menu command:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image1.png)

<span data-ttu-id="9952f-157">"Görünümü Ekle" iletişim biz biz Yemeği nesne bizim görünüm şablonuna kendi modelini olarak geçirme ve otomatik iskele için bir "Düzenle" şablonunu seçin belirtmek:</span><span class="sxs-lookup"><span data-stu-id="9952f-157">Within the "Add View" dialog we'll indicate that we are passing a Dinner object to our view template as its model, and choose to auto-scaffold an "Edit" template:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image2.png)

<span data-ttu-id="9952f-158">Biz "Ekle" düğmesini tıklatın, Visual Studio yeni bir "Edit.aspx" görünümü şablon dosyası bize "\Views\Dinners" dizininde ekler.</span><span class="sxs-lookup"><span data-stu-id="9952f-158">When we click the "Add" button, Visual Studio will add a new "Edit.aspx" view template file for us within the "\Views\Dinners" directory.</span></span> <span data-ttu-id="9952f-159">Ayrıca, kod-ilk "Düzenle" iskele uygulaması gibi doldurulan Düzenleyicisi içinde– yeni "Edit.aspx" Görünüm şablonu açar:</span><span class="sxs-lookup"><span data-stu-id="9952f-159">It will also open up the new "Edit.aspx" view template within the code-editor – populated with an initial "Edit" scaffold implementation like below:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image3.png)

<span data-ttu-id="9952f-160">Şimdi oluşturulan varsayılan "Düzenle" iskele için birkaç değişiklik ve (kullanıma sunmak için istemediğiniz özellikleri bazılarını kaldıran) aşağıdaki içeriği sağlamak için düzenleme görünümü şablonu güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="9952f-160">Let's make a few changes to the default "edit" scaffold generated, and update the edit view template to have the content below (which removes a few of the properties we don't want to expose):</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample2.aspx)]

<span data-ttu-id="9952f-161">Biz çalıştırdığınızda uygulama ve istek *"/ düzenleme/azalma/1"* URL biz aşağıdaki sayfayı görürsünüz:</span><span class="sxs-lookup"><span data-stu-id="9952f-161">When we run the application and request the *"/Dinners/Edit/1"* URL we will see the following page:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image4.png)

<span data-ttu-id="9952f-162">Bizim görünüm tarafından oluşturulan HTML biçimlendirmesi aşağıdaki gibi görünüyor.</span><span class="sxs-lookup"><span data-stu-id="9952f-162">The HTML markup generated by our view looks like below.</span></span> <span data-ttu-id="9952f-163">Standart HTML – olduğu bir &lt;form&gt; bir HTTP POST yapar öğesi */Dinners/Edit/1* URL zaman "Kaydet" &lt;giriş türü "gönderme" = /&gt; düğmesi gönderilir.</span><span class="sxs-lookup"><span data-stu-id="9952f-163">It is standard HTML – with a &lt;form&gt; element that performs an HTTP POST to the */Dinners/Edit/1* URL when the "Save" &lt;input type="submit"/&gt; button is pushed.</span></span> <span data-ttu-id="9952f-164">Bir HTML &lt;giriş türü = "text" /&gt; öğesi düzenlenebilir her özellik için çıktı açıldı:</span><span class="sxs-lookup"><span data-stu-id="9952f-164">A HTML &lt;input type="text"/&gt; element has been output for each editable property:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image5.png)

#### <a name="htmlbeginform-and-htmltextbox-html-helper-methods"></a><span data-ttu-id="9952f-165">Html.BeginForm() ve Html.TextBox() Html yardımcı yöntemler</span><span class="sxs-lookup"><span data-stu-id="9952f-165">Html.BeginForm() and Html.TextBox() Html Helper Methods</span></span>

<span data-ttu-id="9952f-166">Bizim "Edit.aspx" Görünüm şablonu birkaç "Html Yardımcısı" yöntem kullanıyor: Html.ValidationSummary(), Html.BeginForm(), Html.TextBox() ve Html.ValidationMessage().</span><span class="sxs-lookup"><span data-stu-id="9952f-166">Our "Edit.aspx" view template is using several "Html Helper" methods: Html.ValidationSummary(), Html.BeginForm(), Html.TextBox(), and Html.ValidationMessage().</span></span> <span data-ttu-id="9952f-167">Yerleşik hata işleme ve doğrulama için bize oluşturma HTML biçimlendirmesini yanı sıra bu yardımcı yöntemler sağlar destekler.</span><span class="sxs-lookup"><span data-stu-id="9952f-167">In addition to generating HTML markup for us, these helper methods provide built-in error handling and validation support.</span></span>

##### <a name="htmlbeginform-helper-method"></a><span data-ttu-id="9952f-168">Html.BeginForm() yardımcı yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-168">Html.BeginForm() helper method</span></span>

<span data-ttu-id="9952f-169">Ne HTML çıktı Html.BeginForm() yardımcı yöntemi olan &lt;form&gt; bizim biçimlendirmede öğesi.</span><span class="sxs-lookup"><span data-stu-id="9952f-169">The Html.BeginForm() helper method is what output the HTML &lt;form&gt; element in our markup.</span></span> <span data-ttu-id="9952f-170">Bizim Edit.aspx görünüm şablonunda bir "deyimi bu yöntemi kullanırken kullanarak C" # uyguladığımız olduğunu fark edeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-170">In our Edit.aspx view template you'll notice that we are applying a C# "using" statement when using this method.</span></span> <span data-ttu-id="9952f-171">Açık kaşlı ayraç başlangıcını gösterir &lt;form&gt; içerik ve kapanış kuşak olduğu ne sonunu gösterir &lt;/form&gt; öğe:</span><span class="sxs-lookup"><span data-stu-id="9952f-171">The open curly brace indicates the beginning of the &lt;form&gt; content, and the closing curly brace is what indicates the end of the &lt;/form&gt; element:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample3.cs)]

<span data-ttu-id="9952f-172">Alternatif olarak, "kullanarak" deyimi bulursanız, böyle bir senaryo için doğal olmayan yaklaşımını, (hangi aynı şeyi yapar) Html.BeginForm() ve Html.EndForm() bir bileşimini kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="9952f-172">Alternatively, if you find the "using" statement approach unnatural for a scenario like this, you can use a Html.BeginForm() and Html.EndForm() combination (which does the same thing):</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample4.aspx)]

<span data-ttu-id="9952f-173">Hiçbir parametre olmadan Html.BeginForm() çağırma geçerli isteğin URL'sine bir HTTP POST yapar bir form öğesi çıktısını neden olur.</span><span class="sxs-lookup"><span data-stu-id="9952f-173">Calling Html.BeginForm() without any parameters will cause it to output a form element that does an HTTP-POST to the current request's URL.</span></span> <span data-ttu-id="9952f-174">Diğer bir deyişle neden bizim düzenleme görünümü oluşturan bir *&lt;form eylemi = "/ düzenleme/azalma/1" yöntemi "post" =&gt;* öğesi.</span><span class="sxs-lookup"><span data-stu-id="9952f-174">That is why our Edit view generates a *&lt;form action="/Dinners/Edit/1" method="post"&gt;* element.</span></span> <span data-ttu-id="9952f-175">Farklı bir URL'ye gönderme istediyseniz biz alternatif olarak açık parametreleri Html.BeginForm() için geçmiş.</span><span class="sxs-lookup"><span data-stu-id="9952f-175">We could have alternatively passed explicit parameters to Html.BeginForm() if we wanted to post to a different URL.</span></span>

##### <a name="htmltextbox-helper-method"></a><span data-ttu-id="9952f-176">Html.TextBox() yardımcı yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-176">Html.TextBox() helper method</span></span>

<span data-ttu-id="9952f-177">Bizim Edit.aspx görünümü Html.TextBox() yardımcı yöntem çıktısını almak için kullanır. &lt;giriş türü = "text" /&gt; öğeleri:</span><span class="sxs-lookup"><span data-stu-id="9952f-177">Our Edit.aspx view uses the Html.TextBox() helper method to output &lt;input type="text"/&gt; elements:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample5.aspx)]

<span data-ttu-id="9952f-178">Her iki kimliği/ad özniteliklerini belirtmek için kullanılan tek bir parametre – yukarıdaki Html.TextBox() yöntemi alır &lt;giriş türü = "text" /&gt; metin değerinden doldurmak için model özelliğinin yanı sıra, çıktı öğesi.</span><span class="sxs-lookup"><span data-stu-id="9952f-178">The Html.TextBox() method above takes a single parameter – which is being used to specify both the id/name attributes of the &lt;input type="text"/&gt; element to output, as well as the model property to populate the textbox value from.</span></span> <span data-ttu-id="9952f-179">Örneğin, "Title" özelliğinin değeri ".NET vadeli" biz geçirilen düzenleme görünümü Yemeği nesne sahipse ve bu nedenle bizim Html.TextBox("Title") yöntemini çağırın çıktı: *&lt;girdi kimliği = "Title" name = "Title" type = "metin" value = ".NET vadeli" = /&gt;*.</span><span class="sxs-lookup"><span data-stu-id="9952f-179">For example, the Dinner object we passed to the Edit view had a "Title" property value of ".NET Futures", and so our Html.TextBox("Title") method call output: *&lt;input id="Title" name="Title" type="text" value=".NET Futures" /&gt;*.</span></span>

<span data-ttu-id="9952f-180">Alternatif olarak, biz öğesinin kimliği/adı belirtin ve ikinci parametre olarak kullanılacak değer içinde açıkça geçirmek için ilk Html.TextBox() parametresini kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="9952f-180">Alternatively, we can use the first Html.TextBox() parameter to specify the id/name of the element, and then explicitly pass in the value to use as a second parameter:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample6.aspx)]

<span data-ttu-id="9952f-181">Genellikle biz özel çıkış değerine biçimlendirme gerçekleştirmek istersiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-181">Often we'll want to perform custom formatting on the value that is output.</span></span> <span data-ttu-id="9952f-182">Yerleşik-String.Format() statik yöntemi .NET bu senaryolar için kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="9952f-182">The String.Format() static method built-into .NET is useful for these scenarios.</span></span> <span data-ttu-id="9952f-183">Böylece zamanı saniye göstermiyor bizim Edit.aspx şablonu görüntüleme (DateTime türünde olan) EventDate değeri biçimlendirmek için bu kullanıyor:</span><span class="sxs-lookup"><span data-stu-id="9952f-183">Our Edit.aspx view template is using this to format the EventDate value (which is of type DateTime) so that it doesn't show seconds for the time:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample7.aspx)]

<span data-ttu-id="9952f-184">Html.TextBox() üçüncü parametresi, isteğe bağlı olarak, ek HTML özniteliklerini çıktısını almak için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9952f-184">A third parameter to Html.TextBox() can optionally be used to output additional HTML attributes.</span></span> <span data-ttu-id="9952f-185">Aşağıdaki kod parçacığında, ek bir boyut işlemek gösterilmiştir = "30" özniteliğini ve bir sınıf üzerinde = "mycssclass" özniteliği &lt;giriş türü = "text" /&gt; öğesi.</span><span class="sxs-lookup"><span data-stu-id="9952f-185">The code-snippet below demonstrates how to render an additional size="30" attribute and a class="mycssclass" attribute on the &lt;input type="text"/&gt; element.</span></span> <span data-ttu-id="9952f-186">Biz sınıfı özniteliği kullanılarak adı nasıl kaçış Not bir "@" character because "sınıfı" ayrılmış bir anahtar C#:</span><span class="sxs-lookup"><span data-stu-id="9952f-186">Note how we are escaping the name of the class attribute using a "@" character because "class" is a reserved keyword in C#:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample8.aspx)]

#### <a name="implementing-the-http-post-edit-action-method"></a><span data-ttu-id="9952f-187">HTTP POST düzenleme eylem yöntemi uygulama</span><span class="sxs-lookup"><span data-stu-id="9952f-187">Implementing the HTTP-POST Edit Action Method</span></span>

<span data-ttu-id="9952f-188">Biz şimdi uygulanan bizim Edit eylem yöntemini HTTP GET sürümüne sahip.</span><span class="sxs-lookup"><span data-stu-id="9952f-188">We now have the HTTP-GET version of our Edit action method implemented.</span></span> <span data-ttu-id="9952f-189">Bir kullanıcı isteğinde bulunduğunda */Dinners/Edit/1* bir HTML sayfasında aşağıdaki gibi aldıkları URL'si:</span><span class="sxs-lookup"><span data-stu-id="9952f-189">When a user requests the */Dinners/Edit/1* URL they receive an HTML page like the following:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image6.png)

<span data-ttu-id="9952f-190">Form post neden "Kaydet" düğmesine basarak */Dinners/Edit/1* URL, HTML sorgulayan ve &lt;giriş&gt; form değerleri HTTP POST edimi kullanılarak.</span><span class="sxs-lookup"><span data-stu-id="9952f-190">Pressing the "Save" button causes a form post to the */Dinners/Edit/1* URL, and submits the HTML &lt;input&gt; form values using the HTTP POST verb.</span></span> <span data-ttu-id="9952f-191">Şimdi Yemeği kaydetme işleyecek bizim düzenleme eylem yöntemi – HTTP POST davranışını şimdi uygulayın.</span><span class="sxs-lookup"><span data-stu-id="9952f-191">Let's now implement the HTTP POST behavior of our edit action method – which will handle saving the Dinner.</span></span>

<span data-ttu-id="9952f-192">Aşırı yüklenmiş bir "Düzenle" eylem yöntemini HTTP POST senaryoları işleme gösteren bir "AcceptVerbs" özniteliği olan bizim DinnersController için ekleyerek başlamak:</span><span class="sxs-lookup"><span data-stu-id="9952f-192">We'll begin by adding an overloaded "Edit" action method to our DinnersController that has an "AcceptVerbs" attribute on it that indicates it handles HTTP POST scenarios:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample9.cs)]

<span data-ttu-id="9952f-193">[AcceptVerbs] özniteliği için aşırı yüklenmiş eylem yöntemleri uygulandığında, ASP.NET MVC gelen HTTP fiiline bağlı olarak uygun bir eylem yönteminin dağıtırken istekleri otomatik olarak yönetir.</span><span class="sxs-lookup"><span data-stu-id="9952f-193">When the [AcceptVerbs] attribute is applied to overloaded action methods, ASP.NET MVC automatically handles dispatching requests to the appropriate action method depending on the incoming HTTP verb.</span></span> <span data-ttu-id="9952f-194">HTTP POST isteklerini <em>/Dinners/düzenleme / [kimlik]</em> URL'leri yukarıdaki düzenleme yöntemine diğer tüm HTTP fiili isteklerine sırasında yazılacak <em>/Dinners/düzenleme / [kimlik]</em>URL'leri yazılacak ilk düzenleme için biz (hangi vermedi uygulanan yöntemi [AcceptVerbs] özniteliğine sahip değil).</span><span class="sxs-lookup"><span data-stu-id="9952f-194">HTTP POST requests to <em>/Dinners/Edit/[id]</em> URLs will go to the above Edit method, while all other HTTP verb requests to <em>/Dinners/Edit/[id]</em>URLs will go to the first Edit method we implemented (which did not have an [AcceptVerbs] attribute).</span></span>

| <span data-ttu-id="9952f-195">**Yan konu: Neden HTTP fiilleri ayırt?**</span><span class="sxs-lookup"><span data-stu-id="9952f-195">**Side Topic: Why differentiate via HTTP verbs?**</span></span> |
| --- |
| <span data-ttu-id="9952f-196">İsteyebilir – tek bir URL'yi kullanarak ve davranışını HTTP fiili aracılığıyla ayrım neden gerçekleştiriyoruz?</span><span class="sxs-lookup"><span data-stu-id="9952f-196">You might ask – why are we using a single URL and differentiating its behavior via the HTTP verb?</span></span> <span data-ttu-id="9952f-197">Neden yükleme ve düzenleme değişiklikleri kaydetme işlemek için iki ayrı URL'ler yalnızca var?</span><span class="sxs-lookup"><span data-stu-id="9952f-197">Why not just have two separate URLs to handle loading and saving edit changes?</span></span> <span data-ttu-id="9952f-198">Örneğin: /Dinners/düzenleme için ilk form ve /Dinners/Kaydet kaydetmeyi form post işlemek için / [kimlik] / [kimlik]?</span><span class="sxs-lookup"><span data-stu-id="9952f-198">For example: /Dinners/Edit/[id] to display the initial form and /Dinners/Save/[id] to handle the form post to save it?</span></span> <span data-ttu-id="9952f-199">Burada biz /Dinners/Save/2 için post ve Giriş bir hata nedeniyle HTML formu yeniden görüntüleyin gereken durumlarda, son kullanıcı (, başlatıldığından beri azalma/kaydetme/2 URL, tarayıcının adres çubuğunda sahip sona ereceği yayımlama iki ayrı URL'ler ile dezavantajı olduğu URL postalama form).</span><span class="sxs-lookup"><span data-stu-id="9952f-199">The downside with publishing two separate URLs is that in cases where we post to /Dinners/Save/2, and then need to redisplay the HTML form because of an input error, the end-user will end up having the /Dinners/Save/2 URL in their browser's address bar (since that was the URL the form posted to).</span></span> <span data-ttu-id="9952f-200">Son kullanıcı kendi tarayıcı sık kullanılanları listesini redisplayed bu sayfaya yer işaret veya kopya/URL yapıştırır ve arkadaşınıza e-postalar, bunlar bu yana (Bu URL'yi post değerlerine bağlıdır), gelecekte çalışmaz bir URL kaydetme sona erer.</span><span class="sxs-lookup"><span data-stu-id="9952f-200">If the end-user bookmarks this redisplayed page to their browser favorites list, or copy/pastes the URL and emails it to a friend, they will end up saving a URL that won't work in the future (since that URL depends on post values).</span></span> <span data-ttu-id="9952f-201">Tek bir URL gösterme tarafından (gibi: /Dinners/Edit/[id]) ve HTTP fiili bunu işlemesi ayrım yapma, bu düzenleme sayfasını yer işareti ve/veya URL başkalarına göndermek son kullanıcılar için güvenli.</span><span class="sxs-lookup"><span data-stu-id="9952f-201">By exposing a single URL (like: /Dinners/Edit/[id]) and differentiating the processing of it by HTTP verb, it is safe for end-users to bookmark the edit page and/or send the URL to others.</span></span> |

#### <a name="retrieving-form-post-values"></a><span data-ttu-id="9952f-202">Form Post değerlerini alma</span><span class="sxs-lookup"><span data-stu-id="9952f-202">Retrieving Form Post Values</span></span>

<span data-ttu-id="9952f-203">Çeşitli şekillerde erişmek için form parametrelerini "Düzenle" bizim HTTP POST yöntemi içinde gönderilen vardır.</span><span class="sxs-lookup"><span data-stu-id="9952f-203">There are a variety of ways we can access posted form parameters within our HTTP POST "Edit" method.</span></span> <span data-ttu-id="9952f-204">Basit bir yaklaşım yalnızca istek özelliği denetleyici temel sınıfını form koleksiyonu erişmek ve gönderilen değerler doğrudan almak için kullanmaktır:</span><span class="sxs-lookup"><span data-stu-id="9952f-204">One simple approach is to just use the Request property on the Controller base class to access the form collection and retrieve the posted values directly:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample10.cs)]

<span data-ttu-id="9952f-205">Hata işleme mantığı özellikle eklediğimiz sonra yukarıdaki yine de biraz ayrıntılı bir yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="9952f-205">The above approach is a little verbose, though, especially once we add error handling logic.</span></span>

<span data-ttu-id="9952f-206">Bir daha iyi yaklaşımını bu senaryo için yerleşik kullanmak için *UpdateModel()* denetleyicisi temel sınıf yardımcı yöntemi.</span><span class="sxs-lookup"><span data-stu-id="9952f-206">A better approach for this scenario is to leverage the built-in *UpdateModel()* helper method on the Controller base class.</span></span> <span data-ttu-id="9952f-207">Bu, biz gelen form parametrelerini kullanarak geçirmek bir nesnenin özelliklerini güncelleştirme destekler.</span><span class="sxs-lookup"><span data-stu-id="9952f-207">It supports updating the properties of an object we pass it using the incoming form parameters.</span></span> <span data-ttu-id="9952f-208">Yansıma nesnesindeki özellik adları belirlemek için kullanır ve ardından otomatik olarak dönüştürür ve bunları istemci tarafından gönderilen giriş değerleri temel alarak değerleri atar.</span><span class="sxs-lookup"><span data-stu-id="9952f-208">It uses reflection to determine the property names on the object, and then automatically converts and assigns values to them based on the input values submitted by the client.</span></span>

<span data-ttu-id="9952f-209">Bizim HTTP POST Düzenle bu kodu kullanarak eylem basitleştirmek için biz UpdateModel() yöntemi kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="9952f-209">We could use the UpdateModel() method to simplify our HTTP-POST Edit Action using this code:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample11.cs)]

<span data-ttu-id="9952f-210">Biz şimdi ziyaret edebilirsiniz */Dinners/Edit/1* URL ve değişiklik bizim Yemeği Başlık:</span><span class="sxs-lookup"><span data-stu-id="9952f-210">We can now visit the */Dinners/Edit/1* URL, and change the title of our Dinner:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image7.png)

<span data-ttu-id="9952f-211">Biz "Kaydet" düğmesini tıklatın, bir form post bizim düzenleme eylemi gerçekleştirirsiniz ve güncelleştirilmiş değerleri veritabanında kalıcı.</span><span class="sxs-lookup"><span data-stu-id="9952f-211">When we click the "Save" button, we'll perform a form post to our Edit action, and the updated values will be persisted in the database.</span></span> <span data-ttu-id="9952f-212">Biz sonra ayrıntıları URL'si (hangi yeni kaydedilen değerler görüntülenir) yemeği için yönlendirilir:</span><span class="sxs-lookup"><span data-stu-id="9952f-212">We will then be redirected to the Details URL for the Dinner (which will display the newly saved values):</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image8.png)

#### <a name="handling-edit-errors"></a><span data-ttu-id="9952f-213">İşleme düzenleme hataları</span><span class="sxs-lookup"><span data-stu-id="9952f-213">Handling Edit Errors</span></span>

<span data-ttu-id="9952f-214">Dışında geçerli HTTP POST uygulama works – ince hataları vardır.</span><span class="sxs-lookup"><span data-stu-id="9952f-214">Our current HTTP-POST implementation works fine – except when there are errors.</span></span>

<span data-ttu-id="9952f-215">Bir kullanıcı bir form düzenleme hata yaptığında, form, bunları düzeltmek için rehberlik edecek bir bilgilendirici hata iletisi ile yeniden görüntülenir emin olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9952f-215">When a user makes a mistake editing a form, we need to make sure that the form is redisplayed with an informative error message that guides them to fix it.</span></span> <span data-ttu-id="9952f-216">Bu durumda olduğu bir son kullanıcı yazılarını hatalı giriş içerir (örneğin: hatalı biçimlendirilmiş tarih dizesi), giriş biçimi where durumlarda da geçerlidir, ancak bir iş kuralı ihlali gibi.</span><span class="sxs-lookup"><span data-stu-id="9952f-216">This includes cases where an end-user posts incorrect input (for example: a malformed date string), as well as cases where the input format is valid but there is a business rule violation.</span></span> <span data-ttu-id="9952f-217">Ne zaman formun yaptıkları değişiklikleri el ile yenileme gerekmez böylece başlangıçta girilen kullanıcı giriş verilerini korumak hataları oluşur.</span><span class="sxs-lookup"><span data-stu-id="9952f-217">When errors occur the form should preserve the input data the user originally entered so that they don't have to refill their changes manually.</span></span> <span data-ttu-id="9952f-218">Form başarıyla tamamlanana kadar bu işlemi gerektiği kadar yineleyin.</span><span class="sxs-lookup"><span data-stu-id="9952f-218">This process should repeat as many times as necessary until the form successfully completes.</span></span>

<span data-ttu-id="9952f-219">ASP.NET MVC hata işleme ve formu yeniden kolaylaştırmak iyi bazı yerleşik özellikler içerir.</span><span class="sxs-lookup"><span data-stu-id="9952f-219">ASP.NET MVC includes some nice built-in features that make error handling and form redisplay easy.</span></span> <span data-ttu-id="9952f-220">Bu özellikler eylem görelim için bizim düzenleme eylem yöntemine aşağıdaki kod ile güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="9952f-220">To see these features in action let's update our Edit action method with the following code:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample12.cs)]

<span data-ttu-id="9952f-221">Yukarıdaki kod, biz şimdi try/catch hata işleme bloğu bizim geçici kaydırma dışında bizim önceki uygulamasına – benzerdir.</span><span class="sxs-lookup"><span data-stu-id="9952f-221">The above code is similar to our previous implementation – except that we are now wrapping a try/catch error handling block around our work.</span></span> <span data-ttu-id="9952f-222">Bir özel durum oluşursa UpdateModel() çağrılırken veya deneyin ve (kaydetmeye çalıştığınız Yemeği nesne modelimizi içinde bir kuralı ihlali nedeniyle geçersiz ise, bir özel durum oluşturacak) DinnerRepository Kaydet bizim catch hata işleme bloğu olur yürütün.</span><span class="sxs-lookup"><span data-stu-id="9952f-222">If an exception occurs either when calling UpdateModel(), or when we try and save the DinnerRepository (which will raise an exception if the Dinner object we are trying to save is invalid because of a rule violation within our model), our catch error handling block will execute.</span></span> <span data-ttu-id="9952f-223">İçindeki Yemeği nesnesinde mevcut herhangi bir kural ihlal üzerinden döngü ve bunları (biz kısaca ele alacağız) bir ModelState nesnesi için ekleyin.</span><span class="sxs-lookup"><span data-stu-id="9952f-223">Within it we loop over any rule violations that exist in the Dinner object and add them to a ModelState object (which we'll discuss shortly).</span></span> <span data-ttu-id="9952f-224">Biz ardından görünümü yeniden görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="9952f-224">We then redisplay the view.</span></span>

<span data-ttu-id="9952f-225">Şimdi uygulamayı yeniden çalıştırın çalışma bu görmek için bir Yemeği düzenlemek ve bir EventDate "BOGUS", boş bir başlık varsa ve ABD ülke değeri olan bir BK telefon numarası kullanmak şekilde değiştirin.</span><span class="sxs-lookup"><span data-stu-id="9952f-225">To see this working let's re-run the application, edit a Dinner, and change it to have an empty Title, an EventDate of "BOGUS", and use a UK phone number with a country value of USA.</span></span> <span data-ttu-id="9952f-226">Biz "Kaydet" düğmesine bastığınızda bizim HTTP POST Edit yöntemi (hatalar olduğundan) Yemeği kaydetmek mümkün olmaz ve formu yeniden görüntüleyin:</span><span class="sxs-lookup"><span data-stu-id="9952f-226">When we press the "Save" button our HTTP POST Edit method will not be able to save the Dinner (because there are errors) and will redisplay the form:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image9.png)

<span data-ttu-id="9952f-227">Uygulamamız bir makul hata deneyimi olur.</span><span class="sxs-lookup"><span data-stu-id="9952f-227">Our application has a decent error experience.</span></span> <span data-ttu-id="9952f-228">Geçersiz giriş metin öğeleriyle kırmızı ile vurgulanan ve bunlarla ilgili son kullanıcının bir doğrulama hata iletisi görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="9952f-228">The text elements with the invalid input are highlighted in red, and validation error messages are displayed to the end user about them.</span></span> <span data-ttu-id="9952f-229">Böylece her şeyi Dolum gerekmez formun Ayrıca kullanıcı ilk olarak girilen – giriş verilerini saklayan.</span><span class="sxs-lookup"><span data-stu-id="9952f-229">The form is also preserving the input data the user originally entered – so that they don't have to refill anything.</span></span>

<span data-ttu-id="9952f-230">Nasıl sorabilirsiniz. Bu durum ortaya?</span><span class="sxs-lookup"><span data-stu-id="9952f-230">How, you might ask, did this occur?</span></span> <span data-ttu-id="9952f-231">Nasıl başlık, EventDate ve ContactPhone kutularındaki kendilerini kırmızıyla vurgulayın ve başlangıçta girilen kullanıcı değerlerinin çıktısını almak için bilmeniz?</span><span class="sxs-lookup"><span data-stu-id="9952f-231">How did the Title, EventDate, and ContactPhone textboxes highlight themselves in red and know to output the originally entered user values?</span></span> <span data-ttu-id="9952f-232">Ve nasıl hata iletileri listenin en üstünde görüntülenir?</span><span class="sxs-lookup"><span data-stu-id="9952f-232">And how did error messages get displayed in the list at the top?</span></span> <span data-ttu-id="9952f-233">İyi haber bu magic ile ortaya alamadık - yerine Giriş doğrulama ve hata işleme senaryolarını kolaylaştırmak yerleşik ASP.NET MVC özelliklerinden bazıları kullandık nedeni, olur.</span><span class="sxs-lookup"><span data-stu-id="9952f-233">The good news is that this didn't occur by magic - rather it was because we used some of the built-in ASP.NET MVC features that make input validation and error handling scenarios easy.</span></span>

#### <a name="understanding-modelstate-and-the-validation-html-helper-methods"></a><span data-ttu-id="9952f-234">Anlama ModelState ve doğrulama HTML yardımcı yöntemler</span><span class="sxs-lookup"><span data-stu-id="9952f-234">Understanding ModelState and the Validation HTML Helper Methods</span></span>

<span data-ttu-id="9952f-235">Denetleyici sınıflarının hataları bir görünüme geçirilen bir model nesnesi ile mevcut olduğunu belirtmek için bir yol sağlayan bir "ModelState" özellik koleksiyonu vardır.</span><span class="sxs-lookup"><span data-stu-id="9952f-235">Controller classes have a "ModelState" property collection which provides a way to indicate that errors exist with a model object being passed to a View.</span></span> <span data-ttu-id="9952f-236">Hata girişleri ModelState koleksiyonundaki sorun model özelliğinin adı belirleyin (örneğin: "Title", "EventDate" veya "ContactPhone") ve bir insan kolay hata iletisi belirtilmesine izin (örneğin: "Başlık gerekli").</span><span class="sxs-lookup"><span data-stu-id="9952f-236">Error entries within the ModelState collection identify the name of the model property with the issue (for example: "Title", "EventDate", or "ContactPhone"), and allow a human-friendly error message to be specified (for example: "Title is required").</span></span>

<span data-ttu-id="9952f-237">*UpdateModel()* yardımcı yöntemi, model nesne üzerindeki özellikleri form değerleri atamak çalışırken hatalarla karşılaştığında ModelState koleksiyonu otomatik olarak doldurur.</span><span class="sxs-lookup"><span data-stu-id="9952f-237">The *UpdateModel()* helper method automatically populates the ModelState collection when it encounters errors while trying to assign form values to properties on the model object.</span></span> <span data-ttu-id="9952f-238">Örneğin, bizim Yemeği nesnenin EventDate özellik DateTime türünde.</span><span class="sxs-lookup"><span data-stu-id="9952f-238">For example, our Dinner object's EventDate property is of type DateTime.</span></span> <span data-ttu-id="9952f-239">UpdateModel() yöntemi "BOGUS" dize değeri için yukarıdaki senaryoda atayamadı UpdateModel() yöntemi bir giriş olduğunu belirten bir atama hata ModelState koleksiyonuna bu özellik ile oluştu eklenmesi.</span><span class="sxs-lookup"><span data-stu-id="9952f-239">When the UpdateModel() method was unable to assign the string value "BOGUS" to it in the scenario above, the UpdateModel() method added an entry to the ModelState collection indicating an assignment error had occurred with that property.</span></span>

<span data-ttu-id="9952f-240">Geliştiriciler Ayrıca hangi ModelState koleksiyonu içinde active kural ihlallerinin göre girişlerle doldurma bizim "catch" hata işleme bloğu içinde biz aşağıda yaptıklarını gibi açık hata girişleri ModelState koleksiyona eklemek için kod yazma Yemeği nesnesi:</span><span class="sxs-lookup"><span data-stu-id="9952f-240">Developers can also write code to explicitly add error entries into the ModelState collection like we are doing below within our "catch" error handling block, which is populating the ModelState collection with entries based on the active Rule Violations in the Dinner object:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample13.cs)]

#### <a name="html-helper-integration-with-modelstate"></a><span data-ttu-id="9952f-241">ModelState ile HTML Yardımcısı tümleştirme</span><span class="sxs-lookup"><span data-stu-id="9952f-241">Html Helper Integration with ModelState</span></span>

<span data-ttu-id="9952f-242">HTML yardımcı yöntemlerinden - Html.TextBox() gibi-çıkış işleme biçiminde ModelState koleksiyon kontrol edin.</span><span class="sxs-lookup"><span data-stu-id="9952f-242">HTML helper methods - like Html.TextBox() - check the ModelState collection when rendering output.</span></span> <span data-ttu-id="9952f-243">Öğesi için bir hata varsa, kullanıcı tarafından girilen değer ve bir CSS hata sınıfı işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="9952f-243">If an error for the item exists, they render the user-entered value and a CSS error class.</span></span>

<span data-ttu-id="9952f-244">Örneğin, "Düzenle" bizim görünümünde Html.TextBox() yardımcı yöntem bizim Yemeği nesnesinin EventDate işlemek için kullanıyoruz:</span><span class="sxs-lookup"><span data-stu-id="9952f-244">For example, in our "Edit" view we are using the Html.TextBox() helper method to render the EventDate of our Dinner object:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample14.aspx)]

<span data-ttu-id="9952f-245">Görünüm hata senaryosunda işlendiğinde Html.TextBox() yöntemi bizim Yemeği nesnesinin "EventDate" özelliği ile ilişkili herhangi bir hata olup olmadığını görmek için ModelState koleksiyonu denetimi.</span><span class="sxs-lookup"><span data-stu-id="9952f-245">When the view was rendered in the error scenario, the Html.TextBox() method checked the ModelState collection to see if there were any errors associated with the "EventDate" property of our Dinner object.</span></span> <span data-ttu-id="9952f-246">Bir hata oluştu belirlenen zaman değeri olarak gönderilen kullanıcı girişini ("BOGUS") oluşturulmasını ve bir css hata sınıfa eklenen &lt;giriş türü "metin" = /&gt; biçimlendirmesi ürettiğini:</span><span class="sxs-lookup"><span data-stu-id="9952f-246">When it determined that there was an error it rendered the submitted user input ("BOGUS") as the value, and added a css error class to the &lt;input type="textbox"/&gt; markup it generated:</span></span>

[!code-html[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample15.html)]

<span data-ttu-id="9952f-247">Ancak, istediğiniz aramak için css hata sınıfı görünümünü özelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-247">You can customize the appearance of the css error class to look however you want.</span></span> <span data-ttu-id="9952f-248">Varsayılan CSS hata sınıfı – "giriş-doğrulama hata" – tanımlanan *\content\site.css* stil ve görünümler gibi altında:</span><span class="sxs-lookup"><span data-stu-id="9952f-248">The default CSS error class – "input-validation-error" – is defined in the *\content\site.css* stylesheet and looks like below:</span></span>

[!code-css[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample16.css)]

<span data-ttu-id="9952f-249">CSS kuralın hangi bizim geçersiz giriş öğeleri gibi aşağıda vurgulanmasını kaynaklanır:</span><span class="sxs-lookup"><span data-stu-id="9952f-249">This CSS rule is what caused our invalid input elements to be highlighted like below:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image10.png)

##### <a name="htmlvalidationmessage-helper-method"></a><span data-ttu-id="9952f-250">Html.ValidationMessage() yardımcı yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-250">Html.ValidationMessage() Helper Method</span></span>

<span data-ttu-id="9952f-251">Html.ValidationMessage() yardımcı yöntemi, belirli model özelliği ile ilişkili ModelState hata iletisi çıktısını almak için kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="9952f-251">The Html.ValidationMessage() helper method can be used to output the ModelState error message associated with a particular model property:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample17.aspx)]

<span data-ttu-id="9952f-252">Yukarıdaki kod çıkarır:  *&lt;span class = "alan doğrulama hata"&gt; 'BOGUS' değeri geçersiz &lt; /span&gt;*</span><span class="sxs-lookup"><span data-stu-id="9952f-252">The above code outputs: *&lt;span class="field-validation-error"&gt; The value ‘BOGUS' is invalid&lt;/span&gt;*</span></span>

<span data-ttu-id="9952f-253">Html.ValidationMessage() yardımcı yöntemi, geliştiricilerin görüntülenen hata SMS mesajı geçersiz kılmasına izin veren ikinci bir parametresi de destekler:</span><span class="sxs-lookup"><span data-stu-id="9952f-253">The Html.ValidationMessage() helper method also supports a second parameter that allows developers to override the error text message that is displayed:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample18.aspx)]

<span data-ttu-id="9952f-254">Yukarıdaki kod çıkarır:  <em>&lt;span class = "alan doğrulama hata"&gt;\*&lt;/span&gt;</em>yerine bir hata için mevcut olduğunda varsayılan hata metni EventDate özelliği.</span><span class="sxs-lookup"><span data-stu-id="9952f-254">The above code outputs: <em>&lt;span class="field-validation-error"&gt;\*&lt;/span&gt;</em>instead of the default error text when an error is present for the EventDate property.</span></span>

##### <a name="htmlvalidationsummary-helper-method"></a><span data-ttu-id="9952f-255">Html.ValidationSummary() yardımcı yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-255">Html.ValidationSummary() Helper Method</span></span>

<span data-ttu-id="9952f-256">Html.ValidationSummary() yardımcı yöntemi tarafından eşlik bir Özet hata iletisi işlemek için kullanılan bir &lt;ul&gt;&lt;li /&gt;&lt;/ul&gt; listesi tüm ayrıntılı hata iletileri ModelState koleksiyonu:</span><span class="sxs-lookup"><span data-stu-id="9952f-256">The Html.ValidationSummary() helper method can be used to render a summary error message, accompanied by a &lt;ul&gt;&lt;li/&gt;&lt;/ul&gt; list of all detailed error messages in the ModelState collection:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image11.png)

<span data-ttu-id="9952f-257">Ayrıntılı hataları listesini görüntülemek için bir Özet hata iletisi tanımlar ve isteğe bağlı dize parametresi – Html.ValidationSummary() yardımcı yöntemi alır:</span><span class="sxs-lookup"><span data-stu-id="9952f-257">The Html.ValidationSummary() helper method takes an optional string parameter – which defines a summary error message to display above the list of detailed errors:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample19.aspx)]

<span data-ttu-id="9952f-258">Hata listesi benzer geçersiz kılmak için CSS isteğe bağlı olarak kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-258">You can optionally use CSS to override what the error list looks like.</span></span>

#### <a name="using-a-addruleviolations-helper-method"></a><span data-ttu-id="9952f-259">AddRuleViolations yardımcı yöntemini kullanma</span><span class="sxs-lookup"><span data-stu-id="9952f-259">Using a AddRuleViolations Helper Method</span></span>

<span data-ttu-id="9952f-260">Bizim ilk HTTP POST Düzenle uygulama catch bloğu içinde bir foreach Yemeği nesnenin kural ihlallerinin döngü ve bunları denetleyicinin ModelState koleksiyona eklemek için kullanılır:</span><span class="sxs-lookup"><span data-stu-id="9952f-260">Our initial HTTP-POST Edit implementation used a foreach statement within its catch block to loop over the Dinner object's Rule Violations and add them to the controller's ModelState collection:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample20.cs)]

<span data-ttu-id="9952f-261">Biz "ControllerHelpers" ekleyerek küçük bir temizleyici NerdDinner projeye sınıf ve ASP.NET MVC ModelStateDictionary sınıfına yardımcı yöntemini ekleyen bir "AddRuleViolations" genişletme yöntemi içindeki uygulama bu kodu yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-261">We can make this code a little cleaner by adding a "ControllerHelpers" class to the NerdDinner project, and implement an "AddRuleViolations" extension method within it that adds a helper method to the ASP.NET MVC ModelStateDictionary class.</span></span> <span data-ttu-id="9952f-262">Bu uzantı metodu ModelStateDictionary RuleViolation hataların listesini ile doldurmak için gerekli mantığı sarmalayabilen:</span><span class="sxs-lookup"><span data-stu-id="9952f-262">This extension method can encapsulate the logic necessary to populate the ModelStateDictionary with a list of RuleViolation errors:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample21.cs)]

<span data-ttu-id="9952f-263">Biz bu genişletme yöntemi bizim Yemeği kural ihlallerinin ModelState koleksiyonuyla doldurmak için kullanılacak bizim HTTP POST Düzenle eylem yöntemi sonra güncelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-263">We can then update our HTTP-POST Edit action method to use this extension method to populate the ModelState collection with our Dinner Rule Violations.</span></span>

#### <a name="complete-edit-action-method-implementations"></a><span data-ttu-id="9952f-264">Düzen eylem yöntemi uygulamaları tamamlayın</span><span class="sxs-lookup"><span data-stu-id="9952f-264">Complete Edit Action Method Implementations</span></span>

<span data-ttu-id="9952f-265">Aşağıdaki kodu tüm düzenleme senaryomuz için gerekli denetleyicisi mantığı uygular:</span><span class="sxs-lookup"><span data-stu-id="9952f-265">The code below implements all of the controller logic necessary for our Edit scenario:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample22.cs)]

<span data-ttu-id="9952f-266">Bizim düzenleme uygulaması hakkında iyi tarafı bizim denetleyici sınıfı ne bizim şablonu görüntüleme herhangi bir şey belirli doğrulama veya bizim Yemeği modeli tarafından zorlanan iş kuralları hakkında bilmeniz sahip olur.</span><span class="sxs-lookup"><span data-stu-id="9952f-266">The nice thing about our Edit implementation is that neither our Controller class nor our View template has to know anything about the specific validation or business rules being enforced by our Dinner model.</span></span> <span data-ttu-id="9952f-267">Biz ek kurallar bizim modeline gelecekte ekleyebilirsiniz ve bizim denetleyicisi ya da sunumların desteklenmesi görünümünde kod değişikliklerini yapmak zorunda değilsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-267">We can add additional rules to our model in the future and do not have to make any code changes to our controller or view in order for them to be supported.</span></span> <span data-ttu-id="9952f-268">Bu bize kolayca bizim uygulama gereksinimlerini gelecekte en az ile kod değişikliklerini gelişmesi esnekliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="9952f-268">This provides us with the flexibility to easily evolve our application requirements in the future with a minimum of code changes.</span></span>

### <a name="create-support"></a><span data-ttu-id="9952f-269">Destek oluşturma</span><span class="sxs-lookup"><span data-stu-id="9952f-269">Create Support</span></span>

<span data-ttu-id="9952f-270">Bizim DinnersController sınıfı "Düzenle" davranışını uygulama bitirdikten sonra.</span><span class="sxs-lookup"><span data-stu-id="9952f-270">We've finished implementing the "Edit" behavior of our DinnersController class.</span></span> <span data-ttu-id="9952f-271">Şimdi şimdi "Oluştur" Destek üzerinde – kullanıcıların yeni azalma eklemesine olanak sağlayan uygulamak geçin.</span><span class="sxs-lookup"><span data-stu-id="9952f-271">Let's now move on to implement the "Create" support on it – which will enable users to add new Dinners.</span></span>

#### <a name="the-http-get-create-action-method"></a><span data-ttu-id="9952f-272">HTTP GET oluşturma eylem yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-272">The HTTP-GET Create Action Method</span></span>

<span data-ttu-id="9952f-273">Biz "GET" HTTP davranışını uygulayarak başlarsınız bizim eylem yöntemi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="9952f-273">We'll begin by implementing the HTTP "GET" behavior of our create action method.</span></span> <span data-ttu-id="9952f-274">Birisi ziyaret ettiğinde bu yöntem çağrılır */azalma/oluşturma* URL.</span><span class="sxs-lookup"><span data-stu-id="9952f-274">This method will be called when someone visits the */Dinners/Create* URL.</span></span> <span data-ttu-id="9952f-275">Bizim uygulama şuna benzer:</span><span class="sxs-lookup"><span data-stu-id="9952f-275">Our implementation looks like:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample23.cs)]

<span data-ttu-id="9952f-276">Yukarıdaki kod yeni bir Yemeği nesnesi oluşturur ve onun EventDate özelliğini gelecekte bir hafta atar.</span><span class="sxs-lookup"><span data-stu-id="9952f-276">The code above creates a new Dinner object, and assigns its EventDate property to be one week in the future.</span></span> <span data-ttu-id="9952f-277">Ardından, yeni Yemeği nesnesini temel alan bir görünümü işler.</span><span class="sxs-lookup"><span data-stu-id="9952f-277">It then renders a View that is based on the new Dinner object.</span></span> <span data-ttu-id="9952f-278">Biz bir adına açıkça geçirilen henüz çünkü *View()* yardımcı yöntemi, onu kullanır dayalı varsayılan yol şablonu görüntüleme gidermek için: /Views/Dinners/Create.aspx.</span><span class="sxs-lookup"><span data-stu-id="9952f-278">Because we haven't explicitly passed a name to the *View()* helper method, it will use the convention based default path to resolve the view template: /Views/Dinners/Create.aspx.</span></span>

<span data-ttu-id="9952f-279">Şimdi bu görünüm şablonu oluşturalım.</span><span class="sxs-lookup"><span data-stu-id="9952f-279">Let's now create this view template.</span></span> <span data-ttu-id="9952f-280">Oluşturma eylem yöntemi içinde sağ tıklayıp "Görünümü Ekle" context menü komutunu seçerek bunu yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-280">We can do this by right-clicking within the Create action method and selecting the "Add View" context menu command.</span></span> <span data-ttu-id="9952f-281">"Görünümü Ekle" iletişim biz biz Yemeği nesne şablonu görüntüleme geçtiğiniz ve otomatik-iskele "Oluştur" şablonunu seçin belirtmek:</span><span class="sxs-lookup"><span data-stu-id="9952f-281">Within the "Add View" dialog we'll indicate that we are passing a Dinner object to the view template, and choose to auto-scaffold a "Create" template:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image12.png)

<span data-ttu-id="9952f-282">Biz "Ekle" düğmesini tıklatın, Visual Studio yeni bir katman kalıbı iskeleti tabanlı "Create.aspx" Görünüm "\Views\Dinners" dizinine kaydedin ve IDE içinde açın:</span><span class="sxs-lookup"><span data-stu-id="9952f-282">When we click the "Add" button, Visual Studio will save a new scaffold-based "Create.aspx" view to the "\Views\Dinners" directory, and open it up within the IDE:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image13.png)

<span data-ttu-id="9952f-283">Şimdi oluşturulan varsayılan "Oluştur" iskele dosyasına bize birkaç değişiklikleri yapın ve aşağıdaki gibi görünecek şekilde yukarı değiştirin:</span><span class="sxs-lookup"><span data-stu-id="9952f-283">Let's make a few changes to the default "create" scaffold file that was generated for us, and modify it up to look like below:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample24.aspx)]

<span data-ttu-id="9952f-284">Ve şimdi biz çalıştırdığınızda, uygulama ve erişim *"/ azalma/oluştur"* onu sokacak aşağıdaki gibi UI bizim Oluştur eylemi uygulamasından tarayıcısından URL'si:</span><span class="sxs-lookup"><span data-stu-id="9952f-284">And now when we run our application and access the *"/Dinners/Create"* URL within the browser it will render UI like below from our Create action implementation:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image14.png)

#### <a name="implementing-the-http-post-create-action-method"></a><span data-ttu-id="9952f-285">HTTP POST uygulama oluşturma eylemini yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-285">Implementing the HTTP-POST Create Action Method</span></span>

<span data-ttu-id="9952f-286">Biz uygulanan bizim oluşturma eylem yöntemini HTTP GET sürümüne sahip.</span><span class="sxs-lookup"><span data-stu-id="9952f-286">We have the HTTP-GET version of our Create action method implemented.</span></span> <span data-ttu-id="9952f-287">Bir kullanıcı "Kaydet" düğmesine tıkladığında, form post gerçekleştirir */azalma/oluşturma* URL, HTML sorgulayan ve &lt;giriş&gt; form değerleri HTTP POST edimi kullanılarak.</span><span class="sxs-lookup"><span data-stu-id="9952f-287">When a user clicks the "Save" button it performs a form post to the */Dinners/Create* URL, and submits the HTML &lt;input&gt; form values using the HTTP POST verb.</span></span>

<span data-ttu-id="9952f-288">Şimdi HTTP POST davranışını şimdi uygulamak bizim eylem yöntemi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="9952f-288">Let's now implement the HTTP POST behavior of our create action method.</span></span> <span data-ttu-id="9952f-289">HTTP POST senaryoları işleme gösteren bir "AcceptVerbs" özniteliği olan bizim DinnersController için aşırı yüklenmiş "Oluştur" eylem yöntemine ekleyerek başlamak:</span><span class="sxs-lookup"><span data-stu-id="9952f-289">We'll begin by adding an overloaded "Create" action method to our DinnersController that has an "AcceptVerbs" attribute on it that indicates it handles HTTP POST scenarios:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample25.cs)]

<span data-ttu-id="9952f-290">Çeşitli şekillerde gönderilen formu parametreleri "Oluştur" bizim etkin HTTP POST yöntemi içinde erişebilirsiniz vardır.</span><span class="sxs-lookup"><span data-stu-id="9952f-290">There are a variety of ways we can access the posted form parameters within our HTTP-POST enabled "Create" method.</span></span>

<span data-ttu-id="9952f-291">Bir yaklaşım ise yeni bir Yemeği nesnesi oluşturun ve ardından *UpdateModel()* (Düzenle eylemiyle yaptığımız gibi) yardımcı yöntem gönderilen formu değerlerle doldurmak için.</span><span class="sxs-lookup"><span data-stu-id="9952f-291">One approach is to create a new Dinner object and then use the *UpdateModel()* helper method (like we did with the Edit action) to populate it with the posted form values.</span></span> <span data-ttu-id="9952f-292">Biz sonra bizim DinnerRepository eklemek, veritabanına kalıcı ve aşağıdaki kodu kullanarak yeni oluşturulan Yemeği göstermek için bizim Ayrıntılar eylemi kullanıcıyı yönlendirir:</span><span class="sxs-lookup"><span data-stu-id="9952f-292">We can then add it to our DinnerRepository, persist it to the database, and redirect the user to our Details action to show the newly created Dinner using the code below:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample26.cs)]

<span data-ttu-id="9952f-293">Alternatif olarak, size bir yaklaşım Yemeği nesnesi bir yöntem parametresi olarak ele bizim Create() eylem yöntemine sahip olduğumuz kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-293">Alternatively, we can use an approach where we have our Create() action method take a Dinner object as a method parameter.</span></span> <span data-ttu-id="9952f-294">ASP.NET MVC sonra otomatik olarak bize için yeni bir Yemeği nesne örneği, form girişleri kullanarak özelliklerini doldurmak ve bizim eylem yöntemine geçirin:</span><span class="sxs-lookup"><span data-stu-id="9952f-294">ASP.NET MVC will then automatically instantiate a new Dinner object for us, populate its properties using the form inputs, and pass it to our action method:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample27.cs)]

<span data-ttu-id="9952f-295">Yukarıdaki bizim eylem yöntemi Yemeği nesne başarıyla form post değerlerle ModelState.IsValid özelliğini kontrol ederek doldurulmuş olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="9952f-295">Our action method above verifies that the Dinner object has been successfully populated with the form post values by checking the ModelState.IsValid property.</span></span> <span data-ttu-id="9952f-296">Bu giriş dönüştürme sorunları varsa false döndürür (örneğin: "BOGUS" dizesi EventDate özelliği için), ve herhangi bir sorun varsa, eylem yöntemi form görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9952f-296">This will return false if there are input conversion issues (for example: a string of "BOGUS" for the EventDate property), and if there are any issues our action method redisplays the form.</span></span>

<span data-ttu-id="9952f-297">Giriş değeri geçerliyse, eylem yöntemine ekleyin ve yeni Yemeği DinnerRepository kaydetmek çalışır.</span><span class="sxs-lookup"><span data-stu-id="9952f-297">If the input values are valid, then the action method attempts to add and save the new Dinner to the DinnerRepository.</span></span> <span data-ttu-id="9952f-298">Try/catch bloğu içinde bu iş sarmalar ve (hangi bir özel durum yükseltmek dinnerRepository.Save() yöntemi neden olur) herhangi bir iş kuralı ihlal varsa biçiminde görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9952f-298">It wraps this work within a try/catch block and redisplays the form if there are any business rule violations (which would cause the dinnerRepository.Save() method to raise an exception).</span></span>

<span data-ttu-id="9952f-299">Eylem işleme bu hatayı görmek için biz isteyebilir */azalma/oluşturma* URL ve yeni Yemeği ayrıntılarını doldururken.</span><span class="sxs-lookup"><span data-stu-id="9952f-299">To see this error handling behavior in action, we can request the */Dinners/Create* URL and fill out details about a new Dinner.</span></span> <span data-ttu-id="9952f-300">Yanlış giriş veya değerleri aşağıdaki gibi vurgulanmış hatalarla görünürler form oluştur neden olur:</span><span class="sxs-lookup"><span data-stu-id="9952f-300">Incorrect input or values will cause the create form to be redisplayed with the errors highlighted like below:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image15.png)

<span data-ttu-id="9952f-301">Create formumuzun tam aynı doğrulama hem de iş kurallarını Düzenle formumuzun olarak nasıl uygularken dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="9952f-301">Notice how our Create form is honoring the exact same validation and business rules as our Edit form.</span></span> <span data-ttu-id="9952f-302">Bizim doğrulama hem de iş kurallarını modelde tanımlanan ve kullanıcı Arabirimi veya uygulamanın denetleyici içinde ekli değil olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="9952f-302">This is because our validation and business rules were defined in the model, and were not embedded within the UI or controller of the application.</span></span> <span data-ttu-id="9952f-303">Bu size daha sonra değişiklik/bizim doğrulama gelişmesi veya tek bir iş kuralları yerleştirin ve bunları uygulama genelinde geçerli anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="9952f-303">This means we can later change/evolve our validation or business rules in a single place and have them apply throughout our application.</span></span> <span data-ttu-id="9952f-304">Biz bizim düzenleme ya da içinde herhangi bir kod değiştirebilir veya herhangi bir yeni kurallar veya var olanları değişiklikler otomatik olarak kabul etmeniz eylem yöntemleri oluşturabilirsiniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="9952f-304">We will not have to change any code within either our Edit or Create action methods to automatically honor any new rules or modifications to existing ones.</span></span>

<span data-ttu-id="9952f-305">Giriş değerleri düzeltin ve "Kaydet" düğmesini tıklatın, yeniden DinnerRepository bizim ekleme başarılı olur ve yeni Yemeği veritabanına eklenir.</span><span class="sxs-lookup"><span data-stu-id="9952f-305">When we fix the input values and click the "Save" button again, our addition to the DinnerRepository will succeed, and a new Dinner will be added to the database.</span></span> <span data-ttu-id="9952f-306">Biz sonra yönlendirilecek */Dinners/Ayrıntılar / [kimlik]* burada biz sunulabilir yeni oluşturulan Yemeği hakkında ayrıntılarla URL –:</span><span class="sxs-lookup"><span data-stu-id="9952f-306">We will then be redirected to the */Dinners/Details/[id]* URL – where we will be presented with details about the newly created Dinner:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image16.png)

### <a name="delete-support"></a><span data-ttu-id="9952f-307">Sil desteği</span><span class="sxs-lookup"><span data-stu-id="9952f-307">Delete Support</span></span>

<span data-ttu-id="9952f-308">Şimdi "Sil" Destek bizim DinnersController ekleyelim.</span><span class="sxs-lookup"><span data-stu-id="9952f-308">Let's now add "Delete" support to our DinnersController.</span></span>

#### <a name="the-http-get-delete-action-method"></a><span data-ttu-id="9952f-309">HTTP GET silme eylem yöntemi</span><span class="sxs-lookup"><span data-stu-id="9952f-309">The HTTP-GET Delete Action Method</span></span>

<span data-ttu-id="9952f-310">Biz bizim delete eylem yöntemini HTTP GET davranışını uygulayarak başlarsınız.</span><span class="sxs-lookup"><span data-stu-id="9952f-310">We'll begin by implementing the HTTP GET behavior of our delete action method.</span></span> <span data-ttu-id="9952f-311">Birisi ziyaret ettiğinde bu yöntem çağrılmadığı */Dinners/silme / [kimlik]* URL.</span><span class="sxs-lookup"><span data-stu-id="9952f-311">This method will get called when someone visits the */Dinners/Delete/[id]* URL.</span></span> <span data-ttu-id="9952f-312">Uygulama aşağıdadır:</span><span class="sxs-lookup"><span data-stu-id="9952f-312">Below is the implementation:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample28.cs)]

<span data-ttu-id="9952f-313">Eylem yönteminin silinecek Yemeği almaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="9952f-313">The action method attempts to retrieve the Dinner to be deleted.</span></span> <span data-ttu-id="9952f-314">Yemeği işler varsa bir görünüm Yemeği nesnesine bağlı.</span><span class="sxs-lookup"><span data-stu-id="9952f-314">If the Dinner exists it renders a View based on the Dinner object.</span></span> <span data-ttu-id="9952f-315">Nesne yok (veya zaten silinmiş varsa), "Bulunamadı" işleyen görünüm döndürür bizim "Ayrıntılar" eylem yöntemi için daha önce oluşturduğumuz şablon görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="9952f-315">If the object doesn't exist (or has already been deleted) it returns a View that renders the "NotFound" view template we created earlier for our "Details" action method.</span></span>

<span data-ttu-id="9952f-316">"Sil" görünümü şablon silme eylem yöntemi içinde sağ tıklayıp "Görünümü Ekle" context menü komutunu seçerek oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-316">We can create the "Delete" view template by right-clicking within the Delete action method and selecting the "Add View" context menu command.</span></span> <span data-ttu-id="9952f-317">"Görünümü Ekle" iletişim biz biz Yemeği nesne bizim görünüm şablonuna kendi modelini olarak geçirme ve boş bir şablon oluşturmak için seçtiğiniz belirtmek:</span><span class="sxs-lookup"><span data-stu-id="9952f-317">Within the "Add View" dialog we'll indicate that we are passing a Dinner object to our view template as its model, and choose to create an empty template:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image17.png)

<span data-ttu-id="9952f-318">Biz "Ekle" düğmesini tıklatın, Visual Studio yeni bir "Delete.aspx" görünümü şablon dosyası bize bizim "\Views\Dinners" dizininde ekler.</span><span class="sxs-lookup"><span data-stu-id="9952f-318">When we click the "Add" button, Visual Studio will add a new "Delete.aspx" view template file for us within our "\Views\Dinners" directory.</span></span> <span data-ttu-id="9952f-319">Bazı HTML ve kod silme onayı ekranı uygulamak için şablon ekleyeceğiz aşağıdaki gibi:</span><span class="sxs-lookup"><span data-stu-id="9952f-319">We'll add some HTML and code to the template to implement a delete confirmation screen like below:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample29.aspx)]

<span data-ttu-id="9952f-320">Yukarıdaki kod başlığı silinecek Yemeği ve çıkışları görüntüler bir &lt;form&gt; son kullanıcı içindeki "Sil" düğmesini tıklarsa /Dinners/silme / [kimlik] URL bir POST yapan öğesi.</span><span class="sxs-lookup"><span data-stu-id="9952f-320">The code above displays the title of the Dinner to be deleted, and outputs a &lt;form&gt; element that does a POST to the /Dinners/Delete/[id] URL if the end-user clicks the "Delete" button within it.</span></span>

<span data-ttu-id="9952f-321">Biz çalıştırdığınızda, uygulama ve erişim *"/ azalma/silme / [kimlik]"* geçerli Yemeği URL'sini nesne UI gibi aşağıda işler:</span><span class="sxs-lookup"><span data-stu-id="9952f-321">When we run our application and access the *"/Dinners/Delete/[id]"* URL for a valid Dinner object it renders UI like below:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image18.png)

| <span data-ttu-id="9952f-322">**Yan konu: Neden biz bir POST yaptıklarını?**</span><span class="sxs-lookup"><span data-stu-id="9952f-322">**Side Topic: Why are we doing a POST?**</span></span> |
| --- |
| <span data-ttu-id="9952f-323">İsteyebilir – neden biz Git oluşturma çaba bir &lt;form&gt; bizim silme onayı ekranındaki?</span><span class="sxs-lookup"><span data-stu-id="9952f-323">You might ask – why did we go through the effort of creating a &lt;form&gt; within our Delete confirmation screen?</span></span> <span data-ttu-id="9952f-324">Neden gerçek silme işlemi gerçekleştiren bir eylem yöntemine bağlamak için yalnızca standart bir köprü kullanabilir?</span><span class="sxs-lookup"><span data-stu-id="9952f-324">Why not just use a standard hyperlink to link to an action method that does the actual delete operation?</span></span> <span data-ttu-id="9952f-325">Web gezginleri karşı koruma ve arama motorları Url'lerimizi bulmak ve yanlışlıkla veri bağlantıları izlediğinizde silinecek neden dikkat etmek istiyoruz çünkü nedenidir.</span><span class="sxs-lookup"><span data-stu-id="9952f-325">The reason is because we want to be careful to guard against web-crawlers and search engines discovering our URLs and inadvertently causing data to be deleted when they follow the links.</span></span> <span data-ttu-id="9952f-326">HTTP GET göre URL'leri "erişim/gezinme için güvenli" değerlendirilir ve HTTP POST olanları izlemeyecek şekilde olması.</span><span class="sxs-lookup"><span data-stu-id="9952f-326">HTTP-GET based URLs are considered "safe" for them to access/crawl, and they are supposed to not follow HTTP-POST ones.</span></span> <span data-ttu-id="9952f-327">Her zaman bozucu koymadan ya da veri değiştirme işlemleri HTTP POST isteklerini arkasında emin iyi bir kuraldır.</span><span class="sxs-lookup"><span data-stu-id="9952f-327">A good rule is to make sure you always put destructive or data modifying operations behind HTTP-POST requests.</span></span> |

#### <a name="implementing-the-http-post-delete-action-method"></a><span data-ttu-id="9952f-328">HTTP POST silme eylem yöntemi uygulama</span><span class="sxs-lookup"><span data-stu-id="9952f-328">Implementing the HTTP-POST Delete Action Method</span></span>

<span data-ttu-id="9952f-329">Biz şimdi bir delete onay ekranı görüntüler ın uygulanan bizim Delete eylem yöntemini HTTP GET sürümüne sahip.</span><span class="sxs-lookup"><span data-stu-id="9952f-329">We now have the HTTP-GET version of our Delete action method implemented which displays a delete confirmation screen.</span></span> <span data-ttu-id="9952f-330">Bir son kullanıcı "Sil" düğmesini tıklattığında form post gerçekleştirecek */Dinners/Yemeği / [kimlik]* URL.</span><span class="sxs-lookup"><span data-stu-id="9952f-330">When an end user clicks the "Delete" button it will perform a form post to the */Dinners/Dinner/[id]* URL.</span></span>

<span data-ttu-id="9952f-331">Şimdi artık HTTP "POST" davranışını aşağıdaki kodu kullanarak silme eylem yöntemini uygulayın:</span><span class="sxs-lookup"><span data-stu-id="9952f-331">Let's now implement the HTTP "POST" behavior of the delete action method using the code below:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample30.cs)]

<span data-ttu-id="9952f-332">Bizim Delete eylem yöntemini HTTP POST sürümü silinecek Yemeği nesne almaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="9952f-332">The HTTP-POST version of our Delete action method attempts to retrieve the dinner object to delete.</span></span> <span data-ttu-id="9952f-333">(Öğesi zaten silindiğinden onun için), bulamazsa, bizim "Bulunamadı" şablonu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9952f-333">If it can't find it (because it has already been deleted) it renders our "NotFound" template.</span></span> <span data-ttu-id="9952f-334">Yemeği bulursa, onu DinnerRepository siler.</span><span class="sxs-lookup"><span data-stu-id="9952f-334">If it finds the Dinner, it deletes it from the DinnerRepository.</span></span> <span data-ttu-id="9952f-335">Ardından, bir "Silinmiş" şablonu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9952f-335">It then renders a "Deleted" template.</span></span>

<span data-ttu-id="9952f-336">"Silinmiş" şablonu uygulamak için biz eylem yöntemine sağ tıklatın ve "Görünümü Ekle" bağlam menüsünü seçin.</span><span class="sxs-lookup"><span data-stu-id="9952f-336">To implement the "Deleted" template we'll right-click in the action method and choose the "Add View" context menu.</span></span> <span data-ttu-id="9952f-337">Biz bizim görünümü "Silinmiş" olarak adlandırın ve boş bir şablonu (ve kesin türü belirtilmiş model nesnesi geçmeyecek) sahip.</span><span class="sxs-lookup"><span data-stu-id="9952f-337">We'll name our view "Deleted" and have it be an empty template (and not take a strongly-typed model object).</span></span> <span data-ttu-id="9952f-338">Ardından bazı HTML içeriği için ekleyeceğiz:</span><span class="sxs-lookup"><span data-stu-id="9952f-338">We'll then add some HTML content to it:</span></span>

[!code-aspx[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample31.aspx)]

<span data-ttu-id="9952f-339">Ve şimdi biz çalıştırdığınızda, uygulama ve erişim *"/ azalma/silme / [kimlik]"* aşağıdaki gibi bizim Yemeği sokacak nesnesini silme onayı geçerli bir Yemeği URL'sini ekranında:</span><span class="sxs-lookup"><span data-stu-id="9952f-339">And now when we run our application and access the *"/Dinners/Delete/[id]"* URL for a valid Dinner object it will render our Dinner delete confirmation screen like below:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image19.png)

<span data-ttu-id="9952f-340">Biz "Sil" düğmesini tıklatın, bir HTTP POST işlemini gerçekleştirecek */Dinners/silme / [kimlik]* hangi Yemeği bizim veritabanından silmek ve bizim "Silinmiş" görünümü şablon görünen URL'si:</span><span class="sxs-lookup"><span data-stu-id="9952f-340">When we click the "Delete" button it will perform an HTTP-POST to the */Dinners/Delete/[id]* URL, which will delete the Dinner from our database, and display our "Deleted" view template:</span></span>

![](provide-crud-create-read-update-delete-data-form-entry-support/_static/image20.png)

### <a name="model-binding-security"></a><span data-ttu-id="9952f-341">Model bağlama güvenliği</span><span class="sxs-lookup"><span data-stu-id="9952f-341">Model Binding Security</span></span>

<span data-ttu-id="9952f-342">Biz, yerleşik ASP.NET MVC model bağlama özelliklerini kullanmak için iki farklı şekilde ele.</span><span class="sxs-lookup"><span data-stu-id="9952f-342">We've discussed two different ways to use the built-in model-binding features of ASP.NET MVC.</span></span> <span data-ttu-id="9952f-343">Önce var olan bir model nesne üzerindeki özellikleri güncelleştirmek için UpdateModel() yöntemini kullanarak ve ikinci kullanarak ASP.NET MVC'ın desteği eylem yöntemi parametrelerine model nesneleri geçirme.</span><span class="sxs-lookup"><span data-stu-id="9952f-343">The first using the UpdateModel() method to update properties on an existing model object, and the second using ASP.NET MVC's support for passing model objects in as action method parameters.</span></span> <span data-ttu-id="9952f-344">Bu teknikler her ikisini birden çok güçlü ve son derece kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="9952f-344">Both of these techniques are very powerful and extremely useful.</span></span>

<span data-ttu-id="9952f-345">Bu güç de onunla getirir sorumluluğu.</span><span class="sxs-lookup"><span data-stu-id="9952f-345">This power also brings with it responsibility.</span></span> <span data-ttu-id="9952f-346">Bu ayrıca nesneler için form girişi bağlamayı true olduğunda ve herhangi bir kullanıcı giriş kabul ederken her zaman güvenlik hakkında paranoid olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="9952f-346">It is important to always be paranoid about security when accepting any user input, and this is also true when binding objects to form input.</span></span> <span data-ttu-id="9952f-347">İçin dikkatli olmalıdır her zaman HTML kodlama HTML ve JavaScript ekleme saldırıları önlemek ve SQL ekleme saldırıları dikkatli olun hiçbir kullanıcı tarafından girilen değerleri (Not: Bu önlemek için parametreleri otomatik olarak kodlar uygulamamız için LINQ-SQL kullanıyoruz tür saldırılar).</span><span class="sxs-lookup"><span data-stu-id="9952f-347">You should be careful to always HTML encode any user-entered values to avoid HTML and JavaScript injection attacks, and be careful of SQL injection attacks (note: we are using LINQ to SQL for our application, which automatically encodes parameters to prevent these types of attacks).</span></span> <span data-ttu-id="9952f-348">Hiçbir zaman tek başına istemci tarafı doğrulama üzerinde kullanır ve her zaman bilgisayar korsanlarının sahte değerleri gönderilmeye çalışılırken karşı koruma sağlamak için sunucu tarafında doğrulama uygulamadığınız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9952f-348">You should never rely on client-side validation alone, and always employ server-side validation to guard against hackers attempting to send you bogus values.</span></span>

<span data-ttu-id="9952f-349">ASP.NET MVC bağlama özelliklerini kullanırken düşündüğünüzden emin olmak için bir ek güvenlik bağlama nesnelerinin kapsamını öğesidir.</span><span class="sxs-lookup"><span data-stu-id="9952f-349">One additional security item to make sure you think about when using the binding features of ASP.NET MVC is the scope of the objects you are binding.</span></span> <span data-ttu-id="9952f-350">Özellikle, bağlı olabilir ve yalnızca gerçekten güncelleştirilmesi için bir son kullanıcı tarafından güncelleştirilebilir olması gereken özelliklere izin ver emin olmak için izin verme özellikler güvenlik etkilerini anladığınızdan emin olmak istersiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-350">Specifically, you want to make sure you understand the security implications of the properties you are allowing to be bound, and make sure you only allow those properties that really should be updatable by an end-user to be updated.</span></span>

<span data-ttu-id="9952f-351">Varsayılan olarak, UpdateModel() yöntemi gelen form parametre değerleriyle eşleşen tüm model nesnesinin özellikleri güncelleştirme dener.</span><span class="sxs-lookup"><span data-stu-id="9952f-351">By default, the UpdateModel() method will attempt to update all properties on the model object that match incoming form parameter values.</span></span> <span data-ttu-id="9952f-352">Benzer şekilde, eylem yöntemi parametrelerine da varsayılan olarak geçirilen nesneleri özellikleri form parametreleri aracılığıyla ayarlanan tümüne sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="9952f-352">Likewise, objects passed as action method parameters also by default can have all of their properties set via form parameters.</span></span>

#### <a name="locking-down-binding-on-a-per-usage-basis"></a><span data-ttu-id="9952f-353">Kullanım başına temelinde bağlama kilitleme</span><span class="sxs-lookup"><span data-stu-id="9952f-353">Locking down binding on a per-usage basis</span></span>

<span data-ttu-id="9952f-354">Kullanım başına temelinde bağlama ilkesi aşağı sağlayan bir açık "Ekle" güncelleştirilebilir özelliklerini tarafından listesi kilitleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-354">You can lock down the binding policy on a per-usage basis by providing an explicit "include list" of properties that can be updated.</span></span> <span data-ttu-id="9952f-355">Bu, aşağıdaki gibi UpdateModel() yöntemine bir ek dize dizi parametresini geçirerek yapılabilir:</span><span class="sxs-lookup"><span data-stu-id="9952f-355">This can be done by passing an extra string array parameter to the UpdateModel() method like below:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample32.cs)]

<span data-ttu-id="9952f-356">Eylem yöntemi parametrelerine da geçirilen nesneleri bir "dahil etme listesi" özelliklere gibi aşağıda belirtilmesine izin verir [Bind] özniteliği destekler:</span><span class="sxs-lookup"><span data-stu-id="9952f-356">Objects passed as action method parameters also support a [Bind] attribute that enables an "include list" of allowed properties to be specified like below:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample33.cs)]

#### <a name="locking-down-binding-on-a-type-basis"></a><span data-ttu-id="9952f-357">Bağlama türü temelinde kilitleme</span><span class="sxs-lookup"><span data-stu-id="9952f-357">Locking down binding on a type basis</span></span>

<span data-ttu-id="9952f-358">Tür başına temelinde bağlama kuralları aşağı kilitleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-358">You can also lock down the binding rules on a per-type basis.</span></span> <span data-ttu-id="9952f-359">Bu, bağlama kuralları kez belirtmek ve bunları tüm denetleyiciler ve eylem yöntemlerine (UpdateModel ve eylem yöntemi parametresini senaryoları dahil) tüm senaryolarda geçerli olması sağlar.</span><span class="sxs-lookup"><span data-stu-id="9952f-359">This allows you to specify the binding rules once, and then have them apply in all scenarios (including both UpdateModel and action method parameter scenarios) across all controllers and action methods.</span></span>

<span data-ttu-id="9952f-360">Tür başına bağlama kuralları [Bind] özniteliği bir tür üzerine ekleyerek veya (burada türü ait olmayan senaryolar için yararlıdır) uygulamasının Global.asax dosyasındaki kaydetme özelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-360">You can customize the per-type binding rules by adding a [Bind] attribute onto a type, or by registering it within the Global.asax file of the application (useful for scenarios where you don't own the type).</span></span> <span data-ttu-id="9952f-361">Dışlama özelliklerini hangi özellikleri denetlemek için belirli bir sınıf veya arabirim için bağlanabilir ve ardından BIND özniteliğin INCLUDE kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9952f-361">You can then use the Bind attribute's Include and Exclude properties to control which properties are bindable for the particular class or interface.</span></span>

<span data-ttu-id="9952f-362">Biz NerdDinner uygulamamız Yemeği sınıfı için bu tekniği kullanın ve bağlanabilirse özelliklerin listesi için aşağıdaki kısıtlayan ona [Bind] özniteliği ekleyin:</span><span class="sxs-lookup"><span data-stu-id="9952f-362">We'll use this technique for the Dinner class in our NerdDinner application, and add a [Bind] attribute to it that restricts the list of bindable properties to the following:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample34.cs)]

<span data-ttu-id="9952f-363">Biz bağlama aracılığıyla yönetilebilmesini LCV'ler koleksiyonu sağlanmıyor dikkat edin veya biz bağlama aracılığıyla ayarlanacak DinnerID veya HostedBy özellikler sağlamaktadır.</span><span class="sxs-lookup"><span data-stu-id="9952f-363">Notice we are not allowing the RSVPs collection to be manipulated via binding, nor are we allowing the DinnerID or HostedBy properties to be set via binding.</span></span> <span data-ttu-id="9952f-364">Güvenlik nedenleriyle biz bunun yerine yalnızca bizim eylem yöntemleri içinde açık kod kullanarak bu belirli özelliklerini yönetme.</span><span class="sxs-lookup"><span data-stu-id="9952f-364">For security reasons we'll instead only manipulate these particular properties using explicit code within our action methods.</span></span>

### <a name="crud-wrap-up"></a><span data-ttu-id="9952f-365">CRUD Wrap-Up</span><span class="sxs-lookup"><span data-stu-id="9952f-365">CRUD Wrap-Up</span></span>

<span data-ttu-id="9952f-366">ASP.NET MVC birkaç senaryo nakil form uygulama ile yardımcı olan yerleşik özellikler içerir.</span><span class="sxs-lookup"><span data-stu-id="9952f-366">ASP.NET MVC includes a number of built-in features that help with implementing form posting scenarios.</span></span> <span data-ttu-id="9952f-367">Bizim DinnerRepository üstünde CRUD UI desteği sağlamak için bu özellikleri çeşitli kullandık.</span><span class="sxs-lookup"><span data-stu-id="9952f-367">We used a variety of these features to provide CRUD UI support on top of our DinnerRepository.</span></span>

<span data-ttu-id="9952f-368">Uygulamamız uygulamak için model odaklı bir yaklaşım kullanıyoruz.</span><span class="sxs-lookup"><span data-stu-id="9952f-368">We are using a model-focused approach to implement our application.</span></span> <span data-ttu-id="9952f-369">Bu bizim doğrulama ve iş kuralı mantığı bizim modeli katmanı içinde– ve bizim denetleyicileri veya görünümler içinde değil tanımlanır anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="9952f-369">This means that all our validation and business rule logic is defined within our model layer – and not within our controllers or views.</span></span> <span data-ttu-id="9952f-370">Bizim denetleyici sınıfı ne görünüm şablonlarımız bizim Yemeği model sınıfı tarafından zorlanan belirli iş kuralları hakkında hiçbir şey öğrenin.</span><span class="sxs-lookup"><span data-stu-id="9952f-370">Neither our Controller class nor our View templates know anything about the specific business rules being enforced by our Dinner model class.</span></span>

<span data-ttu-id="9952f-371">Bu uygulama mimarimizin temiz tutmak ve test kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="9952f-371">This will keep our application architecture clean and make it easier to test.</span></span> <span data-ttu-id="9952f-372">Ek iş kuralları bizim modeli katmanı gelecekte ekleyebiliriz ve *kod değişikliklerini yapmak zorunda değil* bizim denetleyicisi ya da sunumların görünümünde desteklenmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="9952f-372">We can add additional business rules to our model layer in the future and *not have to make any code changes* to our Controller or View in order for them to be supported.</span></span> <span data-ttu-id="9952f-373">Bu bize gelişmesi ve uygulamamızı gelecekte değiştirmek için çevikliğinin büyük bir bölümünü ile sağlamak için geçiyor.</span><span class="sxs-lookup"><span data-stu-id="9952f-373">This is going to provide us with a great deal of agility to evolve and change our application in the future.</span></span>

<span data-ttu-id="9952f-374">Bizim DinnersController şimdi Yemeği listeleri/ayrıntılar sağlar yanı sıra oluşturma, düzenleme ve Sil desteği.</span><span class="sxs-lookup"><span data-stu-id="9952f-374">Our DinnersController now enables Dinner listings/details, as well as create, edit and delete support.</span></span> <span data-ttu-id="9952f-375">Sınıfı için tam kod aşağıda bulunabilir:</span><span class="sxs-lookup"><span data-stu-id="9952f-375">The complete code for the class can be found below:</span></span>

[!code-csharp[Main](provide-crud-create-read-update-delete-data-form-entry-support/samples/sample35.cs)]

### <a name="next-step"></a><span data-ttu-id="9952f-376">Sonraki adım</span><span class="sxs-lookup"><span data-stu-id="9952f-376">Next Step</span></span>

<span data-ttu-id="9952f-377">Bizim DinnersController sınıf içinde uygulama temel CRUD (Oluştur, okuma, güncelleştirme ve silme) desteği artık sunuyoruz.</span><span class="sxs-lookup"><span data-stu-id="9952f-377">We now have basic CRUD (Create, Read, Update and Delete) support implement within our DinnersController class.</span></span>

<span data-ttu-id="9952f-378">Şimdi nasıl biz ViewData ve ViewModel sınıfları daha zengin UI bizim formlarında etkinleştirmek için kullanabilirsiniz bakalım.</span><span class="sxs-lookup"><span data-stu-id="9952f-378">Let's now look at how we can use ViewData and ViewModel classes to enable even richer UI on our forms.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9952f-379">[Önceki](use-controllers-and-views-to-implement-a-listingdetails-ui.md)
> [sonraki](use-viewdata-and-implement-viewmodel-classes.md)</span><span class="sxs-lookup"><span data-stu-id="9952f-379">[Previous](use-controllers-and-views-to-implement-a-listingdetails-ui.md)
[Next](use-viewdata-and-implement-viewmodel-classes.md)</span></span>

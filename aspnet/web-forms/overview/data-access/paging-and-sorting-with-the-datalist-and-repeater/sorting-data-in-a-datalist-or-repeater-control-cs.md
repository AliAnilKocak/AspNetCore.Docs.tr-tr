---
uid: web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/sorting-data-in-a-datalist-or-repeater-control-cs
title: Bir DataList veya yineleyici denetimi (C#) verileri sıralama | Microsoft Docs
author: rick-anderson
description: Bu öğreticide biz bir DataList veya yineleyici verileri oluşturmak nasıl yanı sıra nasıl DataList ve yineleyici desteği sıralama dahil inceleyeceğiz...
ms.author: aspnetcontent
manager: wpickett
ms.date: 11/13/2006
ms.topic: article
ms.assetid: f52c302a-1b7c-46fe-8a13-8412c95cbf6d
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/sorting-data-in-a-datalist-or-repeater-control-cs
msc.type: authoredcontent
ms.openlocfilehash: 2f31425a46408d6d544c6cdf2ce169b5547a2dd8
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
---
<a name="sorting-data-in-a-datalist-or-repeater-control-c"></a><span data-ttu-id="abe43-103">Bir DataList veya yineleyici denetimi (C#) verileri sıralama</span><span class="sxs-lookup"><span data-stu-id="abe43-103">Sorting Data in a DataList or Repeater Control (C#)</span></span>
====================
<span data-ttu-id="abe43-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="abe43-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="abe43-105">[Örnek uygulamayı indirin](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_45_CS.exe) veya [PDF indirin](sorting-data-in-a-datalist-or-repeater-control-cs/_static/datatutorial45cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="abe43-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_45_CS.exe) or [Download PDF](sorting-data-in-a-datalist-or-repeater-control-cs/_static/datatutorial45cs1.pdf)</span></span>

> <span data-ttu-id="abe43-106">Bu öğreticide biz DataList veya verileri disk belleği ve sıralanmış yineleyici oluşturmak nasıl yanı sıra nasıl DataList ve yineleyici desteği sıralama dahil inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="abe43-106">In this tutorial we'll examine how to include sorting support in the DataList and Repeater, as well as how to construct a DataList or Repeater whose data can be paged and sorted.</span></span>


## <a name="introduction"></a><span data-ttu-id="abe43-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="abe43-107">Introduction</span></span>

<span data-ttu-id="abe43-108">İçinde [önceki öğretici](paging-report-data-in-a-datalist-or-repeater-control-cs.md) biz DataList için sayfalama desteği ekleme inceledi.</span><span class="sxs-lookup"><span data-stu-id="abe43-108">In the [previous tutorial](paging-report-data-in-a-datalist-or-repeater-control-cs.md) we examined how to add paging support to a DataList.</span></span> <span data-ttu-id="abe43-109">Yeni bir yöntemi oluşturduğumuz `ProductsBLL` sınıfı (`GetProductsAsPagedDataSource`) döndürülen bir `PagedDataSource` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="abe43-109">We created a new method in the `ProductsBLL` class (`GetProductsAsPagedDataSource`) that returned a `PagedDataSource` object.</span></span> <span data-ttu-id="abe43-110">Ne zaman bir DataList veya yineleyici bağlı, DataList veya yineleyici yalnızca istenen sayfasında veri görüntüler.</span><span class="sxs-lookup"><span data-stu-id="abe43-110">When bound to a DataList or Repeater, the DataList or Repeater would display just the requested page of data.</span></span> <span data-ttu-id="abe43-111">Bu teknik ne dahili olarak GridView, DetailsView ve FormView denetimleri tarafından yerleşik varsayılan disk belleği işlevleri sağlamak için kullanılan benzer.</span><span class="sxs-lookup"><span data-stu-id="abe43-111">This technique is similar to what is used internally by the GridView, DetailsView, and FormView controls to provide their built-in default paging functionality.</span></span>

<span data-ttu-id="abe43-112">Sayfalama desteği sunan yanı sıra GridView destek sıralama kutu dışı de içerir.</span><span class="sxs-lookup"><span data-stu-id="abe43-112">In addition to offering paging support, the GridView also includes out of the box sorting support.</span></span> <span data-ttu-id="abe43-113">DataList ne yineleyici yerleşik bir sıralama işlevi sağlar; Ancak, sıralama özellikleri kodunun bir bit eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="abe43-113">Neither the DataList nor Repeater provides built-in sorting functionality; however, sorting features can be added with a bit of code.</span></span> <span data-ttu-id="abe43-114">Bu öğreticide biz DataList veya verileri disk belleği ve sıralanmış yineleyici oluşturmak nasıl yanı sıra nasıl DataList ve yineleyici desteği sıralama dahil inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="abe43-114">In this tutorial we'll examine how to include sorting support in the DataList and Repeater, as well as how to construct a DataList or Repeater whose data can be paged and sorted.</span></span>

## <a name="a-review-of-sorting"></a><span data-ttu-id="abe43-115">Sıralama bir gözden geçirme</span><span class="sxs-lookup"><span data-stu-id="abe43-115">A Review of Sorting</span></span>

<span data-ttu-id="abe43-116">İçinde gördüğümüz gibi [disk belleği ve rapor verilerini sıralama](../paging-and-sorting/paging-and-sorting-report-data-cs.md) öğretici, GridView denetiminin destek sıralama kutu dışı sağlar.</span><span class="sxs-lookup"><span data-stu-id="abe43-116">As we saw in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-cs.md) tutorial, the GridView control provides out of the box sorting support.</span></span> <span data-ttu-id="abe43-117">Her bir GridView alan bir ilişkili olabilir `SortExpression`, verileri sıralamak veri alan gösterir.</span><span class="sxs-lookup"><span data-stu-id="abe43-117">Each GridView field can have an associated `SortExpression`, which indicates the data field by which to sort the data.</span></span> <span data-ttu-id="abe43-118">Zaman GridView s `AllowSorting` özelliği ayarlanmış `true`, sahip her bir GridView alan bir `SortExpression` özellik değerine sahip üstbilgisinde LinkButton çizilir.</span><span class="sxs-lookup"><span data-stu-id="abe43-118">When the GridView s `AllowSorting` property is set to `true`, each GridView field that has a `SortExpression` property value has its header rendered as a LinkButton.</span></span> <span data-ttu-id="abe43-119">Bir kullanıcı belirli bir GridView alan s üst bilgisi tıkladığında, geri gönderimin oluştuğu ve veriler s tıklatılan alanı göre sıralanır `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="abe43-119">When a user clicks a particular GridView field s header, a postback occurs and the data is sorted according to the clicked field s `SortExpression`.</span></span>

<span data-ttu-id="abe43-120">GridView denetiminin bir `SortExpression` depolayan özelliği de `SortExpression` GridView alanın veri değerlerine göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-120">The GridView control has a `SortExpression` property as well, which stores the `SortExpression` of the GridView field the data is sorted by.</span></span> <span data-ttu-id="abe43-121">Ayrıca, bir `SortDirection` özelliği, veri artan veya azalan (iki kez art arda, sıralama düzeni belirli GridView s alanı üstbilgi bağlantı yükseğe bir kullanıcı tıklama varsa) sıralanacak olup olmadığını belirtir.</span><span class="sxs-lookup"><span data-stu-id="abe43-121">Additionally, a `SortDirection` property indicates whether the data is to be sorted in ascending or descending order (if a user clicks a particular GridView field s header link twice in succession, the sort order is toggled).</span></span>

<span data-ttu-id="abe43-122">GridView, veri kaynağı denetimine bağlı olduğunda kapalı aktarır kendi `SortExpression` ve `SortDirection` özellikleri veri kaynağı denetimi.</span><span class="sxs-lookup"><span data-stu-id="abe43-122">When the GridView is bound to its data source control, it hands off its `SortExpression` and `SortDirection` properties to the data source control.</span></span> <span data-ttu-id="abe43-123">Veri kaynağı denetimi verileri alır ve ardından sağlanan göre sıralar `SortExpression` ve `SortDirection` özellikleri.</span><span class="sxs-lookup"><span data-stu-id="abe43-123">The data source control retrieves the data and then sorts it according to the supplied `SortExpression` and `SortDirection` properties.</span></span> <span data-ttu-id="abe43-124">Verileri sıralama sonra veri kaynağı denetimi, GridView döndürür.</span><span class="sxs-lookup"><span data-stu-id="abe43-124">After sorting the data, the data source control returns it to the GridView.</span></span>

<span data-ttu-id="abe43-125">Bu işlev DataList veya yineleyici denetimleri ile çoğaltmak için biz gerekir:</span><span class="sxs-lookup"><span data-stu-id="abe43-125">To replicate this functionality with the DataList or Repeater controls, we must:</span></span>

- <span data-ttu-id="abe43-126">Sıralama arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="abe43-126">Create a sorting interface</span></span>
- <span data-ttu-id="abe43-127">Göre sıralamak için veri alan ve artan veya azalan sıralama görüntülenmeyeceğini unutmayın</span><span class="sxs-lookup"><span data-stu-id="abe43-127">Remember the data field to sort by and whether to sort in ascending or descending order</span></span>
- <span data-ttu-id="abe43-128">Belirli veri alanına göre verileri sıralamak için ObjectDataSource isteyin</span><span class="sxs-lookup"><span data-stu-id="abe43-128">Instruct the ObjectDataSource to sort the data by a particular data field</span></span>

<span data-ttu-id="abe43-129">Biz bu üç adım 3 ve 4 görevlerinde üstesinden gelmek.</span><span class="sxs-lookup"><span data-stu-id="abe43-129">We'll tackle these three tasks in steps 3 and 4.</span></span> <span data-ttu-id="abe43-130">Nasıl disk belleği hem de bir DataList veya yineleyici desteği sıralama dahil inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="abe43-130">Following that, we'll examine how to include both paging and sorting support in a DataList or Repeater.</span></span>

## <a name="step-2-displaying-the-products-in-a-repeater"></a><span data-ttu-id="abe43-131">2. adım: bir yineleyici ürünleri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="abe43-131">Step 2: Displaying the Products in a Repeater</span></span>

<span data-ttu-id="abe43-132">Sıralama ile ilgili işlevlerden herhangi birini uygulama hakkında endişelenmeniz önce ürünleri yineleyici denetiminde listeleyerek Başlat s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-132">Before we worry about implementing any of the sorting-related functionality, let s start by listing the products in a Repeater control.</span></span> <span data-ttu-id="abe43-133">Başlangıç açarak `Sorting.aspx` sayfasındaki `PagingSortingDataListRepeater` klasör.</span><span class="sxs-lookup"><span data-stu-id="abe43-133">Start by opening the `Sorting.aspx` page in the `PagingSortingDataListRepeater` folder.</span></span> <span data-ttu-id="abe43-134">Yineleyici denetim web ayarı sayfasına ekleme kendi `ID` özelliğine `SortableProducts`.</span><span class="sxs-lookup"><span data-stu-id="abe43-134">Add a Repeater control to the web page, setting its `ID` property to `SortableProducts`.</span></span> <span data-ttu-id="abe43-135">Yineleyici s akıllı etiketten adlı yeni bir ObjectDataSource oluşturma `ProductsDataSource` ve verilerin alınacağı yapılandırın `ProductsBLL` s sınıfı `GetProducts()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-135">From the Repeater s smart tag, create a new ObjectDataSource named `ProductsDataSource` and configure it to retrieve data from the `ProductsBLL` class s `GetProducts()` method.</span></span> <span data-ttu-id="abe43-136">(Hiçbiri) INSERT, UPDATE ve DELETE sekmelerdeki aşağı açılan listelerden seçeneğini seçin.</span><span class="sxs-lookup"><span data-stu-id="abe43-136">Select the (None) option from the drop-down lists in the INSERT, UPDATE, and DELETE tabs.</span></span>


<span data-ttu-id="abe43-137">[![Bir ObjectDataSource oluşturun ve GetProductsAsPagedDataSource() yöntemi kullanacak şekilde yapılandırın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image2.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-137">[![Create an ObjectDataSource and Configure it to Use the GetProductsAsPagedDataSource() Method](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image2.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image1.png)</span></span>

<span data-ttu-id="abe43-138">**Şekil 1**: bir ObjectDataSource oluşturma ve kullanımı için yapılandırma `GetProductsAsPagedDataSource()` yöntemi ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-138">**Figure 1**: Create an ObjectDataSource and Configure it to Use the `GetProductsAsPagedDataSource()` Method ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image3.png))</span></span>


<span data-ttu-id="abe43-139">[![Güncelleştirme, ekleme, aşağı açılan listeler ayarlayın ve sekmeleri (hiçbiri) silme](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image5.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-139">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image5.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image4.png)</span></span>

<span data-ttu-id="abe43-140">**Şekil 2**: güncelleştirme, ekleme, aşağı açılan listeler ayarlayın ve silme (hiçbiri) sekmeler ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-140">**Figure 2**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None) ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image6.png))</span></span>


<span data-ttu-id="abe43-141">Aksine DataList ile Visual Studio otomatik olarak oluşturmaz bir `ItemTemplate` bir veri kaynağına bağlama sonra yineleyici denetimi için.</span><span class="sxs-lookup"><span data-stu-id="abe43-141">Unlike with the DataList, Visual Studio does not automatically create an `ItemTemplate` for the Repeater control after binding it to a data source.</span></span> <span data-ttu-id="abe43-142">Ayrıca, bu eklediğimiz gerekir `ItemTemplate` yineleyici denetim s akıllı etiket DataList s bulunan Şablonları Düzenle seçeneği eksik gibi bildirimli olarak.</span><span class="sxs-lookup"><span data-stu-id="abe43-142">Furthermore, we must add this `ItemTemplate` declaratively, as the Repeater control s smart tag lacks the Edit Templates option found in the DataList s.</span></span> <span data-ttu-id="abe43-143">Let s kullanmak aynı `ItemTemplate` önceki öğretici görüntülenen s ürün adı, üretici ve kategori.</span><span class="sxs-lookup"><span data-stu-id="abe43-143">Let s use the same `ItemTemplate` from the previous tutorial, which displayed the product s name, supplier, and category.</span></span>

<span data-ttu-id="abe43-144">Ekledikten sonra `ItemTemplate`, yineleyici ve ObjectDataSource s bildirim temelli biçimlendirmesi aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="abe43-144">After adding the `ItemTemplate`, the Repeater and ObjectDataSource s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample1.aspx)]

<span data-ttu-id="abe43-145">Şekil 3'te bir tarayıcıdan görüntülendiğinde bu sayfada görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="abe43-145">Figure 3 shows this page when viewed through a browser.</span></span>


<span data-ttu-id="abe43-146">[![Her ürünün s adı, üretici ve kategori görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image8.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-146">[![Each Product s Name, Supplier, and Category is Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image8.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image7.png)</span></span>

<span data-ttu-id="abe43-147">**Şekil 3**: her ürün s adı, üretici ve kategori görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-147">**Figure 3**: Each Product s Name, Supplier, and Category is Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image9.png))</span></span>


## <a name="step-3-instructing-the-objectdatasource-to-sort-the-data"></a><span data-ttu-id="abe43-148">3. adım: verileri sıralamak için ObjectDataSource bilgilendirerek</span><span class="sxs-lookup"><span data-stu-id="abe43-148">Step 3: Instructing the ObjectDataSource to Sort the Data</span></span>

<span data-ttu-id="abe43-149">Yineleyicideki görüntülenen verileri sıralamak için biz verilerin sıralanması gerektiğini sıralama ifadesi ObjectDataSource bildirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="abe43-149">To sort the data displayed in the Repeater, we need to inform the ObjectDataSource of the sort expression by which the data should be sorted.</span></span> <span data-ttu-id="abe43-150">ObjectDataSource verisini alır. önce ilk ateşlenir kendi [ `Selecting` olay](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.selecting.aspx), bize bir sıralama ifadesi belirtmek bir fırsat sağlar.</span><span class="sxs-lookup"><span data-stu-id="abe43-150">Before the ObjectDataSource retrieves its data, it first fires its [`Selecting` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.selecting.aspx), which provides an opportunity for us to specify a sort expression.</span></span> <span data-ttu-id="abe43-151">`Selecting` Olay işleyicisi türünde bir nesne geçirilen [ `ObjectDataSourceSelectingEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.aspx), adında bir özellik olan [ `Arguments` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.arguments.aspx) türü [ `DataSourceSelectArguments` ](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.aspx).</span><span class="sxs-lookup"><span data-stu-id="abe43-151">The `Selecting` event handler is passed an object of type [`ObjectDataSourceSelectingEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.aspx), which has a property named [`Arguments`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.arguments.aspx) of type [`DataSourceSelectArguments`](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.aspx).</span></span> <span data-ttu-id="abe43-152">`DataSourceSelectArguments` Sınıf verilerle ilgili istekleri için veri kaynağı denetimi veri tüketiciden geçirmek için tasarlanmıştır ve içeren bir [ `SortExpression` özelliği](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.sortexpression.aspx).</span><span class="sxs-lookup"><span data-stu-id="abe43-152">The `DataSourceSelectArguments` class is designed to pass data-related requests from a consumer of data to the data source control, and includes a [`SortExpression` property](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.sortexpression.aspx).</span></span>

<span data-ttu-id="abe43-153">ObjectDataSource ASP.NET sayfasından sıralama bilgileri geçirmek için bir olay işleyicisi oluşturun `Selecting` olay ve aşağıdaki kodu kullanın:</span><span class="sxs-lookup"><span data-stu-id="abe43-153">To pass sorting information from the ASP.NET page to the ObjectDataSource, create an event handler for the `Selecting` event and use the following code:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample2.cs)]

<span data-ttu-id="abe43-154">*SortExpression* değeri verileri (örneğin, ProductName) göre sıralamak için veri alanının adı atanmış.</span><span class="sxs-lookup"><span data-stu-id="abe43-154">The *sortExpression* value should be assigned the name of the data field to sort the data by (such as ProductName ).</span></span> <span data-ttu-id="abe43-155">Sıralama yönü ile ilgili bir özellik yok, azalan düzende verileri sıralamak istiyorsanız, bu nedenle DESC dize eklemek için *sortExpression* değeri (örneğin, ProductName DESC).</span><span class="sxs-lookup"><span data-stu-id="abe43-155">There is no sort direction-related property, so if you want to sort the data in descending order, append the string DESC to the *sortExpression* value (such as ProductName DESC ).</span></span>

<span data-ttu-id="abe43-156">Bir tane için bazı farklı sabit kodlanmış değerler deneyin *sortExpression* ve sonuçları bir tarayıcıda sınayın.</span><span class="sxs-lookup"><span data-stu-id="abe43-156">Go ahead and try some different hard-coded values for *sortExpression* and test the results in a browser.</span></span> <span data-ttu-id="abe43-157">ProductName DESC olarak kullanırken, Şekil 4'te gösterildiği gibi *sortExpression*, ürünleri ters alfabetik sırada kendi ada göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-157">As Figure 4 shows, when using ProductName DESC as the *sortExpression*, the products are sorted by their name in reverse alphabetical order.</span></span>


<span data-ttu-id="abe43-158">[![Ürünleri adı ters alfabetik sırada sıralanır.](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image11.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-158">[![The Products are Sorted by their Name in Reverse Alphabetical Order](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image11.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image10.png)</span></span>

<span data-ttu-id="abe43-159">**Şekil 4**: Ürün adı ters alfabetik sırada sıralanır ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-159">**Figure 4**: The Products are Sorted by their Name in Reverse Alphabetical Order ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image12.png))</span></span>


## <a name="step-4-creating-the-sorting-interface-and-remembering-the-sort-expression-and-direction"></a><span data-ttu-id="abe43-160">Adım 4: sıralama arabirimi oluşturma ve sıralama ifadesi ve yönü anımsama</span><span class="sxs-lookup"><span data-stu-id="abe43-160">Step 4: Creating the Sorting Interface and Remembering the Sort Expression and Direction</span></span>

<span data-ttu-id="abe43-161">GridView desteği sıralama kapatma her s sıralanabilir alanı üstbilgi metni LinkButton dönüştürür, tıklatıldığında, verileri buna göre sıralar.</span><span class="sxs-lookup"><span data-stu-id="abe43-161">Turning on sorting support in the GridView converts each sortable field s header text into a LinkButton that, when clicked, sorts the data accordingly.</span></span> <span data-ttu-id="abe43-162">Sıralama bir arabirim, burada, veriler düzgün sütunlarında düzenlendiğini GridView için anlamlıdır.</span><span class="sxs-lookup"><span data-stu-id="abe43-162">Such a sorting interface makes sense for the GridView, where its data is neatly laid out in columns.</span></span> <span data-ttu-id="abe43-163">DataList ve yineleyici denetimleri, ancak, farklı bir sıralama arabirimi gereklidir.</span><span class="sxs-lookup"><span data-stu-id="abe43-163">For the DataList and Repeater controls, however, a different sorting interface is needed.</span></span> <span data-ttu-id="abe43-164">Bir ortak sıralama (aksine, bir kılavuz veri), bir veri listesini arabirimidir açılan listesini veri sıralanabilir alanları sağlar.</span><span class="sxs-lookup"><span data-stu-id="abe43-164">A common sorting interface for a list of data (as opposed to a grid of data), is a drop-down list that provides the fields by which the data can be sorted.</span></span> <span data-ttu-id="abe43-165">Bu öğretici için böyle bir arabirim uygulamak s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-165">Let s implement such an interface for this tutorial.</span></span>

<span data-ttu-id="abe43-166">Yukarıdaki DropDownList Web denetim ekleme `SortableProducts` Yineleyici ve kümesi kendi `ID` özelliğine `SortBy`.</span><span class="sxs-lookup"><span data-stu-id="abe43-166">Add a DropDownList Web control above the `SortableProducts` Repeater and set its `ID` property to `SortBy`.</span></span> <span data-ttu-id="abe43-167">Özellikler penceresinden içinde üç noktaya tıklayın `Items` yukarı ListItem Koleksiyonu Düzenleyicisi getirmek için özellik.</span><span class="sxs-lookup"><span data-stu-id="abe43-167">From the Properties window, click the ellipses in the `Items` property to bring up the ListItem Collection Editor.</span></span> <span data-ttu-id="abe43-168">Ekleme `ListItem` verileri göre sıralamak için s `ProductName`, `CategoryName`, ve `SupplierName` alanları.</span><span class="sxs-lookup"><span data-stu-id="abe43-168">Add `ListItem` s to sort the data by the `ProductName`, `CategoryName`, and `SupplierName` fields.</span></span> <span data-ttu-id="abe43-169">Ayrıca bir `ListItem` ürün adı ters alfabetik sırada sıralamak için.</span><span class="sxs-lookup"><span data-stu-id="abe43-169">Also add a `ListItem` to sort the products by their name in reverse alphabetical order.</span></span>

<span data-ttu-id="abe43-170">`ListItem` `Text` Özellikleri (örneğin, adı), herhangi bir değere ayarlanabilir ancak `Value` özellikleri ayarlanmış olması gerekir (örneğin, ProductName) veri alanının adı.</span><span class="sxs-lookup"><span data-stu-id="abe43-170">The `ListItem` `Text` properties can be set to any value (such as Name ), but the `Value` properties must be set to the name of the data field (such as ProductName ).</span></span> <span data-ttu-id="abe43-171">Azalan düzende sonuçları sıralamak için DESC dize ProductName DESC gibi veri alan adı ekleyin.</span><span class="sxs-lookup"><span data-stu-id="abe43-171">To sort the results in descending order, append the string DESC to the data field name, like ProductName DESC .</span></span>


![Sıralanabilir veri alanların her biri için bir ListItem ekleme](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image13.png)

<span data-ttu-id="abe43-173">**Şekil 5**: ekleme bir `ListItem` sıralanabilir veri alanların her biri için</span><span class="sxs-lookup"><span data-stu-id="abe43-173">**Figure 5**: Add a `ListItem` for Each of the Sortable Data Fields</span></span>


<span data-ttu-id="abe43-174">Son olarak, bir düğme Web denetimi DropDownList sağındaki ekleyin.</span><span class="sxs-lookup"><span data-stu-id="abe43-174">Finally, add a Button Web control to the right of the DropDownList.</span></span> <span data-ttu-id="abe43-175">Ayarlama, `ID` için `RefreshRepeater` ve kendi `Text` yenileme özelliği.</span><span class="sxs-lookup"><span data-stu-id="abe43-175">Set its `ID` to `RefreshRepeater` and its `Text` property to Refresh .</span></span>

<span data-ttu-id="abe43-176">Oluşturduktan sonra `ListItem` s ve Yenile düğmesini ekleyerek, DropDownList ve düğmesi s Tanımlayıcı Sözdizimi görünmelidir aşağıdakine benzer:</span><span class="sxs-lookup"><span data-stu-id="abe43-176">After creating the `ListItem` s and adding the Refresh button, the DropDownList and Button s declarative syntax should look similar to the following:</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample3.aspx)]

<span data-ttu-id="abe43-177">Tam sıralama DropDownList ile sonraki ObjectDataSource s güncelleştirmek ihtiyacımız `Selecting` olan seçili kullanan olay işleyicisi `SortBy``ListItem` s `Value` özelliği bir sabit kodlanmış sıralama ifadesi aksine.</span><span class="sxs-lookup"><span data-stu-id="abe43-177">With the sorting DropDownList complete, we next need to update the ObjectDataSource s `Selecting` event handler so that it uses the selected `SortBy``ListItem` s `Value` property as opposed to a hard-coded sort expression.</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample4.cs)]

<span data-ttu-id="abe43-178">İlk sitesini ziyaret ettiğinde bu noktada ürünleri tarafından başlangıçta sıralanacağını `ProductName` şekliyle veri alanı s `SortBy` `ListItem` varsayılan olarak seçili (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="abe43-178">At this point when first visiting the page the products will initially be sorted by the `ProductName` data field, as it s the `SortBy` `ListItem` selected by default (see Figure 6).</span></span> <span data-ttu-id="abe43-179">Bir farklı seçeneği kategori gibi sıralama ve yenileme tıklatarak seçerek geri gönderimin neden ve Şekil 7'de gösterildiği gibi veri kategorisi adıyla yeniden Sırala.</span><span class="sxs-lookup"><span data-stu-id="abe43-179">Selecting a different sorting option such as Category and clicking Refresh will cause a postback and re-sort the data by the category name, as Figure 7 shows.</span></span>


<span data-ttu-id="abe43-180">[![Ürün başlangıçta sıralanmış adı değil](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image15.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-180">[![The Products are Initially Sorted by their Name](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image15.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image14.png)</span></span>

<span data-ttu-id="abe43-181">**Şekil 6**: ürünleri olan başlangıçta sıralanmış adı ile ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-181">**Figure 6**: The Products are Initially Sorted by their Name ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image16.png))</span></span>


<span data-ttu-id="abe43-182">[![Şimdi sıralanmış kategoriye göre ürün değil](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image18.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-182">[![The Products are Now Sorted by Category](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image18.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image17.png)</span></span>

<span data-ttu-id="abe43-183">**Şekil 7**: ürünleri olan şimdi sıralanmış kategoriye göre ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-183">**Figure 7**: The Products are Now Sorted by Category ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image19.png))</span></span>


> [!NOTE]
> <span data-ttu-id="abe43-184">Yenile düğmesini tıklatarak yineleyici s görünüm durumu devre dışı olduğundan, otomatik olarak böylelikle kendi veri kaynağına her geri gönderme üzerinde rebind yineleyici yol yeniden sıralanmış verilerin neden olur.</span><span class="sxs-lookup"><span data-stu-id="abe43-184">Clicking the Refresh button causes the data to automatically be re-sorted because the Repeater s view state has been disabled, thereby causing the Repeater to rebind to its data source on every postback.</span></span> <span data-ttu-id="abe43-185">Önceden açılan sıralama değiştirme etkinse, yineleyici s görünüm durumu bırakılırsa t won listesi sıralama düzenini hiçbir etkisi vardır.</span><span class="sxs-lookup"><span data-stu-id="abe43-185">If you ve left the Repeater s view state enabled, changing the sorting drop-down list won t have any affect on the sort order.</span></span> <span data-ttu-id="abe43-186">Bu sorunu gidermek için Yenile düğmesini s için bir olay işleyicisi oluşturun `Click` olay ve yeniden bağlamasını kendi veri kaynağına yineleyici (s yineleyici çağırarak `DataBind()` yöntemi).</span><span class="sxs-lookup"><span data-stu-id="abe43-186">To remedy this, create an event handler for the Refresh Button s `Click` event and rebind the Repeater to its data source (by calling the Repeater s `DataBind()` method).</span></span>


## <a name="remembering-the-sort-expression-and-direction"></a><span data-ttu-id="abe43-187">Yön ve sıralama ifadesi anımsama</span><span class="sxs-lookup"><span data-stu-id="abe43-187">Remembering the Sort Expression and Direction</span></span>

<span data-ttu-id="abe43-188">Sıralama dışı burada ilgili Geri göndermeler oluşabilir, bir sayfa üzerinde bir sıralanabilir DataList veya yineleyici oluştururken, sıralama ifadesi ve yönü Geri göndermeler arasında anımsanacağını s kesinliği.</span><span class="sxs-lookup"><span data-stu-id="abe43-188">When creating a sortable DataList or Repeater on a page where non-sort related postbacks may occur, it s imperative that the sort expression and direction be remembered across postbacks.</span></span> <span data-ttu-id="abe43-189">Örneğin, biz Bu öğreticide her ürünle Sil düğmesini içerecek biçimde yineleyici güncelleştirilmiş düşünün.</span><span class="sxs-lookup"><span data-stu-id="abe43-189">For example, imagine that we updated the Repeater in this tutorial to include a Delete button with each product.</span></span> <span data-ttu-id="abe43-190">Kullanıcı Sil düğmesini tıklattığında d biz seçili ürün silip yineleyici verileri yeniden bağlayın biraz kod çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="abe43-190">When the user clicks the Delete button we d run some code to delete the selected product and then rebind the data to the Repeater.</span></span> <span data-ttu-id="abe43-191">Sıralama ayrıntıları geri gönderme arasında kalıcı değildir, ekranda görüntülenen verileri özgün sıralama düzeni döner.</span><span class="sxs-lookup"><span data-stu-id="abe43-191">If the sort details are not persisted across postback, the data displayed on screen will revert to the original sort order.</span></span>

<span data-ttu-id="abe43-192">Bu öğretici için DropDownList örtük olarak sıralama ifadesi ve yön kendi Görünüm durumunda bize kaydeder.</span><span class="sxs-lookup"><span data-stu-id="abe43-192">For this tutorial, the DropDownList implicitly saves the sort expression and direction in its view state for us.</span></span> <span data-ttu-id="abe43-193">Farklı bir sıralama arabirim bir sağlanan çeşitli sıralama seçeneklerini söyleyin, LinkButtons birlikte kullanıyorsanız, d halletmeniz sıralama düzenini Geri göndermeler arasında hatırlamak ihtiyacımız.</span><span class="sxs-lookup"><span data-stu-id="abe43-193">If we were using a different sorting interface one with, say, LinkButtons that provided the various sorting options we d need to take care to remember the sort order across postbacks.</span></span> <span data-ttu-id="abe43-194">Bu sorgu dizesi veya diğer durumu kalıcılığını teknik aracılığıyla sıralama parametresi dahil ederek sıralama parametreleri sayfa s görünüm durumu depolayarak bunu sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="abe43-194">This could be accomplished by storing the sorting parameters in the page s view state, by including the sort parameter in the querystring, or through some other state persistence technique.</span></span>

<span data-ttu-id="abe43-195">Bu öğreticide gelecekteki örnekler sayfa s görünüm durumu sıralama Ayrıntılar kalıcı hale getirmek nasıl keşfedin.</span><span class="sxs-lookup"><span data-stu-id="abe43-195">Future examples in this tutorial explore how to persist the sorting details in the page s view state.</span></span>

## <a name="step-5-adding-sorting-support-to-a-datalist-that-uses-default-paging"></a><span data-ttu-id="abe43-196">5. adım: Varsayılan disk belleği kullanan bir DataList destek sıralama ekleme</span><span class="sxs-lookup"><span data-stu-id="abe43-196">Step 5: Adding Sorting Support to a DataList that Uses Default Paging</span></span>

<span data-ttu-id="abe43-197">İçinde [önceki öğretici](paging-report-data-in-a-datalist-or-repeater-control-cs.md) biz varsayılan sayfalama DataList ile uygulama inceledi.</span><span class="sxs-lookup"><span data-stu-id="abe43-197">In the [preceding tutorial](paging-report-data-in-a-datalist-or-repeater-control-cs.md) we examined how to implement default paging with a DataList.</span></span> <span data-ttu-id="abe43-198">Disk belleğine alınan verileri sıralama özelliği eklemek için bu önceki örnek genişletilerek s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-198">Let s extend this previous example to include the ability to sort the paged data.</span></span> <span data-ttu-id="abe43-199">Başlangıç açarak `SortingWithDefaultPaging.aspx` ve `Paging.aspx` içinde sayfaları `PagingSortingDataListRepeater` klasör.</span><span class="sxs-lookup"><span data-stu-id="abe43-199">Start by opening the `SortingWithDefaultPaging.aspx` and `Paging.aspx` pages in the `PagingSortingDataListRepeater` folder.</span></span> <span data-ttu-id="abe43-200">Gelen `Paging.aspx` sayfasında, sayfa s bildirim temelli biçimlendirme görüntülemek için kaynak düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="abe43-200">From the `Paging.aspx` page, click on the Source button to view the page s declarative markup.</span></span> <span data-ttu-id="abe43-201">Seçili metni kopyalayın (bkz. Şekil 8) ve bildirim temelli biçimlerini yapıştırma `SortingWithDefaultPaging.aspx` arasında `<asp:Content>` etiketler.</span><span class="sxs-lookup"><span data-stu-id="abe43-201">Copy the selected text (see Figure 8) and paste it into the declarative markup of `SortingWithDefaultPaging.aspx` between the `<asp:Content>` tags.</span></span>


<span data-ttu-id="abe43-202">[![Bildirim temelli biçimlendirmede çoğaltmak &lt;asp: içerik&gt; SortingWithDefaultPaging.aspx Paging.aspx gelen etiketleri](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image21.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-202">[![Replicate the Declarative Markup in the &lt;asp:Content&gt; Tags from Paging.aspx to SortingWithDefaultPaging.aspx](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image21.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image20.png)</span></span>

<span data-ttu-id="abe43-203">**Şekil 8**: bildirim temelli biçimlendirmede çoğaltmak `<asp:Content>` gelen etiketleri `Paging.aspx` için `SortingWithDefaultPaging.aspx` ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-203">**Figure 8**: Replicate the Declarative Markup in the `<asp:Content>` Tags from `Paging.aspx` to `SortingWithDefaultPaging.aspx` ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image22.png))</span></span>


<span data-ttu-id="abe43-204">Bildirim temelli biçimlendirme kopyaladıktan sonra yöntemleri ve özellikleri kopyalamak `Paging.aspx` sayfasında s arka plandaki kod sınıfı için arka plan kodu sınıfına `SortingWithDefaultPaging.aspx`.</span><span class="sxs-lookup"><span data-stu-id="abe43-204">After copying the declarative markup, copy the methods and properties in the `Paging.aspx` page s code-behind class to the code-behind class for `SortingWithDefaultPaging.aspx`.</span></span> <span data-ttu-id="abe43-205">Ardından, görüntülemek için bir dakikanızı ayırın `SortingWithDefaultPaging.aspx` sayfasını bir tarayıcıda.</span><span class="sxs-lookup"><span data-stu-id="abe43-205">Next, take a moment to view the `SortingWithDefaultPaging.aspx` page in a browser.</span></span> <span data-ttu-id="abe43-206">Aynı işlevselliğe ve görünüm olarak göstermelidir `Paging.aspx`.</span><span class="sxs-lookup"><span data-stu-id="abe43-206">It should exhibit the same functionality and appearance as `Paging.aspx`.</span></span>

## <a name="enhancing-productsbll-to-include-a-default-paging-and-sorting-method"></a><span data-ttu-id="abe43-207">Disk belleği ve sıralama yöntemi varsayılan içerecek şekilde ProductsBLL geliştirme</span><span class="sxs-lookup"><span data-stu-id="abe43-207">Enhancing ProductsBLL to Include a Default Paging and Sorting Method</span></span>

<span data-ttu-id="abe43-208">Önceki öğreticide oluşturduğumuz bir `GetProductsAsPagedDataSource(pageIndex, pageSize)` yönteminde `ProductsBLL` döndürülen sınıfı bir `PagedDataSource` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="abe43-208">In the previous tutorial we created a `GetProductsAsPagedDataSource(pageIndex, pageSize)` method in the `ProductsBLL` class that returned a `PagedDataSource` object.</span></span> <span data-ttu-id="abe43-209">Bu `PagedDataSource` nesnesi doldurulmuş ile *tüm* ürünlerin (BLL s aracılığıyla `GetProducts()` yöntemi), ancak ne zaman DataList yalnızca belirtilen karşılık gelen kayıtları bağlı *PageIndex* ve *pageSize* giriş parametreleri gösterilir.</span><span class="sxs-lookup"><span data-stu-id="abe43-209">This `PagedDataSource` object was populated with *all* of the products (via the BLL s `GetProducts()` method), but when bound to the DataList only those records corresponding to the specified *pageIndex* and *pageSize* input parameters were displayed.</span></span>

<span data-ttu-id="abe43-210">Bu öğreticide daha önce sıralama destek ObjectDataSource s sıralama ifadesi belirterek eklediğimiz `Selecting` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="abe43-210">Earlier in this tutorial we added sorting support by specifying the sort expression from the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="abe43-211">Bu çalışır iyi ObjectDataSource, gibi sıralanabilir bir nesne döndürüldüğünde `ProductsDataTable` tarafından döndürülen `GetProducts()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-211">This works well when the ObjectDataSource is returned an object that can be sorted, like the `ProductsDataTable` returned by the `GetProducts()` method.</span></span> <span data-ttu-id="abe43-212">Ancak, `PagedDataSource` tarafından döndürülen nesne `GetProductsAsPagedDataSource` yöntemi iç veri kaynağı sıralamayı desteklemiyor.</span><span class="sxs-lookup"><span data-stu-id="abe43-212">However, the `PagedDataSource` object returned by the `GetProductsAsPagedDataSource` method does not support sorting of its inner data source.</span></span> <span data-ttu-id="abe43-213">Bunun yerine, döndürülen sonuçları sıralamak ihtiyacımız `GetProducts()` yöntemi *önce* biz bunu koymak `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="abe43-213">Instead, we need to sort the results returned from the `GetProducts()` method *before* we put it in the `PagedDataSource`.</span></span>

<span data-ttu-id="abe43-214">Bunu gerçekleştirmek için yeni bir yöntemi oluşturun `ProductsBLL` sınıfı, `GetProductsSortedAsPagedDataSource(sortExpression, pageIndex, pageSize)`.</span><span class="sxs-lookup"><span data-stu-id="abe43-214">To accomplish this, create a new method in the `ProductsBLL` class, `GetProductsSortedAsPagedDataSource(sortExpression, pageIndex, pageSize)`.</span></span> <span data-ttu-id="abe43-215">Sıralanacak `ProductsDataTable` tarafından döndürülen `GetProducts()` yöntemini belirtin `Sort` varsayılan özelliği `DataTableView`:</span><span class="sxs-lookup"><span data-stu-id="abe43-215">To sort the `ProductsDataTable` returned by the `GetProducts()` method, specify the `Sort` property of its default `DataTableView`:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample5.cs)]

<span data-ttu-id="abe43-216">`GetProductsSortedAsPagedDataSource` Yöntemi yalnızca biraz daha farklı gelen `GetProductsAsPagedDataSource` önceki öğreticide oluşturduğunuz yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-216">The `GetProductsSortedAsPagedDataSource` method differs only slightly from the `GetProductsAsPagedDataSource` method created in the previous tutorial.</span></span> <span data-ttu-id="abe43-217">Özellikle, `GetProductsSortedAsPagedDataSource` ek bir giriş parametresi kabul `sortExpression` ve bu değeri atar `Sort` özelliği `ProductDataTable` s `DefaultView`.</span><span class="sxs-lookup"><span data-stu-id="abe43-217">In particular, `GetProductsSortedAsPagedDataSource` accepts an additional input parameter `sortExpression` and assigns this value to the `Sort` property of the `ProductDataTable` s `DefaultView`.</span></span> <span data-ttu-id="abe43-218">Kodu daha sonra birkaç satırlık `PagedDataSource` s veri kaynağı nesnesi atandığı `ProductDataTable` s `DefaultView`.</span><span class="sxs-lookup"><span data-stu-id="abe43-218">A few lines of code later, the `PagedDataSource` object s DataSource is assigned the `ProductDataTable` s `DefaultView`.</span></span>

## <a name="calling-the-getproductssortedaspageddatasource-method-and-specifying-the-value-for-the-sortexpression-input-parameter"></a><span data-ttu-id="abe43-219">GetProductsSortedAsPagedDataSource yöntemini çağırıp SortExpression giriş parametresinin değeri belirtme</span><span class="sxs-lookup"><span data-stu-id="abe43-219">Calling the GetProductsSortedAsPagedDataSource Method and Specifying the Value for the SortExpression Input Parameter</span></span>

<span data-ttu-id="abe43-220">İle `GetProductsSortedAsPagedDataSource` tam, sonraki adıma yöntemdir Bu parametre için değer sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="abe43-220">With the `GetProductsSortedAsPagedDataSource` method complete, the next step is to provide the value for this parameter.</span></span> <span data-ttu-id="abe43-221">ObjectDataSource `SortingWithDefaultPaging.aspx` çağırmak için şu anda yapılandırılmış `GetProductsAsPagedDataSource` yöntemi ve iki giriş parametreleri, iki aracılığıyla geçişinde `QueryStringParameters`, içinde belirtilen `SelectParameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="abe43-221">The ObjectDataSource in `SortingWithDefaultPaging.aspx` is currently configured to call the `GetProductsAsPagedDataSource` method and passes in the two input parameters through its two `QueryStringParameters`, which are specified in the `SelectParameters` collection.</span></span> <span data-ttu-id="abe43-222">Bu iki `QueryStringParameters` belirtmek için kaynak `GetProductsAsPagedDataSource` s yöntemi *PageIndex* ve *pageSize* parametreleri gelen sorgu dizesi alanlardan `pageIndex` ve `pageSize`.</span><span class="sxs-lookup"><span data-stu-id="abe43-222">These two `QueryStringParameters` indicate that the source for the `GetProductsAsPagedDataSource` method s *pageIndex* and *pageSize* parameters come from the querystring fields `pageIndex` and `pageSize`.</span></span>

<span data-ttu-id="abe43-223">ObjectDataSource s güncelleştirme `SelectMethod` olan yeni çağırır özelliğini `GetProductsSortedAsPagedDataSource` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-223">Update the ObjectDataSource s `SelectMethod` property so that it invokes the new `GetProductsSortedAsPagedDataSource` method.</span></span> <span data-ttu-id="abe43-224">Ardından, yeni bir ekleyin `QueryStringParameter` böylece *sortExpression* giriş parametresi querystring alanından erişilen `sortExpression`.</span><span class="sxs-lookup"><span data-stu-id="abe43-224">Then, add a new `QueryStringParameter` so that the *sortExpression* input parameter is accessed from the querystring field `sortExpression`.</span></span> <span data-ttu-id="abe43-225">Ayarlama `QueryStringParameter` s `DefaultValue` ProductName.</span><span class="sxs-lookup"><span data-stu-id="abe43-225">Set the `QueryStringParameter` s `DefaultValue` to ProductName .</span></span>

<span data-ttu-id="abe43-226">Bu değişikliklerden sonra ObjectDataSource s bildirim temelli biçimlendirme gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="abe43-226">After these changes, the ObjectDataSource s declarative markup should look like:</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample6.aspx)]

<span data-ttu-id="abe43-227">Bu noktada, `SortingWithDefaultPaging.aspx` sayfa sıralama sonuçları alfabetik olarak ürün adına göre (bkz. Şekil 9).</span><span class="sxs-lookup"><span data-stu-id="abe43-227">At this point, the `SortingWithDefaultPaging.aspx` page will sort its results alphabetically by the product name (see Figure 9).</span></span> <span data-ttu-id="abe43-228">Varsayılan olarak, bir ProductName değeri olarak geçirilen, bunun nedeni `GetProductsSortedAsPagedDataSource` s yöntemi *sortExpression* parametresi.</span><span class="sxs-lookup"><span data-stu-id="abe43-228">This is because, by default, a value of ProductName is passed in as the `GetProductsSortedAsPagedDataSource` method s *sortExpression* parameter.</span></span>


<span data-ttu-id="abe43-229">[![Varsayılan olarak, sonuçlar ProductName göre sıralanır.](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image24.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-229">[![By Default, the Results are Sorted by ProductName](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image24.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image23.png)</span></span>

<span data-ttu-id="abe43-230">**Şekil 9**: varsayılan olarak, sonuçları tarafından sıralanır `ProductName` ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-230">**Figure 9**: By Default, the Results are Sorted by `ProductName` ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image25.png))</span></span>


<span data-ttu-id="abe43-231">El ile eklerseniz, bir `sortExpression` sorgu dizesi alanı gibi `SortingWithDefaultPaging.aspx?sortExpression=CategoryName` sonuçları sıralanmış belirtilen tarafından `sortExpression`.</span><span class="sxs-lookup"><span data-stu-id="abe43-231">If you manually add a `sortExpression` querystring field such as `SortingWithDefaultPaging.aspx?sortExpression=CategoryName` the results will be sorted by the specified `sortExpression`.</span></span> <span data-ttu-id="abe43-232">Ancak, bu `sortExpression` parametresi dahil edilmemiştir sorgu dizesine verilerin başka bir sayfaya taşırken.</span><span class="sxs-lookup"><span data-stu-id="abe43-232">However, this `sortExpression` parameter is not included in the querystring when moving to a different page of data.</span></span> <span data-ttu-id="abe43-233">Aslında, İleri'yi veya son sayfasında tıklatarak izin ver düğmeleri bize geri alır `Paging.aspx`!</span><span class="sxs-lookup"><span data-stu-id="abe43-233">In fact, clicking on the Next or Last page buttons takes us back to `Paging.aspx`!</span></span> <span data-ttu-id="abe43-234">Ayrıca, orada s şu anda hiçbir sıralama arabirim.</span><span class="sxs-lookup"><span data-stu-id="abe43-234">Furthermore, there s currently no sorting interface.</span></span> <span data-ttu-id="abe43-235">Bir kullanıcı disk belleğine alınan verileri sıralama düzenini değiştirebilirsiniz yalnızca doğrudan sorgu dizesi işleyerek yoludur.</span><span class="sxs-lookup"><span data-stu-id="abe43-235">The only way a user can change the sort order of the paged data is by manipulating the querystring directly.</span></span>

## <a name="creating-the-sorting-interface"></a><span data-ttu-id="abe43-236">Sıralama arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="abe43-236">Creating the Sorting Interface</span></span>

<span data-ttu-id="abe43-237">İlk güncelleştirmek ihtiyacımız `RedirectUser` kullanıcıya gönderilecek yöntemi `SortingWithDefaultPaging.aspx` (yerine `Paging.aspx`) ve dahil etmek için `sortExpression` sorgu dizesi değeri.</span><span class="sxs-lookup"><span data-stu-id="abe43-237">We first need to update the `RedirectUser` method to send the user to `SortingWithDefaultPaging.aspx` (instead of `Paging.aspx`) and to include the `sortExpression` value in the querystring.</span></span> <span data-ttu-id="abe43-238">Biz de bir salt okunur sayfa adlı düzeyinde eklemelisiniz `SortExpression` özelliği.</span><span class="sxs-lookup"><span data-stu-id="abe43-238">We should also add a read-only, page-level named `SortExpression` property.</span></span> <span data-ttu-id="abe43-239">Bu özellik, benzer `PageIndex` ve `PageSize` önceki öğreticide oluşturduğunuz özellikleri değerini döndürür `sortExpression` varsa querystring alan ve varsayılan değer (ProductName) Aksi takdirde.</span><span class="sxs-lookup"><span data-stu-id="abe43-239">This property, similar to the `PageIndex` and `PageSize` properties created in the previous tutorial, returns the value of the `sortExpression` querystring field if it exists, and the default value ( ProductName ) otherwise.</span></span>

<span data-ttu-id="abe43-240">Şu anda `RedirectUser` yöntemi yalnızca tek bir giriş parametresi görüntülemek için sayfanın dizini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="abe43-240">Currently the `RedirectUser` method accepts only a single input parameter the index of the page to display.</span></span> <span data-ttu-id="abe43-241">Ancak, ne zaman bir sıralama ifadesi sorgu dizesinde belirtilen hangi s dışında kullanarak verilerin belirli bir sayfa için kullanıcıyı yeniden yönlendirmek için istiyoruz zamanlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="abe43-241">However, there may be times when we want to redirect the user to a particular page of data using a sort expression other than what s specified in the querystring.</span></span> <span data-ttu-id="abe43-242">Birazdan düğmesi Web denetimleri verileri belirtilen sütuna göre sıralamak için bir dizi içerecektir bu sayfa için sıralama arabirimi oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="abe43-242">In a moment we'll create the sorting interface for this page, which will include a series of Button Web controls for sorting the data by a specified column.</span></span> <span data-ttu-id="abe43-243">Bu düğmeleri birini tıklandığında uygun sıralama ifadesi değeri geçirme kullanıcıyı yeniden yönlendirmek istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="abe43-243">When one of those Buttons is clicked, we want to redirect the user passing in the appropriate sort expression value.</span></span> <span data-ttu-id="abe43-244">Bu işlevselliği sağlayacak şekilde iki sürümü oluşturma `RedirectUser` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-244">To provide this functionality, create two versions of the `RedirectUser` method.</span></span> <span data-ttu-id="abe43-245">Birinci, ikinci bir sayfa dizini ve sıralama ifadesi kabul ederken görüntülenecek yalnızca sayfa dizini kabul etmelidir.</span><span class="sxs-lookup"><span data-stu-id="abe43-245">The first one should accept just the page index to display, while the second one accepts the page index and sort expression.</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample7.cs)]

<span data-ttu-id="abe43-246">Bu öğretici ilk örnekte bir DropDownList kullanarak bir sıralama arabirimi oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="abe43-246">In the first example in this tutorial, we created a sorting interface using a DropDownList.</span></span> <span data-ttu-id="abe43-247">Bu örnekte, let s kullanmak göre sıralamak için DataList biri konumlandırılmış üç düğme Web denetimleri `ProductName`, bir için `CategoryName`, diğeri `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="abe43-247">For this example, let s use three Button Web controls positioned above the DataList one for sorting by `ProductName`, one for `CategoryName`, and one for `SupplierName`.</span></span> <span data-ttu-id="abe43-248">Ayarı üç düğme Web denetimleri ekleme kendi `ID` ve `Text` özellikleri uygun şekilde:</span><span class="sxs-lookup"><span data-stu-id="abe43-248">Add the three Button Web controls, setting their `ID` and `Text` properties appropriately:</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample8.aspx)]

<span data-ttu-id="abe43-249">Ardından, oluşturun bir `Click` her olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="abe43-249">Next, create a `Click` event handler for each.</span></span> <span data-ttu-id="abe43-250">Olay işleyicileri çağırmalıdır `RedirectUser` yöntemi, kullanıcının uygun sıralama ifadesi kullanarak ilk sayfasının döndürüyor.</span><span class="sxs-lookup"><span data-stu-id="abe43-250">The event handlers should call the `RedirectUser` method, returning the user to the first page using the appropriate sort expression.</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample9.cs)]

<span data-ttu-id="abe43-251">İlk sitesini ziyaret ettiğinde verileri ürün adına göre alfabetik (geri Şekil 9'a bakın).</span><span class="sxs-lookup"><span data-stu-id="abe43-251">When first visiting the page, the data is sorted by the product name alphabetically (refer back to Figure 9).</span></span> <span data-ttu-id="abe43-252">Veri ikinci sayfasına ilerleyin ve sıralama tarafından kategori düğmesini tıklatıp için İleri düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="abe43-252">Click the Next button to advance to the second page of data and then click the Sort by Category button.</span></span> <span data-ttu-id="abe43-253">Kategori adına göre sıralanmış verilerin ilk sayfasına bu bize döndürür (bkz. Şekil 10).</span><span class="sxs-lookup"><span data-stu-id="abe43-253">This returns us to the first page of data, sorted by category name (see Figure 10).</span></span> <span data-ttu-id="abe43-254">Benzer şekilde, tedarikçi düğmesi göre sıralamayı verileri veri ilk sayfadan başlayarak sağlayıcısına göre sıralar.</span><span class="sxs-lookup"><span data-stu-id="abe43-254">Likewise, clicking the Sort by Supplier button sorts the data by supplier starting from the first page of data.</span></span> <span data-ttu-id="abe43-255">Verileri üzerinden disk belleği gibi sıralama seçimi hatırlanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-255">The sort choice is remembered as the data is paged through.</span></span> <span data-ttu-id="abe43-256">Şekil 11 kategoriye göre sıralama ve veri on üçüncü sayfasına ilerledikten sonra sayfada görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="abe43-256">Figure 11 shows the page after sorting by category and then advancing to the thirteenth page of data.</span></span>


<span data-ttu-id="abe43-257">[![Ürünleri kategoriye göre sıralanır.](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image27.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-257">[![The Products are Sorted by Category](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image27.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image26.png)</span></span>

<span data-ttu-id="abe43-258">**Şekil 10**: ürün kategorisine göre sıralanır ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-258">**Figure 10**: The Products are Sorted by Category ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image28.png))</span></span>


<span data-ttu-id="abe43-259">[![Anımsanacak, disk belleği ile veri sıralama ifadesidir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image30.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-259">[![The Sort Expression is Remembered When Paging Through the Data](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image30.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image29.png)</span></span>

<span data-ttu-id="abe43-260">**Şekil 11**: sıralama ifadesi verilerdir hatırlanan, disk belleği aracılığıyla ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-260">**Figure 11**: The Sort Expression is Remembered When Paging Through the Data ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image31.png))</span></span>


## <a name="step-6-custom-paging-through-records-in-a-repeater"></a><span data-ttu-id="abe43-261">6. adım: Bir yineleyici kayıtlarında aracılığıyla özel disk belleği</span><span class="sxs-lookup"><span data-stu-id="abe43-261">Step 6: Custom Paging Through Records in a Repeater</span></span>

<span data-ttu-id="abe43-262">DataList örnek adımda verimsiz varsayılan disk belleği tekniği kullanarak verileri 5 sayfalarıyla incelendi.</span><span class="sxs-lookup"><span data-stu-id="abe43-262">The DataList example examined in step 5 pages through its data using the inefficient default paging technique.</span></span> <span data-ttu-id="abe43-263">Yeterince büyük miktarlarda verinin disk belleği, özel sayfalama kullanılması zorunludur.</span><span class="sxs-lookup"><span data-stu-id="abe43-263">When paging through sufficiently large amounts of data, it is imperative that custom paging be used.</span></span> <span data-ttu-id="abe43-264">Geri [verimli bir şekilde disk belleği üzerinden büyük miktarlarda veri](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-cs.md) ve [özel disk belleğine alınan verileri sıralama](../paging-and-sorting/sorting-custom-paged-data-cs.md) öğreticileri, biz incelenmesi BLL için varsayılan ve özel disk belleği ile oluşturulan yöntemleri arasındaki farklılıkları özel disk belleği ve özel disk belleğine alınan verileri sıralama kullanan.</span><span class="sxs-lookup"><span data-stu-id="abe43-264">Back in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-cs.md) and [Sorting Custom Paged Data](../paging-and-sorting/sorting-custom-paged-data-cs.md) tutorials, we examined the differences between default and custom paging and created methods in the BLL for utilizing custom paging and sorting custom paged data.</span></span> <span data-ttu-id="abe43-265">Özellikle, bu iki önceki öğreticileri için aşağıdaki üç yöntemi eklediğimiz `ProductsBLL` sınıfı:</span><span class="sxs-lookup"><span data-stu-id="abe43-265">In particular, in these two previous tutorials we added the following three methods to the `ProductsBLL` class:</span></span>

- <span data-ttu-id="abe43-266">`GetProductsPaged(startRowIndex, maximumRows)` belirli bir alt kümesini başlayarak kayıtları döndürür *startRowIndex* ve aşmadan *maximumRows*.</span><span class="sxs-lookup"><span data-stu-id="abe43-266">`GetProductsPaged(startRowIndex, maximumRows)` returns a particular subset of records starting at *startRowIndex* and not exceeding *maximumRows*.</span></span>
- <span data-ttu-id="abe43-267">`GetProductsPagedAndSorted(sortExpression, startRowIndex, maximumRows)` belirli bir alt kümesini tarafından belirtilen sıralanmış kayıtları döndürür *sortExpression* giriş parametresi.</span><span class="sxs-lookup"><span data-stu-id="abe43-267">`GetProductsPagedAndSorted(sortExpression, startRowIndex, maximumRows)` returns a particular subset of records sorted by the specified *sortExpression* input parameter.</span></span>
- <span data-ttu-id="abe43-268">`TotalNumberOfProducts()` kayıtlarının toplam sayısını sağlar `Products` veritabanı tablosu.</span><span class="sxs-lookup"><span data-stu-id="abe43-268">`TotalNumberOfProducts()` provides the total number of records in the `Products` database table.</span></span>

<span data-ttu-id="abe43-269">Bu yöntemler, verimli bir şekilde sayfasında ve DataList veya yineleyici denetimini kullanarak verilerine sıralamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="abe43-269">These methods can be used to efficiently page and sort through data using a DataList or Repeater control.</span></span> <span data-ttu-id="abe43-270">Bunu göstermek için özel sayfalama desteği ile yineleyici denetim oluşturarak başlayın s sağlar; Sıralama yeteneklerini sonra ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="abe43-270">To illustrate this, let s start by creating a Repeater control with custom paging support; we'll then add sorting capabilities.</span></span>

<span data-ttu-id="abe43-271">Açık `SortingWithCustomPaging.aspx` sayfasındaki `PagingSortingDataListRepeater` klasör ve bir yineleyici sayfasına ekleme ayarını kendi `ID` özelliğine `Products`.</span><span class="sxs-lookup"><span data-stu-id="abe43-271">Open the `SortingWithCustomPaging.aspx` page in the `PagingSortingDataListRepeater` folder and add a Repeater to the page, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="abe43-272">Yineleyici s akıllı etiketten adlı yeni bir ObjectDataSource oluşturma `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="abe43-272">From the Repeater s smart tag, create a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="abe43-273">Kendi verileri seçmek için yapılandırma `ProductsBLL` s sınıfı `GetProductsPaged` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-273">Configure it to select its data from the `ProductsBLL` class s `GetProductsPaged` method.</span></span>


<span data-ttu-id="abe43-274">[![ObjectDataSource s ProductsBLL sınıfı GetProductsPaged yöntemi kullanmak üzere yapılandırma](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image33.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-274">[![Configure the ObjectDataSource to Use the ProductsBLL Class s GetProductsPaged Method](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image33.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image32.png)</span></span>

<span data-ttu-id="abe43-275">**Şekil 12**: ObjectDataSource kullanılacak yapılandırma `ProductsBLL` s sınıfı `GetProductsPaged` yöntemi ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-275">**Figure 12**: Configure the ObjectDataSource to Use the `ProductsBLL` Class s `GetProductsPaged` Method ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image34.png))</span></span>


<span data-ttu-id="abe43-276">Güncelleştirme, ekleme, açılan listeleri ayarlamak ve sekmeleri (hiçbiri) SİLİN ve sonra İleri düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="abe43-276">Set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) and then click the Next button.</span></span> <span data-ttu-id="abe43-277">Veri Kaynağı Yapılandırma Sihirbazı'nı şimdi kaynakları için ister `GetProductsPaged` s yöntemi *startRowIndex* ve *maximumRows* giriş parametreleri.</span><span class="sxs-lookup"><span data-stu-id="abe43-277">The Configure Data Source wizard now prompts for the sources of the `GetProductsPaged` method s *startRowIndex* and *maximumRows* input parameters.</span></span> <span data-ttu-id="abe43-278">Çünkü, bu giriş parametreleri yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="abe43-278">In actuality, these input parameters are ignored.</span></span> <span data-ttu-id="abe43-279">Bunun yerine, *startRowIndex* ve *maximumRows* değerleri geçirilir içinde aracılığıyla `Arguments` ObjectDataSource s özelliğinde `Selecting` belirttiğimize gibi olay işleyicisi *sortExpression* Bu öğretici s ilk gösteride.</span><span class="sxs-lookup"><span data-stu-id="abe43-279">Instead, the *startRowIndex* and *maximumRows* values will be passed in through the `Arguments` property in the ObjectDataSource s `Selecting` event handler, just like how we specified the *sortExpression* in this tutorial s first demo.</span></span> <span data-ttu-id="abe43-280">Bu nedenle, parametre kaynağı None Ayarlama Sihirbazı'nda açılan listeleri bırakın.</span><span class="sxs-lookup"><span data-stu-id="abe43-280">Therefore, leave the parameter source drop-down lists in the wizard set at None .</span></span>


<span data-ttu-id="abe43-281">[![Parametre kaynakları kümesi None olarak bırakın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image36.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-281">[![Leave the Parameter Sources Set to None](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image36.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image35.png)</span></span>

<span data-ttu-id="abe43-282">**Şekil 13**: parametre kaynakları Yok'a bırakın ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-282">**Figure 13**: Leave the Parameter Sources Set to None ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image37.png))</span></span>


> [!NOTE]
> <span data-ttu-id="abe43-283">Yapmak *değil* ObjectDataSource s ayarlamak `EnablePaging` özelliğine `true`.</span><span class="sxs-lookup"><span data-stu-id="abe43-283">Do *not* set the ObjectDataSource s `EnablePaging` property to `true`.</span></span> <span data-ttu-id="abe43-284">Bu otomatik olarak kendi içerecek şekilde ObjectDataSource neden olacak *startRowIndex* ve *maximumRows* parametreleri `SelectMethod` s varolan parametre listesi.</span><span class="sxs-lookup"><span data-stu-id="abe43-284">This will cause the ObjectDataSource to automatically include its own *startRowIndex* and *maximumRows* parameters to the `SelectMethod` s existing parameter list.</span></span> <span data-ttu-id="abe43-285">`EnablePaging` Özelliği, bu denetimler, s ObjectDataSource belirli davranışından beklediğiniz olduğundan GridView, DetailsView ya da FormView denetimine veri bağlama Özel havuzda olduğunda yararlıdır yalnızca kullanılabilir `EnablePaging` özelliği `true`.</span><span class="sxs-lookup"><span data-stu-id="abe43-285">The `EnablePaging` property is useful when binding custom paged data to a GridView, DetailsView, or FormView control because these controls expect certain behavior from the ObjectDataSource that s only available when `EnablePaging` property is `true`.</span></span> <span data-ttu-id="abe43-286">Biz DataList ve yineleyici sayfalama desteğini el ile eklemek zorunda olduğundan, bu özelliği bırakın `false` (varsayılan), biz gerekli işlevselliği doğrudan ASP.NET sayfamızı içinde Fırından gibi.</span><span class="sxs-lookup"><span data-stu-id="abe43-286">Since we have to manually add the paging support for the DataList and Repeater, leave this property set to `false` (the default), as we'll bake in the needed functionality directly within our ASP.NET page.</span></span>


<span data-ttu-id="abe43-287">Son olarak, yineleyici s tanımlamak `ItemTemplate` böylece s ürün adı, kategori ve tedarikçi gösterilir.</span><span class="sxs-lookup"><span data-stu-id="abe43-287">Finally, define the Repeater s `ItemTemplate` so that the product s name, category, and supplier are shown.</span></span> <span data-ttu-id="abe43-288">Yineleyici ObjectDataSource s bildirim temelli söz dizimi ve bu değişikliklerden sonra aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="abe43-288">After these changes, the Repeater and ObjectDataSource s declarative syntax should look similar to the following:</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample10.aspx)]

<span data-ttu-id="abe43-289">Bir tarayıcı aracılığıyla sayfasını ziyaret edin ve kayıt verdiğini unutmayın için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="abe43-289">Take a moment to visit the page through a browser and note that no records are returned.</span></span> <span data-ttu-id="abe43-290">Bunun nedeni, biz henüz belirtmek için ve *startRowIndex* ve *maximumRows* parametre değerlerini; bu nedenle, değeri 0 olarak her ikisi için geçirilen.</span><span class="sxs-lookup"><span data-stu-id="abe43-290">This is because we ve yet to specify the *startRowIndex* and *maximumRows* parameter values; therefore, values of 0 are being passed in for both.</span></span> <span data-ttu-id="abe43-291">Bu değerleri belirtmek için olay işleyicisi ObjectDataSource s oluşturmak `Selecting` olay ve bu parametrelerin değerlerini programlı olarak sabit kodlanmış değerleri 0 ile 5, sırasıyla ayarla:</span><span class="sxs-lookup"><span data-stu-id="abe43-291">To specify these values, create an event handler for the ObjectDataSource s `Selecting` event and set these parameters values programmatically to hard-coded values of 0 and 5, respectively:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample11.cs)]

<span data-ttu-id="abe43-292">Bu değişiklikle, bir tarayıcı görüntülendiğinde sayfasında, ilk beş ürünlerini gösterir.</span><span class="sxs-lookup"><span data-stu-id="abe43-292">With this change, the page, when viewed through a browser, shows the first five products.</span></span>


<span data-ttu-id="abe43-293">[![İlk beş kayıtlar görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image39.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-293">[![The First Five Records are Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image39.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image38.png)</span></span>

<span data-ttu-id="abe43-294">**Şekil 14**: ilk beş kayıt görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-294">**Figure 14**: The First Five Records are Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image40.png))</span></span>


> [!NOTE]
> <span data-ttu-id="abe43-295">Şekil 14'te listelenen ürünler için ürün adına göre sıralanacak durum `GetProductsPaged` verimli özel disk belleği sorgu gerçekleştirir saklı yordam siparişleri sonuçlarına göre `ProductName`.</span><span class="sxs-lookup"><span data-stu-id="abe43-295">The products listed in Figure 14 happen to be sorted by product name because the `GetProductsPaged` stored procedure that performs the efficient custom paging query orders the results by `ProductName`.</span></span>


<span data-ttu-id="abe43-296">Sayfaları arasında adım yapmalarına izin vermek için kimliğinizi başlangıç satırı dizini ve en fazla satır izlemenize ve bu değerleri arasında Geri göndermeler unutmayın gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="abe43-296">In order to allow the user to step through the pages, we need to keep track of the start row index and maximum rows and remember these values across postbacks.</span></span> <span data-ttu-id="abe43-297">Varsayılan disk belleği örnekte bu değerleri kalıcı hale getirmek için sorgu dizesi alanları kullanılır; Bu Tanıtım için bu sayfayı s görünüm durumu bilgileri kalıcı s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-297">In the default paging example we used querystring fields to persist these values; for this demo, let s persist this information in the page s view state.</span></span> <span data-ttu-id="abe43-298">Aşağıdaki iki özelliği oluşturun:</span><span class="sxs-lookup"><span data-stu-id="abe43-298">Create the following two properties:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample12.cs)]

<span data-ttu-id="abe43-299">Ardından, kullandığı seçme olay işleyicisi kodunda güncelleştirmek `StartRowIndex` ve `MaximumRows` 0 ile 5, sabit kodlanmış değerler yerine özellikleri:</span><span class="sxs-lookup"><span data-stu-id="abe43-299">Next, update the code in the Selecting event handler so that it uses the `StartRowIndex` and `MaximumRows` properties instead of the hard-coded values of 0 and 5:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample13.cs)]

<span data-ttu-id="abe43-300">Bu noktada sayfamızı yalnızca ilk beş kayıtları görüntülenmeye devam eder.</span><span class="sxs-lookup"><span data-stu-id="abe43-300">At this point our page still shows just the first five records.</span></span> <span data-ttu-id="abe43-301">Ancak, bu özellikleri, yerinde biz re disk belleği arabirimimizi oluşturmak için hazır.</span><span class="sxs-lookup"><span data-stu-id="abe43-301">However, with these properties in place, we re ready to create our paging interface.</span></span>

## <a name="adding-the-paging-interface"></a><span data-ttu-id="abe43-302">Disk belleği arabirim ekleme</span><span class="sxs-lookup"><span data-stu-id="abe43-302">Adding the Paging Interface</span></span>

<span data-ttu-id="abe43-303">Aynı ilk, önceki, sonraki en son disk belleği, arabirim let s kullanın, hangi veri sayfasını görüntüleyen denetim görüntülenen etiketi Web dahil olmak üzere varsayılan disk belleği örnek ve kaç tane toplam sayfa mevcut kullanılır.</span><span class="sxs-lookup"><span data-stu-id="abe43-303">Let s use the same First, Previous, Next, Last paging interface used in the default paging example, including the Label Web control that displays what page of data is being viewed and how many total pages exist.</span></span> <span data-ttu-id="abe43-304">Dört düğmesi Web denetimleri ve yineleyici altına etiketi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="abe43-304">Add the four Button Web controls and Label below the Repeater.</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample14.aspx)]

<span data-ttu-id="abe43-305">Ardından, oluşturun `Click` dört düğmeleri için olay işleyicileri.</span><span class="sxs-lookup"><span data-stu-id="abe43-305">Next, create `Click` event handlers for the four Buttons.</span></span> <span data-ttu-id="abe43-306">Bu düğmeleri birini tıklatıldığında güncelleştirmek ihtiyacımız `StartRowIndex` ve yineleyici verileri yeniden bağlayın.</span><span class="sxs-lookup"><span data-stu-id="abe43-306">When one of these Buttons is clicked, we need to update the `StartRowIndex` and rebind the data to the Repeater.</span></span> <span data-ttu-id="abe43-307">Kod ilk, geri ve İleri düğmelerini için yeterince basittir ancak için Son düğmesini nasıl veri son sayfasına başlangıç satır dizini belirleriz?</span><span class="sxs-lookup"><span data-stu-id="abe43-307">The code for the First, Previous, and Next buttons is simple enough, but for the Last button how do we determine the start row index for the last page of data?</span></span> <span data-ttu-id="abe43-308">Bu dizin yanı sıra sonraki ve son düğmeleri etkinleştirilmesi gerekip gerekmediğini toplam kaç kayıt üzerinden disk belleği bilmeniz ihtiyacımız belirlemek mümkün hesaplamak için.</span><span class="sxs-lookup"><span data-stu-id="abe43-308">To compute this index as well as being able to determine whether the Next and Last buttons should be enabled we need to know how many records in total are being paged through.</span></span> <span data-ttu-id="abe43-309">Biz çağırarak belirleyebilirsiniz `ProductsBLL` s sınıfı `TotalNumberOfProducts()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-309">We can determine this by calling the `ProductsBLL` class s `TotalNumberOfProducts()` method.</span></span> <span data-ttu-id="abe43-310">Let s oluşturmak adlı bir salt okunur ve sayfa düzeyinde özellik `TotalRowCount` sonuçlarını döndürür `TotalNumberOfProducts()` yöntemi:</span><span class="sxs-lookup"><span data-stu-id="abe43-310">Let s create a read-only, page-level property named `TotalRowCount` that returns the results of the `TotalNumberOfProducts()` method:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample15.cs)]

<span data-ttu-id="abe43-311">Bu özellik ile biz şimdi son sayfa s başlangıç satır dizini belirleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="abe43-311">With this property we can now determine the last page s start row index.</span></span> <span data-ttu-id="abe43-312">Özellikle, onu s tamsayı sonuç, `TotalRowCount` eksi 1 bölü `MaximumRows`, tarafından çarpılan `MaximumRows`.</span><span class="sxs-lookup"><span data-stu-id="abe43-312">Specifically, it s the integer result of the `TotalRowCount` minus 1 divided by `MaximumRows`, multiplied by `MaximumRows`.</span></span> <span data-ttu-id="abe43-313">Biz şimdi yazabilirsiniz `Click` olay işleyicileri dört disk belleği arabirimi düğmeleri için:</span><span class="sxs-lookup"><span data-stu-id="abe43-313">We can now write the `Click` event handlers for the four paging interface buttons:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample16.cs)]

<span data-ttu-id="abe43-314">Son olarak, biz veri ve sonraki ve son düğmeleri'nın ilk sayfasında son sayfayı görüntülerken görüntülerken disk belleği arabiriminde ilk ve önceki düğmelerini devre dışı bırakmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="abe43-314">Finally, we need to disable the First and Previous buttons in the paging interface when viewing the first page of data and the Next and Last buttons when viewing the last page.</span></span> <span data-ttu-id="abe43-315">Bunu gerçekleştirmek için aşağıdaki kodu ekleyin ObjectDataSource s `Selecting` olay işleyicisi:</span><span class="sxs-lookup"><span data-stu-id="abe43-315">To accomplish this, add the following code to the ObjectDataSource s `Selecting` event handler:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample17.cs)]

<span data-ttu-id="abe43-316">Bunlar ekledikten sonra `Click` olay işleyicileri ve kodu etkinleştirmek veya devre dışı geçerli başlangıç satır dizini, temel disk belleği arabirim öğeleri test sayfasını bir tarayıcıda.</span><span class="sxs-lookup"><span data-stu-id="abe43-316">After adding these `Click` event handlers and the code to enable or disable the paging interface elements based on the current start row index, test the page in a browser.</span></span> <span data-ttu-id="abe43-317">Şekil 15, ilk ilk sayfasını ziyaret gösterir ve önceki düğmeleri olacak devre dışı bırakılır.</span><span class="sxs-lookup"><span data-stu-id="abe43-317">As Figure 15 illustrates, when first visiting the page the First and Previous buttons will are disabled.</span></span> <span data-ttu-id="abe43-318">İleri'yi tıklatmadan gösterir, verilerin ikinci sayfasında son tıklatarak son sayfasında görüntülerken (rakamları 16 ve 17 bakın).</span><span class="sxs-lookup"><span data-stu-id="abe43-318">Clicking Next shows the second page of data, while clicking Last displays the final page (see Figures 16 and 17).</span></span> <span data-ttu-id="abe43-319">Verilerin son sayfayı görüntülerken sonraki ve son düğmeleri devre dışı bırakılır.</span><span class="sxs-lookup"><span data-stu-id="abe43-319">When viewing the last page of data both the Next and Last buttons are disabled.</span></span>


<span data-ttu-id="abe43-320">[![Önceki ve son düğmeleri, ilk sayfa ürünleri görüntülerken devre dışı bırakıldı](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image42.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-320">[![The Previous and Last Buttons are Disabled When Viewing the First Page of Products](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image42.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image41.png)</span></span>

<span data-ttu-id="abe43-321">**Şekil 15**: önceki ve son düğmeleri devre dışı bırakıldığında, ilk sayfa ürünleri görüntülerken ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image43.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-321">**Figure 15**: The Previous and Last Buttons are Disabled When Viewing the First Page of Products ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image43.png))</span></span>


<span data-ttu-id="abe43-322">[![İkinci sayfa ürün Dispalyed değil](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image45.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-322">[![The Second Page of Products are Dispalyed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image45.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image44.png)</span></span>

<span data-ttu-id="abe43-323">**Şekil 16**: İkinci sayfa olan ürünleri olan Dispalyed ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image46.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-323">**Figure 16**: The Second Page of Products are Dispalyed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image46.png))</span></span>


<span data-ttu-id="abe43-324">[![Son görüntüler veri son sayfasında tıklatarak](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image48.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-324">[![Clicking Last Displays the Final Page of Data](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image48.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image47.png)</span></span>

<span data-ttu-id="abe43-325">**Şekil 17**: son tıklatmak, son sayfasında veri görüntüler ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image49.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-325">**Figure 17**: Clicking Last Displays the Final Page of Data ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image49.png))</span></span>


## <a name="step-7-including-sorting-support-with-the-custom-paged-repeater"></a><span data-ttu-id="abe43-326">7. adım: Özel desteğiyle sıralama dahil olmak üzere yineleyici disk belleği</span><span class="sxs-lookup"><span data-stu-id="abe43-326">Step 7: Including Sorting Support with the Custom Paged Repeater</span></span>

<span data-ttu-id="abe43-327">Özel sayfalama uygulanmıştır, sıralama dahil etmek için hazır re destekliyoruz.</span><span class="sxs-lookup"><span data-stu-id="abe43-327">Now that custom paging has been implemented, we re ready to include sorting support.</span></span> <span data-ttu-id="abe43-328">`ProductsBLL` s sınıfı `GetProductsPagedAndSorted` yöntemi sahip aynı *startRowIndex* ve *maximumRows* giriş parametreleri olarak `GetProductsPaged`, ancak bir ek verir  *sortExpression* giriş parametresi.</span><span class="sxs-lookup"><span data-stu-id="abe43-328">The `ProductsBLL` class s `GetProductsPagedAndSorted` method has the same *startRowIndex* and *maximumRows* input parameters as `GetProductsPaged`, but permits an additional *sortExpression* input parameter.</span></span> <span data-ttu-id="abe43-329">Kullanılacak `GetProductsPagedAndSorted` yönteminden `SortingWithCustomPaging.aspx`, aşağıdaki adımları gerçekleştirmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="abe43-329">To use the `GetProductsPagedAndSorted` method from `SortingWithCustomPaging.aspx`, we need to perform the following steps:</span></span>

1. <span data-ttu-id="abe43-330">ObjectDataSource s değiştirme `SelectMethod` özelliğinden `GetProductsPaged` için `GetProductsPagedAndSorted`.</span><span class="sxs-lookup"><span data-stu-id="abe43-330">Change the ObjectDataSource s `SelectMethod` property from `GetProductsPaged` to `GetProductsPagedAndSorted`.</span></span>
2. <span data-ttu-id="abe43-331">Ekleme bir *sortExpression* `Parameter` ObjectDataSource s nesnesine `SelectParameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="abe43-331">Add a *sortExpression* `Parameter` object to the ObjectDataSource s `SelectParameters` collection.</span></span>
3. <span data-ttu-id="abe43-332">Özel, sayfa düzeyinde oluşturmak `SortExpression` değerini Geri göndermeler sayfa s görünüm durumu aracılığıyla boyunca devam ederse özelliği.</span><span class="sxs-lookup"><span data-stu-id="abe43-332">Create a private, page-level `SortExpression` property that persists its value across postbacks through the page s view state.</span></span>
4. <span data-ttu-id="abe43-333">ObjectDataSource s güncelleştirme `Selecting` ObjectDataSource s atamak için olay işleyicisini *sortExpression* parametresi sayfa düzeyi değeri `SortExpression` özelliği.</span><span class="sxs-lookup"><span data-stu-id="abe43-333">Update the ObjectDataSource s `Selecting` event handler to assign the ObjectDataSource s *sortExpression* parameter the value of the page-level `SortExpression` property.</span></span>
5. <span data-ttu-id="abe43-334">Sıralama arabirimi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="abe43-334">Create the sorting interface.</span></span>

<span data-ttu-id="abe43-335">Başlangıç ObjectDataSource s güncelleştirerek `SelectMethod` özelliği ve ekleyerek bir *sortExpression* `Parameter`.</span><span class="sxs-lookup"><span data-stu-id="abe43-335">Start by updating the ObjectDataSource s `SelectMethod` property and adding a *sortExpression* `Parameter`.</span></span> <span data-ttu-id="abe43-336">Olduğundan emin olun *sortExpression* `Parameter` s `Type` özelliği ayarlanmış `String`.</span><span class="sxs-lookup"><span data-stu-id="abe43-336">Make sure that the *sortExpression* `Parameter` s `Type` property is set to `String`.</span></span> <span data-ttu-id="abe43-337">Bu ilk iki görevleri tamamladıktan sonra ObjectDataSource s bildirim temelli biçimlendirme aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="abe43-337">After completing these first two tasks, the ObjectDataSource s declarative markup should look like the following:</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample18.aspx)]

<span data-ttu-id="abe43-338">Ardından, sayfa düzeyinde ihtiyacımız `SortExpression` özellik değeri serileştirilmiş durumu görüntülemek için.</span><span class="sxs-lookup"><span data-stu-id="abe43-338">Next, we need a page-level `SortExpression` property whose value is serialized to view state.</span></span> <span data-ttu-id="abe43-339">Herhangi bir sıralama ifadesi değer ayarlarsanız ProductName varsayılan olarak kullanın:</span><span class="sxs-lookup"><span data-stu-id="abe43-339">If no sort expression value has been set, use ProductName as the default:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample19.cs)]

<span data-ttu-id="abe43-340">ObjectDataSource çağırır önce `GetProductsPagedAndSorted` ayarlamak için ihtiyacımız yöntemi *sortExpression* `Parameter` değerine `SortExpression` özelliği.</span><span class="sxs-lookup"><span data-stu-id="abe43-340">Before the ObjectDataSource invokes the `GetProductsPagedAndSorted` method we need to set the *sortExpression* `Parameter` to the value of the `SortExpression` property.</span></span> <span data-ttu-id="abe43-341">İçinde `Selecting` olay işleyicisi, aşağıdaki kod satırını ekleyin:</span><span class="sxs-lookup"><span data-stu-id="abe43-341">In the `Selecting` event handler, add the following line of code:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample20.cs)]

<span data-ttu-id="abe43-342">Kalan tek şey sıralama arabirimi uygulamak için.</span><span class="sxs-lookup"><span data-stu-id="abe43-342">All that remains is to implement the sorting interface.</span></span> <span data-ttu-id="abe43-343">Son örnekte yaptığımız gibi sonuçları sıralamak kullanıcı izin üç düğme Web denetimleri kullanılarak ürün adı, kategori veya sağlayıcı tarafından uygulanan sıralama arabirimine sahip s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="abe43-343">As we did in the last example, let s have the sorting interface implemented using three Button Web controls that allow the user to sort the results by product name, category, or supplier.</span></span>


[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample21.aspx)]

<span data-ttu-id="abe43-344">Oluşturma `Click` bu üç düğme denetimleri için olay işleyicileri.</span><span class="sxs-lookup"><span data-stu-id="abe43-344">Create `Click` event handlers for these three Button controls.</span></span> <span data-ttu-id="abe43-345">Olay işleyicisi sıfırlama `StartRowIndex` 0 olarak ayarlayın `SortExpression` uygun değere ve yineleyici verileri yeniden bağlayın:</span><span class="sxs-lookup"><span data-stu-id="abe43-345">In the event handler, reset the `StartRowIndex` to 0, set the `SortExpression` to the appropriate value, and rebind the data to the Repeater:</span></span>


[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample22.cs)]

<span data-ttu-id="abe43-346">Bu s tüm var olan üzere!</span><span class="sxs-lookup"><span data-stu-id="abe43-346">That s all there is to it!</span></span> <span data-ttu-id="abe43-347">Çeşitli özel disk belleği ve uygulanan sıralama almak için adımları kopyalanırken adımları varsayılan disk belleği için gerekenler için çok benzer.</span><span class="sxs-lookup"><span data-stu-id="abe43-347">While there were a number of steps to get custom paging and sorting implemented, the steps were very similar to those needed for default paging.</span></span> <span data-ttu-id="abe43-348">Şekil 18 kategoriye göre sıralanmış verilerinin son sayfayı görüntülerken ürünlerini gösterir.</span><span class="sxs-lookup"><span data-stu-id="abe43-348">Figure 18 shows the products when viewing the last page of data when sorted by category.</span></span>


<span data-ttu-id="abe43-349">[![Son sayfa verilerini, kategorilere göre Sorted görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image51.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="abe43-349">[![The Last Page of Data, Sorted by Category, is Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image51.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image50.png)</span></span>

<span data-ttu-id="abe43-350">**Şekil 18**: son sayfası, verilerini, kategorilere göre Sorted görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image52.png))</span><span class="sxs-lookup"><span data-stu-id="abe43-350">**Figure 18**: The Last Page of Data, Sorted by Category, is Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image52.png))</span></span>


> [!NOTE]
> <span data-ttu-id="abe43-351">Üretici sıralama ifadesi olarak kullanılan sağlayıcı tarafından sıralarken önceki örneklerde.</span><span class="sxs-lookup"><span data-stu-id="abe43-351">In previous examples, when sorting by the supplier SupplierName was used as the sort expression.</span></span> <span data-ttu-id="abe43-352">Ancak, özel disk belleği uygulamasını, biz ŞirketAdı kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="abe43-352">However, for the custom paging implementation, we need to use CompanyName.</span></span> <span data-ttu-id="abe43-353">Bunun nedeni, özel sayfalama uygulamak için sorumlu saklı yordam `GetProductsPagedAndSorted` sıralama ifadesine geçirir `ROW_NUMBER()` anahtar sözcüğü, `ROW_NUMBER()` anahtar sözcüğü bir diğer ad yerine gerçek sütun adı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="abe43-353">This is because the stored procedure responsible for implementing custom paging `GetProductsPagedAndSorted` passes the sort expression into the `ROW_NUMBER()` keyword, The `ROW_NUMBER()` keyword requires the actual column name rather than an alias.</span></span> <span data-ttu-id="abe43-354">Bu nedenle, biz kullanmalısınız `CompanyName` (sütununun adı `Suppliers` tablo) içinde kullanılan diğer adların yerine `SELECT` sorgu (`SupplierName`) sıralama ifadesi.</span><span class="sxs-lookup"><span data-stu-id="abe43-354">Therefore, we must use `CompanyName` (the name of the column in the `Suppliers` table) rather than the alias used in the `SELECT` query (`SupplierName`) for the sort expression.</span></span>


## <a name="summary"></a><span data-ttu-id="abe43-355">Özet</span><span class="sxs-lookup"><span data-stu-id="abe43-355">Summary</span></span>

<span data-ttu-id="abe43-356">Ne DataList ya da yineleyici yerleşik sıralama destek sunar, ancak bu tür işlevselliği ile bir bit kod ve özel bir sıralama arabirim eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="abe43-356">Neither the DataList nor Repeater offer built-in sorting support, but with a bit of code and a custom sorting interface, such functionality can be added.</span></span> <span data-ttu-id="abe43-357">Sıralama, ancak disk belleği olmayan uygulama, sıralama ifadesi aracılığıyla belirtilebilir `DataSourceSelectArguments` nesnesi geçirildi ObjectDataSource s `Select` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="abe43-357">When implementing sorting, but not paging, the sort expression can be specified through the `DataSourceSelectArguments` object passed into the ObjectDataSource s `Select` method.</span></span> <span data-ttu-id="abe43-358">Bu `DataSourceSelectArguments` s nesnesi `SortExpression` özelliği ObjectDataSource s atanabilir `Selecting` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="abe43-358">This `DataSourceSelectArguments` object s `SortExpression` property can be assigned in the ObjectDataSource s `Selecting` event handler.</span></span>

<span data-ttu-id="abe43-359">Bir DataList veya zaten sayfalama desteği sağlayan yineleyici sıralama özellikleri eklemek için kolay bir sıralama ifadesi kabul eden bir yöntem eklemek için iş mantığı katmanı özelleştirmek için bir yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="abe43-359">To add sorting capabilities to a DataList or Repeater that already provides paging support, the easiest approach is to customize the Business Logic Layer to include a method that accepts a sort expression.</span></span> <span data-ttu-id="abe43-360">Bu bilgiler daha sonra ObjectDataSource s içindeki bir parametre üzerinden geçirilebilir `SelectParameters`.</span><span class="sxs-lookup"><span data-stu-id="abe43-360">This information can then be passed in through a parameter in the ObjectDataSource s `SelectParameters`.</span></span>

<span data-ttu-id="abe43-361">Bu öğretici, disk belleği ve DataList ve yineleyici denetimleriyle sıralama bizim İnceleme tamamlar.</span><span class="sxs-lookup"><span data-stu-id="abe43-361">This tutorial completes our examination of paging and sorting with the DataList and Repeater controls.</span></span> <span data-ttu-id="abe43-362">Sonraki ve son öğreticimizi düğmesi Web denetimlerin DataList ve yineleyici s şablonları için bir öğe başına temelinde bazı özel, kullanıcı tarafından başlatılan işlevleri sağlamak için nasıl ekleneceğini inceleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="abe43-362">Our next and final tutorial will examine how to add Button Web controls to the DataList and Repeater s templates in order to provide some custom, user-initiated functionality on a per-item basis.</span></span>

<span data-ttu-id="abe43-363">Mutluluk programlama!</span><span class="sxs-lookup"><span data-stu-id="abe43-363">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="abe43-364">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="abe43-364">About the Author</span></span>

<span data-ttu-id="abe43-365">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar ve yedi ASP/ASP.NET books kurucusu, [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileri ile bu yana 1998 çalışma.</span><span class="sxs-lookup"><span data-stu-id="abe43-365">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="abe43-366">Tan bağımsız Danışman, eğitmen ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="abe43-366">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="abe43-367">En son kendi defteri [ *kendi öğretmek kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="abe43-367">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="abe43-368">Kendisi üzerinde erişilebilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) veya kendi blog hangi adresinde bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="abe43-368">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="abe43-369">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="abe43-369">Special Thanks To</span></span>

<span data-ttu-id="abe43-370">Bu öğretici seri pek çok yararlı gözden geçirenler tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="abe43-370">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="abe43-371">Bu öğretici için sağlama İnceleme David Suru oluştu.</span><span class="sxs-lookup"><span data-stu-id="abe43-371">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="abe43-372">My yaklaşan MSDN makaleleri gözden geçirme ilginizi çekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="abe43-372">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="abe43-373">Öyleyse, bana bir satırında bırakma [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="abe43-373">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="abe43-374">[Önceki](paging-report-data-in-a-datalist-or-repeater-control-cs.md)
> [sonraki](paging-report-data-in-a-datalist-or-repeater-control-vb.md)</span><span class="sxs-lookup"><span data-stu-id="abe43-374">[Previous](paging-report-data-in-a-datalist-or-repeater-control-cs.md)
[Next](paging-report-data-in-a-datalist-or-repeater-control-vb.md)</span></span>

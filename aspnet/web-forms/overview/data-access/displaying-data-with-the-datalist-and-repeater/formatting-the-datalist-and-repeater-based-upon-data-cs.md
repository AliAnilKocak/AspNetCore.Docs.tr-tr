---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs
title: Yineleyici ve DataList biçimlendirme tabanlı verilerine (C#) | Microsoft Docs
author: rick-anderson
description: Bu öğreticide biz biz DataList ve yineleyici denetimlerin görünümünü, biçimlendirme işlevleriyle kullanarak ya da biçimini örnekleri adım...
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/13/2006
ms.topic: article
ms.assetid: 83e3d759-82b8-41e6-8d62-f0f4b3edec41
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs
msc.type: authoredcontent
ms.openlocfilehash: 00dac460ad905d34632bca3249e019ddc626e440
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30876221"
---
<a name="formatting-the-datalist-and-repeater-based-upon-data-c"></a><span data-ttu-id="c4c21-103">Biçimlendirme DataList ve yineleyici verilere bağlı (C#)</span><span class="sxs-lookup"><span data-stu-id="c4c21-103">Formatting the DataList and Repeater Based Upon Data (C#)</span></span>
====================
<span data-ttu-id="c4c21-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c4c21-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c4c21-105">[Örnek uygulamayı indirin](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_30_CS.exe) veya [PDF indirin](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/datatutorial30cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c4c21-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_30_CS.exe) or [Download PDF](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/datatutorial30cs1.pdf)</span></span>

> <span data-ttu-id="c4c21-106">Bu öğreticide biz biz DataList ve yineleyici denetimlerin görünümünü, şablonlar içindeki biçimlendirme işlevleri kullanarak veya veriye bağlı olay işleme biçimini örnekleri adım.</span><span class="sxs-lookup"><span data-stu-id="c4c21-106">In this tutorial we'll step through examples of how we format the appearance of the DataList and Repeater controls, either by using formatting functions within templates or by handling the DataBound event.</span></span>


## <a name="introduction"></a><span data-ttu-id="c4c21-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="c4c21-107">Introduction</span></span>

<span data-ttu-id="c4c21-108">Önceki öğreticide gördüğümüz gibi DataList görünümünü etkileyen stili ile ilgili özellikler sunar.</span><span class="sxs-lookup"><span data-stu-id="c4c21-108">As we saw in the preceding tutorial, the DataList offers a number of style-related properties that affect its appearance.</span></span> <span data-ttu-id="c4c21-109">Özellikle, varsayılan CSS sınıfları s DataList atama gördüğümüz `HeaderStyle`, `ItemStyle`, `AlternatingItemStyle`, ve `SelectedItemStyle` özellikleri.</span><span class="sxs-lookup"><span data-stu-id="c4c21-109">In particular, we saw how to assign default CSS classes to the DataList s `HeaderStyle`, `ItemStyle`, `AlternatingItemStyle`, and `SelectedItemStyle` properties.</span></span> <span data-ttu-id="c4c21-110">Dört bu özelliğe ek olarak, DataList diğer stil ilgili özellikler gibi içerir `Font`, `ForeColor`, `BackColor`, ve `BorderWidth`, birkaçıdır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-110">In addition to these four properties, the DataList includes a number of other style-related properties, such as `Font`, `ForeColor`, `BackColor`, and `BorderWidth`, to name a few.</span></span> <span data-ttu-id="c4c21-111">Yineleyici denetim stili ile ilgili herhangi bir özellik içermiyor.</span><span class="sxs-lookup"><span data-stu-id="c4c21-111">The Repeater control does not contain any style-related properties.</span></span> <span data-ttu-id="c4c21-112">Bu tür bir stil ayarlarını doğrudan yineleyici s şablonlarındaki biçimlendirmesi içinde yapılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-112">Any such style settings must be made directly within the markup in the Repeater s templates.</span></span>

<span data-ttu-id="c4c21-113">Genellikle, yine de verilerin nasıl biçimlendirilmiş veriler üzerinde bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-113">Often, though, how data should be formatted depends on the data itself.</span></span> <span data-ttu-id="c4c21-114">Örneğin, ürünleri listelerken biz ürün bilgilerini bir açık gri yazı tipi rengi, kesilir veya vurgulamak isteyebilirsiniz görüntülemek isteyebilirsiniz `UnitsInStock` sıfır ise, değer.</span><span class="sxs-lookup"><span data-stu-id="c4c21-114">For example, when listing products we might want to display the product information in a light gray font color if it is discontinued, or we may want to highlight the `UnitsInStock` value if it is zero.</span></span> <span data-ttu-id="c4c21-115">GridView, DetailsView ve FormView önceki eğitimlerine gördüğümüz gibi kendi verilerine dayalı görünümlerini biçimlendirmek için iki farklı yol sunar:</span><span class="sxs-lookup"><span data-stu-id="c4c21-115">As we saw in previous tutorials, the GridView, DetailsView, and FormView offer two distinct ways to format their appearance based on their data:</span></span>

- <span data-ttu-id="c4c21-116">**`DataBound` Olay** için uygun bir olay işleyicisi oluşturun `DataBound` verileri her öğeye bağlı sonra ateşlenir olayı (olduğu GridView için `RowDataBound` olay; DataList ve yineleyici içindir`ItemDataBound`olay).</span><span class="sxs-lookup"><span data-stu-id="c4c21-116">**The `DataBound` event** create an event handler for the appropriate `DataBound` event, which fires after the data has been bound to each item (for the GridView it was the `RowDataBound` event; for the DataList and Repeater it is the `ItemDataBound` event).</span></span> <span data-ttu-id="c4c21-117">Bu olay işleyicisi, veri yalnızca bağlı incelenebilir ve kararları biçimlendirme yapılır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-117">In that event handler, the data just bound can be examined and formatting decisions made.</span></span> <span data-ttu-id="c4c21-118">Biz bu teknik incelenmesi [özel biçimlendirme göre bağlı verileri](../custom-formatting/custom-formatting-based-upon-data-cs.md) Öğreticisi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-118">We examined this technique in the [Custom Formatting Based Upon Data](../custom-formatting/custom-formatting-based-upon-data-cs.md) tutorial.</span></span>
- <span data-ttu-id="c4c21-119">**Şablonları işlevlerde biçimlendirme** TemplateFields DetailsView veya GridView denetimleri ya da FormView denetimindeki bir şablon kullanıldığında, bir biçimlendirme işlevi ASP.NET sayfası s arka plandaki kod sınıfı, iş mantığı katmanı veya herhangi bir ekleyebiliriz web uygulamasından erişilebilir diğer sınıf kitaplığı.</span><span class="sxs-lookup"><span data-stu-id="c4c21-119">**Formatting Functions in Templates** when using TemplateFields in the DetailsView or GridView controls, or a template in the FormView control, we can add a formatting function to the ASP.NET page s code-behind class, the Business Logic Layer, or any other class library that is accessible from the web application.</span></span> <span data-ttu-id="c4c21-120">Bu biçimlendirme işlevi rasgele bir girdi parametresi sayısı kabul edebilir, ancak şablonda oluşturulacak HTML döndürmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-120">This formatting function can accept an arbitrary number of input parameters, but must return the HTML to render in the template.</span></span> <span data-ttu-id="c4c21-121">Biçimlendirme işlevleri önce incelenmesi [kullanarak TemplateFields GridView denetiminde](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) Öğreticisi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-121">Formatting functions were first examined in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span>

<span data-ttu-id="c4c21-122">DataList ve yineleyici denetimleriyle teknikleri biçimlendirme bunların her ikisi de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-122">Both of these formatting techniques are available with the DataList and Repeater controls.</span></span> <span data-ttu-id="c4c21-123">Bu öğreticide şu iki denetimleri için her iki tekniği kullanan örnekler adım.</span><span class="sxs-lookup"><span data-stu-id="c4c21-123">In this tutorial we'll step through examples using both techniques for both controls.</span></span>

## <a name="using-theitemdataboundevent-handler"></a><span data-ttu-id="c4c21-124">Kullanarak`ItemDataBound`olay işleyicisi</span><span class="sxs-lookup"><span data-stu-id="c4c21-124">Using the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="c4c21-125">Ne zaman veri bağlı bir DataList için bir veri kaynağı denetimi veya program aracılığıyla veri s denetimine atama yoluyla `DataSource` özelliği ve arama kendi `DataBind()` yöntemi, s DataList `DataBinding` olay gönderir, numaralandırılmış, veri kaynağı ve her veri kaydı DataList bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-125">When data is bound to a DataList, either from a data source control or through programmatically assigning data to the control s `DataSource` property and calling its `DataBind()` method, the DataList s `DataBinding` event fires, the data source enumerated, and each data record is bound to the DataList.</span></span> <span data-ttu-id="c4c21-126">Veri kaynağındaki her kayıt için DataList oluşturur bir [ `DataListItem` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.aspx) diğer bir deyişle nesne sonra geçerli kayda bağlı.</span><span class="sxs-lookup"><span data-stu-id="c4c21-126">For each record in the data source, the DataList creates a [`DataListItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.aspx) object that is then bound to the current record.</span></span> <span data-ttu-id="c4c21-127">Bu işlem sırasında DataList iki olaylar oluşur:</span><span class="sxs-lookup"><span data-stu-id="c4c21-127">During this process, the DataList raises two events:</span></span>

- <span data-ttu-id="c4c21-128">**`ItemCreated`** sonra ateşlenir `DataListItem` oluşturuldu</span><span class="sxs-lookup"><span data-stu-id="c4c21-128">**`ItemCreated`** fires after the `DataListItem` has been created</span></span>
- <span data-ttu-id="c4c21-129">**`ItemDataBound`** Geçerli kayıt için bağlı sonra ateşlenir `DataListItem`</span><span class="sxs-lookup"><span data-stu-id="c4c21-129">**`ItemDataBound`** fires after the current record has been bound to the `DataListItem`</span></span>

<span data-ttu-id="c4c21-130">Veri bağlama işlemini DataList denetimi için aşağıdaki adımları verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-130">The following steps outline the data binding process for the DataList control.</span></span>

1. <span data-ttu-id="c4c21-131">S DataList [ `DataBinding` olay](https://msdn.microsoft.com/library/system.web.ui.control.databinding.aspx) etkinleşir</span><span class="sxs-lookup"><span data-stu-id="c4c21-131">The DataList s [`DataBinding` event](https://msdn.microsoft.com/library/system.web.ui.control.databinding.aspx) fires</span></span>
2. <span data-ttu-id="c4c21-132">DataList veri bağlama</span><span class="sxs-lookup"><span data-stu-id="c4c21-132">The data is bound to the DataList</span></span>  
  
   <span data-ttu-id="c4c21-133">Veri kaynağındaki her kayıt için</span><span class="sxs-lookup"><span data-stu-id="c4c21-133">For each record in the data source</span></span> 

    1. <span data-ttu-id="c4c21-134">Oluşturma bir `DataListItem` nesnesi</span><span class="sxs-lookup"><span data-stu-id="c4c21-134">Create a `DataListItem` object</span></span>
    2. <span data-ttu-id="c4c21-135">Yangın [ `ItemCreated` olayı](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemcreated.aspx)</span><span class="sxs-lookup"><span data-stu-id="c4c21-135">Fire the [`ItemCreated` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemcreated.aspx)</span></span>
    3. <span data-ttu-id="c4c21-136">Kayda bağlama `DataListItem`</span><span class="sxs-lookup"><span data-stu-id="c4c21-136">Bind the record to the `DataListItem`</span></span>
    4. <span data-ttu-id="c4c21-137">Yangın [ `ItemDataBound` olayı](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemdatabound.aspx)</span><span class="sxs-lookup"><span data-stu-id="c4c21-137">Fire the [`ItemDataBound` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalist.itemdatabound.aspx)</span></span>
    5. <span data-ttu-id="c4c21-138">Ekleme `DataListItem` için `Items` koleksiyonu</span><span class="sxs-lookup"><span data-stu-id="c4c21-138">Add the `DataListItem` to the `Items` collection</span></span>

<span data-ttu-id="c4c21-139">Yineleyici denetimine veri bağlama sırasında tam aynı adımlar dizisini ilerler.</span><span class="sxs-lookup"><span data-stu-id="c4c21-139">When binding data to the Repeater control, it progresses through the exact same sequence of steps.</span></span> <span data-ttu-id="c4c21-140">Tek fark, yerine olan `DataListItem` oluşturulan örnekleri, yineleyici kullanan [ `RepeaterItem` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem(VS.80).aspx)s.</span><span class="sxs-lookup"><span data-stu-id="c4c21-140">The only difference is that instead of `DataListItem` instances being created, the Repeater uses [`RepeaterItem`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.repeateritem(VS.80).aspx)s.</span></span>

> [!NOTE]
> <span data-ttu-id="c4c21-141">Akıllı duruma okuyucu hafif bir anomali GridView veriye bağlı olduğunda DataList ve yineleyici verilerine karşı bağlı olduğunda, gerçekleşen adımların sırasını arasındaki fark etmiş olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c4c21-141">The astute reader may have noticed a slight anomaly between the sequence of steps that transpire when the DataList and Repeater are bound to data versus when the GridView is bound to data.</span></span> <span data-ttu-id="c4c21-142">Veri bağlama işleminin tail sonunda GridView başlatır `DataBound` olay; ancak böyle bir olay DataList ne yineleyici denetime sahip.</span><span class="sxs-lookup"><span data-stu-id="c4c21-142">At the tail end of the data binding process, the GridView raises the `DataBound` event; however, neither the DataList nor Repeater control have such an event.</span></span> <span data-ttu-id="c4c21-143">Öncesi ve sonrası düzeyi olay işleyicisi düzeni yaygın hale önce DataList ve yineleyici denetimleri geri ASP.NET 1.x zaman çerçevesinde, oluşturulan olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-143">This is because the DataList and Repeater controls were created back in the ASP.NET 1.x timeframe, before the pre- and post-level event handler pattern had become common.</span></span>


<span data-ttu-id="c4c21-144">GridView ile verileri temel alan biçimlendirme için bir seçenek için bir olay işleyicisi oluşturmaktır gibi `ItemDataBound` olay.</span><span class="sxs-lookup"><span data-stu-id="c4c21-144">Like with the GridView, one option for formatting based on the data is to create an event handler for the `ItemDataBound` event.</span></span> <span data-ttu-id="c4c21-145">Bu olay işleyicisi yalnızca için bağlı verileri incelemek `DataListItem` veya `RepeaterItem` ve denetimi gerektiği gibi biçimlendirme etkiler.</span><span class="sxs-lookup"><span data-stu-id="c4c21-145">This event handler would inspect the data that had just been bound to the `DataListItem` or `RepeaterItem` and affect the formatting of the control as needed.</span></span>

<span data-ttu-id="c4c21-146">Kullanarak öğenin tamamı uygulanabilir için DataList denetimi için biçimlendirme değişiklikleri `DataListItem` standart dahil stili ilgili özelliklerinde, `Font`, `ForeColor`, `BackColor`, `CssClass`ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="c4c21-146">For the DataList control, formatting changes for the entire item can be implemented using the `DataListItem` s style-related properties, which include the standard `Font`, `ForeColor`, `BackColor`, `CssClass`, and so on.</span></span> <span data-ttu-id="c4c21-147">Belirli Web denetimleri DataList s şablonu içindeki biçimlendirme etkilemek için programlı olarak erişmek ve bu Web denetimleri stilini değiştirmek ihtiyacımız.</span><span class="sxs-lookup"><span data-stu-id="c4c21-147">To affect the formatting of particular Web controls within the DataList s template, we need to programmatically access and modify the style of those Web controls.</span></span> <span data-ttu-id="c4c21-148">Bu geri yüklemenin nasıl yapılacağını gördüğümüz *özel biçimlendirme göre bağlı verileri* Öğreticisi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-148">We saw how to accomplish this back in the *Custom Formatting Based Upon Data* tutorial.</span></span> <span data-ttu-id="c4c21-149">Yineleyici denetim gibi `RepeaterItem` sınıfı hiçbir stil ilgili özellikler vardır; bu nedenle, tüm stil ilgili yapılan değişiklikler bir `RepeaterItem` içinde `ItemDataBound` olay işleyicisi program aracılığıyla erişme ve Web denetimleri içinde güncelleştirme tarafından yapılması gerekir Şablon.</span><span class="sxs-lookup"><span data-stu-id="c4c21-149">Like the Repeater control, the `RepeaterItem` class has no style-related properties; therefore, all style-related changes made to a `RepeaterItem` in the `ItemDataBound` event handler must be done by programmatically accessing and updating Web controls within the template.</span></span>

<span data-ttu-id="c4c21-150">Bu yana `ItemDataBound` DataList ve yineleyici Bizim örneğimizde, DataList kullanarak olmadığını odaklanmak neredeyse aynı için teknik biçimlendirme.</span><span class="sxs-lookup"><span data-stu-id="c4c21-150">Since the `ItemDataBound` formatting technique for the DataList and Repeater are virtually identical, our example will focus on using the DataList.</span></span>

## <a name="step-1-displaying-product-information-in-the-datalist"></a><span data-ttu-id="c4c21-151">1. adım: DataList ürün bilgilerini görüntüleme</span><span class="sxs-lookup"><span data-stu-id="c4c21-151">Step 1: Displaying Product Information in the DataList</span></span>

<span data-ttu-id="c4c21-152">Biçimlendirme hakkında endişelenmeniz önce let s ilk oluşturmanız ürün bilgilerini görüntülemek için bir DataList kullanan bir sayfa.</span><span class="sxs-lookup"><span data-stu-id="c4c21-152">Before we worry about the formatting, let s first create a page that uses a DataList to display product information.</span></span> <span data-ttu-id="c4c21-153">İçinde [önceki öğretici](displaying-data-with-the-datalist-and-repeater-controls-cs.md) DataList oluşturduğumuz, `ItemTemplate` görüntülenen her s ürün adı, kategori, tedarikçi, birim ve fiyat başına miktarı.</span><span class="sxs-lookup"><span data-stu-id="c4c21-153">In the [previous tutorial](displaying-data-with-the-datalist-and-repeater-controls-cs.md) we created a DataList whose `ItemTemplate` displayed each product s name, category, supplier, quantity per unit, and price.</span></span> <span data-ttu-id="c4c21-154">Burada bu işlev Bu öğreticide yineleyin s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-154">Let s repeat this functionality here in this tutorial.</span></span> <span data-ttu-id="c4c21-155">Bunu gerçekleştirmek için DataList ve alt ObjectDataSource sıfırdan ya da yeniden veya önceki öğreticide oluşturduğunuz sayfasından bu denetimleri kopyalayabilirsiniz (`Basics.aspx`) ve bunları Bu öğretici için sayfaya yapıştırın (`Formatting.aspx`).</span><span class="sxs-lookup"><span data-stu-id="c4c21-155">To accomplish this, you can either recreate the DataList and its ObjectDataSource from scratch, or you can copy over those controls from the page created in the previous tutorial (`Basics.aspx`) and paste them into the page for this tutorial (`Formatting.aspx`).</span></span>

<span data-ttu-id="c4c21-156">DataList ve ObjectDataSource işlevinden çoğaltıldıktan sonra `Basics.aspx` içine `Formatting.aspx`, s DataList değiştirmek için bir dakikanızı ayırın `ID` özelliğinden `DataList1` daha açıklayıcı için `ItemDataBoundFormattingExample`.</span><span class="sxs-lookup"><span data-stu-id="c4c21-156">Once you have replicated the DataList and ObjectDataSource functionality from `Basics.aspx` into `Formatting.aspx`, take a moment to change the DataList s `ID` property from `DataList1` to a more descriptive `ItemDataBoundFormattingExample`.</span></span> <span data-ttu-id="c4c21-157">Ardından, bir tarayıcıda DataList görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="c4c21-157">Next, view the DataList in a browser.</span></span> <span data-ttu-id="c4c21-158">Şekil 1'de görüldüğü gibi yalnızca biçimlendirme arasındaki her ürünün arka plan rengini diğerleri farktır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-158">As Figure 1 shows, the only formatting difference between each product is that the background color alternates.</span></span>


<span data-ttu-id="c4c21-159">[![Ürünler DataList denetiminde listelenir](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image2.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c4c21-159">[![The Products are Listed in the DataList Control](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image2.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="c4c21-160">**Şekil 1**: ürünleri DataList denetiminde listelenen ([tam boyutlu görüntüyü görüntülemek için tıklatın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="c4c21-160">**Figure 1**: The Products are Listed in the DataList Control ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image3.png))</span></span>


<span data-ttu-id="c4c21-161">Bu öğretici için DataList ürünlerden $20,00'den bir fiyat ile hem de kendi adına sahip olacaktır ve birim fiyat vurgulanan sarı gibi biçimlendirin s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-161">For this tutorial, let s format the DataList such that any products with a price less than $20.00 will have both its name and unit price highlighted yellow.</span></span>

## <a name="step-2-programmatically-determining-the-value-of-the-data-in-the-itemdatabound-event-handler"></a><span data-ttu-id="c4c21-162">2. adım: Program aracılığıyla ItemDataBound olay işleyicisi verilerde değerini belirleme</span><span class="sxs-lookup"><span data-stu-id="c4c21-162">Step 2: Programmatically Determining the Value of the Data in the ItemDataBound Event Handler</span></span>

<span data-ttu-id="c4c21-163">Uygulanan özel biçimlendirme yalnızca bir fiyatla $20,00 altında ürünleri sahip olduğundan, biz her ürün s fiyat belirlemek mümkün olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-163">Since only those products with a price under $20.00 will have the custom formatting applied, we must be able to determine each product s price.</span></span> <span data-ttu-id="c4c21-164">Bir DataList veri bağlama sırasında DataList kendi veri kaynağı kayıtları numaralandırır ve her bir kayıt oluşturur bir `DataListItem` örneği, veri kaynağı kaydı bağlama `DataListItem`.</span><span class="sxs-lookup"><span data-stu-id="c4c21-164">When binding data to a DataList, the DataList enumerates the records in its data source and, for each record, creates a `DataListItem` instance, binding the data source record to the `DataListItem`.</span></span> <span data-ttu-id="c4c21-165">Belirli bir kayıtla sonra s geçerli veri bağlandı `DataListItem` nesnesi, s DataList `ItemDataBound` olay tetiklenir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-165">After the particular record s data has been bound to the current `DataListItem` object, the DataList s `ItemDataBound` event is fired.</span></span> <span data-ttu-id="c4c21-166">Geçerli veri değerlerini incelemek bu olay için bir olay işleyicisi oluşturabiliriz `DataListItem` ve bu değerleri alarak, tüm biçimlendirme gerekli değişiklikleri yapın.</span><span class="sxs-lookup"><span data-stu-id="c4c21-166">We can create an event handler for this event to inspect the data values for the current `DataListItem` and, based upon those values, make any formatting changes necessary.</span></span>

<span data-ttu-id="c4c21-167">Oluşturma bir `ItemDataBound` DataList olayı ve aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="c4c21-167">Create an `ItemDataBound` event for the DataList and add the following code:</span></span>


[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample1.cs)]

<span data-ttu-id="c4c21-168">While s DataList ardındaki semantik ve kavram `ItemDataBound` olay işleyicisi GridView s tarafından kullanılanlarla aynı olan `RowDataBound` olay işleyicisini *özel biçimlendirme göre bağlı verileri* öğretici, sözdizimi farklıdır biraz.</span><span class="sxs-lookup"><span data-stu-id="c4c21-168">While the concept and semantics behind the DataList s `ItemDataBound` event handler are the same as those used by the GridView s `RowDataBound` event handler in the *Custom Formatting Based Upon Data* tutorial, the syntax differs slightly.</span></span> <span data-ttu-id="c4c21-169">Zaman `ItemDataBound` olay ateşlenir `DataListItem` yalnızca verilere bağlama ile ilgili olay işleyicisine geçirilir `e.Item` (yerine `e.Row`, GridView s olarak `RowDataBound` olay işleyicisi).</span><span class="sxs-lookup"><span data-stu-id="c4c21-169">When the `ItemDataBound` event fires, the `DataListItem` just bound to data is passed into corresponding event handler via `e.Item` (instead of `e.Row`, as with the GridView s `RowDataBound` event handler).</span></span> <span data-ttu-id="c4c21-170">S DataList `ItemDataBound` olay işleyicisi harekete *her* üstbilgi satırlarını, altbilgi satırları ve satır ayırıcı dahil DataList için eklenen satır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-170">The DataList s `ItemDataBound` event handler fires for *each* row added to the DataList, including header rows, footer rows, and separator rows.</span></span> <span data-ttu-id="c4c21-171">Ancak, ürün bilgilerini yalnızca veri satırlarına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-171">However, the product information is only bound to the data rows.</span></span> <span data-ttu-id="c4c21-172">Bu nedenle, kullanırken `ItemDataBound` verileri incelemek için olay DataList bağımlı, ilk emin olmak ihtiyacımız biz sahip veri öğesi çalışma re.</span><span class="sxs-lookup"><span data-stu-id="c4c21-172">Therefore, when using the `ItemDataBound` event to inspect the data bound to the DataList, we need to first ensure that we re working with a data item.</span></span> <span data-ttu-id="c4c21-173">Bu denetleyerek gerçekleştirilebilir `DataListItem` s [ `ItemType` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.itemtype.aspx), hangi aşağıdakilerden biri olabilir [aşağıdaki sekiz değerleri](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listitemtype.aspx):</span><span class="sxs-lookup"><span data-stu-id="c4c21-173">This can be accomplished by checking the `DataListItem` s [`ItemType` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datalistitem.itemtype.aspx), which can have one of [the following eight values](https://msdn.microsoft.com/library/system.web.ui.webcontrols.listitemtype.aspx):</span></span>

- `AlternatingItem`
- `EditItem`
- `Footer`
- `Header`
- `Item`
- `Pager`
- `SelectedItem`
- `Separator`

<span data-ttu-id="c4c21-174">Her ikisi de `Item` ve `AlternatingItem``DataListItem` s oluşma şekli DataList s veri öğeleri.</span><span class="sxs-lookup"><span data-stu-id="c4c21-174">Both `Item` and `AlternatingItem``DataListItem` s makeup the DataList s data items.</span></span> <span data-ttu-id="c4c21-175">Varsayılarak biz çalışmaya bir `Item` veya `AlternatingItem`, biz gerçek erişim `ProductsRow` geçerli bağlıydı örneği `DataListItem`.</span><span class="sxs-lookup"><span data-stu-id="c4c21-175">Assuming we re working with an `Item` or `AlternatingItem`, we access the actual `ProductsRow` instance that was bound to the current `DataListItem`.</span></span> <span data-ttu-id="c4c21-176">`DataListItem` s [ `DataItem` özelliği](https://msdn.microsoft.com/system.web.ui.webcontrols.datalistitem.dataitem.aspx) başvuruyor `DataRowView` nesnesi, özelliği `Row` özelliği, gerçek bir başvuru sağlar `ProductsRow` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-176">The `DataListItem` s [`DataItem` property](https://msdn.microsoft.com/system.web.ui.webcontrols.datalistitem.dataitem.aspx) contains a reference to the `DataRowView` object, whose `Row` property provides a reference to the actual `ProductsRow` object.</span></span>

<span data-ttu-id="c4c21-177">Ardından, biz denetleyin `ProductsRow` örneği s `UnitPrice` özelliği.</span><span class="sxs-lookup"><span data-stu-id="c4c21-177">Next, we check the `ProductsRow` instance s `UnitPrice` property.</span></span> <span data-ttu-id="c4c21-178">S Ürünler tablosunun itibaren `UnitPrice` alan verir `NULL` erişmeye çalışmadan önce değerleri, `UnitPrice` özelliği biz öncelikle kontrol etmelidir olup olmadığını görmek için bir `NULL` kullanarak değer `IsUnitPriceNull()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-178">Since the Products table s `UnitPrice` field allows `NULL` values, before attempting to access the `UnitPrice` property we should first check to see if it has a `NULL` value using the `IsUnitPriceNull()` method.</span></span> <span data-ttu-id="c4c21-179">Varsa `UnitPrice` değeri değil `NULL`, biz sonra onay olmadığını görmek için bu s $20,00 küçüktür.</span><span class="sxs-lookup"><span data-stu-id="c4c21-179">If the `UnitPrice` value is not `NULL`, we then check to see if it s less than $20.00.</span></span> <span data-ttu-id="c4c21-180">$20,00 gerçekten altında etkinleştirilmişse, ardından özel biçimlendirme uygulamak ihtiyacımız.</span><span class="sxs-lookup"><span data-stu-id="c4c21-180">If it is indeed under $20.00, we then need to apply the custom formatting.</span></span>

## <a name="step-3-highlighting-the-product-s-name-and-price"></a><span data-ttu-id="c4c21-181">3. adım: Ürün adı ve fiyat vurgulama</span><span class="sxs-lookup"><span data-stu-id="c4c21-181">Step 3: Highlighting the Product s Name and Price</span></span>

<span data-ttu-id="c4c21-182">Bir ürün s fiyat değerinden $20,00 olduğunu biliyoruz sonra kalan tek şey adını ve fiyat vurgulayın.</span><span class="sxs-lookup"><span data-stu-id="c4c21-182">Once we know that a product s price is less than $20.00, all that remains is to highlight its name and price.</span></span> <span data-ttu-id="c4c21-183">Bunu başarmak için biz ilk program aracılığıyla etiket denetimlerinde başvurmalıdır `ItemTemplate` fiyat ve ürün s adını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="c4c21-183">To accomplish this, we must first programmatically reference the Label controls in the `ItemTemplate` that display the product s name and price.</span></span> <span data-ttu-id="c4c21-184">Ardından, bunları sarı bir arka plan görüntülemek ihtiyacımız.</span><span class="sxs-lookup"><span data-stu-id="c4c21-184">Next, we need to have them display a yellow background.</span></span> <span data-ttu-id="c4c21-185">Bu biçimlendirme bilgilerini doğrudan etiketleri değiştirerek uygulanabilir `BackColor` özellikleri (`LabelID.BackColor = Color.Yellow`); ideal olarak, tüm ilgili görüntüleme önemlidir geçişli stil sayfaları yine de ifade edilmelidir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-185">This formatting information can be applied by directly modifying the Labels `BackColor` properties (`LabelID.BackColor = Color.Yellow`); ideally, though, all display-related matters should be expressed through cascading stylesheets.</span></span> <span data-ttu-id="c4c21-186">Aslında, biz istenen tanımlanan biçimlendirme sağlayan bir stil zaten `Styles.css`  -  `AffordablePriceEmphasis`, oluşturulan ve ele *özel biçimlendirme göre bağlı verileri* Öğreticisi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-186">In fact, we already have a stylesheet that provides the desired formatting defined in `Styles.css` - `AffordablePriceEmphasis`, which was created and discussed in the *Custom Formatting Based Upon Data* tutorial.</span></span>

<span data-ttu-id="c4c21-187">Biçimlendirme uygulamak üzere yalnızca iki etiket Web denetimleri Ayarla `CssClass` özelliklerine `AffordablePriceEmphasis`aşağıdaki kodda gösterildiği gibi:</span><span class="sxs-lookup"><span data-stu-id="c4c21-187">To apply the formatting, simply set the two Label Web controls `CssClass` properties to `AffordablePriceEmphasis`, as shown in the following code:</span></span>


[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample2.cs)]

<span data-ttu-id="c4c21-188">İle `ItemDataBound` olay işleyicisi tamamlandı, yeniden ziyaret `Formatting.aspx` sayfasını bir tarayıcıda.</span><span class="sxs-lookup"><span data-stu-id="c4c21-188">With the `ItemDataBound` event handler completed, revisit the `Formatting.aspx` page in a browser.</span></span> <span data-ttu-id="c4c21-189">Şekil 2 gösterildiği gibi bir fiyat $20,00 altında bu ürünlerle hem adı hem de vurgulanan fiyat sahip.</span><span class="sxs-lookup"><span data-stu-id="c4c21-189">As Figure 2 illustrates, those products with a price under $20.00 have both their name and price highlighted.</span></span>


<span data-ttu-id="c4c21-190">[![Bu ürünler sayısından az $20,00 vurgulanır](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image5.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="c4c21-190">[![Those Products Less than $20.00 are Highlighted](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image5.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image4.png)</span></span>

<span data-ttu-id="c4c21-191">**Şekil 2**: Bu ürünleri sayısından az $20,00 vurgulanır ([tam boyutlu görüntüyü görüntülemek için tıklatın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="c4c21-191">**Figure 2**: Those Products Less than $20.00 are Highlighted ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image6.png))</span></span>


> [!NOTE]
> <span data-ttu-id="c4c21-192">DataList bir HTML olarak işlenen beri `<table>`, kendi `DataListItem` örnekleri belirli bir stil tüm öğeye uygulamak üzere ayarlanabilir stili ilgili özellikleri vardır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-192">Since the DataList is rendered as an HTML `<table>`, its `DataListItem` instances have style-related properties that can be set to apply a specific style to the entire item.</span></span> <span data-ttu-id="c4c21-193">Örneğin, vurgulamak istediyseniz *tüm* öğesi kendi fiyat değerinden $20,00 olduğunda sarı, biz etiketleri başvurulan kod değiştirilen ve ayarlayın kendi `CssClass` aşağıdaki kod satırını özelliklerle: `e.Item.CssClass = "AffordablePriceEmphasis"` (bkz. Şekil 3).</span><span class="sxs-lookup"><span data-stu-id="c4c21-193">For example, if we wanted to highlight the *entire* item yellow when its price was less than $20.00, we could have replaced the code that referenced the Labels and set their `CssClass` properties with the following line of code: `e.Item.CssClass = "AffordablePriceEmphasis"` (see Figure 3).</span></span>


<span data-ttu-id="c4c21-194">`RepeaterItem` Yineleyici denetimi oluşturan ancak tan t olun s gibi stili düzeyi özellikleri sunar.</span><span class="sxs-lookup"><span data-stu-id="c4c21-194">The `RepeaterItem` s that make up the Repeater control, however, don t offer such style-level properties.</span></span> <span data-ttu-id="c4c21-195">Bu nedenle, Şekil 2'de komutlarında yaptığımız gibi stil özelliklerini uygulama yineleyici s şablonlar içindeki Web denetimleri için bir özel yineleyici biçimlendirme uygulama gerektirir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-195">Therefore, applying custom formatting to the Repeater requires the application of style properties to the Web controls within the Repeater s templates, just like we did in Figure 2.</span></span>


<span data-ttu-id="c4c21-196">[![Tüm ürün ürünleri altında için $20,00 vurgulanmış](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image8.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c4c21-196">[![The Entire Product Item is Highlighted for Products Under $20.00](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image8.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image7.png)</span></span>

<span data-ttu-id="c4c21-197">**Şekil 3**: tüm ürün vurgulanmış ürünleri altında için $20,00 ([tam boyutlu görüntüyü görüntülemek için tıklatın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="c4c21-197">**Figure 3**: The Entire Product Item is Highlighted for Products Under $20.00 ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image9.png))</span></span>


## <a name="using-formatting-functions-from-within-the-template"></a><span data-ttu-id="c4c21-198">Şablon biçimlendirme işlevler kullanma</span><span class="sxs-lookup"><span data-stu-id="c4c21-198">Using Formatting Functions from Within the Template</span></span>

<span data-ttu-id="c4c21-199">İçinde *kullanarak TemplateFields GridView denetiminde* GridView TemplateField biçimlendirme işlevindeki verilerine göre özel biçimlendirme uygulamak için nasıl kullanılacağını gördüğümüz öğretici GridView s satırlarına bağlı.</span><span class="sxs-lookup"><span data-stu-id="c4c21-199">In the *Using TemplateFields in the GridView Control* tutorial we saw how to use a formatting function within a GridView TemplateField to apply custom formatting based upon the data bound to the GridView s rows.</span></span> <span data-ttu-id="c4c21-200">Biçimlendirme işlevi bir şablondan çağrılabilir ve onun yerine yayınlaması için HTML döndüren bir yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-200">A formatting function is a method that can be invoked from a template and returns the HTML to be emitted in its place.</span></span> <span data-ttu-id="c4c21-201">Biçimlendirme işlevleri ASP.NET sayfası s arka plan kodu sınıfında bulunabilir veya sınıf dosyalarına Merkezi `App_Code` klasör veya ayrı bir sınıf kitaplığı proje.</span><span class="sxs-lookup"><span data-stu-id="c4c21-201">Formatting functions can reside in the ASP.NET page s code-behind class or can be centralized into class files in the `App_Code` folder or in a separate Class Library project.</span></span> <span data-ttu-id="c4c21-202">Birden çok ASP.NET sayfaları veya diğer ASP.NET web uygulamalarını aynı biçimlendirme işlevi kullanmayı planlıyorsanız, ASP.NET sayfası s arka plandaki kod sınıfı dışında biçimlendirme işlevi taşıma idealdir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-202">Moving the formatting function out of the ASP.NET page s code-behind class is ideal if you plan on using the same formatting function in multiple ASP.NET pages or in other ASP.NET web applications.</span></span>

<span data-ttu-id="c4c21-203">Let s biçimlendirme işlevleri tanıtmak için metni [üretimi DURDURULMUŞ] ve ürün s adının yanındaki varsa içeren ürün bilgilerini sahip onu s devam etmez.</span><span class="sxs-lookup"><span data-stu-id="c4c21-203">To demonstrate formatting functions, let s have the product information include the text [DISCONTINUED] next to the product s name if it s discontinued.</span></span> <span data-ttu-id="c4c21-204">Ayrıca, let s sahip fiyat vurgulanan sarı ise, s $20,00'den (biz yaptığınız gibi `ItemDataBound` olay işleyicisi örnek); $20,00 fiyatıdır veya daha yüksek, let s gerçek fiyat görüntüleme, ancak bunun yerine metin, lütfen çağırmak için bir fiyat teklifi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-204">Also, let s have the price highlighted yellow if it s less than $20.00 (as we did in the `ItemDataBound` event handler example); if the price is $20.00 or higher, let s not display the actual price, but instead the text, Please call for a price quote.</span></span> <span data-ttu-id="c4c21-205">Şekil 4 uygulanan kurallar biçimlendirme ile listeleme ürünleri ekran görüntüsü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-205">Figure 4 shows a screen shot of the products listing with these formatting rules applied.</span></span>


<span data-ttu-id="c4c21-206">[![Pahalı ürünler için fiyat Lütfen çağrısı fiyat teklifi için bir metin ile değiştirilir](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image11.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="c4c21-206">[![For Expensive Products, the Price is Replaced with the Text, Please call for a price quote](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image11.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image10.png)</span></span>

<span data-ttu-id="c4c21-207">**Şekil 4**: pahalı ürünler için lütfen çağrısı fiyat teklifi için bir metin ile fiyat değiştirilir ([tam boyutlu görüntüyü görüntülemek için tıklatın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="c4c21-207">**Figure 4**: For Expensive Products, the Price is Replaced with the Text, Please call for a price quote ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image12.png))</span></span>


## <a name="step-1-create-the-formatting-functions"></a><span data-ttu-id="c4c21-208">1. adım: biçimlendirme işlevleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="c4c21-208">Step 1: Create the Formatting Functions</span></span>

<span data-ttu-id="c4c21-209">Vurgulanan bir fiyat görüntüler bu örneğin iki biçimlendirme işlevleri, gerekirse metni [üretimi DURDURULMUŞ] yanı sıra ürün adı görüntüleyen, diğeri ihtiyacımız onu s $20,00 ya da metin, aksi takdirde bir fiyat teklifi için lütfen çağırın.</span><span class="sxs-lookup"><span data-stu-id="c4c21-209">For this example we need two formatting functions, one that displays the product name along with the text [DISCONTINUED], if needed, and another that displays either a highlighted price if it s less than $20.00, or the text, Please call for a price quote otherwise.</span></span> <span data-ttu-id="c4c21-210">Bu işlevler ASP.NET sayfası s arka plandaki kod sınıfı oluşturmak ve bunları s izin `DisplayProductNameAndDiscontinuedStatus` ve `DisplayPrice`.</span><span class="sxs-lookup"><span data-stu-id="c4c21-210">Let s create these functions in the ASP.NET page s code-behind class and name them `DisplayProductNameAndDiscontinuedStatus` and `DisplayPrice`.</span></span> <span data-ttu-id="c4c21-211">Bir dize olarak işlemek için HTML döndürmek iki yöntem gerekir ve her ikisi de işaretlenmesi gerek `Protected` (veya `Public`) ASP.NET sayfası s Tanımlayıcı Sözdizimi kısımlarından çağrılması için.</span><span class="sxs-lookup"><span data-stu-id="c4c21-211">Both methods need to return the HTML to render as a string and both need to be marked `Protected` (or `Public`) in order to be invoked from the ASP.NET page s declarative syntax portion.</span></span> <span data-ttu-id="c4c21-212">Bu iki yöntem için kod aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="c4c21-212">The code for these two methods follows:</span></span>


[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample3.cs)]

<span data-ttu-id="c4c21-213">Unutmayın `DisplayProductNameAndDiscontinuedStatus` yöntemi değerlerini kabul `productName` ve `discontinued` veri alanları skaler değerler ancak `DisplayPrice` yöntemi kabul bir `ProductsRow` örneği (yerine bir `unitPrice` skaler değer).</span><span class="sxs-lookup"><span data-stu-id="c4c21-213">Note that the `DisplayProductNameAndDiscontinuedStatus` method accepts the values of the `productName` and `discontinued` data fields as scalar values, whereas the `DisplayPrice` method accepts a `ProductsRow` instance (rather than a `unitPrice` scalar value).</span></span> <span data-ttu-id="c4c21-214">Her iki yaklaşım çalışır; Ancak, biçimlendirme işlevi veritabanı içeren bir skaler değerler ile çalışıp çalışmadığını `NULL` değerleri (gibi `UnitPrice`; hiçbiri `ProductName` ya da `Discontinued` izin `NULL` değerleri), özellikle dikkat bu işleme alınması gerekir skaler girişleri.</span><span class="sxs-lookup"><span data-stu-id="c4c21-214">Either approach will work; however, if the formatting function is working with scalar values that can contain database `NULL` values (such as `UnitPrice`; neither `ProductName` nor `Discontinued` allow `NULL` values), special care must be taken in handling these scalar inputs.</span></span>

<span data-ttu-id="c4c21-215">Giriş parametresi türü özellikle olmalıdır `Object` gelen değeri olabileceğinden bir `DBNull` beklenen veri türü yerine örneği.</span><span class="sxs-lookup"><span data-stu-id="c4c21-215">In particular, the input parameter must be of type `Object` since the incoming value might be a `DBNull` instance instead of the expected data type.</span></span> <span data-ttu-id="c4c21-216">Ayrıca, bir onay gelen değeri bir veritabanı olup olmadığını belirlemek için yapılması gerekir `NULL` değeri.</span><span class="sxs-lookup"><span data-stu-id="c4c21-216">Additionally, a check must be made to determine whether or not the incoming value is a database `NULL` value.</span></span> <span data-ttu-id="c4c21-217">Diğer bir deyişle, biz istediyseniz `DisplayPrice` fiyat bir skaler değer olarak, biz d kabul etmek için bir yöntemi olması aşağıdaki kodu kullanmak:</span><span class="sxs-lookup"><span data-stu-id="c4c21-217">That is, if we wanted the `DisplayPrice` method to accept the price as a scalar value, we d have to use the following code:</span></span>


[!code-csharp[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample4.cs)]

<span data-ttu-id="c4c21-218">Unutmayın `unitPrice` giriş parametresidir türü `Object` ve koşul deyimi, onaylaması için değiştirilmiş `unitPrice` olan `DBNull` veya değil.</span><span class="sxs-lookup"><span data-stu-id="c4c21-218">Note that the `unitPrice` input parameter is of type `Object` and that the conditional statement has been modified to ascertain if `unitPrice` is `DBNull` or not.</span></span> <span data-ttu-id="c4c21-219">Ayrıca, bu yana `unitPrice` giriş parametresi geçirilir olarak bir `Object`, ondalık bir değeri dönüştürmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-219">Furthermore, since the `unitPrice` input parameter is passed in as an `Object`, it must be cast to a decimal value.</span></span>

## <a name="step-2-calling-the-formatting-function-from-the-datalist-s-itemtemplate"></a><span data-ttu-id="c4c21-220">2. adım: DataList s ItemTemplate biçimlendirme işlevi çağırma</span><span class="sxs-lookup"><span data-stu-id="c4c21-220">Step 2: Calling the Formatting Function from the DataList s ItemTemplate</span></span>

<span data-ttu-id="c4c21-221">Bizim ASP.NET sayfası s arka plandaki kod sınıfı eklenen biçimlendirme işlevleriyle kalan tek şey bu s DataList işlevlerden biçimlendirme çağrılacak `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c4c21-221">With the formatting functions added to our ASP.NET page s code-behind class, all that remains is to invoke these formatting functions from the DataList s `ItemTemplate`.</span></span> <span data-ttu-id="c4c21-222">Bir şablondan biçimlendirme bir işlevi çağırmak için databinding söz dizimi içinde işlev çağrısı koyun:</span><span class="sxs-lookup"><span data-stu-id="c4c21-222">To call a formatting function from a template, place the function call within the databinding syntax:</span></span>


[!code-aspx[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample5.aspx)]

<span data-ttu-id="c4c21-223">S DataList içinde `ItemTemplate` `ProductNameLabel` etiket Web denetimi şu anda atayarak ürün s adını görüntüler, `Text` özelliği sonucu, `<%# Eval("ProductName") %>`.</span><span class="sxs-lookup"><span data-stu-id="c4c21-223">In the DataList s `ItemTemplate` the `ProductNameLabel` Label Web control currently displays the product s name by assigning its `Text` property the result of `<%# Eval("ProductName") %>`.</span></span> <span data-ttu-id="c4c21-224">Bunun yerine atar olması için gerektiğinde adına ve [üretimi DURDURULMUŞ] metni görüntülemek Tanımlayıcı Sözdizimi güncelleştirerek `Text` özellik değeri, `DisplayProductNameAndDiscontinuedStatus` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-224">In order to have it display the name plus the text [DISCONTINUED], if needed, update the declarative syntax so that it instead assigns the `Text` property the value of the `DisplayProductNameAndDiscontinuedStatus` method.</span></span> <span data-ttu-id="c4c21-225">Bunun yapılması, biz s ürün adı ve devam etmeyen değerlerini kullanarak geçmelidir `Eval("columnName")` sözdizimi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-225">When doing so, we must pass in the product s name and discontinued values using the `Eval("columnName")` syntax.</span></span> <span data-ttu-id="c4c21-226">`Eval` türünde bir değer döndürür `Object`, ancak `DisplayProductNameAndDiscontinuedStatus` yöntemi türü giriş parametreleri bekliyor `String` ve `Boolean`; bu nedenle, tarafından döndürülen değer dönüştürmeniz gerekir `Eval` yöntemine beklenen giriş parametre türleri şu şekilde:</span><span class="sxs-lookup"><span data-stu-id="c4c21-226">`Eval` returns a value of type `Object`, but the `DisplayProductNameAndDiscontinuedStatus` method expects input parameters of type `String` and `Boolean`; therefore, we must cast the values returned by the `Eval` method to the expected input parameter types, like so:</span></span>


[!code-aspx[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample6.aspx)]

<span data-ttu-id="c4c21-227">Fiyat görüntülemek için biz yalnızca ayarlayabilirsiniz `UnitPriceLabel` etiket s `Text` tarafından döndürülen değer özelliğine `DisplayPrice` yalnızca biz ürün s adını görüntülemek için yaptığınız ve [metin DÖNÜŞTÜRÜLMESİNE] gibi yöntemi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-227">To display the price, we can simply set the `UnitPriceLabel` Label s `Text` property to the value returned by the `DisplayPrice` method, just like we did for displaying the product s name and [DISCONTINUED] text.</span></span> <span data-ttu-id="c4c21-228">Ancak, bilgilerinde yerine `UnitPrice` skaler bir giriş parametresi olarak biz bunun yerine tüm geçirmek `ProductsRow` örneği:</span><span class="sxs-lookup"><span data-stu-id="c4c21-228">However, instead of passing in the `UnitPrice` as a scalar input parameter, we instead pass in the entire `ProductsRow` instance:</span></span>


[!code-aspx[Main](formatting-the-datalist-and-repeater-based-upon-data-cs/samples/sample7.aspx)]

<span data-ttu-id="c4c21-229">Yerinde biçimlendirme işlevlere çağrılarla bir tarayıcıda bizim ilerleme durumunu görüntülemek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="c4c21-229">With the calls to the formatting functions in place, take a moment to view our progress in a browser.</span></span> <span data-ttu-id="c4c21-230">Ekranınızın [üretimi DURDURULMUŞ] metni dahil olmak üzere devam etmeyen ürünleriyle Şekil 5'e benzer görünmelidir ve birden fazla $ kendi fiyat sahip 20,00 maliyeti bu ürünlerden metinle çağrısı fiyat teklifi için lütfen değiştirilir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-230">Your screen should look similar to Figure 5, with the discontinued products including the text [DISCONTINUED] and those products costing more than $20.00 having their price replaced with the text Please call for a price quote .</span></span>


<span data-ttu-id="c4c21-231">[![Pahalı ürünler için fiyat Lütfen çağrısı fiyat teklifi için bir metin ile değiştirilir](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image14.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="c4c21-231">[![For Expensive Products, the Price is Replaced with the Text, Please call for a price quote](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image14.png)](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image13.png)</span></span>

<span data-ttu-id="c4c21-232">**Şekil 5**: pahalı ürünler için lütfen çağrısı fiyat teklifi için bir metin ile fiyat değiştirilir ([tam boyutlu görüntüyü görüntülemek için tıklatın](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="c4c21-232">**Figure 5**: For Expensive Products, the Price is Replaced with the Text, Please call for a price quote ([Click to view full-size image](formatting-the-datalist-and-repeater-based-upon-data-cs/_static/image15.png))</span></span>


## <a name="summary"></a><span data-ttu-id="c4c21-233">Özet</span><span class="sxs-lookup"><span data-stu-id="c4c21-233">Summary</span></span>

<span data-ttu-id="c4c21-234">Verilere bağlı bir DataList veya yineleyici denetiminin içeriğini biçimlendirme, iki teknikler kullanılarak gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-234">Formatting the contents of a DataList or Repeater control based upon the data can be accomplished using two techniques.</span></span> <span data-ttu-id="c4c21-235">Bir olay işleyicisi oluşturmak için ilk tekniktir `ItemDataBound` veri kaynağındaki her kayıt yeni bir bağlı olarak hangi harekete olay `DataListItem` veya `RepeaterItem`.</span><span class="sxs-lookup"><span data-stu-id="c4c21-235">The first technique is to create an event handler for the `ItemDataBound` event, which fires as each record in the data source is bound to a new `DataListItem` or `RepeaterItem`.</span></span> <span data-ttu-id="c4c21-236">İçinde `ItemDataBound` olay işleyicisi geçerli s öğesi verileri incelenebilir ve ardından biçimlendirme uygulanabilir şablonunun veya için içeriğini `DataListItem` tüm öğeye s.</span><span class="sxs-lookup"><span data-stu-id="c4c21-236">In the `ItemDataBound` event handler, the current item s data can be examined and then formatting can be applied to the contents of the template or, for `DataListItem` s, to the entire item itself.</span></span>

<span data-ttu-id="c4c21-237">Alternatif olarak, özel biçimlendirme biçimlendirme işlevleri aracılığıyla alırlar.</span><span class="sxs-lookup"><span data-stu-id="c4c21-237">Alternatively, custom formatting can be realized through formatting functions.</span></span> <span data-ttu-id="c4c21-238">Biçimlendirme işlevi DataList çağrılabilen bir yöntem veya onun yerine yaymak üzere HTML döndürür yineleyici s şablonları kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-238">A formatting function is a method that can be invoked from the DataList or Repeater s templates that returns the HTML to emit in its place.</span></span> <span data-ttu-id="c4c21-239">Genellikle, bir biçimlendirme işlev tarafından döndürülen HTML geçerli öğeye bağlanan değerlere göre belirlenir.</span><span class="sxs-lookup"><span data-stu-id="c4c21-239">Often, the HTML returned by a formatting function is determined by the values being bound to the current item.</span></span> <span data-ttu-id="c4c21-240">Bu değerleri biçimlendirme işlevdeki skaler değerler veya öğesine bağlanan tüm nesne geçirerek geçirilebilir (gibi `ProductsRow` örnek).</span><span class="sxs-lookup"><span data-stu-id="c4c21-240">These values can be passed into the formatting function, either as scalar values or by passing in the entire object being bound to the item (such as the `ProductsRow` instance).</span></span>

<span data-ttu-id="c4c21-241">Mutluluk programlama!</span><span class="sxs-lookup"><span data-stu-id="c4c21-241">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="c4c21-242">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="c4c21-242">About the Author</span></span>

<span data-ttu-id="c4c21-243">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar ve yedi ASP/ASP.NET books kurucusu, [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileri ile bu yana 1998 çalışma.</span><span class="sxs-lookup"><span data-stu-id="c4c21-243">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c4c21-244">Tan bağımsız Danışman, eğitmen ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="c4c21-244">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c4c21-245">En son kendi defteri [ *kendi öğretmek kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="c4c21-245">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c4c21-246">Kendisi üzerinde erişilebilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) veya kendi blog hangi adresinde bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="c4c21-246">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="c4c21-247">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="c4c21-247">Special Thanks To</span></span>

<span data-ttu-id="c4c21-248">Bu öğretici seri pek çok yararlı gözden geçirenler tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="c4c21-248">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c4c21-249">Bu öğretici için sağlama gözden geçirenler Yaakov Ellis, Randy Etikan ve Liz Shulok yoktu.</span><span class="sxs-lookup"><span data-stu-id="c4c21-249">Lead reviewers for this tutorial were Yaakov Ellis, Randy Schmidt, and Liz Shulok.</span></span> <span data-ttu-id="c4c21-250">My yaklaşan MSDN makaleleri gözden geçirme ilginizi çekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="c4c21-250">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="c4c21-251">Öyleyse, bana bir satırında bırakma [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c4c21-251">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c4c21-252">[Önceki](displaying-data-with-the-datalist-and-repeater-controls-cs.md)
> [sonraki](showing-multiple-records-per-row-with-the-datalist-control-cs.md)</span><span class="sxs-lookup"><span data-stu-id="c4c21-252">[Previous](displaying-data-with-the-datalist-and-repeater-controls-cs.md)
[Next](showing-multiple-records-per-row-with-the-datalist-control-cs.md)</span></span>

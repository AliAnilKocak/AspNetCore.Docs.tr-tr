---
uid: web-forms/overview/data-access/enhancing-the-gridview/inserting-a-new-record-from-the-gridview-s-footer-cs
title: "GridView'ın altbilginin (C#) yeni bir kayıt ekleme | Microsoft Docs"
author: rick-anderson
description: "GridView denetiminin verilerin yeni bir kayıt eklemek için yerleşik destek sağlamaz, ancak bu öğreticide içerecek şekilde GridView büyütmek gösterilmektedir bir..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/06/2007
ms.topic: article
ms.assetid: 49545652-98af-46ba-9dbc-9ab529805d9b
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/inserting-a-new-record-from-the-gridview-s-footer-cs
msc.type: authoredcontent
ms.openlocfilehash: b0208b4df0194abaf37f7f9ac66c9ce24c35d721
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/10/2017
---
<a name="inserting-a-new-record-from-the-gridviews-footer-c"></a><span data-ttu-id="8dea6-103">GridView'ın altbilginin (C#) yeni bir kayıt ekleme</span><span class="sxs-lookup"><span data-stu-id="8dea6-103">Inserting a New Record from the GridView's Footer (C#)</span></span>
====================
<span data-ttu-id="8dea6-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="8dea6-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="8dea6-105">[Örnek uygulamayı indirin](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_53_CS.exe) veya [PDF indirin](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/datatutorial53cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="8dea6-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_53_CS.exe) or [Download PDF](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/datatutorial53cs1.pdf)</span></span>

> <span data-ttu-id="8dea6-106">GridView denetiminin verilerin yeni bir kayıt eklemek için yerleşik destek sağlamaz, ancak bu öğreticide ekleme arabirim içerecek şekilde GridView büyütmek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-106">While the GridView control does not provide built-in support for inserting a new record of data, this tutorial shows how to augment the GridView to include an inserting interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="8dea6-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="8dea6-107">Introduction</span></span>

<span data-ttu-id="8dea6-108">' Da anlatıldığı gibi [, bir genel bakış ekleme, güncelleştirme ve silme veri](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) Öğreticisi, GridView, DetailsView ve FormView Web denetimleri her yerleşik veri değişikliği özellikleri içerir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-108">As discussed in the [An Overview of Inserting, Updating, and Deleting Data](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) tutorial, the GridView, DetailsView, and FormView Web controls each include built-in data modification capabilities.</span></span> <span data-ttu-id="8dea6-109">Bildirim temelli veri kaynağı denetimleri ile kullanıldığında, bu üç Web denetimleri hızla ve kolayca verileri - değiştirmek için yapılandırılabilir ve tek satırlık bir kod yazmaya gerek kalmadan senaryolarda.</span><span class="sxs-lookup"><span data-stu-id="8dea6-109">When used with declarative data source controls, these three Web controls can be quickly and easily configured to modify data - and in scenarios without needing to write a single line of code.</span></span> <span data-ttu-id="8dea6-110">Ne yazık ki, yalnızca DetailsView ve FormView denetimleri yerleşik ekleme, düzenleme ve silme yetenekleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="8dea6-110">Unfortunately, only the DetailsView and FormView controls provide built-in inserting, editing, and deleting capabilities.</span></span> <span data-ttu-id="8dea6-111">GridView, düzenleme ve silme desteği yalnızca sunar.</span><span class="sxs-lookup"><span data-stu-id="8dea6-111">The GridView only offers editing and deleting support.</span></span> <span data-ttu-id="8dea6-112">Ancak, biraz dirsek yağ ile biz GridView ekleme arabirim içerecek şekilde genişletebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8dea6-112">However, with a little elbow grease, we can augment the GridView to include an inserting interface.</span></span>

<span data-ttu-id="8dea6-113">GridView ekleme özellikleri eklemek, biz nasıl yeni kayıtlarda eklenecek karar verme, ekleme arabirimi oluşturma ve yeni kayıt eklemek için kod yazma sorumludur.</span><span class="sxs-lookup"><span data-stu-id="8dea6-113">In adding inserting capabilities to the GridView, we are responsible for deciding on how new records will be added, creating the inserting interface, and writing the code to insert the new record.</span></span> <span data-ttu-id="8dea6-114">Bu öğreticide, biz GridView s altbilgi ekleme arabirim ekleme adresindeki görüneceğini (bkz. Şekil 1 ') satır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-114">In this tutorial we will look at adding the inserting interface to the GridView s footer row (see Figure 1).</span></span> <span data-ttu-id="8dea6-115">Altbilgi hücrenin her sütun için uygun veri toplama kullanıcı arabirimi öğesi (ürün s adı metin kutusuna, DropDownList tedarikçi, vb.) içerir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-115">The footer cell for each column includes the appropriate data collection user interface element (a TextBox for the product s name, a DropDownList for the supplier, and so on).</span></span> <span data-ttu-id="8dea6-116">Ayrıca bir sütun ihtiyacımız bir Ekle düğmesi, tıklatıldığında, geri gönderimin neden ve yeni bir kayda eklemek `Products` altbilgi satırında sağlanan değerleri kullanarak tablo.</span><span class="sxs-lookup"><span data-stu-id="8dea6-116">We also need a column for an Add button that, when clicked, will cause a postback and insert a new record into the `Products` table using the values supplied in the footer row.</span></span>


<span data-ttu-id="8dea6-117">[![Altbilgi satırında yeni ürünler eklemek için bir arabirim sağlar.](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-117">[![The Footer Row Provides an Interface for Adding New Products](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image1.png)</span></span>

<span data-ttu-id="8dea6-118">**Şekil 1**: altbilgi satır ekleme yeni ürünler için bir arabirim sağlar ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-118">**Figure 1**: The Footer Row Provides an Interface for Adding New Products ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.png))</span></span>


## <a name="step-1-displaying-product-information-in-a-gridview"></a><span data-ttu-id="8dea6-119">1. adım: Bir GridView ürün bilgilerini görüntüleme</span><span class="sxs-lookup"><span data-stu-id="8dea6-119">Step 1: Displaying Product Information in a GridView</span></span>

<span data-ttu-id="8dea6-120">Biz kendisini GridView s altbilgi ekleme arabirimi oluşturmayla ilgili önce veritabanında ürünleri listeler sayfa GridView ekleme s ilk odaklanmasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-120">Before we concern ourselves with creating the inserting interface in the GridView s footer, let s first focus on adding a GridView to the page that lists the products in the database.</span></span> <span data-ttu-id="8dea6-121">Başlangıç açarak `InsertThroughFooter.aspx` sayfasındaki `EnhancedGridView` klasörü ve sürükleme GridView GridView s ayarı tasarımcıya araç `ID` özelliğine `Products`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-121">Start by opening the `InsertThroughFooter.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting the GridView s `ID` property to `Products`.</span></span> <span data-ttu-id="8dea6-122">Ardından, adlı yeni bir ObjectDataSource bağlamak için GridView s akıllı etiket kullanmak `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-122">Next, use the GridView s smart tag to bind it to a new ObjectDataSource named `ProductsDataSource`.</span></span>


<span data-ttu-id="8dea6-123">[![ProductsDataSource adlı yeni bir ObjectDataSource oluşturma](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-123">[![Create a New ObjectDataSource Named ProductsDataSource](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image2.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.png)</span></span>

<span data-ttu-id="8dea6-124">**Şekil 2**: yeni ObjectDataSource adlandırılmış oluşturma `ProductsDataSource` ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-124">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.png))</span></span>


<span data-ttu-id="8dea6-125">ObjectDataSource kullanmak için yapılandırma `ProductsBLL` s sınıfı `GetProducts()` ürün bilgisi almak için yöntem.</span><span class="sxs-lookup"><span data-stu-id="8dea6-125">Configure the ObjectDataSource to use the `ProductsBLL` class s `GetProducts()` method to retrieve product information.</span></span> <span data-ttu-id="8dea6-126">Bu öğretici için düzenleme ve silme hakkında endişelenmeniz değil ve ekleme yetenekleri ekleme s odaklanmasına kesinlikle sağlar.</span><span class="sxs-lookup"><span data-stu-id="8dea6-126">For this tutorial, let s focus strictly on adding inserting capabilities and not worry about editing and deleting.</span></span> <span data-ttu-id="8dea6-127">Bu nedenle, Ekle sekmesinde aşağı açılan listesinde ayarlamak emin olun `AddProduct()` ve UPDATE ve DELETE sekmelerdeki açılan listeleri (hiçbiri) ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-127">Therefore, make sure that the drop-down list in the INSERT tab is set to `AddProduct()` and that the drop-down lists in the UPDATE and DELETE tabs are set to (None) .</span></span>


<span data-ttu-id="8dea6-128">[![ObjectDataSource s INSERT() yönteme map AddProduct yöntemi](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-128">[![Map the AddProduct Method to the ObjectDataSource s Insert() Method](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image3.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.png)</span></span>

<span data-ttu-id="8dea6-129">**Şekil 3**: eşleme `AddProduct` yöntemi ObjectDataSource s `Insert()` yöntemi ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-129">**Figure 3**: Map the `AddProduct` Method to the ObjectDataSource s `Insert()` Method ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.png))</span></span>


<span data-ttu-id="8dea6-130">[![Güncelleştirme ve silme sekmeleri açılan listeleri (hiçbiri) ayarlayın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-130">[![Set the UPDATE and DELETE Tabs Drop-Down Lists to (None)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image4.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.png)</span></span>

<span data-ttu-id="8dea6-131">**Şekil 4**: güncelleştirme ve silme sekmelerini aşağı açılan listeler (hiçbiri) olarak ayarlayın ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-131">**Figure 4**: Set the UPDATE and DELETE Tabs Drop-Down Lists to (None) ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image8.png))</span></span>


<span data-ttu-id="8dea6-132">ObjectDataSource s veri kaynağı Yapılandırma Sihirbazı'nı tamamladıktan sonra Visual Studio otomatik olarak alanları GridView karşılık gelen veri alanların her biri için ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="8dea6-132">After completing the ObjectDataSource s Configure Data Source wizard, Visual Studio will automatically add fields to the GridView for each of the corresponding data fields.</span></span> <span data-ttu-id="8dea6-133">Şimdilik, tüm Visual Studio tarafından eklenen alanları bırakın.</span><span class="sxs-lookup"><span data-stu-id="8dea6-133">For now, leave all of the fields added by Visual Studio.</span></span> <span data-ttu-id="8dea6-134">Biz geri dönün ve kaldırmak daha sonra Bu öğreticide bazı t değerleri güncelleştireceğinizi alanları yeni bir kayıt eklerken belirtilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-134">Later in this tutorial we'll come back and remove some of the fields whose values don t need to be specified when adding a new record.</span></span>

<span data-ttu-id="8dea6-135">Veritabanında yakın 80 ürünleri olduğundan, bir kullanıcının yeni bir kayıt eklemek için bu süreç boyunca tüm web sayfasının en alta kadar kaydırın kaydırmak gereklidir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-135">Since there are close to 80 products in the database, a user will have to scroll all the way down to the bottom of the web page in order to add a new record.</span></span> <span data-ttu-id="8dea6-136">Bu nedenle, ekleme arabirimi daha görünür ve erişilebilir kılmak ICollection s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-136">Therefore, let s enable paging to make the inserting interface more visible and accessible.</span></span> <span data-ttu-id="8dea6-137">Disk belleği üzerinde etkinleştirmek için yalnızca disk belleği etkinleştirme GridView s akıllı etiket gelen onay.</span><span class="sxs-lookup"><span data-stu-id="8dea6-137">To turn on paging, simply check the Enable Paging checkbox from the GridView s smart tag.</span></span>

<span data-ttu-id="8dea6-138">Bu noktada, GridView ve ObjectDataSource s bildirim temelli biçimlendirme aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="8dea6-138">At this point, the GridView and ObjectDataSource s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample1.aspx)]


<span data-ttu-id="8dea6-139">[![Tüm ürün veri alanları disk belleğine alınan GridView görüntülenir](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-139">[![All Product Data Fields are Displayed in a Paged GridView](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image5.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.png)</span></span>

<span data-ttu-id="8dea6-140">**Şekil 5**: tüm ürün veri alanları disk belleğine alınan GridView görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-140">**Figure 5**: All Product Data Fields are Displayed in a Paged GridView ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.png))</span></span>


## <a name="step-2-adding-a-footer-row"></a><span data-ttu-id="8dea6-141">2. adım: altbilgi satır ekleme</span><span class="sxs-lookup"><span data-stu-id="8dea6-141">Step 2: Adding a Footer Row</span></span>

<span data-ttu-id="8dea6-142">Üstbilgi ve veri satırı birlikte GridView altbilgi satırı içerir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-142">Along with its header and data rows, the GridView includes a footer row.</span></span> <span data-ttu-id="8dea6-143">Üstbilgi ve altbilgi satırları GridView s değerleri bağlı olarak görüntülenen [ `ShowHeader` ](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showheader.aspx) ve [ `ShowFooter` ](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showfooter.aspx) özellikleri.</span><span class="sxs-lookup"><span data-stu-id="8dea6-143">The header and footer rows are displayed depending on the values of the GridView s [`ShowHeader`](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showheader.aspx) and [`ShowFooter`](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.gridview.showfooter.aspx) properties.</span></span> <span data-ttu-id="8dea6-144">Altbilgi satırı göstermek için basitçe ayarlayın `ShowFooter` özelliğine `true`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-144">To show the footer row, simply set the `ShowFooter` property to `true`.</span></span> <span data-ttu-id="8dea6-145">Şekil 6 gösterildiği gibi ayarı `ShowFooter` özelliğine `true` kılavuza altbilgi satır ekler.</span><span class="sxs-lookup"><span data-stu-id="8dea6-145">As Figure 6 illustrates, setting the `ShowFooter` property to `true` adds a footer row to the grid.</span></span>


<span data-ttu-id="8dea6-146">[![Altbilgi satırı görüntülemek için ShowFooter True olarak ayarlayın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-146">[![To Display the Footer Row, Set ShowFooter to True](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image6.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.png)</span></span>

<span data-ttu-id="8dea6-147">**Şekil 6**: görüntülenecek altbilgi satır kümesi `ShowFooter` için `True` ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-147">**Figure 6**: To Display the Footer Row, Set `ShowFooter` to `True` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.png))</span></span>


<span data-ttu-id="8dea6-148">Altbilgi satırı koyu kırmızı arka plan rengi olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-148">Note that the footer row has a dark red background color.</span></span> <span data-ttu-id="8dea6-149">Bu DataWebControls oluşturulur ve tüm sayfalara uygulanan temayı kaynaklandığını geri [veri ObjectDataSource ile görüntüleme](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) Öğreticisi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-149">This is due to the DataWebControls Theme we created and applied to all pages back in the [Displaying Data With the ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md) tutorial.</span></span> <span data-ttu-id="8dea6-150">Özellikle, `GridView.skin` dosyası yapılandırır `FooterStyle` kullanır, özellik böyle `FooterStyle` CSS sınıfı.</span><span class="sxs-lookup"><span data-stu-id="8dea6-150">Specifically, the `GridView.skin` file configures the `FooterStyle` property such that is uses the `FooterStyle` CSS class.</span></span> <span data-ttu-id="8dea6-151">`FooterStyle` Sınıfı tanımlanmış `Styles.css` gibi:</span><span class="sxs-lookup"><span data-stu-id="8dea6-151">The `FooterStyle` class is defined in `Styles.css` as follows:</span></span>


[!code-css[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample2.css)]

> [!NOTE]
> <span data-ttu-id="8dea6-152">Biz GridView s altbilgi satırı önceki eğitimlerine kullanarak keşfedilen Taşı.</span><span class="sxs-lookup"><span data-stu-id="8dea6-152">We ve explored using the GridView s footer row in previous tutorials.</span></span> <span data-ttu-id="8dea6-153">Gerekirse, yeniden bakın [özet bilgilerinde görüntüleme GridView'ın altbilgi](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) Yenileyici Öğreticisi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-153">If needed, refer back to the [Displaying Summary Information in the GridView's Footer](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) tutorial for a refresher.</span></span>


<span data-ttu-id="8dea6-154">Ayar sonra `ShowFooter` özelliğine `true`, çıkışı bir tarayıcıda görüntülemek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="8dea6-154">After setting the `ShowFooter` property to `true`, take a moment to view the output in a browser.</span></span> <span data-ttu-id="8dea6-155">Şu anda altbilgi satır mevcut değil t herhangi bir metin veya Web denetimleri içerir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-155">Currently the footer row doesn t contain any text or Web controls.</span></span> <span data-ttu-id="8dea6-156">Adım 3'te uygun ekleme arabirimi içeren biz her GridView alan altbilgisi değiştireceksiniz.</span><span class="sxs-lookup"><span data-stu-id="8dea6-156">In Step 3 we'll modify the footer for each GridView field so that it includes the appropriate inserting interface.</span></span>


<span data-ttu-id="8dea6-157">[![Görüntülenen yukarıda disk belleği arabirimi denetimlerini boş altbilgi satırıdır](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-157">[![The Empty Footer Row is Displayed Above the Paging Interface Controls](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image7.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image13.png)</span></span>

<span data-ttu-id="8dea6-158">**Şekil 7**: Boş altbilgi satırıdır görüntülenen yukarıda disk belleği arabirimi denetimlerini ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-158">**Figure 7**: The Empty Footer Row is Displayed Above the Paging Interface Controls ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image14.png))</span></span>


## <a name="step-3-customizing-the-footer-row"></a><span data-ttu-id="8dea6-159">3. adım: altbilgi satırı özelleştirme</span><span class="sxs-lookup"><span data-stu-id="8dea6-159">Step 3: Customizing the Footer Row</span></span>

<span data-ttu-id="8dea6-160">Geri [kullanarak TemplateFields GridView denetiminde](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) büyük ölçüde TemplateFields (aksine, BoundFields veya CheckBoxFields) kullanarak belirli bir GridView Sütun görüntüsünü özelleştirmek nasıl gördüğümüz öğretici; [ Veri değişikliği arabirimi özelleştirme](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) GridView içinde düzenleme arabirimini özelleştirmek için TemplateFields kullanarak Aranan.</span><span class="sxs-lookup"><span data-stu-id="8dea6-160">Back in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial we saw how to greatly customize the display of a particular GridView column using TemplateFields (as opposed to BoundFields or CheckBoxFields); in [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) we looked at using TemplateFields to customize the editing interface in a GridView.</span></span> <span data-ttu-id="8dea6-161">Geri çağırma bir TemplateField biçimlendirme, Web denetimleri ve Veri bağlamada sözdizimi karışımını tanımlayan bir dizi şablonları oluşur belirli satır türleri kullanılır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-161">Recall that a TemplateField is composed of a number of templates that defines the mix of markup, Web controls, and databinding syntax used for certain types of rows.</span></span> <span data-ttu-id="8dea6-162">`ItemTemplate`, Örneğin, salt okunur satırlar için kullanılan şablon belirtir sırada `EditItemTemplate` düzenlenebilir satır için şablonu tanımlar.</span><span class="sxs-lookup"><span data-stu-id="8dea6-162">The `ItemTemplate`, for example, specifies the template used for read-only rows, while the `EditItemTemplate` defines the template for the editable row.</span></span>

<span data-ttu-id="8dea6-163">İle birlikte `ItemTemplate` ve `EditItemTemplate`, TemplateField de içeren bir `FooterTemplate` altbilgi satırı içeriğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-163">Along with the `ItemTemplate` and `EditItemTemplate`, the TemplateField also includes a `FooterTemplate` that specifies the content for the footer row.</span></span> <span data-ttu-id="8dea6-164">Bu nedenle, her alan s arabirimine eklemek için gereken Web denetimleri ekleyebiliriz `FooterTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-164">Therefore, we can add the Web controls needed for each field s inserting interface into the `FooterTemplate`.</span></span> <span data-ttu-id="8dea6-165">Başlatmak için tüm GridView alanları için TemplateFields dönüştürün.</span><span class="sxs-lookup"><span data-stu-id="8dea6-165">To start, convert all of the fields in the GridView to TemplateFields.</span></span> <span data-ttu-id="8dea6-166">Bu her alan sol alt köşede seçerek ve bu alan dönüştürme TemplateField bağlantıya tıklayarak GridView s akıllı etiket, Edit Columns bağlantıyı tıklatarak yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-166">This can be done by clicking the Edit Columns link in the GridView s smart tag, selecting each field in the lower left corner, and clicking the Convert this field into a TemplateField link.</span></span>


![Her bir alan TemplateField'a Dönüştür](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image8.gif)

<span data-ttu-id="8dea6-168">**Şekil 8**: her alanı TemplateField'a Dönüştür</span><span class="sxs-lookup"><span data-stu-id="8dea6-168">**Figure 8**: Convert Each Field Into a TemplateField</span></span>


<span data-ttu-id="8dea6-169">Dönüştür'ü tıklatarak bu alana bir TemplateField eşdeğer TemplateField içine geçerli alan türü etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-169">Clicking the Convert this field into a TemplateField turns the current field type into an equivalent TemplateField.</span></span> <span data-ttu-id="8dea6-170">Örneğin, her BoundField TemplateField ile değiştirilmiştir bir `ItemTemplate` ilgili veri alanı görüntüleyen bir etiket içerir ve bir `EditItemTemplate` , verileri alan bir metin kutusunda görüntüler.</span><span class="sxs-lookup"><span data-stu-id="8dea6-170">For example, each BoundField is replaced by a TemplateField with an `ItemTemplate` that contains a Label that displays the corresponding data field and an `EditItemTemplate` that displays the data field in a TextBox.</span></span> <span data-ttu-id="8dea6-171">`ProductName` BoundField aşağıdaki TemplateField biçimlendirme dönüştürülmüş:</span><span class="sxs-lookup"><span data-stu-id="8dea6-171">The `ProductName` BoundField has been converted into the following TemplateField markup:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample3.aspx)]

<span data-ttu-id="8dea6-172">Benzer şekilde, `Discontinued` CheckBoxField dönüştürülmüş TemplateField'a özelliği `ItemTemplate` ve `EditItemTemplate` bir onay kutusu Web denetimi içeren (ile `ItemTemplate` s devre dışı onay kutusu).</span><span class="sxs-lookup"><span data-stu-id="8dea6-172">Likewise, the `Discontinued` CheckBoxField has been converted into a TemplateField whose `ItemTemplate` and `EditItemTemplate` contain a CheckBox Web control (with the `ItemTemplate` s CheckBox disabled).</span></span> <span data-ttu-id="8dea6-173">Salt okunur `ProductID` BoundField, hem de etiket denetimi ile TemplateField içine dönüştürülmüş `ItemTemplate` ve `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-173">The read-only `ProductID` BoundField has been converted into a TemplateField with a Label control in both the `ItemTemplate` and `EditItemTemplate`.</span></span> <span data-ttu-id="8dea6-174">Kısacası, varolan bir GridView dönüştürme bir TemplateField içine varolan s alanı işlevlerden herhangi birini kaybetmeden daha özelleştirilebilir TemplateField geçmek için hızlı ve kolay bir yol alanıdır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-174">In short, converting an existing GridView field into a TemplateField is a quick and easy way to switch to the more customizable TemplateField without losing any of the existing field s functionality.</span></span>

<span data-ttu-id="8dea6-175">Bu yana GridView biz destek t içermiyor düzenleme ile çalışma re eşitleyerek kaldırmak ücretsiz `EditItemTemplate` her TemplateField yalnızca bırakarak `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-175">Since the GridView we re working with doesn t support editing, feel free to remove the `EditItemTemplate` from each TemplateField, leaving just the `ItemTemplate`.</span></span> <span data-ttu-id="8dea6-176">Bunu yaptıktan sonra GridView s bildirim temelli biçimlendirme aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="8dea6-176">After doing this, your GridView s declarative markup should look like the following:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample4.aspx)]

<span data-ttu-id="8dea6-177">Her bir GridView alan TemplateField'a dönüştürülür, biz uygun ekleme arabirimi her alan s girebilirsiniz `FooterTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-177">Now that each GridView field has been converted into a TemplateField, we can enter the appropriate inserting interface into each field s `FooterTemplate`.</span></span> <span data-ttu-id="8dea6-178">Bazı alanlar ekleme arabirime sahip olmaz (`ProductID`, örneğin); başkalarının yeni ürün s bilgilerini toplamak için kullanılan Web denetimlerinde farklılık gösterir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-178">Some of the fields will not have an inserting interface (`ProductID`, for instance); others will vary in the Web controls used to collect the new product s information.</span></span>

<span data-ttu-id="8dea6-179">Düzenleme arabirimi oluşturmak üzere GridView s akıllı etiketten Şablonları Düzenle bağlantıyı seçin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-179">To create the editing interface, choose the Edit Templates link from the GridView s smart tag.</span></span> <span data-ttu-id="8dea6-180">Ardından, açılan listeden uygun alanını s seçin `FooterTemplate` ve uygun denetimi tasarımcıya araç çubuğuna sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-180">Then, from the drop-down list, select the appropriate field s `FooterTemplate` and drag the appropriate control from the Toolbox onto the Designer.</span></span>


<span data-ttu-id="8dea6-181">[![Her alan s FooterTemplate uygun ekleme arabirimi ekleyin](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-181">[![Add the Appropriate Inserting Interface to Each Field s FooterTemplate](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image9.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image15.png)</span></span>

<span data-ttu-id="8dea6-182">**Şekil 9**: her alanı s uygun ekleme arabirimi eklemek `FooterTemplate` ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-182">**Figure 9**: Add the Appropriate Inserting Interface to Each Field s `FooterTemplate` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image16.png))</span></span>


<span data-ttu-id="8dea6-183">Aşağıdaki madde işaretli listede eklemek için ekleme arabirimi belirtme GridView alanları numaralandırır:</span><span class="sxs-lookup"><span data-stu-id="8dea6-183">The following bulleted list enumerates the GridView fields, specifying the inserting interface to add:</span></span>

- <span data-ttu-id="8dea6-184">`ProductID`yok.</span><span class="sxs-lookup"><span data-stu-id="8dea6-184">`ProductID` none.</span></span>
- <span data-ttu-id="8dea6-185">`ProductName`metin kutusu ekleyin ve ayarlayın, `ID` için `NewProductName`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-185">`ProductName` add a TextBox and set its `ID` to `NewProductName`.</span></span> <span data-ttu-id="8dea6-186">Kullanıcı yeni ürün s adı için bir değer girdiğinden emin olmak için de bir RequiredFieldValidator ekleyin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-186">Add a RequiredFieldValidator control as well to ensure that the user enters a value for the new product s name.</span></span>
- <span data-ttu-id="8dea6-187">`SupplierID`yok.</span><span class="sxs-lookup"><span data-stu-id="8dea6-187">`SupplierID` none.</span></span>
- <span data-ttu-id="8dea6-188">`CategoryID`yok.</span><span class="sxs-lookup"><span data-stu-id="8dea6-188">`CategoryID` none.</span></span>
- <span data-ttu-id="8dea6-189">`QuantityPerUnit`ayarı, bir metin kutusu ekleyin, `ID` için `NewQuantityPerUnit`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-189">`QuantityPerUnit` add a TextBox, setting its `ID` to `NewQuantityPerUnit`.</span></span>
- <span data-ttu-id="8dea6-190">`UnitPrice`adlı bir TextBox ekleyin `NewUnitPrice` ve girilen değer sağlar CompareValidator değerinden büyük veya sıfıra eşit bir para birimi değeri.</span><span class="sxs-lookup"><span data-stu-id="8dea6-190">`UnitPrice` add a TextBox named `NewUnitPrice` and a CompareValidator that ensures the value entered is a currency value greater than or equal to zero.</span></span>
- <span data-ttu-id="8dea6-191">`UnitsInStock`bir metin kutusu kullanın, `ID` ayarlanır `NewUnitsInStock`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-191">`UnitsInStock` use a TextBox whose `ID` is set to `NewUnitsInStock`.</span></span> <span data-ttu-id="8dea6-192">Girilen değer bir tamsayı değeri sıfırdan büyük veya sıfıra eşit olmasını sağlar CompareValidator içerir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-192">Include a CompareValidator that ensures that the value entered is an integer value greater than or equal to zero.</span></span>
- <span data-ttu-id="8dea6-193">`UnitsOnOrder`bir metin kutusu kullanın, `ID` ayarlanır `NewUnitsOnOrder`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-193">`UnitsOnOrder` use a TextBox whose `ID` is set to `NewUnitsOnOrder`.</span></span> <span data-ttu-id="8dea6-194">Girilen değer bir tamsayı değeri sıfırdan büyük veya sıfıra eşit olmasını sağlar CompareValidator içerir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-194">Include a CompareValidator that ensures that the value entered is an integer value greater than or equal to zero.</span></span>
- <span data-ttu-id="8dea6-195">`ReorderLevel`bir metin kutusu kullanın, `ID` ayarlanır `NewReorderLevel`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-195">`ReorderLevel` use a TextBox whose `ID` is set to `NewReorderLevel`.</span></span> <span data-ttu-id="8dea6-196">Girilen değer bir tamsayı değeri sıfırdan büyük veya sıfıra eşit olmasını sağlar CompareValidator içerir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-196">Include a CompareValidator that ensures that the value entered is an integer value greater than or equal to zero.</span></span>
- <span data-ttu-id="8dea6-197">`Discontinued`ayarı, bir onay kutusu ekleyin, `ID` için `NewDiscontinued`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-197">`Discontinued` add a CheckBox, setting its `ID` to `NewDiscontinued`.</span></span>
- <span data-ttu-id="8dea6-198">`CategoryName`bir DropDownList ekleyin ve ayarlayın, `ID` için `NewCategoryID`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-198">`CategoryName` add a DropDownList and set its `ID` to `NewCategoryID`.</span></span> <span data-ttu-id="8dea6-199">Adlı yeni bir ObjectDataSource bağlamak `CategoriesDataSource` ve kullanacak şekilde yapılandırın `CategoriesBLL` s sınıfı `GetCategories()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-199">Bind it to a new ObjectDataSource named `CategoriesDataSource` and configure it to use the `CategoriesBLL` class s `GetCategories()` method.</span></span> <span data-ttu-id="8dea6-200">DropDownList s sahip `ListItem` s görüntü `CategoryName` veri alanı, kullanarak `CategoryID` veri alan değerlerine olarak.</span><span class="sxs-lookup"><span data-stu-id="8dea6-200">Have the DropDownList s `ListItem` s display the `CategoryName` data field, using the `CategoryID` data field as their values.</span></span>
- <span data-ttu-id="8dea6-201">`SupplierName`bir DropDownList ekleyin ve ayarlayın, `ID` için `NewSupplierID`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-201">`SupplierName` add a DropDownList and set its `ID` to `NewSupplierID`.</span></span> <span data-ttu-id="8dea6-202">Adlı yeni bir ObjectDataSource bağlamak `SuppliersDataSource` ve kullanacak şekilde yapılandırın `SuppliersBLL` s sınıfı `GetSuppliers()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-202">Bind it to a new ObjectDataSource named `SuppliersDataSource` and configure it to use the `SuppliersBLL` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="8dea6-203">DropDownList s sahip `ListItem` s görüntü `CompanyName` veri alanı, kullanarak `SupplierID` veri alan değerlerine olarak.</span><span class="sxs-lookup"><span data-stu-id="8dea6-203">Have the DropDownList s `ListItem` s display the `CompanyName` data field, using the `SupplierID` data field as their values.</span></span>

<span data-ttu-id="8dea6-204">Her doğrulama denetimleri temizleyin `ForeColor` özelliği böylece `FooterStyle` CSS sınıfı s Beyaz ön plan rengini kırmızı varsayılan yerine kullanılır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-204">For each of the validation controls, clear out the `ForeColor` property so that the `FooterStyle` CSS class s white foreground color will be used in place of the default red.</span></span> <span data-ttu-id="8dea6-205">Aynı zamanda `ErrorMessage` ancak özelliği ayrıntılı bir açıklaması için belirlenen `Text` bir yıldız işareti özelliğine.</span><span class="sxs-lookup"><span data-stu-id="8dea6-205">Also use the `ErrorMessage` property for a detailed description, but set the `Text` property to an asterisk.</span></span> <span data-ttu-id="8dea6-206">İki satır sarmalamak ekleme arabirimi neden doğrulama denetimi s metin engelleyecek şekilde ayarlanmışsa `FooterStyle` s `Wrap` özelliğini her biri için false `FooterTemplate` doğrulama denetimi kullanma s.</span><span class="sxs-lookup"><span data-stu-id="8dea6-206">To prevent the validation control s text from causing the inserting interface to wrap to two lines, set the `FooterStyle` s `Wrap` property to false for each of the `FooterTemplate` s that use a validation control.</span></span> <span data-ttu-id="8dea6-207">Son olarak, GridView ve kümesi altında ValidationSummary denetim ekleme kendi `ShowMessageBox` özelliğine `true` ve kendi `ShowSummary` özelliğine `false`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-207">Finally, add a ValidationSummary control beneath the GridView and set its `ShowMessageBox` property to `true` and its `ShowSummary` property to `false`.</span></span>

<span data-ttu-id="8dea6-208">Yeni bir ürün eklerken sağlamak ihtiyacımız `CategoryID` ve `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-208">When adding a new product, we need to provide the `CategoryID` and `SupplierID`.</span></span> <span data-ttu-id="8dea6-209">Bu bilgiler için altbilgi hücrelerindeki DropDownLists aracılığıyla yakalanan `CategoryName` ve `SupplierName` alanları.</span><span class="sxs-lookup"><span data-stu-id="8dea6-209">This information is captured through the DropDownLists in the footer cells for the `CategoryName` and `SupplierName` fields.</span></span> <span data-ttu-id="8dea6-210">Bu alanları tersine kullanmak seçtiniz `CategoryID` ve `SupplierID` TemplateFields s kılavuzunda kullanıcı veri satırlarına olduğundan kimliği değerlerine yerine kategori ve tedarikçi adlarını görmeniz büyük olasılıkla daha ilgi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-210">I chose to use these fields as opposed to the `CategoryID` and `SupplierID` TemplateFields because in the grid s data rows the user is likely more interested in seeing the category and supplier names rather than their ID values.</span></span> <span data-ttu-id="8dea6-211">Bu yana `CategoryID` ve `SupplierID` değerleri şimdi yakalanır içinde `CategoryName` ve `SupplierName` alan s ekleme arabirimleri, biz kaldırabilirsiniz `CategoryID` ve `SupplierID` GridView gelen TemplateFields.</span><span class="sxs-lookup"><span data-stu-id="8dea6-211">Since the `CategoryID` and `SupplierID` values are now being captured in the `CategoryName` and `SupplierName` field s inserting interfaces, we can remove the `CategoryID` and `SupplierID` TemplateFields from the GridView.</span></span>

<span data-ttu-id="8dea6-212">Benzer şekilde, `ProductID` yeni bir ürün eklerken kullanılmaz böylece `ProductID` TemplateField de kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-212">Similarly, the `ProductID` is not used when adding a new product, so the `ProductID` TemplateField can be removed as well.</span></span> <span data-ttu-id="8dea6-213">Bununla birlikte, bırakın s izin `ProductID` kılavuzunda alan.</span><span class="sxs-lookup"><span data-stu-id="8dea6-213">However, let s leave the `ProductID` field in the grid.</span></span> <span data-ttu-id="8dea6-214">Metin kutuları, DropDownLists, onay kutularını ve ekleme arabirimini oluşturan doğrulama denetimleri ek olarak, biz ekleme ayrıca gerekir, düğme tıklatıldığında, yeni ürün veritabanına eklemek için mantığı gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-214">In addition to the TextBoxes, DropDownLists, CheckBoxes, and validation controls that make up the inserting interface, we'll also need an Add button that, when clicked, performs the logic to add the new product to the database.</span></span> <span data-ttu-id="8dea6-215">Adım 4'te Ekle düğmesi ekleme arabiriminde eklediğimiz `ProductID` TemplateField s `FooterTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-215">In Step 4 we'll include an Add button in the inserting interface in the `ProductID` TemplateField s `FooterTemplate`.</span></span>

<span data-ttu-id="8dea6-216">Çeşitli GridView alanları görünümünü iyileştirmek çekinmeyin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-216">Feel free to improve the appearance of the various GridView fields.</span></span> <span data-ttu-id="8dea6-217">Örneğin, biçimlendirmek isteyebilirsiniz `UnitPrice` değerleri bir para birimi olarak Sağa Hizala `UnitsInStock`, `UnitsOnOrder`, ve `ReorderLevel` alanları ve güncelleştirme `HeaderText` TemplateFields değerleri.</span><span class="sxs-lookup"><span data-stu-id="8dea6-217">For example, you might want to format the `UnitPrice` values as a currency, right-align the `UnitsInStock`, `UnitsOnOrder`, and `ReorderLevel` fields, and update the `HeaderText` values for the TemplateFields.</span></span>

<span data-ttu-id="8dea6-218">Arabirimlerde ekleme slew oluşturduktan sonra `FooterTemplate` s, kaldırma `SupplierID`, ve `CategoryID` TemplateFields ve biçimlendirme ve bildirim temelli, GridView s TemplateFields hizalama aracılığıyla kılavuzunun estetik artırma Biçimlendirme aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="8dea6-218">After creating the slew of inserting interfaces in the `FooterTemplate` s, removing the `SupplierID`, and `CategoryID` TemplateFields, and improving the aesthetics of the grid through formatting and aligning the TemplateFields, your GridView s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample5.aspx)]

<span data-ttu-id="8dea6-219">GridView s altbilgi satırı artık bir tarayıcıdan görüntülendiğinde, tamamlanmış içerir. ekleme arabirim (bkz. Şekil 10).</span><span class="sxs-lookup"><span data-stu-id="8dea6-219">When viewed through a browser, the GridView s footer row now includes the completed inserting interface (see Figure 10).</span></span> <span data-ttu-id="8dea6-220">Bu noktada, ekleme arabirimi içermiyor t kullanıcının bu SEH s yeni ürün için girilen verilerini ve veritabanına yeni bir kayıt eklemek isteyen belirtmek bir yol ekleyin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-220">At this point, the inserting interface doesn t include a means for the user to indicate that she s entered the data for the new product and wants to insert a new record into the database.</span></span> <span data-ttu-id="8dea6-221">Ayrıca, biz ve henüz altbilgi girilen verilerin yeni bir kayıt nasıl şekilde çevirir adres `Products` veritabanı.</span><span class="sxs-lookup"><span data-stu-id="8dea6-221">Also, we ve yet to address how the data entered into the footer will translate into a new record in the `Products` database.</span></span> <span data-ttu-id="8dea6-222">Adım 4 biz bakabilir ekleme arabirimi için Ekle düğmesini dahil etme ve kod yürütmek geri gönderme zaman onu tıklattınız s.</span><span class="sxs-lookup"><span data-stu-id="8dea6-222">In Step 4 we'll look at how to include an Add button to the inserting interface and how to execute code on postback when it s clicked.</span></span> <span data-ttu-id="8dea6-223">Adım 5 altbilgi verileri kullanarak yeni bir kayıt eklemek nasıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-223">Step 5 shows how to insert a new record using the data from the footer.</span></span>


<span data-ttu-id="8dea6-224">[![GridView altbilgi yeni bir kayıt eklemek için bir arabirim sağlar.](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-224">[![The GridView Footer Provides an Interface for Adding a New Record](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image10.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image17.png)</span></span>

<span data-ttu-id="8dea6-225">**Şekil 10**: yeni bir kayıt eklemek için bir arabirim GridView altbilgi sağlar ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-225">**Figure 10**: The GridView Footer Provides an Interface for Adding a New Record ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image18.png))</span></span>


## <a name="step-4-including-an-add-button-in-the-inserting-interface"></a><span data-ttu-id="8dea6-226">4. adım: bir Ekle düğmesi ekleme arabirimde de dahil olmak üzere</span><span class="sxs-lookup"><span data-stu-id="8dea6-226">Step 4: Including an Add Button in the Inserting Interface</span></span>

<span data-ttu-id="8dea6-227">Biz anlamına gelir, yeni ürün s bilgilerini girme tamamladınız belirtmek kullanıcı arabirimi şu anda ekleme altbilgi satır s eksik olduğundan Ekle düğmesini yere ekleme arabiriminde eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-227">We need to include an Add button somewhere in the inserting interface since the footer row s inserting interface currently lacks the means for the user to indicate that they have completed entering the new product s information.</span></span> <span data-ttu-id="8dea6-228">Bu var olan birinde yerleştirilemedi `FooterTemplate` s veya biz ekleyebileceğiniz yeni bir sütun kılavuza bu amaç için.</span><span class="sxs-lookup"><span data-stu-id="8dea6-228">This could be placed in one of the existing `FooterTemplate` s or we could add a new column to the grid for this purpose.</span></span> <span data-ttu-id="8dea6-229">Bu öğretici için let s yerleştirin Ekle düğmesini `ProductID` TemplateField s `FooterTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-229">For this tutorial, let s place the Add button in the `ProductID` TemplateField s `FooterTemplate`.</span></span>

<span data-ttu-id="8dea6-230">Tasarımcısından GridView s akıllı etiket Şablonları Düzenle bağlantısına tıklayın ve ardından `ProductID` alan s `FooterTemplate` aşağı açılan listeden.</span><span class="sxs-lookup"><span data-stu-id="8dea6-230">From the Designer, click on the Edit Templates link in the GridView s smart tag and then choose the `ProductID` field s `FooterTemplate` from the drop-down list.</span></span> <span data-ttu-id="8dea6-231">Bir düğme Web denetimi (veya bir LinkButton veya tercih ederseniz ImageButton) Kimliğini ayarını şablona eklemek `AddProduct`, kendi `CommandName` , eklenecek ve kendi `Text` Şekil 11'de gösterildiği gibi eklenecek özellik.</span><span class="sxs-lookup"><span data-stu-id="8dea6-231">Add a Button Web control (or a LinkButton or ImageButton, if you prefer) to the template, setting its ID to `AddProduct`, its `CommandName` to Insert, and its `Text` property to Add as shown in Figure 11.</span></span>


<span data-ttu-id="8dea6-232">[![Yerleştir ProductID TemplateField s FooterTemplate Ekle düğmesi](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-232">[![Place the Add Button in the ProductID TemplateField s FooterTemplate](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image11.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image19.png)</span></span>

<span data-ttu-id="8dea6-233">**Şekil 11**: Düğme Ekle yerleştirin `ProductID` TemplateField s `FooterTemplate` ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-233">**Figure 11**: Place the Add Button in the `ProductID` TemplateField s `FooterTemplate` ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image20.png))</span></span>


<span data-ttu-id="8dea6-234">Ekle düğmesi önceden dahil sonra sayfasını bir tarayıcıda çıkışı test edin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-234">Once you ve included the Add button, test out the page in a browser.</span></span> <span data-ttu-id="8dea6-235">Ekleme arabiriminde geçersiz verilerle Ekle düğmesine tıklandığında, geri gönderme kısa circuited unutmayın ve ValidationSummary denetimi (bkz. Şekil 12) geçersiz veri gösterir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-235">Note that when clicking the Add button with invalid data in the inserting interface, the postback is short circuited and the ValidationSummary control indicates the invalid data (see Figure 12).</span></span> <span data-ttu-id="8dea6-236">Girilen uygun verilerle geri gönderimin için Ekle düğmesini neden olur.</span><span class="sxs-lookup"><span data-stu-id="8dea6-236">With appropriate data entered, clicking the Add button causes a postback.</span></span> <span data-ttu-id="8dea6-237">Hiçbir kayıt ancak veritabanına eklenir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-237">No record is added to the database, however.</span></span> <span data-ttu-id="8dea6-238">Biraz gerçekte Ekle gerçekleştirmek için kod yazma gerekecektir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-238">We will need to write a bit of code to actually perform the insert.</span></span>


<span data-ttu-id="8dea6-239">[![Ekleme arabiriminde geçersiz veri ise Ekle düğmesi s geri gönderme kısa Circuited.](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="8dea6-239">[![The Add Button s Postback is Short Circuited if There is Invalid Data in the Inserting Interface](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image12.gif)](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image21.png)</span></span>

<span data-ttu-id="8dea6-240">**Şekil 12**: Ekle düğmesi geri gönderme s'dir kısa Circuited ekleme arabiriminde geçersiz veri ise ([tam boyutlu görüntüyü görüntülemek için tıklatın](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="8dea6-240">**Figure 12**: The Add Button s Postback is Short Circuited if There is Invalid Data in the Inserting Interface ([Click to view full-size image](inserting-a-new-record-from-the-gridview-s-footer-cs/_static/image22.png))</span></span>


> [!NOTE]
> <span data-ttu-id="8dea6-241">Doğrulama denetimleri ekleme arabiriminde bir doğrulama grubuna atanmış olmadığından.</span><span class="sxs-lookup"><span data-stu-id="8dea6-241">The validation controls in the inserting interface were not assigned to a validation group.</span></span> <span data-ttu-id="8dea6-242">Doğrulama denetimleri sayfasında yalnızca kümesi ekleme arabirimi olduğu sürece düzgün çalışır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-242">This works fine so long as the inserting interface is the only set of validation controls on the page.</span></span> <span data-ttu-id="8dea6-243">Ancak, varsa, diğer doğrulama denetimleri (örneğin, doğrulama denetimleri kılavuz s düzenleme arabiriminde) sayfasında, ekleme, doğrulama denetimleri arabirim ve düğmesi s eklemek `ValidationGroup` özellikleri aynı değeri atanmış so olarak için Bu denetimler belirli doğrulama grubuyla ilişkilendirin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-243">If, however, there are other validation controls on the page (such as validation controls in the grid s editing interface), the validation controls in the inserting interface and Add button s `ValidationGroup` properties should be assigned the same value so as to associate these controls with a particular validation group.</span></span> <span data-ttu-id="8dea6-244">Bkz: [ASP.NET 2. 0 doğrulama denetimleri Dissecting](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx) doğrulama denetimleri ve düğmeleri sayfasında doğrulama gruplar halinde bölümleme hakkında daha fazla bilgi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-244">See [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx) for more information on partitioning the validation controls and buttons on a page into validation groups.</span></span>


## <a name="step-5-inserting-a-new-record-into-theproductstable"></a><span data-ttu-id="8dea6-245">5. adım: yeni bir kayıt ekleme`Products`tablosu</span><span class="sxs-lookup"><span data-stu-id="8dea6-245">Step 5: Inserting a New Record Into the`Products`Table</span></span>

<span data-ttu-id="8dea6-246">GridView yerleşik düzenleme özelliklerini kullanırken GridView otomatik olarak tüm güncelleştirme gerçekleştirmek için gerekli iş işler.</span><span class="sxs-lookup"><span data-stu-id="8dea6-246">When utilizing the built-in editing features of the GridView, the GridView automatically handles all of the work necessary for performing the update.</span></span> <span data-ttu-id="8dea6-247">Özellikle, bu düzenleme arabiriminden ObjectDataSource s parametre için girilen değerleri kopyalar güncelleştirme düğme tıklatıldığında `UpdateParameters` toplama ve ObjectDataSource s çağırma tarafından güncelleştirme kapalı kicks `Update()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-247">In particular, when the Update button is clicked it copies the values entered from the editing interface to the parameters in the ObjectDataSource s `UpdateParameters` collection and kicks off the update by invoking the ObjectDataSource s `Update()` method.</span></span> <span data-ttu-id="8dea6-248">GridView ekleme gibi yerleşik bir işlevi sağlamadığından ObjectDataSource s çağıran kodu uygulamanız gerekir `Insert()` yöntemi ve ekleme gelen değerleri arabirim ObjectDataSource s kopya `InsertParameters` koleksiyonu .</span><span class="sxs-lookup"><span data-stu-id="8dea6-248">Since the GridView does not provide such built-in functionality for inserting, we must implement code that calls the ObjectDataSource s `Insert()` method and copies the values from the inserting interface to the ObjectDataSource s `InsertParameters` collection.</span></span>

<span data-ttu-id="8dea6-249">Ekle düğmesi tıklatıldıktan sonra bu Ekle mantığı yürütülmelidir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-249">This insert logic should be executed after the Add button has been clicked.</span></span> <span data-ttu-id="8dea6-250">' Da anlatıldığı gibi [ekleme ve GridView düğmeleri yanıtlama](../custom-button-actions/adding-and-responding-to-buttons-to-a-gridview-cs.md) düğme, LinkButton veya GridView içinde ImageButton tıklandığında verdiğinizde, GridView s öğretici, `RowCommand` geri gönderme üzerinde olay etkinleşir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-250">As discussed in the [Adding and Responding to Buttons in a GridView](../custom-button-actions/adding-and-responding-to-buttons-to-a-gridview-cs.md) tutorial, anytime a Button, LinkButton, or ImageButton in a GridView is clicked, the GridView s `RowCommand` event fires on postback.</span></span> <span data-ttu-id="8dea6-251">Düğme, LinkButton veya ImageButton açıkça altbilgi satırında Ekle düğmesi gibi eklendi olup olmadığını veya onu GridView tarafından otomatik olarak eklendiyse, bu olay harekete (etkinleştirmek sıralama seçildiğinde, her bir sütunun üst LinkButtons gibi veya LinkButtons etkinleştirmek sayfalama seçildiğinde disk belleği arabiriminde).</span><span class="sxs-lookup"><span data-stu-id="8dea6-251">This event fires whether the Button, LinkButton, or ImageButton was added explicitly such as the Add button in the footer row or if it was automatically added by the GridView (such as the LinkButtons at the top of each column when Enable Sorting is selected, or the LinkButtons in the paging interface when Enable Paging is selected).</span></span>

<span data-ttu-id="8dea6-252">Bu nedenle, için Ekle düğmesini kullanıcıya yanıt vermek için bir olay işleyicisi GridView s için oluşturmak ihtiyacımız `RowCommand` olay.</span><span class="sxs-lookup"><span data-stu-id="8dea6-252">Therefore, to respond to the user clicking the Add button, we need to create an event handler for the GridView s `RowCommand` event.</span></span> <span data-ttu-id="8dea6-253">Bu olay her tetikler. bu yana *herhangi* düğme, LinkButton veya GridView ImageButton tıklandığında, onu s biz yalnızca ekleme mantığı ile devam edin, önemli `CommandName` özelliğigeçirilenolayişleyicieşlemeleri`CommandName` Ekle düğmesi (Ekle) değeri.</span><span class="sxs-lookup"><span data-stu-id="8dea6-253">Since this event fires whenever *any* Button, LinkButton, or ImageButton in the GridView is clicked, it s vital that we only proceed with the inserting logic if the `CommandName` property passed into the event handler maps to the `CommandName` value of the Add button ( Insert ).</span></span> <span data-ttu-id="8dea6-254">Geçerli veri doğrulama denetimleri rapor ayrıca, biz de yalnızca devam edin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-254">Moreover, we should also only proceed if the validation controls report valid data.</span></span> <span data-ttu-id="8dea6-255">Bunu yapabilmek için bir olay işleyicisi oluşturun `RowCommand` aşağıdaki kod ile olay:</span><span class="sxs-lookup"><span data-stu-id="8dea6-255">To accommodate this, create an event handler for the `RowCommand` event with the following code:</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample6.cs)]

> [!NOTE]
> <span data-ttu-id="8dea6-256">Olay işleyicisi denetimi neden rahatsız merak ediyor olabilirsiniz `Page.IsValid` özelliği.</span><span class="sxs-lookup"><span data-stu-id="8dea6-256">You may be wondering why the event handler bothers checking the `Page.IsValid` property.</span></span> <span data-ttu-id="8dea6-257">Sonuçta, geçersiz veri ekleme arabiriminde sağladıysanız kazanılan t geri gönderme atlanması?</span><span class="sxs-lookup"><span data-stu-id="8dea6-257">After all, won t the postback be suppressed if invalid data is provided in the inserting interface?</span></span> <span data-ttu-id="8dea6-258">Kullanıcı JavaScript devre dışı veya istemci tarafı doğrulama mantığını aşmak için adımlar atmıştır sürece bu doğru bir varsayılır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-258">This assumption is correct as long as the user has not disabled JavaScript or has taken steps to circumvent the client-side validation logic.</span></span> <span data-ttu-id="8dea6-259">Kısacası, bir hiçbir zaman kesinlikle istemci tarafı doğrulamasını yararlanmalıdır; verilerle çalışmaya başlamadan önce her zaman bu geçerlilik için bir sunucu tarafı denetimi gerçekleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-259">In short, one should never rely strictly on client-side validation; a server-side check for validity should always be performed before working with the data.</span></span>


<span data-ttu-id="8dea6-260">1. adımda oluşturduğumuz `ProductsDataSource` ObjectDataSource şekilde kendi `Insert()` yöntemi eşleştirilir `ProductsBLL` s sınıfı `AddProduct` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-260">In Step 1 we created the `ProductsDataSource` ObjectDataSource such that its `Insert()` method is mapped to the `ProductsBLL` class s `AddProduct` method.</span></span> <span data-ttu-id="8dea6-261">Yeni bir kayda eklemek için `Products` tablo, biz yalnızca ObjectDataSource s çağırabileceği `Insert()` yöntemi:</span><span class="sxs-lookup"><span data-stu-id="8dea6-261">To insert the new record into the `Products` table, we can simply invoke the ObjectDataSource s `Insert()` method:</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample7.cs)]

<span data-ttu-id="8dea6-262">Şimdi `Insert()` yöntemi çağrılır, kalan tek şey ekleme arabiriminden parametreleri için değerleri kopyalamak için tüm geçirilecek `ProductsBLL` s sınıfı `AddProduct` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-262">Now that the `Insert()` method has been invoked, all that remains is to copy the values from the inserting interface to the parameters passed to the `ProductsBLL` class s `AddProduct` method.</span></span> <span data-ttu-id="8dea6-263">Geri gördüğümüz gibi [ekleme, güncelleştirme ve silme ile ilişkili olay incelenerek](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) öğretici, bu gerçekleştirilebilir ObjectDataSource s `Inserting` olay.</span><span class="sxs-lookup"><span data-stu-id="8dea6-263">As we saw back in the [Examining the Events Associated with Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial, this can be accomplished through the ObjectDataSource s `Inserting` event.</span></span> <span data-ttu-id="8dea6-264">İçinde `Inserting` ihtiyacımız denetimlerini programlı olarak başvurmak için olay `Products` GridView s altbilgi satırın ve değerlerine atama `e.InputParameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="8dea6-264">In the `Inserting` event we need to programmatically reference the controls from the `Products` GridView s footer row and assign their values to the `e.InputParameters` collection.</span></span> <span data-ttu-id="8dea6-265">Bırakarak gibi bir değer kullanıcı çıkarırsa `ReorderLevel` ihtiyacımız veritabanına eklenen değer olması gerektiğini belirtmek için metin kutusu boş `NULL`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-265">If the user omits a value such as leaving the `ReorderLevel` TextBox blank we need to specify that the value inserted into the database should be `NULL`.</span></span> <span data-ttu-id="8dea6-266">Bu yana `AddProducts` yöntemi boş değer atanabilir veritabanı alanları için boş değer atanabilir türler kabul eder, yalnızca null atanabilir bir tür kullanın ve değerini ayarlama `null` kullanıcı girişi atlanmış olduğu durumda.</span><span class="sxs-lookup"><span data-stu-id="8dea6-266">Since the `AddProducts` method accepts nullable types for the nullable database fields, simply use a nullable type and set its value to `null` in the case where user input is omitted.</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample8.cs)]

<span data-ttu-id="8dea6-267">İle `Inserting` tamamlandı, olay işleyicisi yeni kayıtlar eklenebilir `Products` GridView s altbilgi satırı aracılığıyla veritabanı tablosu.</span><span class="sxs-lookup"><span data-stu-id="8dea6-267">With the `Inserting` event handler completed, new records can be added to the `Products` database table via the GridView s footer row.</span></span> <span data-ttu-id="8dea6-268">Bir tane birkaç yeni ürünler eklemeyi deneyin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-268">Go ahead and try adding several new products.</span></span>

## <a name="enhancing-and-customizing-the-add-operation"></a><span data-ttu-id="8dea6-269">Geliştirme ve özelleştirme ekleme işlemi</span><span class="sxs-lookup"><span data-stu-id="8dea6-269">Enhancing and Customizing the Add Operation</span></span>

<span data-ttu-id="8dea6-270">Şu anda Ekle düğmesini tıklatarak yeni bir kaydı veritabanı tablosuna ekler ancak görsel geribildirim herhangi bir tür kaydı başarıyla eklendi sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="8dea6-270">Currently, clicking the Add button adds a new record to the database table but does not provide any sort of visual feedback that the record has successfully been added.</span></span> <span data-ttu-id="8dea6-271">İdeal olarak, bir etiket Web denetimi veya istemci tarafı uyarısı kutusu kendi ekleme başarıyla tamamlandı kullanıcıyı bilgilendirmek.</span><span class="sxs-lookup"><span data-stu-id="8dea6-271">Ideally, a Label Web control or client-side alert box would inform the user that their insert has completed with success.</span></span> <span data-ttu-id="8dea6-272">I bunu bir alıştırma olarak okuyucuya bırakın.</span><span class="sxs-lookup"><span data-stu-id="8dea6-272">I leave this as an exercise for the reader.</span></span>

<span data-ttu-id="8dea6-273">Bu öğreticide kullanılan GridView herhangi sıralama düzeni listelenen ürünler için geçerli değildir ve verileri sıralamak son kullanıcı izin vermez.</span><span class="sxs-lookup"><span data-stu-id="8dea6-273">The GridView used in this tutorial does not apply any sort order to the listed products, nor does it allow the end user to sort the data.</span></span> <span data-ttu-id="8dea6-274">Sonuç olarak, kendi birincil anahtar alanı veritabanında olduğu gibi kayıtları sıralanır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-274">Consequently, the records are ordered as they are in the database by their primary key field.</span></span> <span data-ttu-id="8dea6-275">Her yeni kayıt olduğundan bir `ProductID` son daha yeni bir ürün, sabitlenmiş kılavuz sonuna eklenen her zaman büyük değer.</span><span class="sxs-lookup"><span data-stu-id="8dea6-275">Since each new record has a `ProductID` value greater than the last one, every time a new product is added it is tacked on to the end of the grid.</span></span> <span data-ttu-id="8dea6-276">Bu nedenle, otomatik olarak yeni bir kayıt eklendikten sonra kullanıcı GridView son sayfasına göndermek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="8dea6-276">Therefore, you may want to automatically send the user to the last page of the GridView after adding a new record.</span></span> <span data-ttu-id="8dea6-277">Bu çağrısından sonra aşağıdaki kod satırını ekleyerek gerçekleştirilebilir `ProductsDataSource.Insert()` içinde `RowCommand` kullanıcı verileri için GridView bağlandıktan sonra sayfa son gönderilmesi gerektiğini belirtmek için olay işleyicisi:</span><span class="sxs-lookup"><span data-stu-id="8dea6-277">This can be accomplished by adding the following line of code after the call to `ProductsDataSource.Insert()` in the `RowCommand` event handler to indicate that the user needs to be sent to the last page after binding the data to the GridView:</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample9.cs)]

<span data-ttu-id="8dea6-278">`SendUserToLastPage`başlangıçta bir sayfa düzeyinde Boolean değişken değerini atanan `false`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-278">`SendUserToLastPage` is a page-level Boolean variable that is initially assigned a value of `false`.</span></span> <span data-ttu-id="8dea6-279">GridView s `DataBound` olay işleyicisi varsa `SendUserToLastPage` false, `PageIndex` özelliği, kullanıcı son sayfasına göndermek üzere güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-279">In the GridView s `DataBound` event handler, if `SendUserToLastPage` is false, the `PageIndex` property is updated to send the user to the last page.</span></span>


[!code-csharp[Main](inserting-a-new-record-from-the-gridview-s-footer-cs/samples/sample10.cs)]

<span data-ttu-id="8dea6-280">Nedeni `PageIndex` özelliği ayarlanmış `DataBound` olay işleyicisi (tersine `RowCommand` olay işleyicisi) çünkü zaman `RowCommand` olay işleyicisi harekete Biz yeni kayda henüz eklemek ve `Products` veritabanı tablosu.</span><span class="sxs-lookup"><span data-stu-id="8dea6-280">The reason the `PageIndex` property is set in the `DataBound` event handler (as opposed to the `RowCommand` event handler) is because when the `RowCommand` event handler fires we ve yet to add the new record to the `Products` database table.</span></span> <span data-ttu-id="8dea6-281">Bu nedenle, içinde `RowCommand` olay işleyicisi son sayfa dizini (`PageCount - 1`) son sayfa dizini temsil eden *önce* yeni ürün eklendi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-281">Therefore, in the `RowCommand` event handler the last page index (`PageCount - 1`) represents the last page index *before* the new product has been added.</span></span> <span data-ttu-id="8dea6-282">Eklenmekte olan ürünleri çoğunluğu için son sayfa dizini yeni ürün ekledikten sonra aynıdır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-282">For the majority of products being added, the last page index is the same after adding the new product.</span></span> <span data-ttu-id="8dea6-283">Ancak zaman eklenen ürün sonuçları yeni bir son sayfa dizini içinde biz yanlış güncelleştirirseniz `PageIndex` içinde `RowCommand` olay işleyicisi sonra biz gidersiniz ikinci (yeni ürün eklemeden önce son sayfa dizini) son sayfasına yeni son sayfa i aksine ndex.</span><span class="sxs-lookup"><span data-stu-id="8dea6-283">But when the added product results in a new last page index, if we incorrectly update the `PageIndex` in the `RowCommand` event handler then we'll be taken to the second to last page (the last page index prior to adding the new product) as opposed to the new last page index.</span></span> <span data-ttu-id="8dea6-284">Bu yana `DataBound` olay işleyicisi harekete yeni ürün eklenir ve verileri ayarlayarak kılavuza DataSet'e sonra `PageIndex` özelliği var. biliyoruz biz doğru son sayfa dizini alma.</span><span class="sxs-lookup"><span data-stu-id="8dea6-284">Since the `DataBound` event handler fires after the new product has been added and the data rebound to the grid, by setting the `PageIndex` property there we know we re getting the correct last page index.</span></span>

<span data-ttu-id="8dea6-285">Son olarak, bu öğreticide kullanılan GridView yeni bir ürün eklemek için toplanması gereken alanlar sayısı nedeniyle oldukça geniş.</span><span class="sxs-lookup"><span data-stu-id="8dea6-285">Finally, the GridView used in this tutorial is quite wide due to the number of fields that must be collected for adding a new product.</span></span> <span data-ttu-id="8dea6-286">Bu genişliği nedeniyle DetailsView s dikey düzen tercih edilen olabilir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-286">Due to this width, a DetailsView s vertical layout might be preferred.</span></span> <span data-ttu-id="8dea6-287">GridView s genel genişliği daha az sayıda girdi toplayarak indirgenebilir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-287">The GridView s overall width could be reduced by collecting fewer inputs.</span></span> <span data-ttu-id="8dea6-288">Belki de biz t toplamak gerek güncelleştireceğinizi `UnitsOnOrder`, `UnitsInStock`, ve `ReorderLevel` alanları yeni bir ürün eklerken; bu durumda bu alanlar GridView kaldırılamaz.</span><span class="sxs-lookup"><span data-stu-id="8dea6-288">Perhaps we don t need to collect the `UnitsOnOrder`, `UnitsInStock`, and `ReorderLevel` fields when adding a new product, in which case these fields could be removed from the GridView.</span></span>

<span data-ttu-id="8dea6-289">Toplanan veriler ayarlamak için şu iki yaklaşımdan birini kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="8dea6-289">To adjust the data collected, we can use one of two approaches:</span></span>

- <span data-ttu-id="8dea6-290">Kullanmaya devam `AddProduct` için değeri bekler yöntemi `UnitsOnOrder`, `UnitsInStock`, ve `ReorderLevel` alanları.</span><span class="sxs-lookup"><span data-stu-id="8dea6-290">Continue to use the `AddProduct` method that expects values for the `UnitsOnOrder`, `UnitsInStock`, and `ReorderLevel` fields.</span></span> <span data-ttu-id="8dea6-291">İçinde `Inserting` olay işleyicisi varsayılan ekleme arabiriminden kaldırılmış olan bu girişleri için değerleri, sabit kodlanmış belirtin.</span><span class="sxs-lookup"><span data-stu-id="8dea6-291">In the `Inserting` event handler, provide hard-coded, default values to use for these inputs that have been removed from the inserting interface.</span></span>
- <span data-ttu-id="8dea6-292">Yeni bir aşırı yüklemesini oluşturma `AddProduct` yönteminde `ProductsBLL` girdileri kabul etmiyorum sınıfı `UnitsOnOrder`, `UnitsInStock`, ve `ReorderLevel` alanları.</span><span class="sxs-lookup"><span data-stu-id="8dea6-292">Create a new overload of the `AddProduct` method in the `ProductsBLL` class that does not accept inputs for the `UnitsOnOrder`, `UnitsInStock`, and `ReorderLevel` fields.</span></span> <span data-ttu-id="8dea6-293">Sonra ASP.NET sayfasında ObjectDataSource bu yeni aşırı kullanacak şekilde yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="8dea6-293">Then, in the ASP.NET page, configure the ObjectDataSource to use this new overload.</span></span>

<span data-ttu-id="8dea6-294">Her iki seçenek de eşit olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-294">Either option will work equally as well.</span></span> <span data-ttu-id="8dea6-295">İçinde öğreticileri ikinci seçeneği için birden çok aşırı oluşturma kullandık `ProductsBLL` s sınıfı `UpdateProduct` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-295">In past tutorials we used the latter option, creating multiple overloads for the `ProductsBLL` class s `UpdateProduct` method.</span></span>

## <a name="summary"></a><span data-ttu-id="8dea6-296">Özet</span><span class="sxs-lookup"><span data-stu-id="8dea6-296">Summary</span></span>

<span data-ttu-id="8dea6-297">GridView DetailsView ve FormView bulunan yerleşik ekleme özellikleri eksik, ancak biraz çaba ile alt bilgi satırına ekleme arabirim eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-297">The GridView lacks the built-in inserting capabilities found in the DetailsView and FormView, but with a bit of effort an inserting interface can be added to the footer row.</span></span> <span data-ttu-id="8dea6-298">Yalnızca bir GridView altbilgi satırında görüntülenecek ayarlamak kendi `ShowFooter` özelliğine `true`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-298">To display the footer row in a GridView simply set its `ShowFooter` property to `true`.</span></span> <span data-ttu-id="8dea6-299">Altbilgi satır içerik alanı bir TemplateField dönüştürerek her alan için özelleştirilebilir ve ekleme ekleme arabirim için `FooterTemplate`.</span><span class="sxs-lookup"><span data-stu-id="8dea6-299">The footer row content can be customized for each field by converting the field to a TemplateField and adding the inserting interface to the `FooterTemplate`.</span></span> <span data-ttu-id="8dea6-300">Bu öğreticide, gördüğümüz gibi `FooterTemplate` düğmeleri, metin kutuları, DropDownLists, onay kutularını, veri tabanlı Web denetimleri (örneğin, DropDownLists) doldurmak için veri kaynağı denetimleri ve doğrulama denetimleri içerebilir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-300">As we saw in this tutorial, the `FooterTemplate` can contain Buttons, TextBoxes, DropDownLists, CheckBoxes, data source controls for populating data-driven Web controls (such as DropDownLists), and validation controls.</span></span> <span data-ttu-id="8dea6-301">Kullanıcı s girişi toplama denetimlerini yanı sıra, bir Ekle düğmesi, LinkButton veya ImageButton gereklidir.</span><span class="sxs-lookup"><span data-stu-id="8dea6-301">Along with controls for collecting the user s input, an Add Button, LinkButton, or ImageButton is needed.</span></span>

<span data-ttu-id="8dea6-302">Ne zaman Ekle düğmesine tıklandığında, ObjectDataSource s `Insert()` yöntemi ekleme iş akışını başlatmak için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-302">When the Add button is clicked, the ObjectDataSource s `Insert()` method is invoked to start the inserting workflow.</span></span> <span data-ttu-id="8dea6-303">ObjectDataSource ardından yapılandırılmış Insert yöntemini çağıran ( `ProductsBLL` s sınıfı `AddProduct` bu öğreticideki yöntemi).</span><span class="sxs-lookup"><span data-stu-id="8dea6-303">The ObjectDataSource will then call the configured insert method (the `ProductsBLL` class s `AddProduct` method, in this tutorial).</span></span> <span data-ttu-id="8dea6-304">Biz ObjectDataSource s arabirimine ekleme GridView s değerleri kopyalamalısınız `InsertParameters` çağrılan Insert yöntemini önce koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="8dea6-304">We must copy the values from the GridView s inserting interface to the ObjectDataSource s `InsertParameters` collection prior to the insert method being invoked.</span></span> <span data-ttu-id="8dea6-305">Bu program aracılığıyla ObjectDataSource s ekleme arabirimi Web denetimlerinde başvurarak gerçekleştirilebilir `Inserting` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-305">This can be accomplished by programmatically referencing the inserting interface Web controls in the ObjectDataSource s `Inserting` event handler.</span></span>

<span data-ttu-id="8dea6-306">Bu öğretici GridView s görünümünü geliştirme tekniklerini bizim bakma tamamlar.</span><span class="sxs-lookup"><span data-stu-id="8dea6-306">This tutorial completes our look at techniques for enhancing the GridView s appearance.</span></span> <span data-ttu-id="8dea6-307">Öğreticiler bir sonraki kümesini görüntüler, PDF, Word belgeleri gibi ikili verilerle çalışmak ve benzeri verilerini ve Web denetimleri inceleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="8dea6-307">The next set of tutorials will examine how to work with binary data such as images, PDFs, Word documents, and so on and the data Web controls.</span></span>

<span data-ttu-id="8dea6-308">Mutluluk programlama!</span><span class="sxs-lookup"><span data-stu-id="8dea6-308">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="8dea6-309">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="8dea6-309">About the Author</span></span>

<span data-ttu-id="8dea6-310">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar ve yedi ASP/ASP.NET books kurucusu, [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileri ile bu yana 1998 çalışma.</span><span class="sxs-lookup"><span data-stu-id="8dea6-310">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="8dea6-311">Tan bağımsız Danışman, eğitmen ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="8dea6-311">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="8dea6-312">En son kendi defteri [ *kendi öğretmek kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="8dea6-312">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="8dea6-313">Kendisi üzerinde erişilebilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) veya kendi blog hangi adresinde bulunabilir [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="8dea6-313">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="8dea6-314">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="8dea6-314">Special Thanks To</span></span>

<span data-ttu-id="8dea6-315">Bu öğretici seri pek çok yararlı gözden geçirenler tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="8dea6-315">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="8dea6-316">Bu öğretici için sağlama İnceleme Bernadette Leigh oluştu.</span><span class="sxs-lookup"><span data-stu-id="8dea6-316">Lead reviewer for this tutorial was Bernadette Leigh.</span></span> <span data-ttu-id="8dea6-317">My yaklaşan MSDN makaleleri gözden geçirme ilginizi çekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="8dea6-317">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="8dea6-318">Öyleyse, bana bir satırında bırakma [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="8dea6-318">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="8dea6-319">[Önceki](adding-a-gridview-column-of-checkboxes-cs.md)
[sonraki](adding-a-gridview-column-of-radio-buttons-vb.md)</span><span class="sxs-lookup"><span data-stu-id="8dea6-319">[Previous](adding-a-gridview-column-of-checkboxes-cs.md)
[Next](adding-a-gridview-column-of-radio-buttons-vb.md)</span></span>

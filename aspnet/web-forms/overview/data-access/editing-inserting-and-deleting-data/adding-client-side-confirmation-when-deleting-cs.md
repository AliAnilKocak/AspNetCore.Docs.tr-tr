---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-client-side-confirmation-when-deleting-cs
title: İstemci tarafı doğrulama (C#) silerken ekleme | Microsoft Docs
author: rick-anderson
description: Şu ana kadar oluşturduk arabirimlerde bir kullanıcı yanlışlıkla veri Düzenle düğmesini tıklatın yapısındaki, Sil düğmesini tıklatarak silebilirsiniz. Bu t...
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: f6e2a12a-2b5e-48fd-8db3-1e94a500c19a
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-client-side-confirmation-when-deleting-cs
msc.type: authoredcontent
ms.openlocfilehash: 72b15d498e45cc519a14ecfe39111b224db88c30
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
---
<a name="adding-client-side-confirmation-when-deleting-c"></a><span data-ttu-id="d95ac-104">İstemci tarafı doğrulama (C#) silerken ekleme</span><span class="sxs-lookup"><span data-stu-id="d95ac-104">Adding Client-Side Confirmation When Deleting (C#)</span></span>
====================
<span data-ttu-id="d95ac-105">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d95ac-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d95ac-106">[Örnek uygulamayı indirin](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_22_CS.exe) veya [PDF indirin](adding-client-side-confirmation-when-deleting-cs/_static/datatutorial22cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d95ac-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_22_CS.exe) or [Download PDF](adding-client-side-confirmation-when-deleting-cs/_static/datatutorial22cs1.pdf)</span></span>

> <span data-ttu-id="d95ac-107">Şu ana kadar oluşturduk arabirimlerde bir kullanıcı yanlışlıkla veri Düzenle düğmesini tıklatın yapısındaki, Sil düğmesini tıklatarak silebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d95ac-107">In the interfaces we've created so far, a user can accidentally delete data by clicking the Delete button when they meant to click the Edit button.</span></span> <span data-ttu-id="d95ac-108">Bu öğreticide Sil düğmesine tıklandığında görüntülenen bir istemci-tarafı onay iletişim kutusunda ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="d95ac-108">In this tutorial we'll add a client-side confirmation dialog box that appears when the Delete button is clicked.</span></span>


## <a name="introduction"></a><span data-ttu-id="d95ac-109">Giriş</span><span class="sxs-lookup"><span data-stu-id="d95ac-109">Introduction</span></span>

<span data-ttu-id="d95ac-110">Son birkaç öğreticileri üzerinden biz ullanıcı bizim uygulama mimarisi, ObjectDataSource ve Web denetimleri veri ekleme, düzenleme ve silme yetenekleri sağlamak üzere birlikte kullanmak nasıl görülür.</span><span class="sxs-lookup"><span data-stu-id="d95ac-110">Over the past several tutorials we ve seen how to use our application architecture, ObjectDataSource, and the data Web controls in concert to provide inserting, editing, and deleting capabilities.</span></span> <span data-ttu-id="d95ac-111">Silme arabirimleri biz incelenmesi ve bugüne kadarki silme işlemi oluşan olmuştur, düğmesine tıklandığında, geri gönderimin neden olur ve ObjectDataSource s çağırır `Delete()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="d95ac-111">The deleting interfaces we ve examined thus far have been composed of a Delete button that, when clicked, causes a postback and invokes the ObjectDataSource s `Delete()` method.</span></span> <span data-ttu-id="d95ac-112">`Delete()` Yöntemi çağrısı gerçek verme veri erişim katmanı aşağıya doğru yayar iş mantığı katmanı yapılandırılmış yönteminden sonra çağırır `DELETE` veritabanına deyimi.</span><span class="sxs-lookup"><span data-stu-id="d95ac-112">The `Delete()` method then invokes the configured method from the Business Logic Layer, which propagates the call down to the Data Access Layer, issuing the actual `DELETE` statement to the database.</span></span>

<span data-ttu-id="d95ac-113">Bu kullanıcı arabirimi GridView, DetailsView ya da FormView denetimleri kayıtlarda silmek ziyaretçileri olanak sağlarken Kullanıcı Sil düğmesini tıklattığında onay herhangi bir tür eksik.</span><span class="sxs-lookup"><span data-stu-id="d95ac-113">While this user interface enables visitors to delete records through the GridView, DetailsView, or FormView controls, it lacks any sort of confirmation when the user clicks the Delete button.</span></span> <span data-ttu-id="d95ac-114">Bir kullanıcı yanlışlıkla tıklarsa de Sil düğmesini tıklatın anlamına gelir, düzenleme, güncelleştirme yapısındaki kaydı yerine silinir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-114">If a user accidentally clicks the Delete button when they meant to click Edit, the record they meant to update will instead be deleted.</span></span> <span data-ttu-id="d95ac-115">Bu, bu öğreticide önlemeye yardımcı olmak için Sil düğmesine tıklandığında görüntülenen bir istemci-tarafı onay iletişim kutusunda ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="d95ac-115">To help prevent this, in this tutorial we'll add a client-side confirmation dialog box that appears when the Delete button is clicked.</span></span>

<span data-ttu-id="d95ac-116">JavaScript `confirm(string)` işlevi, dize giriş parametresinin Tamam iki düğmeleriyle - donatılmıştır ve (bkz: Şekil 1) iptal bir modal iletişim kutusu içindeki metin olarak görüntüler.</span><span class="sxs-lookup"><span data-stu-id="d95ac-116">The JavaScript `confirm(string)` function displays its string input parameter as the text inside a modal dialog box that comes equipped with two buttons - OK and Cancel (see Figure 1).</span></span> <span data-ttu-id="d95ac-117">`confirm(string)` İşlevi hangi düğmeye tıklandığında bağlı olarak bir Boole değeri döndürür (`true`, kullanıcı Tamam tıklarsa ve `false` İptal'i tıklatırsanız).</span><span class="sxs-lookup"><span data-stu-id="d95ac-117">The `confirm(string)` function returns a Boolean value depending on what button is clicked (`true`, if the user clicks OK, and `false` if they click Cancel).</span></span>


![JavaScript confirm(string) yöntemi kalıcı bir istemci-tarafı Messagebox görüntüler.](adding-client-side-confirmation-when-deleting-cs/_static/image1.png)

<span data-ttu-id="d95ac-119">**Şekil 1**: JavaScript `confirm(string)` yöntemi kalıcı, istemci-tarafı Messagebox görüntüler</span><span class="sxs-lookup"><span data-stu-id="d95ac-119">**Figure 1**: The JavaScript `confirm(string)` Method Displays a Modal, Client-Side Messagebox</span></span>


<span data-ttu-id="d95ac-120">Bir değeri varsa, bir form gönderme sırasında `false` form gönderme iptal sonra bir istemci-tarafı olay işleyiciden döndürülür.</span><span class="sxs-lookup"><span data-stu-id="d95ac-120">During a form submission, if a value of `false` is returned from a client-side event handler then the form submission is cancelled.</span></span> <span data-ttu-id="d95ac-121">Bu özelliği kullanarak, biz Sil düğmesine s istemci-tarafı olabilir `onclick` olay işleyicisi dönüş çağrısı değeri `confirm("Are you sure you want to delete this product?")`.</span><span class="sxs-lookup"><span data-stu-id="d95ac-121">Using this feature, we can have the Delete button s client-side `onclick` event handler return the value of a call to `confirm("Are you sure you want to delete this product?")`.</span></span> <span data-ttu-id="d95ac-122">Kullanıcı, iptal tıklarsa `confirm(string)` false, böylece iptal etmek form gönderme neden döndürür.</span><span class="sxs-lookup"><span data-stu-id="d95ac-122">If the user clicks Cancel, `confirm(string)` will return false, thereby causing the form submission to cancel.</span></span> <span data-ttu-id="d95ac-123">Hiçbir geri gönderme ile t won olan Sil düğmesini tıklandığını ürün silinir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-123">With no postback, the product whose Delete button was clicked won t be deleted.</span></span> <span data-ttu-id="d95ac-124">Ancak, kullanıcı ve onay iletişim kutusunda Tamam tıklarsa geri gönderme unabated devam edecek ve ürün silinir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-124">If, however, the user clicks OK in the confirmation dialog box, the postback will continue unabated and the product will be deleted.</span></span> <span data-ttu-id="d95ac-125">Başvurun [kullanarak JavaScript s `confirm()` denetim Form Gönderme yönteme](http://www.webreference.com/programming/javascript/confirm/) Bu teknik hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="d95ac-125">Consult [Using JavaScript s `confirm()` Method to Control Form Submission](http://www.webreference.com/programming/javascript/confirm/) for more information on this technique.</span></span>

<span data-ttu-id="d95ac-126">Gerekli istemci tarafı komut dosyası ekleme bir CommandField kullanırken daha şablonları kullanıyorsanız biraz farklıdır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-126">Adding the necessary client-side script differs slightly if using templates than when using a CommandField.</span></span> <span data-ttu-id="d95ac-127">Bu nedenle, bu öğreticide biz FormView ve GridView örneğe arar.</span><span class="sxs-lookup"><span data-stu-id="d95ac-127">Therefore, in this tutorial we will look at both a FormView and GridView example.</span></span>

> [!NOTE]
> <span data-ttu-id="d95ac-128">İstemci tarafı doğrulama teknikleri kullanarak, bu öğreticide, ele alınan olanlar gibi JavaScript destekleyen tarayıcılarda ile kullanıcıların ziyaret ettiği ekranları ve JavaScript'in etkin olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="d95ac-128">Using client-side confirmation techniques, like the ones discussed in this tutorial, assumes that your users are visiting with browsers that support JavaScript and that they have JavaScript enabled.</span></span> <span data-ttu-id="d95ac-129">Bu varsayımları birini belirli bir kullanıcı için doğru değilse, Sil düğmesini tıklatarak (Onayla messagebox görüntüleme değil) geri gönderimin hemen neden olur.</span><span class="sxs-lookup"><span data-stu-id="d95ac-129">If either of these assumptions are not true for a particular user, clicking the Delete button will immediately cause a postback (not displaying a confirm messagebox).</span></span>


## <a name="step-1-creating-a-formview-that-supports-deletion"></a><span data-ttu-id="d95ac-130">1. adım: silme işlemi destekleyen bir FormView oluşturma</span><span class="sxs-lookup"><span data-stu-id="d95ac-130">Step 1: Creating a FormView That Supports Deletion</span></span>

<span data-ttu-id="d95ac-131">FormView için eklemeye başlayın `ConfirmationOnDelete.aspx` sayfasındaki `EditInsertDelete` klasörü, ürün bilgilerini aracılığıyla geri çeker yeni bir ObjectDataSource bağlama `ProductsBLL` s sınıfı `GetProducts()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="d95ac-131">Start by adding a FormView to the `ConfirmationOnDelete.aspx` page in the `EditInsertDelete` folder, binding it to a new ObjectDataSource that pulls back the product information via the `ProductsBLL` class s `GetProducts()` method.</span></span> <span data-ttu-id="d95ac-132">ObjectDataSource de yapılandırmanız böylece `ProductsBLL` s sınıfı `DeleteProduct(productID)` yöntemi ObjectDataSource s eşlenen `Delete()` yöntemi; açılan listeleri (hiçbiri) ayarlanmış ekleme ve güncelleştirme sekmeleri emin olun.</span><span class="sxs-lookup"><span data-stu-id="d95ac-132">Also configure the ObjectDataSource so that the `ProductsBLL` class s `DeleteProduct(productID)` method is mapped to the ObjectDataSource s `Delete()` method; ensure that the INSERT and UPDATE tabs drop-down lists are set to (None).</span></span> <span data-ttu-id="d95ac-133">Son olarak, FormView s akıllı etiketinde disk belleği etkinleştir onay kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="d95ac-133">Finally, check the Enable Paging checkbox in the FormView s smart tag.</span></span>

<span data-ttu-id="d95ac-134">Bu adımlar, yeni ObjectDataSource s bildirim temelli biçimlendirme aşağıdaki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="d95ac-134">After these steps, the new ObjectDataSource s declarative markup will look like the following:</span></span>


[!code-aspx[Main](adding-client-side-confirmation-when-deleting-cs/samples/sample1.aspx)]

<span data-ttu-id="d95ac-135">İyimser eşzamanlılık kullanmayan son örneklerimizde olduğu gibi ObjectDataSource s temizlemek için bir dakikanızı ayırın `OldValuesParameterFormatString` özelliği.</span><span class="sxs-lookup"><span data-stu-id="d95ac-135">As in our past examples that did not use optimistic concurrency, take a moment to clear out the ObjectDataSource s `OldValuesParameterFormatString` property.</span></span>

<span data-ttu-id="d95ac-136">Yalnızca silme, FormView s destekleyen bir ObjectDataSource denetimine bağlı olduğundan `ItemTemplate` yalnızca silme düğmesi, yeni ve güncelleştirme düğmeleri eksik sunar.</span><span class="sxs-lookup"><span data-stu-id="d95ac-136">Since it has been bound to an ObjectDataSource control that only supports deleting, the FormView s `ItemTemplate` offers only the Delete button, lacking the New and Update buttons.</span></span> <span data-ttu-id="d95ac-137">FormView s bildirim temelli biçimlendirme ancak, gereksiz bir içeren `EditItemTemplate` ve `InsertItemTemplate`, hangi kaldırılabilir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-137">The FormView s declarative markup, however, includes a superfluous `EditItemTemplate` and `InsertItemTemplate`, which can be removed.</span></span> <span data-ttu-id="d95ac-138">Özelleştirmek için bir dakikanızı ayırın `ItemTemplate` kadar olan yalnızca bir alt ürünün veri alanlarını gösterir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-138">Take a moment to customize the `ItemTemplate` so that is shows only a subset of the product data fields.</span></span> <span data-ttu-id="d95ac-139">I ullanıcı benim ürün s adında göstermek için yapılandırılmış bir `<h3>` (birlikte de Sil düğmesini) Tedarikçi ve kategori adları yukarıda başlığı.</span><span class="sxs-lookup"><span data-stu-id="d95ac-139">I ve configured mine to show the product s name in an `<h3>` heading above its supplier and category names (along with the Delete button).</span></span>


[!code-aspx[Main](adding-client-side-confirmation-when-deleting-cs/samples/sample2.aspx)]

<span data-ttu-id="d95ac-140">Bu değişikliklerle Sil düğmesini tıklatarak ürünü silme olanağı bir kerede tek ürünleri üzerinden geçiş yapmak bir kullanıcının tam olarak işlevsel bir web sayfası vardır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-140">With these changes, we have a fully functional web page that allows a user to toggle through the products one at a time, with the ability to delete a product by simply clicking the Delete button.</span></span> <span data-ttu-id="d95ac-141">Şekil 2 bizim ilerleme ekran görüntüsü bugüne kadarki bir tarayıcıdan görüntülendiğinde gösterir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-141">Figure 2 shows a screen shot of our progress thus far when viewed through a browser.</span></span>


<span data-ttu-id="d95ac-142">[![FormView tek bir ürün bilgilerini gösterir](adding-client-side-confirmation-when-deleting-cs/_static/image3.png)](adding-client-side-confirmation-when-deleting-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="d95ac-142">[![The FormView Shows Information About a Single Product](adding-client-side-confirmation-when-deleting-cs/_static/image3.png)](adding-client-side-confirmation-when-deleting-cs/_static/image2.png)</span></span>

<span data-ttu-id="d95ac-143">**Şekil 2**: FormView gösterir bilgi hakkında bir tek ürün ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-client-side-confirmation-when-deleting-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="d95ac-143">**Figure 2**: The FormView Shows Information About a Single Product ([Click to view full-size image](adding-client-side-confirmation-when-deleting-cs/_static/image4.png))</span></span>


## <a name="step-2-calling-the-confirmstring-function-from-the-delete-buttons-client-side-onclick-event"></a><span data-ttu-id="d95ac-144">2. adım: silme düğmeleri istemci-tarafı onclick olay confirm(string) işlevi çağırma</span><span class="sxs-lookup"><span data-stu-id="d95ac-144">Step 2: Calling the confirm(string) Function from the Delete Buttons Client-Side onclick Event</span></span>

<span data-ttu-id="d95ac-145">Oluşturulan FormView ile son adım böyle de Sil düğmesini yapılandırmaktır olduğunda bu s tıklatıldığında JavaScript ziyaretçisi tarafından `confirm(string)` işlevi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-145">With the FormView created, the final step is to configure the Delete button such that when it s clicked by the visitor, the JavaScript `confirm(string)` function is invoked.</span></span> <span data-ttu-id="d95ac-146">Bir düğme, LinkButton veya ImageButton s istemci tarafı için istemci tarafı komut dosyası ekleme `onclick` olay kullanım yoluyla gerçekleştirilebilir `OnClientClick property`, ASP.NET 2.0 için yeni olan.</span><span class="sxs-lookup"><span data-stu-id="d95ac-146">Adding client-side script to a Button, LinkButton, or ImageButton s client-side `onclick` event can be accomplished through the use of the `OnClientClick property`, which is new to ASP.NET 2.0.</span></span> <span data-ttu-id="d95ac-147">Değerine sahip olacak şekilde istediğinden `confirm(string)` işlevi döndürdü, yalnızca bu özelliği ayarlamak: `return confirm('Are you certain that you want to delete this product?');`</span><span class="sxs-lookup"><span data-stu-id="d95ac-147">Since we want to have the value of the `confirm(string)` function returned, simply set this property to: `return confirm('Are you certain that you want to delete this product?');`</span></span>

<span data-ttu-id="d95ac-148">Bu değişiklikten sonra Sil LinkButton s Tanımlayıcı Sözdizimi gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="d95ac-148">After this change the Delete LinkButton s declarative syntax should look something like:</span></span>


[!code-aspx[Main](adding-client-side-confirmation-when-deleting-cs/samples/sample3.aspx)]

<span data-ttu-id="d95ac-149">Bu s tüm var olan üzere!</span><span class="sxs-lookup"><span data-stu-id="d95ac-149">That s all there is to it!</span></span> <span data-ttu-id="d95ac-150">Şekil 3 eylemde bu onay ekran görüntüsü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-150">Figure 3 shows a screen shot of this confirmation in action.</span></span> <span data-ttu-id="d95ac-151">Sil düğmesini tıklatarak Onayla iletişim kutusunu açar.</span><span class="sxs-lookup"><span data-stu-id="d95ac-151">Clicking the Delete button brings up the confirm dialog box.</span></span> <span data-ttu-id="d95ac-152">Kullanıcı iptal tıklarsa, geri gönderme iptal edilir ve ürün silinmez.</span><span class="sxs-lookup"><span data-stu-id="d95ac-152">If the user clicks Cancel, the postback is cancelled and the product is not deleted.</span></span> <span data-ttu-id="d95ac-153">Ancak, Tamam kullanıcı varsa, geri gönderme devam eder ve ObjectDataSource s `Delete()` yöntemi çağrıldığında, silinen veritabanını kaydında sonuçlanan.</span><span class="sxs-lookup"><span data-stu-id="d95ac-153">If, however, the user clicks OK, the postback continues and the ObjectDataSource s `Delete()` method is invoked, culminating in the database record being deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="d95ac-154">Dize içine geçirilen `confirm(string)` JavaScript işlevi kesme (tırnak işaretleri yerine) ayrılmış.</span><span class="sxs-lookup"><span data-stu-id="d95ac-154">The string passed into the `confirm(string)` JavaScript function is delimited with apostrophes (rather than quotation marks).</span></span> <span data-ttu-id="d95ac-155">JavaScript'te, her iki karakter kullanarak dizeleri sınırlandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-155">In JavaScript, strings can be delimited using either character.</span></span> <span data-ttu-id="d95ac-156">Böylece içine dize için sınırlayıcılar geçirilen kesme burada kullandığımız `confirm(string)` bir belirsizlik için kullanılan sınırlayıcıları ile tanıtmak değil `OnClientClick` özellik değeri.</span><span class="sxs-lookup"><span data-stu-id="d95ac-156">We use apostrophes here so that the delimiters for the string passed into `confirm(string)` do not introduce an ambiguity with the delimiters used for the `OnClientClick` property value.</span></span>


<span data-ttu-id="d95ac-157">[![Şimdi görüntülenen zaman tıklatarak Sil düğmesini bir onaydır](adding-client-side-confirmation-when-deleting-cs/_static/image6.png)](adding-client-side-confirmation-when-deleting-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="d95ac-157">[![A Confirmation is Now Displayed When Clicking the Delete Button](adding-client-side-confirmation-when-deleting-cs/_static/image6.png)](adding-client-side-confirmation-when-deleting-cs/_static/image5.png)</span></span>

<span data-ttu-id="d95ac-158">**Şekil 3**: bir onaydır şimdi görüntülenen zaman tıklatarak Sil düğmesini ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-client-side-confirmation-when-deleting-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="d95ac-158">**Figure 3**: A Confirmation is Now Displayed When Clicking the Delete Button ([Click to view full-size image](adding-client-side-confirmation-when-deleting-cs/_static/image7.png))</span></span>


## <a name="step-3-configuring-the-onclientclick-property-for-the-delete-button-in-a-commandfield"></a><span data-ttu-id="d95ac-159">3. adım: bir CommandField OnClientClick özelliği de Sil düğmesini için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="d95ac-159">Step 3: Configuring the OnClientClick Property for the Delete Button in a CommandField</span></span>

<span data-ttu-id="d95ac-160">Düğme, LinkButton veya ImageButton doğrudan bir şablonda çalışırken, bir onay iletişim kutusunda yalnızca yapılandırarak ile ilişkilendirilebilir kendi `OnClientClick` JavaScript sonuçlarını döndürmek için özellik `confirm(string)` işlevi.</span><span class="sxs-lookup"><span data-stu-id="d95ac-160">When working with a Button, LinkButton, or ImageButton directly in a template, a confirmation dialog box can be associated with it by simply configuring its `OnClientClick` property to return the results of the JavaScript `confirm(string)` function.</span></span> <span data-ttu-id="d95ac-161">Ancak, -, silme düğmeleri alanı bir GridView veya DetailsView ekler - CommandField sahip olmayan bir `OnClientClick` bildirimli olarak ayarlama özelliği.</span><span class="sxs-lookup"><span data-stu-id="d95ac-161">However, the CommandField - which adds a field of Delete buttons to a GridView or DetailsView - does not have an `OnClientClick` property that can be set declaratively.</span></span> <span data-ttu-id="d95ac-162">Bunun yerine, sizi program aracılığıyla uygun GridView veya DetailsView s Sil düğmesini başvurmalıdır `DataBound` olay işleyicisi ayarlayın ve ardından kendi `OnClientClick` özelliği vardır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-162">Instead, we must programmatically reference the Delete button in the GridView or DetailsView s appropriate `DataBound` event handler, and then set its `OnClientClick` property there.</span></span>

> [!NOTE]
> <span data-ttu-id="d95ac-163">Sil düğmesini s ayarlarken `OnClientClick` uygun özelliğinde `DataBound` olay işleyicisi, biz erişiminiz verileri geçerli kayda bağlı.</span><span class="sxs-lookup"><span data-stu-id="d95ac-163">When setting the Delete button s `OnClientClick` property in the appropriate `DataBound` event handler, we have access to the data was bound to the current record.</span></span> <span data-ttu-id="d95ac-164">Bu biz "Chai ürün silmek istediğinizden emin misiniz?" gibi belirli kayıt hakkındaki ayrıntıları eklemek için onay iletisi genişletebilirsiniz anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-164">This means we can extend the confirmation message to include details about the particular record, such as, "Are you sure you want to delete the Chai product?"</span></span> <span data-ttu-id="d95ac-165">Bu tür özelleştirme databinding sözdizimini kullanarak şablonlarında de mümkündür.</span><span class="sxs-lookup"><span data-stu-id="d95ac-165">Such customization is also possible in templates using databinding syntax.</span></span>


<span data-ttu-id="d95ac-166">Uygulama ayarı için `OnClientClick` özelliği için bir CommandField let s içinde silme button(s) GridView sayfasına ekleyin.</span><span class="sxs-lookup"><span data-stu-id="d95ac-166">To practice setting the `OnClientClick` property for the Delete button(s) in a CommandField, let s add a GridView to the page.</span></span> <span data-ttu-id="d95ac-167">FormView kullanan aynı ObjectDataSource denetimi kullanmak için bu GridView yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="d95ac-167">Configure this GridView to use the same ObjectDataSource control that the FormView uses.</span></span> <span data-ttu-id="d95ac-168">Ayrıca ürün adı, kategori ve tedarikçi yalnızca dahil etmek BoundFields GridView s sınırlayın.</span><span class="sxs-lookup"><span data-stu-id="d95ac-168">Also limit the GridView s BoundFields to only include the product s name, category, and supplier.</span></span> <span data-ttu-id="d95ac-169">Son olarak, GridView s akıllı etiketinden silme etkinleştir onay kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="d95ac-169">Lastly, check the Enable Deleting checkbox from the GridView s smart tag.</span></span> <span data-ttu-id="d95ac-170">Bu bir CommandField GridView s ekler `Columns` koleksiyonuyla kendi `ShowDeleteButton` özelliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="d95ac-170">This will add a CommandField to the GridView s `Columns` collection with its `ShowDeleteButton` property set to `true`.</span></span>

<span data-ttu-id="d95ac-171">Bu değişiklikleri yaptıktan sonra GridView s bildirim temelli biçimlendirme aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="d95ac-171">After making these changes, your GridView s declarative markup should look like the following:</span></span>


[!code-aspx[Main](adding-client-side-confirmation-when-deleting-cs/samples/sample4.aspx)]

<span data-ttu-id="d95ac-172">GridView s'den programlı olarak erişilebilir tek bir silme LinkButton örnek CommandField içeren `RowDataBound` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="d95ac-172">The CommandField contains a single Delete LinkButton instance that can be accessed programmatically from the GridView s `RowDataBound` event handler.</span></span> <span data-ttu-id="d95ac-173">Başvurulan sonra biz ayarlayabilirsiniz kendi `OnClientClick` özelliği uygun şekilde.</span><span class="sxs-lookup"><span data-stu-id="d95ac-173">Once referenced, we can set its `OnClientClick` property accordingly.</span></span> <span data-ttu-id="d95ac-174">İçin bir olay işleyicisi oluşturun `RowDataBound` aşağıdaki kodu kullanarak olay:</span><span class="sxs-lookup"><span data-stu-id="d95ac-174">Create an event handler for the `RowDataBound` event using the following code:</span></span>


[!code-csharp[Main](adding-client-side-confirmation-when-deleting-cs/samples/sample5.cs)]

<span data-ttu-id="d95ac-175">Bu olay işleyicisi veri satırlarla (olanlar Sil düğmesini olacaktır) çalışır ve program aracılığıyla Sil düğmesini başvurarak başlar.</span><span class="sxs-lookup"><span data-stu-id="d95ac-175">This event handler works with data rows (those that will have the Delete button) and begins by programmatically referencing the Delete button.</span></span> <span data-ttu-id="d95ac-176">Genel şu biçimi kullanın:</span><span class="sxs-lookup"><span data-stu-id="d95ac-176">In general use the following pattern:</span></span>


[!code-csharp[Main](adding-client-side-confirmation-when-deleting-cs/samples/sample6.cs)]

<span data-ttu-id="d95ac-177">*ButtonType* CommandField tarafından - düğme, LinkButton veya ImageButton kullanılan düğmesi türüdür.</span><span class="sxs-lookup"><span data-stu-id="d95ac-177">*ButtonType* is the type of button being used by the CommandField - Button, LinkButton, or ImageButton.</span></span> <span data-ttu-id="d95ac-178">Varsayılan olarak, CommandField LinkButtons kullanır, ancak bu CommandField s özelleştirilebilir `ButtonType property`.</span><span class="sxs-lookup"><span data-stu-id="d95ac-178">By default, the CommandField uses LinkButtons, but this can be customized via the CommandField s `ButtonType property`.</span></span> <span data-ttu-id="d95ac-179">*CommandFieldIndex* CommandField GridView s içinde sıra dizini olan `Columns` koleksiyonu, ancak *controlIndex* CommandField s içinde Sil düğmesini dizini `Controls` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="d95ac-179">The *commandFieldIndex* is the ordinal index of the CommandField within the GridView s `Columns` collection, whereas the *controlIndex* is the index of the Delete button within the CommandField s `Controls` collection.</span></span> <span data-ttu-id="d95ac-180">*ControlIndex* CommandField diğer düğmeleri göre düğmesi s konumda değeri bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-180">The *controlIndex* value depends on the button s position relative to other buttons in the CommandField.</span></span> <span data-ttu-id="d95ac-181">Örneğin, CommandField görüntülenen yalnızca düğmeye Sil düğmesini ise, bir dizin 0 kullanın.</span><span class="sxs-lookup"><span data-stu-id="d95ac-181">For example, if the only button displayed in the CommandField is the Delete button, use an index of 0.</span></span> <span data-ttu-id="d95ac-182">Ancak, orada s de Sil düğmesini önündeki bir Düzenle düğmesi dizini kullanırsanız, 2.</span><span class="sxs-lookup"><span data-stu-id="d95ac-182">If, however, there s an Edit button that precedes the Delete button, use an index of 2.</span></span> <span data-ttu-id="d95ac-183">İki denetimleri de Sil düğmesini önce CommandField tarafından eklendiğinden 2 dizini kullanılır nedeni: Düzenle düğmesi ve LiteralControl düzenleme ve silme düğmeleri arasında bazı alanı eklemek için kullanılan bu s.</span><span class="sxs-lookup"><span data-stu-id="d95ac-183">The reason an index of 2 is used is because two controls are added by the CommandField before the Delete button: the Edit button and a LiteralControl that s used to add some space between the Edit and Delete buttons.</span></span>

<span data-ttu-id="d95ac-184">Bizim belirli örneğin CommandField LinkButtons kullanır ve, en solundaki alanı olan bir *commandFieldIndex* 0.</span><span class="sxs-lookup"><span data-stu-id="d95ac-184">For our particular example, the CommandField uses LinkButtons and, being the left-most field, has a *commandFieldIndex* of 0.</span></span> <span data-ttu-id="d95ac-185">Başka bir düğme ancak CommandField de Sil düğmesini olduğundan, kullandığımız bir *controlIndex* 0.</span><span class="sxs-lookup"><span data-stu-id="d95ac-185">Since there are no other buttons but the Delete button in the CommandField, we use a *controlIndex* of 0.</span></span>

<span data-ttu-id="d95ac-186">CommandField de Sil düğmesini başvuran sonra biz sonraki geçerli GridView satır bağlı ürün hakkında bilgi alın.</span><span class="sxs-lookup"><span data-stu-id="d95ac-186">After referencing the Delete button in the CommandField, we next grab information about the product bound to the current GridView row.</span></span> <span data-ttu-id="d95ac-187">Son olarak, biz de Sil düğmesini s ayarlamak `OnClientClick` ürün s adını içeren uygun JavaScript özelliğine.</span><span class="sxs-lookup"><span data-stu-id="d95ac-187">Finally, we set the Delete button s `OnClientClick` property to the appropriate JavaScript, which includes the product s name.</span></span> <span data-ttu-id="d95ac-188">JavaScript dize içine geçirilen beri `confirm(string)` işlevi ayrılmış biz ürün s adı içinde görünür kesme kaçış gerekir kesme kullanma.</span><span class="sxs-lookup"><span data-stu-id="d95ac-188">Since the JavaScript string passed into the `confirm(string)` function is delimited using apostrophes we must escape any apostrophes that appear within the product s name.</span></span> <span data-ttu-id="d95ac-189">Özellikle, ürün s adındaki tüm kesme ile kaçışlı "`\'`".</span><span class="sxs-lookup"><span data-stu-id="d95ac-189">In particular, any apostrophes in the product s name are escaped with "`\'`".</span></span>

<span data-ttu-id="d95ac-190">Bir özelleştirilmiş onay iletişim kutusu (bkz. Şekil 4) GridView görüntülerindeki Sil düğmesine tıklayarak bu değişikliklerle tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="d95ac-190">With these changes complete, clicking on a Delete button in the GridView displays a customized confirmation dialog box (see Figure 4).</span></span> <span data-ttu-id="d95ac-191">Kullanıcı iptal tıklarsa olarak FormView gelen onay messagebox ile geri gönderme, böylece oluşmasını Silmeyi önleme iptal edildi.</span><span class="sxs-lookup"><span data-stu-id="d95ac-191">As with the confirmation messagebox from the FormView, if the user clicks Cancel the postback is cancelled, thereby preventing the deletion from occurring.</span></span>

> [!NOTE]
> <span data-ttu-id="d95ac-192">Bu teknik CommandField bir DetailsView de Sil düğmesini programlı olarak erişmek için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-192">This technique can also be used to programmatically access the Delete button in the CommandField in a DetailsView.</span></span> <span data-ttu-id="d95ac-193">İçin bir olay işleyicisi, d, ancak DetailsView için oluşturduğunuz `DataBound` olay DetailsView sahip olduğundan, bir `RowDataBound` olay.</span><span class="sxs-lookup"><span data-stu-id="d95ac-193">For the DetailsView, however, you d create an event handler for the `DataBound` event, since the DetailsView does not have a `RowDataBound` event.</span></span>


<span data-ttu-id="d95ac-194">[![GridView s Sil düğmesini tıklatarak bir özelleştirilmiş onay iletişim kutusu görüntüler](adding-client-side-confirmation-when-deleting-cs/_static/image9.png)](adding-client-side-confirmation-when-deleting-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="d95ac-194">[![Clicking the GridView s Delete Button Displays a Customized Confirmation Dialog Box](adding-client-side-confirmation-when-deleting-cs/_static/image9.png)](adding-client-side-confirmation-when-deleting-cs/_static/image8.png)</span></span>

<span data-ttu-id="d95ac-195">**Şekil 4**: GridView s Sil düğmesini tıklatarak bir özelleştirilmiş onay iletişim kutusu görüntüler ([tam boyutlu görüntüyü görüntülemek için tıklatın](adding-client-side-confirmation-when-deleting-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="d95ac-195">**Figure 4**: Clicking the GridView s Delete Button Displays a Customized Confirmation Dialog Box ([Click to view full-size image](adding-client-side-confirmation-when-deleting-cs/_static/image10.png))</span></span>


## <a name="using-templatefields"></a><span data-ttu-id="d95ac-196">TemplateFields kullanma</span><span class="sxs-lookup"><span data-stu-id="d95ac-196">Using TemplateFields</span></span>

<span data-ttu-id="d95ac-197">CommandField dezavantajları düğmeleri dizin üzerinden erişilmelidir ve elde edilen nesnenin uygun düğme türü (düğme, LinkButton veya ImageButton) dönüştürülmelidir biridir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-197">One of the disadvantages of the CommandField is that its buttons must be accessed through indexing and that the resulting object must be cast to the appropriate button type (Button, LinkButton, or ImageButton).</span></span> <span data-ttu-id="d95ac-198">"Sihirli sayı" ve sabit kodlanmış türlerini kullanarak çalışma zamanına kadar bulunan sorunları davet eder.</span><span class="sxs-lookup"><span data-stu-id="d95ac-198">Using "magic numbers" and hard-coded types invites problems that cannot be discovered until runtime.</span></span> <span data-ttu-id="d95ac-199">Örneğin, siz veya başka bir geliştirici, belirli bir noktada gelecekte (örneğin, bir Düzenle düğmesi) veya değişiklikleri CommandField yeni düğmeler ekler, `ButtonType` özelliği, var olan kodu hatasız derleme, ancak sayfasını ziyaret bir özel durum neden olabilir ya da kodunuzu nasıl yazılmıştır ve hangi değişikliklerin yapıldığı bağlı olarak beklenmeyen davranışlar.</span><span class="sxs-lookup"><span data-stu-id="d95ac-199">For example, if you, or another developer, adds new buttons to the CommandField at some point in the future (such as an Edit button) or changes the `ButtonType` property, the existing code will still compile without error, but visiting the page may cause an exception or unexpected behavior, depending on how your code was written and what changes were made.</span></span>

<span data-ttu-id="d95ac-200">Alternatif bir yaklaşım, TemplateFields GridView ve DetailsView s CommandFields dönüştürmektir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-200">An alternative approach is to convert the GridView and DetailsView s CommandFields into TemplateFields.</span></span> <span data-ttu-id="d95ac-201">Bu TemplateField ile oluşturacak bir `ItemTemplate` CommandField içinde her düğme için LinkButton (veya düğme veya ImageButton) sahip.</span><span class="sxs-lookup"><span data-stu-id="d95ac-201">This will generate a TemplateField with an `ItemTemplate` that has a LinkButton (or Button or ImageButton) for each button in the CommandField.</span></span> <span data-ttu-id="d95ac-202">Bu düğme `OnClientClick` özellikleri atanabilir bildirimli olarak, biz ile FormView gördüğünüz veya program aracılığıyla uygun erişilebilir olarak `DataBound` şu biçimi kullanarak olay işleyicisi:</span><span class="sxs-lookup"><span data-stu-id="d95ac-202">These buttons `OnClientClick` properties can be assigned declaratively, as we saw with the FormView, or can be programmatically accessed in the appropriate `DataBound` event handler using the following pattern:</span></span>


[!code-csharp[Main](adding-client-side-confirmation-when-deleting-cs/samples/sample7.cs)]

<span data-ttu-id="d95ac-203">Burada *ControlId* s düğmesi değeri `ID` özelliği.</span><span class="sxs-lookup"><span data-stu-id="d95ac-203">Where *controlID* is the value of the button s `ID` property.</span></span> <span data-ttu-id="d95ac-204">Bu desen dönüştürme için hala bir sabit kodlanmış tür gerekirken, oluşan bir çalışma zamanı hata olmadan değiştirmek Düzen izin vermeyi dizin oluşturma, gereksinimini kaldırır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-204">While this pattern still requires a hard-coded type for the cast, it removes the need for indexing, allowing for the layout to change without resulting in a runtime error.</span></span>

## <a name="summary"></a><span data-ttu-id="d95ac-205">Özet</span><span class="sxs-lookup"><span data-stu-id="d95ac-205">Summary</span></span>

<span data-ttu-id="d95ac-206">JavaScript `confirm(string)` kontrol eden form gönderme iş akışı için yaygın olarak kullanılan bir teknik işlevdir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-206">The JavaScript `confirm(string)` function is a commonly used technique for controlling form submission workflow.</span></span> <span data-ttu-id="d95ac-207">Çalıştırıldığında, işlevi Tamam ve iptal iki düğmeleri içeren bir kalıcı, istemci-tarafı iletişim kutusu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="d95ac-207">When executed, the function displays a modal, client-side dialog box that includes two buttons, OK and Cancel.</span></span> <span data-ttu-id="d95ac-208">Kullanıcı Tamam tıklarsa `confirm(string)` işlev döndürür `true`; İptal'i tıklatarak döndürür `false`.</span><span class="sxs-lookup"><span data-stu-id="d95ac-208">If the user clicks OK, the `confirm(string)` function returns `true`; clicking Cancel returns `false`.</span></span> <span data-ttu-id="d95ac-209">Bu işlevsellik gönderme işlemi sırasında bir olay işleyicisi döndürürse, bir form gönderme iptal etmek için bir tarayıcı s davranış eşleşmiş `false`, bir kaydı silinirken bir onay messagebox görüntülemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-209">This functionality, coupled with a browser s behavior to cancel a form submission if an event handler during the submission process returns `false`, can be used to display a confirmation messagebox when deleting a record.</span></span>

<span data-ttu-id="d95ac-210">`confirm(string)` İşlevi bir düğme Web denetimi s istemci-tarafı ile ilişkilendirilebilir `onclick` s denetimi ile olay işleyicisi `OnClientClick` özelliği.</span><span class="sxs-lookup"><span data-stu-id="d95ac-210">The `confirm(string)` function can be associated with a Button Web control s client-side `onclick` event handler through the control s `OnClientClick` property.</span></span> <span data-ttu-id="d95ac-211">Bu öğreticide gördüğümüz gibi bir şablona - da FormView s şablonlarından birini veya bir TemplateField DetailsView ya da GridView - Sil düğmesini ile çalışırken, bu özellik bildirimli olarak veya programlı olarak ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="d95ac-211">When working with a Delete button in a template - either in one of the FormView s templates or in a TemplateField in the DetailsView or GridView - this property can be set either declaratively or programmatically, as we saw in this tutorial.</span></span>

<span data-ttu-id="d95ac-212">Mutluluk programlama!</span><span class="sxs-lookup"><span data-stu-id="d95ac-212">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="d95ac-213">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="d95ac-213">About the Author</span></span>

<span data-ttu-id="d95ac-214">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar ve yedi ASP/ASP.NET books kurucusu, [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileri ile bu yana 1998 çalışma.</span><span class="sxs-lookup"><span data-stu-id="d95ac-214">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d95ac-215">Tan bağımsız Danışman, eğitmen ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="d95ac-215">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d95ac-216">En son kendi defteri [ *kendi öğretmek kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="d95ac-216">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d95ac-217">Kendisi üzerinde erişilebilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) veya kendi blog hangi adresinde bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="d95ac-217">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d95ac-218">[Önceki](implementing-optimistic-concurrency-cs.md)
> [sonraki](limiting-data-modification-functionality-based-on-the-user-cs.md)</span><span class="sxs-lookup"><span data-stu-id="d95ac-218">[Previous](implementing-optimistic-concurrency-cs.md)
[Next](limiting-data-modification-functionality-based-on-the-user-cs.md)</span></span>

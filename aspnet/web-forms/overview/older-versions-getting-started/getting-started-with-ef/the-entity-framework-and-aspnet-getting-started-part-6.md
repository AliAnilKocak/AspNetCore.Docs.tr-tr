---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-6
title: "Entity Framework 4.0 veritabanı ile ilk Başlarken ve ASP.NET 4 Web Forms - Bölüm 6 | Microsoft Docs"
author: tdykstra
description: "Contoso University örnek web uygulaması Entity Framework kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir. Örnek uygulamasıdır..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 12/03/2010
ms.topic: article
ms.assetid: 994a5496-c648-4830-b03c-55bb43f325d2
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-6
msc.type: authoredcontent
ms.openlocfilehash: 164c2002a119420555d2c7065c5a79a5f433a725
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/10/2017
---
<a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-6"></a><span data-ttu-id="42d6d-104">Entity Framework 4.0 veritabanı ile ilk Başlarken ve ASP.NET 4 Web Forms - Bölüm 6</span><span class="sxs-lookup"><span data-stu-id="42d6d-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 6</span></span>
====================
<span data-ttu-id="42d6d-105">tarafından [zel Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="42d6d-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="42d6d-106">Contoso University örnek web uygulaması Entity Framework 4.0 ve Visual Studio 2010 kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="42d6d-107">Eğitmen serisi hakkında daha fazla bilgi için bkz: [serideki ilk öğreticide](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="42d6d-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>


## <a name="implementing-table-per-hierarchy-inheritance"></a><span data-ttu-id="42d6d-108">Tablo başına hiyerarşisi kalıtım uygulama</span><span class="sxs-lookup"><span data-stu-id="42d6d-108">Implementing Table-per-Hierarchy Inheritance</span></span>

<span data-ttu-id="42d6d-109">Önceki öğreticide ile ilgili veriler, ekleme ve silme ilişkileri ve var olan bir varlığa bir ilişkiye sahip yeni bir varlık ekleyerek çalışmıştır.</span><span class="sxs-lookup"><span data-stu-id="42d6d-109">In the previous tutorial you worked with related data by adding and deleting relationships and by adding a new entity that had a relationship to an existing entity.</span></span> <span data-ttu-id="42d6d-110">Bu öğreticide veri modelinde devralma uygulamak nasıl yapacağınızı gösterir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-110">This tutorial will show you how to implement inheritance in the data model.</span></span>

<span data-ttu-id="42d6d-111">Nesne odaklı programlama ile ilgili sınıflar iş kolaylaştırmak için devralma kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="42d6d-111">In object-oriented programming, you can use inheritance to make it easier to work with related classes.</span></span> <span data-ttu-id="42d6d-112">Örneğin, oluşturabilirsiniz `Instructor` ve `Student` öğesinden türetilen sınıflar bir `Person` temel sınıfı.</span><span class="sxs-lookup"><span data-stu-id="42d6d-112">For example, you could create `Instructor` and `Student` classes that derive from a `Person` base class.</span></span> <span data-ttu-id="42d6d-113">Entity Framework devralma yapıları varlık arasında aynı tür oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="42d6d-113">You can create the same kinds of inheritance structures among entities in the Entity Framework.</span></span>

<span data-ttu-id="42d6d-114">Öğreticinin bu bölümünde, tüm yeni web sayfalarını oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="42d6d-114">In this part of the tutorial, you won't create any new web pages.</span></span> <span data-ttu-id="42d6d-115">Bunun yerine, varlık veri modeli türetilmiş eklemek ve varolan sayfalarını yeni varlıklar kullanmak üzere değiştirin.</span><span class="sxs-lookup"><span data-stu-id="42d6d-115">Instead, you'll add derived entities to the data model and modify existing pages to use the new entities.</span></span>

## <a name="table-per-hierarchy-versus-table-per-type-inheritance"></a><span data-ttu-id="42d6d-116">Tablo başına hiyerarşisi tablo başına türü devralma karşılaştırması</span><span class="sxs-lookup"><span data-stu-id="42d6d-116">Table-per-Hierarchy versus Table-per-Type Inheritance</span></span>

<span data-ttu-id="42d6d-117">Bir veritabanı, bir tablo veya birden çok tablo ilgili nesneler hakkında bilgi depolayabilir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-117">A database can store information about related objects in one table or in multiple tables.</span></span> <span data-ttu-id="42d6d-118">Örneğin, `School` veritabanı `Person` tablo Öğrenciler ve tek bir tablodaki Eğitmen hakkında bilgi içerir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-118">For example, in the `School` database, the `Person` table includes information about both students and instructors in a single table.</span></span> <span data-ttu-id="42d6d-119">Bazı sütunları yalnızca Eğitmen uygulamak (`HireDate`), bazı yalnızca Öğrenciler (`EnrollmentDate`) ve bazı her ikisine de (`LastName`, `FirstName`).</span><span class="sxs-lookup"><span data-stu-id="42d6d-119">Some of the columns apply only to instructors (`HireDate`), some only to students (`EnrollmentDate`), and some to both (`LastName`, `FirstName`).</span></span>

<span data-ttu-id="42d6d-120">[![image11](the-entity-framework-and-aspnet-getting-started-part-6/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-120">[![image11](the-entity-framework-and-aspnet-getting-started-part-6/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image1.png)</span></span>

<span data-ttu-id="42d6d-121">Oluşturmak için Entity Framework yapılandırabilirsiniz `Instructor` ve `Student` devralınmalıdır varlıklar `Person` varlık.</span><span class="sxs-lookup"><span data-stu-id="42d6d-121">You can configure the Entity Framework to create `Instructor` and `Student` entities that inherit from the `Person` entity.</span></span> <span data-ttu-id="42d6d-122">Bir varlığın devralma yapısı tek veritabanı tablosundan oluşturmanın bu deseni adlı *tablo başına hiyerarşisi* (TPH) devralma.</span><span class="sxs-lookup"><span data-stu-id="42d6d-122">This pattern of generating an entity inheritance structure from a single database table is called *table-per-hierarchy* (TPH) inheritance.</span></span>

<span data-ttu-id="42d6d-123">Kurslara `School` veritabanı farklı bir desen kullanır.</span><span class="sxs-lookup"><span data-stu-id="42d6d-123">For courses, the `School` database uses a different pattern.</span></span> <span data-ttu-id="42d6d-124">Çevrimiçi kurslar ve yerinde kurslar her birinin işaret eden bir yabancı anahtar olan ayrı tablolarda depolanır `Course` tablo.</span><span class="sxs-lookup"><span data-stu-id="42d6d-124">Online courses and onsite courses are stored in separate tables, each of which has a foreign key that points to the `Course` table.</span></span> <span data-ttu-id="42d6d-125">Her iki indirmelere türleri için ortak bilgiler yalnızca depolanan `Course` tablo.</span><span class="sxs-lookup"><span data-stu-id="42d6d-125">Information common to both course types is stored only in the `Course` table.</span></span>

<span data-ttu-id="42d6d-126">[![image12](the-entity-framework-and-aspnet-getting-started-part-6/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-126">[![image12](the-entity-framework-and-aspnet-getting-started-part-6/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image3.png)</span></span>

<span data-ttu-id="42d6d-127">Entity Framework veri modeli yapılandırabilirsiniz böylece `OnlineCourse` ve `OnsiteCourse` varlıklar devral `Course` varlık.</span><span class="sxs-lookup"><span data-stu-id="42d6d-127">You can configure the Entity Framework data model so that `OnlineCourse` and `OnsiteCourse` entities inherit from the `Course` entity.</span></span> <span data-ttu-id="42d6d-128">Bir varlığın devralma yapısı geri tüm türleri için ortak verileri depolayan bir tabloya başvuran her ayrı bir tablo ile her türü için ayrı tablolardan oluşturmanın bu deseni adlı *tablo türü başına* (birleştirilmiş TPT) devralma.</span><span class="sxs-lookup"><span data-stu-id="42d6d-128">This pattern of generating an entity inheritance structure from separate tables for each type, with each separate table referring back to a table that stores data common to all types, is called *table per type* (TPT) inheritance.</span></span>

<span data-ttu-id="42d6d-129">Birleştirilmiş TPT desenleri karmaşık JOIN sorguları sağladığından TPH devralma desenleri birleştirilmiş TPT devralma düzenleri daha Entity Framework içinde daha iyi performans genellikle sunar.</span><span class="sxs-lookup"><span data-stu-id="42d6d-129">TPH inheritance patterns generally deliver better performance in the Entity Framework than TPT inheritance patterns, because TPT patterns can result in complex join queries.</span></span> <span data-ttu-id="42d6d-130">Bu kılavuz, TPH devralma uygulamak gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-130">This walkthrough demonstrates how to implement TPH inheritance.</span></span> <span data-ttu-id="42d6d-131">Bu, aşağıdaki adımları gerçekleştirerek gerçekleştirirsiniz:</span><span class="sxs-lookup"><span data-stu-id="42d6d-131">You'll do that by performing the following steps:</span></span>

- <span data-ttu-id="42d6d-132">Oluşturma `Instructor` ve `Student` öğesinden türetilen varlık türleri `Person`.</span><span class="sxs-lookup"><span data-stu-id="42d6d-132">Create `Instructor` and `Student` entity types that derive from `Person`.</span></span>
- <span data-ttu-id="42d6d-133">Türetilen varlıkları ilgilidir taşıma özellikleri `Person` türetilen varlık için varlık.</span><span class="sxs-lookup"><span data-stu-id="42d6d-133">Move properties that pertain to the derived entities from the `Person` entity to the derived entities.</span></span>
- <span data-ttu-id="42d6d-134">Özellikler kısıtlamalar türetilmiş türler ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="42d6d-134">Set constraints on properties in the derived types.</span></span>
- <span data-ttu-id="42d6d-135">Olun `Person` varlığı soyut bir varlık.</span><span class="sxs-lookup"><span data-stu-id="42d6d-135">Make the `Person` entity an abstract entity.</span></span>
- <span data-ttu-id="42d6d-136">Harita her türetilmiş varlığa `Person` nasıl belirleneceği belirten bir koşul tabloyla olup olmadığını bir `Person` satır türü türetilen temsil eder.</span><span class="sxs-lookup"><span data-stu-id="42d6d-136">Map each derived entity to the `Person` table with a condition that specifies how to determine whether a `Person` row represents that derived type.</span></span>

## <a name="adding-instructor-and-student-entities"></a><span data-ttu-id="42d6d-137">Eğitmen ve Öğrenci varlıklar ekleme</span><span class="sxs-lookup"><span data-stu-id="42d6d-137">Adding Instructor and Student Entities</span></span>

<span data-ttu-id="42d6d-138">Açık *SchoolModel.edmx* dosya, select Tasarımcısı'nda boş bir alanı sağ **Ekle**seçeneğini belirleyip **varlık***.*</span><span class="sxs-lookup"><span data-stu-id="42d6d-138">Open the *SchoolModel.edmx* file, right-click an unoccupied area in the designer, select **Add**, then select **Entity***.*</span></span>

<span data-ttu-id="42d6d-139">[![image01](the-entity-framework-and-aspnet-getting-started-part-6/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-139">[![image01](the-entity-framework-and-aspnet-getting-started-part-6/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image5.png)</span></span>

<span data-ttu-id="42d6d-140">İçinde **varlık Ekle** iletişim kutusunda, varlık adı `Instructor` ve kendi **temel türü** için seçenek `Person`.</span><span class="sxs-lookup"><span data-stu-id="42d6d-140">In the **Add Entity** dialog box, name the entity `Instructor` and set its **Base type** option to `Person`.</span></span>

<span data-ttu-id="42d6d-141">[![image02](the-entity-framework-and-aspnet-getting-started-part-6/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-141">[![image02](the-entity-framework-and-aspnet-getting-started-part-6/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image7.png)</span></span>

<span data-ttu-id="42d6d-142">**Tamam**'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="42d6d-142">Click **OK**.</span></span> <span data-ttu-id="42d6d-143">Tasarımcı oluşturur bir `Instructor` türetilen varlık `Person` varlık.</span><span class="sxs-lookup"><span data-stu-id="42d6d-143">The designer creates an `Instructor` entity that derives from the `Person` entity.</span></span> <span data-ttu-id="42d6d-144">Yeni varlık henüz herhangi bir özellik yok.</span><span class="sxs-lookup"><span data-stu-id="42d6d-144">The new entity does not yet have any properties.</span></span>

<span data-ttu-id="42d6d-145">[![image03](the-entity-framework-and-aspnet-getting-started-part-6/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-145">[![image03](the-entity-framework-and-aspnet-getting-started-part-6/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image9.png)</span></span>

<span data-ttu-id="42d6d-146">Oluşturmak için yordamı yineleyin bir `Student` de türetilen varlık `Person`.</span><span class="sxs-lookup"><span data-stu-id="42d6d-146">Repeat the procedure to create a `Student` entity that also derives from `Person`.</span></span>

<span data-ttu-id="42d6d-147">Bu özellikten taşımanız gerekir böylece Eğitmen seferde yalnızca `Person` varlığa `Instructor` varlık.</span><span class="sxs-lookup"><span data-stu-id="42d6d-147">Only instructors have hire dates, so you need to move that property from the `Person` entity to the `Instructor` entity.</span></span> <span data-ttu-id="42d6d-148">İçinde `Person` varlık, sağ `HireDate` özelliği ve tıklatın **Kes**.</span><span class="sxs-lookup"><span data-stu-id="42d6d-148">In the `Person` entity, right-click the `HireDate` property and click **Cut**.</span></span> <span data-ttu-id="42d6d-149">Ardından sağ **özellikleri** içinde `Instructor` varlık ve tıklatın **Yapıştır**.</span><span class="sxs-lookup"><span data-stu-id="42d6d-149">Then right-click **Properties** in the `Instructor` entity and click **Paste**.</span></span>

<span data-ttu-id="42d6d-150">[![image04](the-entity-framework-and-aspnet-getting-started-part-6/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-150">[![image04](the-entity-framework-and-aspnet-getting-started-part-6/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image11.png)</span></span>

<span data-ttu-id="42d6d-151">İşe alma tarihi bir `Instructor` varlık null olamaz.</span><span class="sxs-lookup"><span data-stu-id="42d6d-151">The hire date of an `Instructor` entity cannot be null.</span></span> <span data-ttu-id="42d6d-152">Sağ `HireDate` özelliği,'ı tıklatın **özellikleri**ve ardından **özellikleri** penceresi değişiklik `Nullable` için `False`.</span><span class="sxs-lookup"><span data-stu-id="42d6d-152">Right-click the `HireDate` property, click **Properties**, and then in the **Properties** window change `Nullable` to `False`.</span></span>

<span data-ttu-id="42d6d-153">[![image05](the-entity-framework-and-aspnet-getting-started-part-6/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-153">[![image05](the-entity-framework-and-aspnet-getting-started-part-6/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image13.png)</span></span>

<span data-ttu-id="42d6d-154">Taşıma için yordamı yineleyin `EnrollmentDate` özelliğinden `Person` varlığa `Student` varlık.</span><span class="sxs-lookup"><span data-stu-id="42d6d-154">Repeat the procedure to move the `EnrollmentDate` property from the `Person` entity to the `Student` entity.</span></span> <span data-ttu-id="42d6d-155">Ayrıca ayarladığınızdan emin olun `Nullable` için `False` için `EnrollmentDate` özelliği.</span><span class="sxs-lookup"><span data-stu-id="42d6d-155">Make sure that you also set `Nullable` to `False` for the `EnrollmentDate` property.</span></span>

<span data-ttu-id="42d6d-156">Artık bir `Person` varlık için ortak olan özelliklerine sahip `Instructor` ve `Student` varlıkları (değil taşıma Gezinti özellikleri yanı sıra,), varlığın devralma yapısındaki temel bir varlık olarak yalnızca kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-156">Now that a `Person` entity has only the properties that are common to `Instructor` and `Student` entities (aside from navigation properties, which you're not moving), the entity can only be used as a base entity in the inheritance structure.</span></span> <span data-ttu-id="42d6d-157">Bu nedenle, bağımsız bir varlık olarak hiçbir zaman davranılır emin olmak gerekir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-157">Therefore, you need to ensure that it's never treated as an independent entity.</span></span> <span data-ttu-id="42d6d-158">Sağ `Person` varlık, select **özellikleri**ve ardından **özellikleri** penceresi değerini değiştirin **soyut** özelliğine  **Doğru**.</span><span class="sxs-lookup"><span data-stu-id="42d6d-158">Right-click the `Person` entity, select **Properties**, and then in the **Properties** window change the value of the **Abstract** property to **True**.</span></span>

<span data-ttu-id="42d6d-159">[![image06](the-entity-framework-and-aspnet-getting-started-part-6/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-159">[![image06](the-entity-framework-and-aspnet-getting-started-part-6/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image15.png)</span></span>

## <a name="mapping-instructor-and-student-entities-to-the-person-table"></a><span data-ttu-id="42d6d-160">Eğitmen ve Öğrenci varlıkları kişi Tablo eşleme</span><span class="sxs-lookup"><span data-stu-id="42d6d-160">Mapping Instructor and Student Entities to the Person Table</span></span>

<span data-ttu-id="42d6d-161">Entity Framework birbirinden ayırmak nasıl bildirmeniz gerekir artık `Instructor` ve `Student` veritabanındaki varlıklar.</span><span class="sxs-lookup"><span data-stu-id="42d6d-161">Now you need to tell the Entity Framework how to differentiate between `Instructor` and `Student` entities in the database.</span></span>

<span data-ttu-id="42d6d-162">Sağ `Instructor` varlık ve select **Tablo eşleme**.</span><span class="sxs-lookup"><span data-stu-id="42d6d-162">Right-click the `Instructor` entity and select **Table Mapping**.</span></span> <span data-ttu-id="42d6d-163">İçinde **eşleme ayrıntıları** penceresinde tıklatın **bir tablo veya görünüm ekleyin** seçip **kişi**.</span><span class="sxs-lookup"><span data-stu-id="42d6d-163">In the **Mapping Details** window, click **Add a Table or View** and select **Person**.</span></span>

<span data-ttu-id="42d6d-164">[![image07](the-entity-framework-and-aspnet-getting-started-part-6/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-164">[![image07](the-entity-framework-and-aspnet-getting-started-part-6/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image17.png)</span></span>

<span data-ttu-id="42d6d-165">Tıklatın **bir koşul eklemek**ve ardından **İşeAlmaTarihi**.</span><span class="sxs-lookup"><span data-stu-id="42d6d-165">Click **Add a Condition**, and then select **HireDate**.</span></span>

<span data-ttu-id="42d6d-166">[![image09](the-entity-framework-and-aspnet-getting-started-part-6/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-166">[![image09](the-entity-framework-and-aspnet-getting-started-part-6/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image19.png)</span></span>

<span data-ttu-id="42d6d-167">Değişiklik **işleci** için **olan** ve **değeri / özellik** için **Null**.</span><span class="sxs-lookup"><span data-stu-id="42d6d-167">Change **Operator** to **Is** and **Value / Property** to **Not Null**.</span></span>

<span data-ttu-id="42d6d-168">[![image10](the-entity-framework-and-aspnet-getting-started-part-6/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-168">[![image10](the-entity-framework-and-aspnet-getting-started-part-6/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image21.png)</span></span>

<span data-ttu-id="42d6d-169">İçin yordamı yineleyin `Students` varlık, bu varlık için eşlemeleri belirtme `Person` tablosundan `EnrollmentDate` sütun null değil.</span><span class="sxs-lookup"><span data-stu-id="42d6d-169">Repeat the procedure for the `Students` entity, specifying that this entity maps to the `Person` table when the `EnrollmentDate` column is not null.</span></span> <span data-ttu-id="42d6d-170">Ardından kaydedin ve veri modelinin kapatın.</span><span class="sxs-lookup"><span data-stu-id="42d6d-170">Then save and close the data model.</span></span>

<span data-ttu-id="42d6d-171">Sınıflar olarak yeni varlıklar oluşturmak ve onları Tasarımcısı'nda kullanılabilir hale getirmek için projeyi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="42d6d-171">Build the project in order to create the new entities as classes and make them available in the designer.</span></span>

## <a name="using-the-instructor-and-student-entities"></a><span data-ttu-id="42d6d-172">Eğitmen ve Öğrenci varlıkları kullanma</span><span class="sxs-lookup"><span data-stu-id="42d6d-172">Using the Instructor and Student Entities</span></span>

<span data-ttu-id="42d6d-173">Öğrenci ve Eğitmen verileriyle, veriye bağlı onlara çalışma web sayfaları oluşturduğunuzda `Person` üzerinde filtrelenmiş ve varlık kümesi `HireDate` veya `EnrollmentDate` Öğrenciler veya Eğitmen döndürülen verileri kısıtlamak için özellik.</span><span class="sxs-lookup"><span data-stu-id="42d6d-173">When you created the web pages that work with student and instructor data, you databound them to the `Person` entity set, and you filtered on the `HireDate` or `EnrollmentDate` property to restrict the returned data to students or instructors.</span></span> <span data-ttu-id="42d6d-174">Bununla birlikte, artık bağladığınızda her veri kaynağı denetimi `Person` varlık kümesi, yalnızca belirtebilirsiniz `Student` veya `Instructor` varlık türleri seçilmelidir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-174">However, now when you bind each data source control to the `Person` entity set, you can specify that only `Student` or `Instructor` entity types should be selected.</span></span> <span data-ttu-id="42d6d-175">Entity Framework Öğrenciler ve Eğitmen içinde ayırt etmek nasıl bildiği için `Person` varlık kümesini kaldırabilirsiniz `Where` girdiğiniz el ile bunu yapmak için özellik ayarları.</span><span class="sxs-lookup"><span data-stu-id="42d6d-175">Because the Entity Framework knows how to differentiate students and instructors in the `Person` entity set, you can remove the `Where` property settings you entered manually to do that.</span></span>

<span data-ttu-id="42d6d-176">Visual Studio Tasarımcısı'nda, varlık türü belirtebilirsiniz bir `EntityDataSource` denetim seçmelisiniz **EntityTypeFilter** açılan kutusunda `Configure Data Source` Sihirbazı, aşağıdaki örnekte gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="42d6d-176">In the Visual Studio Designer, you can specify the entity type that an `EntityDataSource` control should select in the **EntityTypeFilter** drop-down box of the `Configure Data Source` wizard, as shown in the following example.</span></span>

<span data-ttu-id="42d6d-177">[![image13](the-entity-framework-and-aspnet-getting-started-part-6/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-177">[![image13](the-entity-framework-and-aspnet-getting-started-part-6/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image23.png)</span></span>

<span data-ttu-id="42d6d-178">Ve **özellikleri** kaldırabilirsiniz penceresi `Where` artık, aşağıdaki örnekte gösterildiği gibi gerekmeyen yan tümcesi değerleri.</span><span class="sxs-lookup"><span data-stu-id="42d6d-178">And in the **Properties** window you can remove `Where` clause values that are no longer needed, as shown in the following example.</span></span>

<span data-ttu-id="42d6d-179">[![image14](the-entity-framework-and-aspnet-getting-started-part-6/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-179">[![image14](the-entity-framework-and-aspnet-getting-started-part-6/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image25.png)</span></span>

<span data-ttu-id="42d6d-180">Ancak, için biçimlendirme değiştirdiyseniz çünkü `EntityDataSource` kullanılacak denetimleri `ContextTypeName` özniteliği çalıştıramaz **Configure Data Source** üzerinde Sihirbazı `EntityDataSource` önceden oluşturduğunuz denetimleri.</span><span class="sxs-lookup"><span data-stu-id="42d6d-180">However, because you've changed the markup for `EntityDataSource` controls to use the `ContextTypeName` attribute, you cannot run the **Configure Data Source** wizard on `EntityDataSource` controls that you've already created.</span></span> <span data-ttu-id="42d6d-181">Bu nedenle, bunun yerine biçimlendirme değiştirerek gerekli değişiklikleri yapın.</span><span class="sxs-lookup"><span data-stu-id="42d6d-181">Therefore, you'll make the required changes by changing markup instead.</span></span>

<span data-ttu-id="42d6d-182">Açık *Students.aspx* sayfası.</span><span class="sxs-lookup"><span data-stu-id="42d6d-182">Open the *Students.aspx* page.</span></span> <span data-ttu-id="42d6d-183">İçinde `StudentsEntityDataSource` denetlemek, Kaldır `Where` özniteliği ve ekleme bir `EntityTypeFilter="Student"` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="42d6d-183">In the `StudentsEntityDataSource` control, remove the `Where` attribute and add an `EntityTypeFilter="Student"` attribute.</span></span> <span data-ttu-id="42d6d-184">Biçimlendirme, aşağıdaki örnekte şimdi benzeyecektir:</span><span class="sxs-lookup"><span data-stu-id="42d6d-184">The markup will now resemble the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-6/samples/sample1.aspx)]

<span data-ttu-id="42d6d-185">Ayarı `EntityTypeFilter` özniteliği sağlar `EntityDataSource` denetimi yalnızca belirtilen varlık türü seçin.</span><span class="sxs-lookup"><span data-stu-id="42d6d-185">Setting the `EntityTypeFilter` attribute ensures that the `EntityDataSource` control will select only the specified entity type.</span></span> <span data-ttu-id="42d6d-186">Her ikisi de almak istiyorsanız `Student` ve `Instructor` varlık türleri, bu öznitelik değil ayarlardı.</span><span class="sxs-lookup"><span data-stu-id="42d6d-186">If you wanted to retrieve both `Student` and `Instructor` entity types, you would not set this attribute.</span></span> <span data-ttu-id="42d6d-187">(Birden çok varlık türleri biriyle alma seçeneğiniz `EntityDataSource` yalnızca salt okunur veri erişimi için Denetim kullanıyorsanız denetim.</span><span class="sxs-lookup"><span data-stu-id="42d6d-187">(You have the option of retrieving multiple entity types with one `EntityDataSource` control only if you're using the control for read-only data access.</span></span> <span data-ttu-id="42d6d-188">Kullanıyorsanız, bir `EntityDataSource` Ekle, Güncelleştir veya varlıkları silmek için denetlemek ve bağlı için varlık kümesini birden çok tür içeriyorsa, yalnızca tek bir varlık türü ile çalışabilirsiniz ve bu öznitelik ayarlamanız gerekir.)</span><span class="sxs-lookup"><span data-stu-id="42d6d-188">If you're using an `EntityDataSource` control to insert, update, or delete entities, and if the entity set it's bound to can contain multiple types, you can only work with one entity type, and you have to set this attribute.)</span></span>

<span data-ttu-id="42d6d-189">İçin yordamı yineleyin `SearchEntityDataSource` , yalnızca bir bölümü kaldırmak dışında kontrol `Where` seçer öznitelik `Student` özelliği tamamen kaldırmak yerine varlıklar.</span><span class="sxs-lookup"><span data-stu-id="42d6d-189">Repeat the procedure for the `SearchEntityDataSource` control, except remove only the part of the `Where` attribute that selects `Student` entities instead of removing the property altogether.</span></span> <span data-ttu-id="42d6d-190">Denetimi açılış etiketinde şimdi aşağıdaki örnekte benzeyecektir:</span><span class="sxs-lookup"><span data-stu-id="42d6d-190">The opening tag of the control will now resemble the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-6/samples/sample2.aspx)]

<span data-ttu-id="42d6d-191">Uygulama önceden olduğu gibi yine çalışır durumda olduğunu doğrulamak için sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="42d6d-191">Run the page to verify that it still works as it did before.</span></span>

<span data-ttu-id="42d6d-192">[![image15](the-entity-framework-and-aspnet-getting-started-part-6/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-192">[![image15](the-entity-framework-and-aspnet-getting-started-part-6/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image27.png)</span></span>

<span data-ttu-id="42d6d-193">Önceki eğitimlerine oluşturulan ve böylece yeni kullandıkları aşağıdaki sayfalarda güncelleştirme `Student` ve `Instructor` yerine varlıklar `Person` varlıklar, ardından çalıştırın bunları önceden olduğu gibi çalıştıklarını doğrulamak için:</span><span class="sxs-lookup"><span data-stu-id="42d6d-193">Update the following pages that you created in earlier tutorials so that they use the new `Student` and `Instructor` entities instead of `Person` entities, then run them to verify that they work as they did before:</span></span>

- <span data-ttu-id="42d6d-194">İçinde *StudentsAdd.aspx*, ekleme `EntityTypeFilter="Student"` için `StudentsEntityDataSource` denetim.</span><span class="sxs-lookup"><span data-stu-id="42d6d-194">In *StudentsAdd.aspx*, add `EntityTypeFilter="Student"` to the `StudentsEntityDataSource` control.</span></span> <span data-ttu-id="42d6d-195">Biçimlendirme, aşağıdaki örnekte şimdi benzeyecektir:</span><span class="sxs-lookup"><span data-stu-id="42d6d-195">The markup will now resemble the following example:</span></span> 

    [!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-6/samples/sample3.aspx)]

    <span data-ttu-id="42d6d-196">[![image16](the-entity-framework-and-aspnet-getting-started-part-6/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-196">[![image16](the-entity-framework-and-aspnet-getting-started-part-6/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image29.png)</span></span>
- <span data-ttu-id="42d6d-197">İçinde *About.aspx*, ekleme `EntityTypeFilter="Student"` için `StudentStatisticsEntityDataSource` denetlemek ve kaldırma `Where="it.EnrollmentDate is not null"`.</span><span class="sxs-lookup"><span data-stu-id="42d6d-197">In *About.aspx*, add `EntityTypeFilter="Student"` to the `StudentStatisticsEntityDataSource` control and remove `Where="it.EnrollmentDate is not null"`.</span></span> <span data-ttu-id="42d6d-198">Biçimlendirme, aşağıdaki örnekte şimdi benzeyecektir:</span><span class="sxs-lookup"><span data-stu-id="42d6d-198">The markup will now resemble the following example:</span></span> 

    [!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-6/samples/sample4.aspx)]

    <span data-ttu-id="42d6d-199">[![image17](the-entity-framework-and-aspnet-getting-started-part-6/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-199">[![image17](the-entity-framework-and-aspnet-getting-started-part-6/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image31.png)</span></span>
- <span data-ttu-id="42d6d-200">İçinde *Instructors.aspx* ve *InstructorsCourses.aspx*, ekleme `EntityTypeFilter="Instructor"` için `InstructorsEntityDataSource` denetlemek ve kaldırma `Where="it.HireDate is not null"`.</span><span class="sxs-lookup"><span data-stu-id="42d6d-200">In *Instructors.aspx* and *InstructorsCourses.aspx*, add `EntityTypeFilter="Instructor"` to the `InstructorsEntityDataSource` control and remove `Where="it.HireDate is not null"`.</span></span> <span data-ttu-id="42d6d-201">Biçimlendirme *Instructors.aspx* şimdi aşağıdaki örneğe benzer:</span><span class="sxs-lookup"><span data-stu-id="42d6d-201">The markup in *Instructors.aspx* now resembles the following example:</span></span> 

    [!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-6/samples/sample5.aspx)]

    <span data-ttu-id="42d6d-202">[![image18](the-entity-framework-and-aspnet-getting-started-part-6/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-202">[![image18](the-entity-framework-and-aspnet-getting-started-part-6/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image33.png)</span></span>

    <span data-ttu-id="42d6d-203">Biçimlendirme *InstructorsCourses.aspx* şimdi aşağıdaki örnekte benzeyecektir:</span><span class="sxs-lookup"><span data-stu-id="42d6d-203">The markup in *InstructorsCourses.aspx* will now resemble the following example:</span></span>

    [!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-6/samples/sample6.aspx)]

    <span data-ttu-id="42d6d-204">[![image19](the-entity-framework-and-aspnet-getting-started-part-6/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="42d6d-204">[![image19](the-entity-framework-and-aspnet-getting-started-part-6/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-6/_static/image35.png)</span></span>

<span data-ttu-id="42d6d-205">Bu değişikliklerin sonucu olarak çeşitli şekillerde Contoso University uygulamanın bakım geliştirdik.</span><span class="sxs-lookup"><span data-stu-id="42d6d-205">As a result of these changes, you've improved the Contoso University application's maintainability in several ways.</span></span> <span data-ttu-id="42d6d-206">Seçim ve Doğrulama mantığı UI katmanında dışında geçtiğinizi (*.aspx* biçimlendirme) ve veri erişim katmanı'nın ayrılmaz bir parçası yapılır.</span><span class="sxs-lookup"><span data-stu-id="42d6d-206">You've moved selection and validation logic out of the UI layer (*.aspx* markup) and made it an integral part of the data access layer.</span></span> <span data-ttu-id="42d6d-207">Bu uygulama kodunuzdan gelecekte veritabanı şeması veya veri modeli için yapabileceğiniz değişiklikleri ayırmaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="42d6d-207">This helps to isolate your application code from changes that you might make in the future to the database schema or the data model.</span></span> <span data-ttu-id="42d6d-208">Örneğin, Öğrenciler Öğretmen yardımları işe ve bu nedenle bir işe alma tarihi elde edebileceğiniz karar.</span><span class="sxs-lookup"><span data-stu-id="42d6d-208">For example, you could decide that students might be hired as teachers' aids and therefore would get a hire date.</span></span> <span data-ttu-id="42d6d-209">Öğrenciler Eğitmen ayırt etmek ve veri modeli güncelleştirmek için yeni bir özellik daha sonra ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="42d6d-209">You could then add a new property to differentiate students from instructors and update the data model.</span></span> <span data-ttu-id="42d6d-210">Web uygulamasındaki kod burada Öğrenciler için işe alma tarihi göstermek istediğiniz dışında değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="42d6d-210">No code in the web application would need to change except where you wanted to show a hire date for students.</span></span> <span data-ttu-id="42d6d-211">Başka bir yararı ekleme `Instructor` ve `Student` varlıklar olan kodunuzu zaman, başvurulan değerinden daha kolay anlaşılır `Person` gerçekten Öğrenciler olan nesneleri veya eğitmen.</span><span class="sxs-lookup"><span data-stu-id="42d6d-211">Another benefit of adding `Instructor` and `Student` entities is that your code is more readily understandable than when it referred to `Person` objects that were actually students or instructors.</span></span>

<span data-ttu-id="42d6d-212">Şimdi Entity Framework bir devralma desen uygulamak için bir yol da gördünüz.</span><span class="sxs-lookup"><span data-stu-id="42d6d-212">You've now seen one way to implement an inheritance pattern in the Entity Framework.</span></span> <span data-ttu-id="42d6d-213">Aşağıdaki öğreticide Entity Framework veritabanı nasıl eriştiğini üzerinde daha fazla denetim olması için saklı yordamlar kullanmayı öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="42d6d-213">In the following tutorial, you'll learn how to use stored procedures in order to have more control over how the Entity Framework accesses the database.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="42d6d-214">[Önceki](the-entity-framework-and-aspnet-getting-started-part-5.md)
[sonraki](the-entity-framework-and-aspnet-getting-started-part-7.md)</span><span class="sxs-lookup"><span data-stu-id="42d6d-214">[Previous](the-entity-framework-and-aspnet-getting-started-part-5.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-7.md)</span></span>

---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
title: Derleme işlemi anlama | Microsoft Docs
author: jrjlee
description: Bu konu, bir kurumsal ölçekte derleme ve dağıtım işlemi bir kılavuz sağlar. Bu konuda açıklanan yaklaşım özel Microsoft yapı Engin kullanır...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 5b982451-547b-4a2f-a5dc-79bc64d84d40
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
msc.type: authoredcontent
ms.openlocfilehash: 4544a5e6212ea9b1247062dc35edc135ff7ca354
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/06/2018
---
<a name="understanding-the-build-process"></a><span data-ttu-id="1a1ef-104">Derleme işlemi anlama</span><span class="sxs-lookup"><span data-stu-id="1a1ef-104">Understanding the Build Process</span></span>
====================
<span data-ttu-id="1a1ef-105">tarafından [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="1a1ef-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="1a1ef-106">PDF indirin</span><span class="sxs-lookup"><span data-stu-id="1a1ef-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="1a1ef-107">Bu konu, bir kurumsal ölçekte derleme ve dağıtım işlemi bir kılavuz sağlar.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-107">This topic provides a walkthrough of an enterprise-scale build and deployment process.</span></span> <span data-ttu-id="1a1ef-108">Bu konuda açıklanan yaklaşım özel Microsoft Build Engine (MSBuild) proje dosyalarını işleminin tüm yönlerini üzerinden hassas bir denetim sağlamak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-108">The approach described in this topic uses custom Microsoft Build Engine (MSBuild) project files to provide fine-grained control over every aspect of the process.</span></span> <span data-ttu-id="1a1ef-109">Proje dosyaları içinde özel MSBuild hedefleri Internet Information Services (IIS) Web Dağıtım Aracı'nın (MSDeploy.exe) gibi dağıtım yardımcı programları ve veritabanı dağıtım yardımcı programı VSDBCMD.exe çalıştırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-109">Within the project files, custom MSBuild targets are used to run deployment utilities like the Internet Information Services (IIS) Web Deployment Tool (MSDeploy.exe) and the database deployment utility VSDBCMD.exe.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="1a1ef-110">Önceki konu [proje dosyası anlama](understanding-the-project-file.md)birden çok hedef ortamlara dağıtımını desteklemek için bölünmüş proje dosyalarını kavramı sunulan ve bir MSBuild proje dosyası anahtar bileşenlerinin açıklanan.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-110">The previous topic, [Understanding the Project File](understanding-the-project-file.md), described the key components of an MSBuild project file and introduced the concept of split project files to support deployment to multiple target environments.</span></span> <span data-ttu-id="1a1ef-111">Zaten bu kavramlarına alışık değilseniz, gözden geçirmeniz gereken [proje dosyası anlama](understanding-the-project-file.md) Bu konuyu çalışmadan önce.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-111">If you're not already familiar with these concepts, you should review [Understanding the Project File](understanding-the-project-file.md) before you work through this topic.</span></span>


<span data-ttu-id="1a1ef-112">Bu konuda eğitim serileri Fabrikam Ltd. adlı kurgusal bir şirket kurumsal dağıtım gereksinimleri dayalı parçası formlar Bu öğretici seri kullanan örnek bir çözüm&#x2014; [Contact Manager çözüm](the-contact-manager-solution.md)&#x2014;bir ASP.NET MVC 3 uygulama, bir Windows Communication dahil olmak üzere karmaşıklıkta gerçekçi düzeyine sahip bir web uygulaması temsil etmek için Foundation (WCF) hizmetini ve veritabanı projesi.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-112">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="1a1ef-113">Bu öğreticileri merkezinde dağıtım yöntemi, açıklanan bölünmüş proje dosyası yaklaşım dayalı [proje dosyası anlama](understanding-the-project-file.md), hangi derleme süreci tarafından denetlenen içinde iki dosyaları proje&#x2014;bir içeren Her hedef ortam ve ortama özgü derleme ve dağıtım ayarları içeren bir için geçerli olan yönergeleri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-113">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="1a1ef-114">Derleme zamanında ortama özgü proje dosyası oluşturma yönergeleri eksiksiz bir kümesini oluşturmak için ortam belirsiz proje dosyasına birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-114">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="build-and-deployment-overview"></a><span data-ttu-id="1a1ef-115">Derleme ve dağıtım genel bakış</span><span class="sxs-lookup"><span data-stu-id="1a1ef-115">Build and Deployment Overview</span></span>

<span data-ttu-id="1a1ef-116">İçinde [Contact Manager çözüm](the-contact-manager-solution.md), üç dosyaları denetleme derleme ve dağıtım işlemi:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-116">In the [Contact Manager solution](the-contact-manager-solution.md), three files control the build and deployment process:</span></span>

- <span data-ttu-id="1a1ef-117">A *Evrensel proje dosyası* (*Publish.proj*).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-117">A *universal project file* (*Publish.proj*).</span></span> <span data-ttu-id="1a1ef-118">Bu, hedef ortamlar arasında değiştirmeyin derleme ve dağıtım yönergeleri içerir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-118">This contains build and deployment instructions that do not change between destination environments.</span></span>
- <span data-ttu-id="1a1ef-119">Bir *ortama özgü proje dosyası* (*Env Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-119">An *environment-specific project file* (*Env-Dev.proj*).</span></span> <span data-ttu-id="1a1ef-120">Bu, belirli hedef ortam için belirli derleme ve dağıtım ayarlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-120">This contains build and deployment settings that are specific to a particular destination environment.</span></span> <span data-ttu-id="1a1ef-121">Örneğin, kullanabilirsiniz *Env Dev.proj* adlı alternatif bir dosya oluşturun ve bir geliştirici veya test ortamı için ayarları sağlamak için dosya *Env Stage.proj* bir hazırlama ayarları sağlamak için ortam.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-121">For example, you could use the *Env-Dev.proj* file to provide settings for a developer or test environment and create an alternative file named *Env-Stage.proj* to provide settings for a staging environment.</span></span>
- <span data-ttu-id="1a1ef-122">A *komut dosyası* (*Yayımla Dev.cmd*).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-122">A *command file* (*Publish-Dev.cmd*).</span></span> <span data-ttu-id="1a1ef-123">Proje dosyaları belirten komut yürütmek istediğiniz MSBuild.exe içerir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-123">This contains an MSBuild.exe command that specifies which project files you want to execute.</span></span> <span data-ttu-id="1a1ef-124">Farklı ortama özgü proje dosyasını belirten bir MSBuild.exe komutu her dosya, içerdiği her hedef ortam için bir komut dosyası oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-124">You can create a command file for every destination environment, where each file contains an MSBuild.exe command that specifies a different environment-specific project file.</span></span> <span data-ttu-id="1a1ef-125">Bu, farklı ortamlar için uygun komut dosyası çalıştırarak dağıtmak Geliştirici olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-125">This lets the developer deploy to different environments simply by running the appropriate command file.</span></span>

<span data-ttu-id="1a1ef-126">Örnek çözümde, bu üç dosya Yayımla çözüm klasöründe bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-126">In the sample solution, you can find these three files in the Publish solution folder.</span></span>

![](understanding-the-build-process/_static/image1.png)

<span data-ttu-id="1a1ef-127">Bu dosyalar daha ayrıntılı bakmak önce bu yöntemi kullandığınızda, genel derleme işleminin nasıl çalıştığı bir bakalım.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-127">Before you look at these files in more detail, let's take a look at how the overall build process works when you use this approach.</span></span> <span data-ttu-id="1a1ef-128">Yüksek düzeyde, derleme ve dağıtım işlemi şuna benzer:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-128">At a high level, the build and deployment process looks like this:</span></span>

![](understanding-the-build-process/_static/image2.png)

<span data-ttu-id="1a1ef-129">Gerçekleşen ilk iki dosyaları proje şeydir&#x2014;Evrensel derleme ve dağıtım yönergelerini içeren ve ortama özgü ayarları içeren bir&#x2014;tek proje dosyasına birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-129">The first thing that happens is that the two project files&#x2014;one containing universal build and deployment instructions, and one containing environment-specific settings&#x2014;are merged into a single project file.</span></span> <span data-ttu-id="1a1ef-130">MSBuild proje dosyası'ndaki yönergeleri üzerinden sonra çalışır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-130">MSBuild then works through the instructions in the project file.</span></span> <span data-ttu-id="1a1ef-131">Her proje için proje dosyası kullanarak çözümdeki projelerin her biri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-131">It builds each of the projects in the solution, using the project file for each project.</span></span> <span data-ttu-id="1a1ef-132">Daha sonra Web dağıtımı (MSDeploy.exe) gibi diğer araçları ve web içeriği ve veritabanları için hedef ortam dağıtmak için VSDBCMD yardımcı programını çağırır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-132">It then calls out to other tools, like Web Deploy (MSDeploy.exe) and the VSDBCMD utility to deploy your web content and databases to the target environment.</span></span>

<span data-ttu-id="1a1ef-133">Baştan, derleme ve dağıtım işlemi, şu görevleri gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-133">From start to finish, the build and deployment process performs these tasks:</span></span>

1. <span data-ttu-id="1a1ef-134">Yeni bir yapı için hazırlık çıktı dizini içeriğini siler.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-134">It deletes the contents of the output directory, in preparation for a fresh build.</span></span>
2. <span data-ttu-id="1a1ef-135">Çözümdeki her projeye oluşturur:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-135">It builds each project in the solution:</span></span>

    1. <span data-ttu-id="1a1ef-136">Web projeleri için&#x2014;bu durumda, bir ASP.NET MVC web uygulaması ve bir WCF web hizmeti&#x2014;derleme işlemi her proje için bir web dağıtım paketi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-136">For web projects&#x2014;in this case, an ASP.NET MVC web application and a WCF web service&#x2014;the build process creates a web deployment package for each project.</span></span>
    2. <span data-ttu-id="1a1ef-137">Veritabanı projeleri için yapı işlemi her proje için dağıtım bildirimi (.deploymanifest dosyası) oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-137">For database projects, the build process creates a deployment manifest (.deploymanifest file) for each project.</span></span>
3. <span data-ttu-id="1a1ef-138">Her veritabanı projesi çözümdeki proje dosyalarından çeşitli özelliklerini kullanarak dağıtmak için VSDBCMD.exe yardımcı programı kullandığı&#x2014;bir hedef bağlantı dizesi ve bir veritabanı adı&#x2014;.deploymanifest dosyası ile birlikte.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-138">It uses the VSDBCMD.exe utility to deploy each database project in the solution, using various properties from the project files&#x2014;a target connection string and a database name&#x2014;together with the .deploymanifest file.</span></span>
4. <span data-ttu-id="1a1ef-139">Dağıtım işlemi denetlemek için proje dosyalarını çeşitli özellikleri kullanarak çözümdeki her web projesi dağıtma MSDeploy.exe yardımcı programı kullanır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-139">It uses the MSDeploy.exe utility to deploy each web project in the solution, using various properties from the project files to control the deployment process.</span></span>

<span data-ttu-id="1a1ef-140">Bu işlem daha ayrıntılı izleme için örnek çözümü kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-140">You can use the sample solution to trace this process in more detail.</span></span>

> [!NOTE]
> <span data-ttu-id="1a1ef-141">Kendi sunucu ortamları için ortama özgü proje dosyalarını özelleştirme konusunda yönergeler için bkz [dağıtım özelliklerini yapılandırmak için bir hedef ortam](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-141">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="invoking-the-build-and-deployment-process"></a><span data-ttu-id="1a1ef-142">Derleme ve dağıtım işlemini çağırma</span><span class="sxs-lookup"><span data-stu-id="1a1ef-142">Invoking the Build and Deployment Process</span></span>

<span data-ttu-id="1a1ef-143">Bir geliştirici test ortamına Contact Manager çözümü dağıtmak için geliştirici çalıştıran *Yayımla Dev.cmd* komut dosyası.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-143">To deploy the Contact Manager solution to a developer test environment, the developer runs the *Publish-Dev.cmd* command file.</span></span> <span data-ttu-id="1a1ef-144">Bu MSBuild.exe, çağırır belirtme *Publish.proj* yürütmek için proje dosyası olarak ve *Env Dev.proj* bir parametre değeri.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-144">This invokes MSBuild.exe, specifying *Publish.proj* as the project file to execute and *Env-Dev.proj* as a parameter value.</span></span>


[!code-console[Main](understanding-the-build-process/samples/sample1.cmd)]


> [!NOTE]
> <span data-ttu-id="1a1ef-145">**/Fl** geçiş (kısaltması **/fileLogger**) adlı bir dosyaya yapı çıktı günlükleri *msbuild.log* geçerli dizin.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-145">The **/fl** switch (short for **/fileLogger**) logs the build output to a file named *msbuild.log* in the current directory.</span></span> <span data-ttu-id="1a1ef-146">Daha fazla bilgi için bkz: [MSBuild komut satırı başvurusu](https://msdn.microsoft.com/library/ms164311.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-146">For more information, see the [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>


<span data-ttu-id="1a1ef-147">Bu noktada, MSBuild çalışmaya başlar, yükler *Publish.proj* dosyası ve işlem içindeki yönergeleri başlatır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-147">At this point, MSBuild starts running, loads the *Publish.proj* file, and starts processing the instructions within it.</span></span> <span data-ttu-id="1a1ef-148">MSBuild proje içeri aktarmak için ilk yönergenin söyler, dosya **TargetEnvPropsFile** parametresi belirtir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-148">The first instruction tells MSBuild to import the project file that the **TargetEnvPropsFile** parameter specifies.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample2.xml)]


<span data-ttu-id="1a1ef-149">**TargetEnvPropsFile** parametresi belirtir *Env Dev.proj* MSBuild içeriğini birleştirir böylece dosya *Env Dev.proj* içine dosya  *Publish.proj* dosya.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-149">The **TargetEnvPropsFile** parameter specifies the *Env-Dev.proj* file, so MSBuild merges the contents of the *Env-Dev.proj* file into the *Publish.proj* file.</span></span>

<span data-ttu-id="1a1ef-150">MSBuild birleştirilmiş proje dosyasında karşılaştığı sonraki özellik grupları öğelerdir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-150">The next elements that MSBuild encounters in the merged project file are property groups.</span></span> <span data-ttu-id="1a1ef-151">Özellikler dosyasında göründükleri sırada işlenir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-151">Properties are processed in the order in which they appear in the file.</span></span> <span data-ttu-id="1a1ef-152">MSBuild belirtilen tüm koşulların karşılandığından sağlayarak, her bir özellik için bir anahtar-değer çifti oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-152">MSBuild creates a key-value pair for each property, providing that any specified conditions are met.</span></span> <span data-ttu-id="1a1ef-153">Daha sonra dosyasında tanımlanan özellikler önceki dosyasında tanımlanan aynı ada sahip herhangi bir özellik üzerine yazar.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-153">Properties defined later in the file will overwrite any properties with the same name defined earlier in the file.</span></span> <span data-ttu-id="1a1ef-154">Örneğin, göz önünde bulundurun **OutputRoot** özellikleri.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-154">For example, consider the **OutputRoot** properties.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample3.xml)]


<span data-ttu-id="1a1ef-155">MSBuild ilk işlediğinde **OutputRoot** öğesi, benzer ada parametresi sağlanarak olmayan sağlamış, değerini ayarlar **OutputRoot** özelliğine **... \Publish\Out**. İkinci karşılaştığında **OutputRoot** koşul değerlendirilirse öğesi **true**, değeri üzerine yazar **OutputRoot** özellik değeri ile **OutDir** parametresi.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-155">When MSBuild processes the first **OutputRoot** element, providing a similarly named parameter has not been provided, it sets the value of the **OutputRoot** property to **..\Publish\Out**. When it encounters the second **OutputRoot** element, if the condition evaluates to **true**, it will overwrite the value of the **OutputRoot** property with the value of the **OutDir** parameter.</span></span>

<span data-ttu-id="1a1ef-156">MSBuild karşılaştığı sonraki adlı bir öğe içeren bir tek öğe grubu öğedir **ProjectsToBuild**.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-156">The next element that MSBuild encounters is a single item group, containing an item named **ProjectsToBuild**.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample4.xml)]


<span data-ttu-id="1a1ef-157">MSBuild adlı bir öğe listesi oluşturarak bu yönergeyi işler **ProjectsToBuild**.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-157">MSBuild processes this instruction by building an item list named **ProjectsToBuild**.</span></span> <span data-ttu-id="1a1ef-158">Bu durumda, tek bir değer madde listesini içeren&#x2014;yol ve çözüm dosyasının dosya adı.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-158">In this case, the item list contains a single value&#x2014;the path and filename of the solution file.</span></span>

<span data-ttu-id="1a1ef-159">Bu noktada, kalan hedefleri öğelerdir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-159">At this point, the remaining elements are targets.</span></span> <span data-ttu-id="1a1ef-160">Hedefleri özellikleri ve öğeleri farklı şekilde işlenir&#x2014;bunlar açıkça kullanıcı tarafından belirtilen ya da başka bir yapı içinde proje dosyası tarafından çağrılan sürece hedefleri temelde işlenmez.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-160">Targets are processed differently from properties and items&#x2014;essentially, targets are not processed unless they are either explicitly specified by the user or invoked by another construct within the project file.</span></span> <span data-ttu-id="1a1ef-161">Sözcüğünün açılış **proje** etiketi de içeren bir **DefaultTargets** özniteliği.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-161">Recall that the opening **Project** tag includes a **DefaultTargets** attribute.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample5.xml)]


<span data-ttu-id="1a1ef-162">Bu MSBuild'e bildirir **FullPublish** hedefleri değilseniz, hedef, belirtilen zaman MSBuild.exe çağrılır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-162">This instructs MSBuild to invoke the **FullPublish** target, if targets are not specified when MSBuild.exe is invoked.</span></span> <span data-ttu-id="1a1ef-163">**FullPublish** hedef herhangi bir görevi içermiyor; bunun yerine bağımlılıkları listesini yalnızca belirtir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-163">The **FullPublish** target doesn't contain any tasks; instead it simply specifies a list of dependencies.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample6.xml)]


<span data-ttu-id="1a1ef-164">Bu bağımlılık MSBuild yürütmek için söz konusu siparişi söyler **FullPublish** hedef, gerek duyduğu hedefleri sağlanan sırada bu listesini çağırmak:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-164">This dependency tells MSBuild that in order to execute the **FullPublish** target, it needs to invoke this list of targets in the order provided:</span></span>

1. <span data-ttu-id="1a1ef-165">Çağırmanız gerekir **temiz** hedef.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-165">It must invoke the **Clean** target.</span></span>
2. <span data-ttu-id="1a1ef-166">Çağırmanız gerekir **BuildProjects** hedef.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-166">It must invoke the **BuildProjects** target.</span></span>
3. <span data-ttu-id="1a1ef-167">Çağırmanız gerekir **GatherPackagesForPublishing** hedef.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-167">It must invoke the **GatherPackagesForPublishing** target.</span></span>
4. <span data-ttu-id="1a1ef-168">Çağırmanız gerekir **PublishDbPackages** hedef.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-168">It must invoke the **PublishDbPackages** target.</span></span>
5. <span data-ttu-id="1a1ef-169">Çağırmanız gerekir **PublishWebPackages** hedef.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-169">It must invoke the **PublishWebPackages** target.</span></span>

### <a name="the-clean-target"></a><span data-ttu-id="1a1ef-170">Temiz hedef</span><span class="sxs-lookup"><span data-stu-id="1a1ef-170">The Clean Target</span></span>

<span data-ttu-id="1a1ef-171">**Temiz** hedef temelde siler çıktı dizini ve tüm içeriğini, yeni bir yapı için hazırlık olarak.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-171">The **Clean** target basically deletes the output directory and all its contents, as preparation for a fresh build.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample7.xml)]


<span data-ttu-id="1a1ef-172">Hedef içeren bildirim bir **ItemGroup** öğesi.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-172">Notice that the target includes an **ItemGroup** element.</span></span> <span data-ttu-id="1a1ef-173">Özellikleri veya öğeleri tanımladığınızda bir **hedef** oluşturduğunuz öğesi, *dinamik* özellikleri ve öğeleri.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-173">When you define properties or items within a **Target** element, you're creating *dynamic* properties and items.</span></span> <span data-ttu-id="1a1ef-174">Hedef yürütülene dek diğer bir deyişle, özellikleri veya öğeleri işlenen değil.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-174">In other words, the properties or items aren't processed until the target is executed.</span></span> <span data-ttu-id="1a1ef-175">Çıktı dizini yok veya oluşturma işlemi başlar kadar oluşturamaz şekilde tüm dosyaları içeren  **\_FilesToDelete** listesinde bir statik öğesi olarak; yürütme devam ettiğinden kadar beklemek zorunda.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-175">The output directory might not exist or contain any files until the build process begins, so you can't build the **\_FilesToDelete** list as a static item; you have to wait until execution is underway.</span></span> <span data-ttu-id="1a1ef-176">Bu nedenle, hedef içinde dinamik bir öğe olarak listesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-176">As such, you build the list as a dynamic item within the target.</span></span>

> [!NOTE]
> <span data-ttu-id="1a1ef-177">Bu durumda, çünkü **temiz** hedef yürütülecek ilk, dinamik öğesi grubu kullanmak için gerçek gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-177">In this case, because the **Clean** target is the first to be executed, there's no real need to use a dynamic item group.</span></span> <span data-ttu-id="1a1ef-178">Belirli bir noktada farklı bir düzende hedefleri yürütme isteyebilirsiniz ancak, bu senaryoyu tipinde Dinamik özellikler ve öğeler kullanmak iyi bir uygulama olur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-178">However, it's good practice to use dynamic properties and items in this type of scenario, as you might want to execute targets in a different order at some point.</span></span>  
> <span data-ttu-id="1a1ef-179">Hiçbir zaman kullanılmayacaktır öğeleri bildirme önlemek için hedeflenir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-179">You should also aim to avoid declaring items that will never be used.</span></span> <span data-ttu-id="1a1ef-180">Yalnızca belirli bir hedef tarafından kullanılacak öğe varsa, bunları yapı işlemi gereksiz tüm iş yükünü kaldırmak için hedef içinde yerleştirmeyi düşünün.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-180">If you have items that will only be used by a specific target, consider placing them inside the target to remove any unnecessary overhead on the build process.</span></span>


<span data-ttu-id="1a1ef-181">Dinamik öğelerin kenara, **temiz** hedefidir oldukça basit ve kullanır yerleşik **ileti**, **silmek**, ve **RemoveDir**görevler:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-181">Dynamic items aside, the **Clean** target is fairly straightforward and makes use of the built-in **Message**, **Delete**, and **RemoveDir** tasks to:</span></span>

1. <span data-ttu-id="1a1ef-182">Bir ileti günlükçü gönderin.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-182">Send a message to the logger.</span></span>
2. <span data-ttu-id="1a1ef-183">Silinecek dosyaların listesini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-183">Build a list of files to delete.</span></span>
3. <span data-ttu-id="1a1ef-184">Dosyaları silin.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-184">Delete the files.</span></span>
4. <span data-ttu-id="1a1ef-185">Çıktı dizini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-185">Remove the output directory.</span></span>

### <a name="the-buildprojects-target"></a><span data-ttu-id="1a1ef-186">BuildProjects hedef</span><span class="sxs-lookup"><span data-stu-id="1a1ef-186">The BuildProjects Target</span></span>

<span data-ttu-id="1a1ef-187">**BuildProjects** hedef örnek Çözümdeki tüm projeleri temel oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-187">The **BuildProjects** target basically builds all the projects in the sample solution.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample8.xml)]


<span data-ttu-id="1a1ef-188">Bu hedef önceki konusunda biraz ayrıntılı açıklandığı [proje dosyası anlama](understanding-the-project-file.md), özellikleri ve öğeleri nasıl görev ve hedeflerini başvuru göstermek için.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-188">This target was described in some detail in the previous topic, [Understanding the Project File](understanding-the-project-file.md), to illustrate how tasks and targets reference properties and items.</span></span> <span data-ttu-id="1a1ef-189">Bu noktada, çoğunlukla ilgi **MSBuild** görev.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-189">At this point, you're mainly interested in the **MSBuild** task.</span></span> <span data-ttu-id="1a1ef-190">Bu görev birden çok proje oluşturmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-190">You can use this task to build multiple projects.</span></span> <span data-ttu-id="1a1ef-191">Görev MSBuild.exe yeni bir örneğini oluşturmaz; Her proje oluşturmak için geçerli çalışan örneği kullanır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-191">The task does not create a new instance of MSBuild.exe; it uses the current running instance to build each project.</span></span> <span data-ttu-id="1a1ef-192">Bu örnekte ilgi önemli noktalar dağıtım özellikleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-192">The key points of interest in this example are the deployment properties:</span></span>

- <span data-ttu-id="1a1ef-193">**DeployOnBuild** özelliği her proje yapı tamamlandıktan sonra proje ayarlarında dağıtım yönergeleri çalıştırmak için MSBuild bildirir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-193">The **DeployOnBuild** property instructs MSBuild to run any deployment instructions in the project settings when the build of each project is complete.</span></span>
- <span data-ttu-id="1a1ef-194">**DeployTarget** özelliği Proje oluşturulduktan sonra çağrılacak istediğiniz hedef tanımlar.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-194">The **DeployTarget** property identifies the target that you want to invoke after the project is built.</span></span> <span data-ttu-id="1a1ef-195">Bu durumda, **paket** hedef dağıtılabilir web pakete proje çıktısı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-195">In this case, the **Package** target builds the project output into a deployable web package.</span></span>

> [!NOTE]
> <span data-ttu-id="1a1ef-196">**Paket** hedef Web yayımlama ardışık düzen (MSBuild ve Web dağıtımı arasında tümleştirme sağlayan WPP), çağırır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-196">The **Package** target invokes the Web Publishing Pipeline (WPP), which provides integration between MSBuild and Web Deploy.</span></span> <span data-ttu-id="1a1ef-197">WPP sağlar, yerleşik hedefleri gözden geçirme bakmak istiyorsanız *Microsoft.Web.Publishing.targets* % PROGRAMFILES (x 86) %\MSBuild\Microsoft\VisualStudio\v10.0\Web klasörü içinde dosya.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-197">If you want to take a look at the built-in targets that the WPP provides, review the *Microsoft.Web.Publishing.targets* file in the %PROGRAMFILES(x86)%\MSBuild\Microsoft\VisualStudio\v10.0\Web folder.</span></span>


### <a name="the-gatherpackagesforpublishing-target"></a><span data-ttu-id="1a1ef-198">GatherPackagesForPublishing hedef</span><span class="sxs-lookup"><span data-stu-id="1a1ef-198">The GatherPackagesForPublishing Target</span></span>

<span data-ttu-id="1a1ef-199">Üzerinde çalışmanız durumunda **GatherPackagesForPublishing** hedef fark herhangi bir görevi gerçekten içermiyor.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-199">If you study the **GatherPackagesForPublishing** target, you'll notice that it doesn't actually contain any tasks.</span></span> <span data-ttu-id="1a1ef-200">Bunun yerine, üç dinamik öğe tanımlayan bir tek öğe grubunu içerir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-200">Instead, it contains a single item group that defines three dynamic items.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample9.xml)]


<span data-ttu-id="1a1ef-201">Bu öğeler ne zaman oluşturulduğunu dağıtım paketleri başvuruda **BuildProjects** hedef yürütüldü.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-201">These items refer to the deployment packages that were created when the **BuildProjects** target was executed.</span></span> <span data-ttu-id="1a1ef-202">Öğeleri başvurduğu dosyaları kadar mevcut değil çünkü bu öğeler statik olarak proje dosyasında tanımladığınız uygulanamadı **BuildProjects** hedef gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-202">You couldn't define these items statically in the project file, because the files to which the items refer don't exist until the **BuildProjects** target is executed.</span></span> <span data-ttu-id="1a1ef-203">Bunun yerine, öğeleri dinamik olarak içinde kadar çağrılan olmayan bir hedef tanımlanmalıdır sonra **BuildProjects** hedef gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-203">Instead, the items must be defined dynamically within a target that is not invoked until after the **BuildProjects** target is executed.</span></span>

<span data-ttu-id="1a1ef-204">Öğeleri bu hedef içinde kullanılmaz&#x2014;bu hedef yalnızca öğeleri ve her öğe değeri ile ilişkili meta veri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-204">The items are not used within this target&#x2014;this target simply builds the items and the metadata associated with each item value.</span></span> <span data-ttu-id="1a1ef-205">Bu öğe işlendi sonra **PublishPackages** öğe yolu şu iki değerden içerecek *ContactManager.Mvc.deploy.cmd* dosya ve yol  *ContactManager.Service.deploy.cmd* dosya.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-205">Once these elements are processed, the **PublishPackages** item will contain two values, the path to the *ContactManager.Mvc.deploy.cmd* file and the path to the *ContactManager.Service.deploy.cmd* file.</span></span> <span data-ttu-id="1a1ef-206">Web dağıtımı her proje için web paketinin bir parçası olarak bu dosyaları oluşturur ve çağırmanız gerekir dosyaları bunlar paketleri dağıtmak için hedef sunucuda.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-206">Web Deploy creates these files as part of the web package for each project, and these are the files that you must invoke on the destination server in order to deploy the packages.</span></span> <span data-ttu-id="1a1ef-207">Bu dosyalardan birini açarsanız, çeşitli yapı özgü parametre değerlerini içeren bir MSDeploy.exe komutu temelde görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-207">If you open up one of these files, you'll basically see an MSDeploy.exe command with various build-specific parameter values.</span></span>

<span data-ttu-id="1a1ef-208">**DbPublishPackages** öğesini yolu tek bir değer içermesi *ContactManager.Database.deploymanifest* dosya.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-208">The **DbPublishPackages** item will contain a single value, the path to the *ContactManager.Database.deploymanifest* file.</span></span>

> [!NOTE]
> <span data-ttu-id="1a1ef-209">.Deploymanifest dosya bir veritabanı projeyi oluşturun ve bir MSBuild proje dosyası olarak aynı şema kullanması durumunda oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-209">A .deploymanifest file is generated when you build a database project, and it uses the same schema as an MSBuild project file.</span></span> <span data-ttu-id="1a1ef-210">Veritabanı şeması (.dbschema) konumunu ve tüm dağıtım öncesi ve dağıtım sonrası komut dosyalarını ayrıntılarını içeren bir veritabanı dağıtmak için gerekli tüm bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-210">It contains all the information required to deploy a database, including the location of the database schema (.dbschema) and details of any pre-deployment and post-deployment scripts.</span></span> <span data-ttu-id="1a1ef-211">Daha fazla bilgi için bkz: [bir genel bakış, veritabanı derleme ve dağıtım](https://msdn.microsoft.com/library/aa833165.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-211">For more information, see [An Overview of Database Build and Deployment](https://msdn.microsoft.com/library/aa833165.aspx).</span></span>


<span data-ttu-id="1a1ef-212">Nasıl dağıtım paketleri ve veritabanı dağıtım bildirimleri oluşturulur ve kullanılan hakkında daha fazla bilgi edineceksiniz [bina ve paketleme Web Uygulama projeleri](building-and-packaging-web-application-projects.md) ve [dağıtma veritabanı projeleri](deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-212">You'll learn more about how deployment packages and database deployment manifests are created and used in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Deploying Database Projects](deploying-database-projects.md).</span></span>

### <a name="the-publishdbpackages-target"></a><span data-ttu-id="1a1ef-213">PublishDbPackages hedef</span><span class="sxs-lookup"><span data-stu-id="1a1ef-213">The PublishDbPackages Target</span></span>

<span data-ttu-id="1a1ef-214">Kısaca konuşarak **PublishDbPackages** hedef çağırır dağıtmak için VSDBCMD yardımcı programını **ContactManager** hedef ortam veritabanına.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-214">Briefly speaking, the **PublishDbPackages** target invokes the VSDBCMD utility to deploy the **ContactManager** database to a target environment.</span></span> <span data-ttu-id="1a1ef-215">Veritabanı dağıtımı yapılandırma kararları ve nüanslarını çok sayıda içerir ve bu konuda daha fazla bilgi edineceksiniz [dağıtma veritabanı projeleri](deploying-database-projects.md) ve [veritabanı dağıtımlarını özelleştirme birden çok ortamları](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-215">Configuring database deployment involves lots of decisions and nuances, and you'll learn more about this in [Deploying Database Projects](deploying-database-projects.md) and [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span> <span data-ttu-id="1a1ef-216">Bu konuda, biz nasıl bu hedef gerçekte işlevleri üzerinde odak.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-216">In this topic, we'll focus on how this target actually functions.</span></span>

<span data-ttu-id="1a1ef-217">İlk olarak, açılış etiketi içerdiğine dikkat edin bir **çıkışları** özniteliği.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-217">First, notice that the opening tag includes an **Outputs** attribute.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample10.xml)]


<span data-ttu-id="1a1ef-218">Bu bir örnektir *toplu hedef işlemede*.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-218">This is an example of *target batching*.</span></span> <span data-ttu-id="1a1ef-219">MSBuild proje dosyalarında toplu işleme koleksiyon yineleme için bir tekniktir.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-219">In MSBuild project files, batching is a technique for iterating over collections.</span></span> <span data-ttu-id="1a1ef-220">Değeri **çıkışları** özniteliği **"% (DbPublishPackages.Identity)"**, başvurduğu **kimlik** meta veri özelliği **DbPublishPackages**  öğe listesi.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-220">The value of the **Outputs** attribute, **"%(DbPublishPackages.Identity)"**, refers to the **Identity** metadata property of the **DbPublishPackages** item list.</span></span> <span data-ttu-id="1a1ef-221">Bu gösterim **Outputs=%***(ItemList.ItemMetadataName)*, olarak çevrilen:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-221">This notation, **Outputs=%***(ItemList.ItemMetadataName)*, is translated as:</span></span>

- <span data-ttu-id="1a1ef-222">Öğeleri Böl **DbPublishPackages** aynı içeren öğelerini toplu olarak **kimlik** meta verilerinin değeri.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-222">Split the items in **DbPublishPackages** into batches of items that contain the same **Identity** metadata value.</span></span>
- <span data-ttu-id="1a1ef-223">Toplu iş başına bir kez hedef yürütün.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-223">Execute the target once per batch.</span></span>

> [!NOTE]
> <span data-ttu-id="1a1ef-224">**Kimlik** biri [yerleşik meta veri değerlerinin](https://msdn.microsoft.com/library/ms164313.aspx) oluşturulurken her öğeye atanmış.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-224">**Identity** is one of the [built-in metadata values](https://msdn.microsoft.com/library/ms164313.aspx) that is assigned to every item on creation.</span></span> <span data-ttu-id="1a1ef-225">Değerine başvuruyor **Ekle** özniteliğini **öğesi** öğesi&#x2014;diğer bir deyişle, yol ve dosya öğenin adı.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-225">It refers to the value of the **Include** attribute in the **Item** element&#x2014;in other words, the path and filename of the item.</span></span>


<span data-ttu-id="1a1ef-226">Aynı yol ve dosya adı ile birden fazla öğe hiçbir zaman olması gerekir çünkü bu durumda, aslında bir toplu boyutlarıyla çalışıyoruz.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-226">In this case, because there should never be more than one item with the same path and filename, we're essentially working with batch sizes of one.</span></span> <span data-ttu-id="1a1ef-227">Hedef, her veritabanı paketi için bir kez çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-227">The target is executed once for every database package.</span></span>

<span data-ttu-id="1a1ef-228">Benzer bir gösterimde görebilirsiniz  **\_Cmd** uygun anahtarlarını VSDBCMD komutuyla derlemeler özelliği.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-228">You can see a similar notation in the **\_Cmd** property, which builds a VSDBCMD command with the appropriate switches.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample11.xml)]


<span data-ttu-id="1a1ef-229">Bu durumda, **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, ve **%(DbPublishPackages.FullPath)** tüm başvurur meta veri değerlerini **DbPublishPackages** öğe koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-229">In this case, **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, and **%(DbPublishPackages.FullPath)** all refer to metadata values of the **DbPublishPackages** item collection.</span></span> <span data-ttu-id="1a1ef-230"> **\_Cmd** özelliği tarafından kullanılan **Exec** komutu çağıran görev.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-230">The **\_Cmd** property is used by the **Exec** task, which invokes the command.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample12.xml)]


<span data-ttu-id="1a1ef-231">Bu gösterim sonucunda **Exec** görev üzerinde benzersiz birleşimlerini dayalı toplu oluşturacak **DatabaseConnectionString**, **TargetDatabase**ve **FullPath** meta veri değerleri ve görev yürütülecek kez her toplu işlemi için.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-231">As a result of this notation, the **Exec** task will create batches based on unique combinations of the **DatabaseConnectionString**, **TargetDatabase**, and **FullPath** metadata values, and the task will execute once for each batch.</span></span> <span data-ttu-id="1a1ef-232">Bu bir örnektir *toplu görev işleme*.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-232">This is an example of *task batching*.</span></span> <span data-ttu-id="1a1ef-233">Ancak, hedef düzeyi toplu işleme zaten tek öğeli yığın sayısı, bizim öğeyi koleksiyona bölünmüş çünkü **Exec** Görev hedef her bir yineleme için yalnızca bir kez çalışacak.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-233">However, because the target-level batching has already divided our item collection into single-item batches, the **Exec** task will run once and only once for each iteration of the target.</span></span> <span data-ttu-id="1a1ef-234">Diğer bir deyişle, bu görevi çözümdeki her veritabanı paketi için bir kez VSDBCMD yardımcı programı çağırır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-234">In other words, this task invokes the VSDBCMD utility once for each database package in the solution.</span></span>

> [!NOTE]
> <span data-ttu-id="1a1ef-235">MSBuild hedef ve toplu görev işleme ile ilgili daha fazla bilgi için bkz [Batching](https://msdn.microsoft.com/library/ms171473.aspx), [toplu hedef işlemede öğe meta verisi](https://msdn.microsoft.com/library/ms228229.aspx), ve [toplu görev işlemede öğe meta verisi](https://msdn.microsoft.com/library/ms171474.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-235">For more information on target and task batching, see MSBuild [Batching](https://msdn.microsoft.com/library/ms171473.aspx), [Item Metadata in Target Batching](https://msdn.microsoft.com/library/ms228229.aspx), and [Item Metadata in Task Batching](https://msdn.microsoft.com/library/ms171474.aspx).</span></span>


### <a name="the-publishwebpackages-target"></a><span data-ttu-id="1a1ef-236">PublishWebPackages hedef</span><span class="sxs-lookup"><span data-stu-id="1a1ef-236">The PublishWebPackages Target</span></span>

<span data-ttu-id="1a1ef-237">Bu noktası tarafından çağrılan **BuildProjects** web dağıtım paketi her proje için örnek çözümü oluşturur hedef.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-237">By this point, you've invoked the **BuildProjects** target, which generates a web deployment package for each project in the sample solution.</span></span> <span data-ttu-id="1a1ef-238">Her paket eşlik olan bir *deploy.cmd* hedef ortam paketi dağıtmak için gereken MSDeploy.exe komutlarını içerir, dosya ve *SetParameters.xml* belirtir dosyası hedef ortamı gerekli ayrıntıları.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-238">Accompanying each package is a *deploy.cmd* file, which contains the MSDeploy.exe commands required to deploy the package to the target environment, and a *SetParameters.xml* file, which specifies the necessary details of the target environment.</span></span> <span data-ttu-id="1a1ef-239">Ayrıca çağrılan **GatherPackagesForPublishing** bir öğe içeren koleksiyon oluşturur hedef *deploy.cmd* , ilgilendiğiniz dosyaları.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-239">You've also invoked the **GatherPackagesForPublishing** target, which generates an item collection containing the *deploy.cmd* files you're interested in.</span></span> <span data-ttu-id="1a1ef-240">Esas olarak, **PublishWebPackages** hedef bu işlevleri gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="1a1ef-240">Essentially, the **PublishWebPackages** target performs these functions:</span></span>

- <span data-ttu-id="1a1ef-241">Bunu işleyen *SetParameters.xml* hedef ortam doğru ayrıntılarını dahil etmek her bir paket dosyası kullanarak **XmlPoke** görev.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-241">It manipulates the *SetParameters.xml* file for each package to include the correct details for the target environment, using the **XmlPoke** task.</span></span>
- <span data-ttu-id="1a1ef-242">Bunu çağırır *deploy.cmd* uygun anahtarları kullanarak her bir paket dosyası.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-242">It invokes the *deploy.cmd* file for each package, using the appropriate switches.</span></span>

<span data-ttu-id="1a1ef-243">Olduğu gibi **PublishDbPackages** hedef, **PublishWebPackages** hedef toplu hedef işlemede hedef her web paket için bir kez yürütüldüğünde sağlamak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-243">Just like the **PublishDbPackages** target, the **PublishWebPackages** target uses target batching to ensure that the target is executed once for each web package.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample13.xml)]


<span data-ttu-id="1a1ef-244">Hedef içinde **Exec** görevi çalıştırmak için kullanılan *deploy.cmd* her web paketi için dosya.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-244">Within the target, the **Exec** task is used to run the *deploy.cmd* file for each web package.</span></span>


[!code-xml[Main](understanding-the-build-process/samples/sample14.xml)]


<span data-ttu-id="1a1ef-245">Web paketleri dağıtımını yapılandırma hakkında daha fazla bilgi için bkz: [bina ve paketleme Web Uygulama projeleri](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="1a1ef-245">For more information on configuring the deployment of web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="1a1ef-246">Sonuç</span><span class="sxs-lookup"><span data-stu-id="1a1ef-246">Conclusion</span></span>

<span data-ttu-id="1a1ef-247">Bu konu için Contact Manager örnek çözümü başından derleme ve dağıtım işlemini kontrol eden bölünmüş proje dosyalarının nasıl kullanıldığı bir kılavuz sağlanır.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-247">This topic provided a walkthrough of how split project files are used to control the build and deployment process from start to finish for the Contact Manager sample solution.</span></span> <span data-ttu-id="1a1ef-248">Bu yaklaşımı kullanarak, bir ortama özgü komut dosyası çalıştırarak çalıştırmadan karmaşık, Kurumsal ölçekte dağıtımları tek, tekrarlanabilir bir adımda sağlar.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-248">Using this approach lets you run complex, enterprise-scale deployments in a single, repeatable step, simply by running an environment-specific command file.</span></span>

## <a name="further-reading"></a><span data-ttu-id="1a1ef-249">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="1a1ef-249">Further Reading</span></span>

<span data-ttu-id="1a1ef-250">Proje dosyalarını ve WPP daha kapsamlı bir giriş için bkz: [içinde Microsoft Build Engine: MSBuild kullanma ve Team Foundation Build](http://amzn.com/0735645248) Sayed Ibrahim Hashimi ve William Bartholomew, ISBN: 978-0-7356-4524-0.</span><span class="sxs-lookup"><span data-stu-id="1a1ef-250">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1a1ef-251">[Önceki](understanding-the-project-file.md)
> [sonraki](building-and-packaging-web-application-projects.md)</span><span class="sxs-lookup"><span data-stu-id="1a1ef-251">[Previous](understanding-the-project-file.md)
[Next](building-and-packaging-web-application-projects.md)</span></span>

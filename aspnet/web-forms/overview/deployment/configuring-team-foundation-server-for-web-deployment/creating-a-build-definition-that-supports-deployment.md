---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment
title: Dağıtım destekleyen bir yapı tanımı oluşturma | Microsoft Docs
author: jrjlee
description: Team Foundation Server (TFS) 2010 her türlü derleme gerçekleştirmek istiyorsanız, bir derleme tanımı takım projenizin içinde oluşturmanız gerekir. Bu konuda des...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: fe47a018-f6d0-4979-80e7-5b1fa75a5865
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment
msc.type: authoredcontent
ms.openlocfilehash: c5ea0bd9f01bb57b96abd349741f304c0093d887
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/10/2018
ms.locfileid: "30880368"
---
<a name="creating-a-build-definition-that-supports-deployment"></a><span data-ttu-id="6f2bd-104">Dağıtım destekleyen bir yapı tanımı oluşturma</span><span class="sxs-lookup"><span data-stu-id="6f2bd-104">Creating a Build Definition That Supports Deployment</span></span>
====================
<span data-ttu-id="6f2bd-105">tarafından [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="6f2bd-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="6f2bd-106">PDF indirin</span><span class="sxs-lookup"><span data-stu-id="6f2bd-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="6f2bd-107">Team Foundation Server (TFS) 2010 her türlü derleme gerçekleştirmek istiyorsanız, bir derleme tanımı takım projenizin içinde oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-107">If you want to perform any kind of build in Team Foundation Server (TFS) 2010, you need to create a build definition within your team project.</span></span> <span data-ttu-id="6f2bd-108">Bu konuda TFS'de yeni bir derleme tanımı oluşturun ve web dağıtımı ekip oluşturma işleminde bir parçası olarak denetim açıklar.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-108">This topic describes how to create a new build definition in TFS and how to control web deployment as part of the build process in Team Build.</span></span>


<span data-ttu-id="6f2bd-109">Bu konuda eğitim serileri Fabrikam Ltd. adlı kurgusal bir şirket kurumsal dağıtım gereksinimleri dayalı parçası formlar Bu öğretici seri kullanan örnek bir çözüm&#x2014; [Contact Manager çözüm](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;bir ASP.NET MVC 3 uygulama, bir Windows Communication dahil olmak üzere karmaşıklıkta gerçekçi düzeyine sahip bir web uygulaması temsil etmek için Foundation (WCF) hizmetini ve veritabanı projesi.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-109">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="6f2bd-110">Bu öğreticileri merkezinde dağıtım yöntemi, açıklanan bölünmüş proje dosyası yaklaşım dayalı [proje dosyası anlama](../web-deployment-in-the-enterprise/understanding-the-project-file.md), hangi derleme ve dağıtım süreci tarafından denetlenen içinde iki dosyaları proje&#x2014;bir Her hedef ortam ve ortama özgü derleme ve dağıtım ayarları içeren bir uygulama oluşturma yönergeleri içeren.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-110">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build and deployment process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="6f2bd-111">Derleme zamanında ortama özgü proje dosyası oluşturma yönergeleri eksiksiz bir kümesini oluşturmak için ortam belirsiz proje dosyasına birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-111">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="task-overview"></a><span data-ttu-id="6f2bd-112">Görev genel bakış</span><span class="sxs-lookup"><span data-stu-id="6f2bd-112">Task Overview</span></span>

<span data-ttu-id="6f2bd-113">Yapı tanımı nasıl ve ne zaman derlemeleri TFS takım projelerinde oluşabilir denetleyen mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-113">A build definition is the mechanism that controls how and when builds occur for team projects in TFS.</span></span> <span data-ttu-id="6f2bd-114">Her bir yapı tanımı belirtir:</span><span class="sxs-lookup"><span data-stu-id="6f2bd-114">Each build definition specifies:</span></span>

- <span data-ttu-id="6f2bd-115">Visual Studio çözümü veya özel Microsoft Build Engine (MSBuild) proje dosyaları gibi oluşturmak istediğiniz şey.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-115">The things you want to build, like Visual Studio solution files or custom Microsoft Build Engine (MSBuild) project files.</span></span>
- <span data-ttu-id="6f2bd-116">Bir yapı zaman belirleyen ölçütleri, el ile tetikleyiciler gibi sürekli tümleştirme (CI) yerleştirin veya iadeler geçişli.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-116">The criteria that determine when a build should take place, like manual triggers, continuous integration (CI), or gated check-ins.</span></span>
- <span data-ttu-id="6f2bd-117">Web paketleri ve veritabanı betikleri gibi dağıtım yapıları dahil olmak üzere için ekip yapı göndermesi gereken konum çıkarır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-117">The location to which Team Build should send build outputs, including deployment artifacts like web packages and database scripts.</span></span>
- <span data-ttu-id="6f2bd-118">Her yapı korunması gereken süre miktarı.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-118">The amount of time that each build should be retained.</span></span>
- <span data-ttu-id="6f2bd-119">Diğer çeşitli parametreler yapı işlemi.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-119">Various other parameters of the build process.</span></span>

> [!NOTE]
> <span data-ttu-id="6f2bd-120">Derleme tanımları hakkında daha fazla bilgi için bkz: [bilgisayarınızı derleme işlemi tanımlamak](https://msdn.microsoft.com/library/ms181715.aspx).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-120">For more information on build definitions, see [Define Your Build Process](https://msdn.microsoft.com/library/ms181715.aspx).</span></span>


<span data-ttu-id="6f2bd-121">Bu konuda bir geliştirici yeni içerik denetlerken bir yapı tetiklenir CI, kullanan bir derleme tanımınız oluşturmak üzere nasıl yapacağınızı gösterir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-121">This topic will show you how to create a build definition that uses CI, so that a build is triggered when a developer checks in new content.</span></span> <span data-ttu-id="6f2bd-122">Yapı başarılı olursa, yapı hizmeti bir test ortamına çözümü dağıtmak için özel proje dosyasını çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-122">If the build succeeds, the build service runs a custom project file to deploy the solution to a test environment.</span></span>

<span data-ttu-id="6f2bd-123">Bir derlemeyi tetiklemeyi, bu eylemleri gerçekleşmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="6f2bd-123">When you trigger a build, these actions need to happen:</span></span>

- <span data-ttu-id="6f2bd-124">İlk olarak, ekip çözüm oluşturması gerekir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-124">First, Team Build should build the solution.</span></span> <span data-ttu-id="6f2bd-125">Bu işlemin bir parçası olarak, ekip Web yayımlama ardışık düzen (her web uygulama projeleri için web dağıtımı paketleri oluşturmak için (WPP) çağırır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-125">As part of this process, Team Build will invoke the Web Publishing Pipeline (WPP) to generate web deployment packages for each of the web application projects in the solution.</span></span> <span data-ttu-id="6f2bd-126">Ekip derlemesi da Çözümle ilişkili herhangi bir birim testleri çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-126">Team Build will also run any unit tests associated with the solution.</span></span>
- <span data-ttu-id="6f2bd-127">Çözüm derleme başarısız olursa, ekip başka bir eylem almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-127">If the solution build fails, Team Build should take no further action.</span></span> <span data-ttu-id="6f2bd-128">Birim test başarısızlıklarının derleme hatası olarak değerlendirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-128">Unit test failures should be treated as a build failure.</span></span>
- <span data-ttu-id="6f2bd-129">Çözüm oluşturma işlemi başarılı olursa, ekip çözüm dağıtımını denetler özel proje dosyasını çalıştırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-129">If the solution build succeeds, Team Build should run the custom project file that controls the deployment of the solution.</span></span> <span data-ttu-id="6f2bd-130">Bu işlemin bir parçası olarak ekip (hedef web sunucularında paketlenmiş web uygulamalarını yüklemek için Web dağıtımı) Internet Information Services (IIS) Web dağıtım aracı çağırır ve veritabanı oluşturma çalıştırmak için VSDBCMD.exe yardımcı programını çağırır Hedef veritabanı sunucularında komut dosyaları.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-130">As part of this process, Team Build will invoke the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) to install the packaged web applications on the destination web servers, and it will invoke the VSDBCMD.exe utility to run database creation scripts on the destination database servers.</span></span>

<span data-ttu-id="6f2bd-131">Bu işlem gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="6f2bd-131">This illustrates the process:</span></span>

![](creating-a-build-definition-that-supports-deployment/_static/image1.png)

<span data-ttu-id="6f2bd-132">[Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) örnek çözümü içeren özel bir MSBuild proje dosyası *Publish.proj*, MSBuild veya ekip çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-132">The [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution includes a custom MSBuild project file, *Publish.proj*, that you can run from MSBuild or Team Build.</span></span> <span data-ttu-id="6f2bd-133">Bölümünde açıklandığı gibi [oluşturma işlemini anlama](../web-deployment-in-the-enterprise/understanding-the-build-process.md), bu proje dosyası web paketleri ve veritabanları için bir hedef ortam dağıtır mantığını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-133">As described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md), this project file defines the logic that deploys your web packages and databases to a target environment.</span></span> <span data-ttu-id="6f2bd-134">Dosyayı çalıştırmak için yalnızca dağıtım görevlerini bırakarak ekip içinde çalışıyorsa yapı ve Paketleme işlemini atlar mantığı içerir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-134">The file includes logic that omits the building and packaging process if it's running in Team Build, leaving just the deployment tasks to run.</span></span> <span data-ttu-id="6f2bd-135">Bu dağıtım bu şekilde Otomasyon gerçekleştirirken, genellikle çözümün başarıyla derlemeler emin olmak isteyebilirsiniz olduğundan ve dağıtım işlemine başlamadan önce herhangi bir birim testi geçirir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-135">This is because when you automate deployment in this way, you'll typically want to ensure that the solution builds successfully and passes any unit tests before the deployment process commences.</span></span>

<span data-ttu-id="6f2bd-136">Sonraki bölümde, yeni bir derleme tanımı oluşturarak bu işlemi uygulamak açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-136">The next section explains how to implement this process by creating a new build definition.</span></span>

> [!NOTE]
> <span data-ttu-id="6f2bd-137">Bu yordamı&#x2014;, tek bir otomatik işlemi oluşturur, test ve bir çözüm dağıtır&#x2014;ortamları test etmek için dağıtım için en uygun olması olasıdır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-137">This procedure&#x2014;in which a single automated process builds, tests, and deploys a solution&#x2014;is likely to be most suited to deployment to test environments.</span></span> <span data-ttu-id="6f2bd-138">Hazırlama ve üretim ortamları için içerik, önceden doğrulandı ve bir test ortamında doğrulanmış önceki derlemeden dağıtmak istediğiniz çok büyük olasılıkla.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-138">For staging and production environments you're a lot more likely to want to deploy content from a previous build that you've already verified and validated in a test environment.</span></span> <span data-ttu-id="6f2bd-139">Bu yaklaşım sonraki konu olan açıklanan [belirli bir yapı dağıtma](deploying-a-specific-build.md).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-139">This approach is described in the next topic, [Deploying a Specific Build](deploying-a-specific-build.md).</span></span>


### <a name="who-performs-this-procedure"></a><span data-ttu-id="6f2bd-140">Bu yordamı kimin yapar?</span><span class="sxs-lookup"><span data-stu-id="6f2bd-140">Who Performs This Procedure?</span></span>

<span data-ttu-id="6f2bd-141">Genellikle, bu yordamı TFS yönetici gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-141">Typically, a TFS administrator performs this procedure.</span></span> <span data-ttu-id="6f2bd-142">Bazı durumlarda, bir geliştirici Ekip Lideri TFS'de takım projesi koleksiyonu için sorumluluk sürebilir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-142">In some cases, a developer team leader may take responsibility for the team project collection in TFS.</span></span> <span data-ttu-id="6f2bd-143">Yeni bir derleme tanımı oluşturmak için bir üyesi olmanız gerekir **proje koleksiyonu yapı yöneticileri** çözümünüzü içeren takım projesi koleksiyonu için Grup.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-143">In order to create a new build definition, you need to be a member of the **Project Collection Build Administrators** group for the team project collection that contains your solution.</span></span>

## <a name="create-a-build-definition-for-ci-and-deployment"></a><span data-ttu-id="6f2bd-144">CI ve dağıtım için bir yapı tanımı oluşturun</span><span class="sxs-lookup"><span data-stu-id="6f2bd-144">Create a Build Definition for CI and Deployment</span></span>

<span data-ttu-id="6f2bd-145">Sonraki yordam CI tetikleyen bir derleme tanımınız oluşturmayı açıklar.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-145">The next procedure describes how to create a build definition that CI triggers.</span></span> <span data-ttu-id="6f2bd-146">Yapı başarılı olursa, çözüm bir özel MSBuild proje dosyası mantığı kullanılarak dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-146">If the build succeeds, the solution is deployed using the logic in a custom MSBuild project file.</span></span>

<span data-ttu-id="6f2bd-147">**CI ve dağıtımı için derleme tanımını oluşturmak için**</span><span class="sxs-lookup"><span data-stu-id="6f2bd-147">**To create a build definition for CI and deployment**</span></span>

1. <span data-ttu-id="6f2bd-148">Visual Studio 2010 içinde **Takım Gezgini** penceresinde, takım projesi düğümünü genişletin, sağ **derlemeler**ve ardından **yeni yapı tanımı**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-148">In Visual Studio 2010, in the **Team Explorer** window, expand your team project node, right-click **Builds**, and then click **New Build Definition**.</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image2.png)
2. <span data-ttu-id="6f2bd-149">Üzerinde **genel** sekmesinde, yapı tanımı bir ad verin (örneğin, **DeployToTest**) ve isteğe bağlı bir açıklama.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-149">On the **General** tab, give the build definition a name (for example, **DeployToTest**) and an optional description.</span></span>
3. <span data-ttu-id="6f2bd-150">Üzerinde **tetikleyici** sekmesinde, yeni bir derlemeyi tetiklemeyi ölçütünü seçin.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-150">On the **Trigger** tab, select the criteria on which you want to trigger a new build.</span></span> <span data-ttu-id="6f2bd-151">Örneğin, çözümü oluşturun ve yeni kodda bir geliştirici denetler her zaman test ortamını dağıtmak istiyorsanız, seçin **sürekli tümleştirme**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-151">For example, if you want to build the solution and deploy to the test environment every time a developer checks in new code, select **Continuous Integration**.</span></span>
4. <span data-ttu-id="6f2bd-152">Üzerinde **Yapı Varsayılanları** sekmesinde **kopyalama yapı çıktısını aşağıdaki bırakma klasörüne** açılan klasörünüze Evrensel Adlandırma Kuralı (UNC) yolunu yazın (örneğin,  **\\TFSBUILD\Drops**).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-152">On the **Build Defaults** tab, in the **Copy build output to the following drop folder** box, type the Universal Naming Convention (UNC) path of your drop folder (for example, **\\TFSBUILD\Drops**).</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image3.png)

    > [!NOTE]
    > <span data-ttu-id="6f2bd-153">Bu bırakma konumu yapılandırdığınız bekletme ilkesine bağlı olarak birkaç derlemeleri depolar.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-153">This drop location stores several builds, depending on the retention policy you configure.</span></span> <span data-ttu-id="6f2bd-154">Belirli bir yapı dağıtım yapılardan hazırlık veya üretim ortamına yayınlama istediğinizde, bunları burada bulabilirsiniz budur.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-154">When you want to publish deployment artifacts from a specific build to a staging or production environment, this is where you'll find them.</span></span>
5. <span data-ttu-id="6f2bd-155">Üzerinde **işlem** sekmesinde **derleme işlemi dosya** açılır listesinde, bırakın **DefaultTemplate.xaml** seçili.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-155">On the **Process** tab, in the **Build process file** dropdown list, leave **DefaultTemplate.xaml** selected.</span></span> <span data-ttu-id="6f2bd-156">Bu, tüm yeni takım projeleri için eklenir varsayılan derleme işlem şablonları biridir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-156">This is one of the default build process templates that get added to all new team projects.</span></span>
6. <span data-ttu-id="6f2bd-157">İçinde **oluşturma işlemi parametreleri** tablo, tıklatın **yapı öğelerine** satır ve ardından **üç nokta** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-157">In the **Build process parameters** table, click in the **Items to Build** row, and then click the **ellipsis** button.</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image4.png)
7. <span data-ttu-id="6f2bd-158">İçinde **yapı öğelerine** iletişim kutusu, tıklatın **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-158">In the **Items to Build** dialog box, click **Add**.</span></span>
8. <span data-ttu-id="6f2bd-159">Çözüm dosyası konumuna göz atın ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-159">Browse to the location of your solution file, and then click **OK**.</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image5.png)
9. <span data-ttu-id="6f2bd-160">İçinde **yapı öğelerine** iletişim kutusu, tıklatın **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-160">In the **Items to Build** dialog box, click **Add**.</span></span>
10. <span data-ttu-id="6f2bd-161">İçinde **türdeki öğeleri** açılır listesinden, **MSBuild proje dosyalarını**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-161">In the **Items of type** dropdown list, select **MSBuild Project files**.</span></span>
11. <span data-ttu-id="6f2bd-162">Hangi, dağıtım işlemini denetleyen, dosyayı seçin ve ardından özel Proje dosyasının konumuna göz atın **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-162">Browse to the location of the custom project file with which you control the deployment process, select the file, and then click **OK**.</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image6.png)
12. <span data-ttu-id="6f2bd-163">**Yapı öğelerine** iletişim kutusu iki öğe artık gösterilmesi.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-163">The **Items to Build** dialog box should now show two items.</span></span> <span data-ttu-id="6f2bd-164">**Tamam**'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-164">Click **OK**.</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image7.png)
13. <span data-ttu-id="6f2bd-165">Üzerinde **işlem** sekmesinde **oluşturma işlemi parametreleri** tablo, genişletin **Gelişmiş** bölümü.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-165">On the **Process** tab, in the **Build process parameters** table, expand the **Advanced** section.</span></span>
14. <span data-ttu-id="6f2bd-166">İçinde **MSBuild bağımsız değişkenleri** satır, tüm MSBuild komut satırı bağımsız değişkenleri eklemek, *ya da* oluşturmak için öğelerin gerektirir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-166">In the **MSBuild Arguments** row, add any MSBuild command-line arguments that *either* of your items to build requires.</span></span> <span data-ttu-id="6f2bd-167">Contact Manager çözüm senaryosunda, bu bağımsız değişkenler gereklidir:</span><span class="sxs-lookup"><span data-stu-id="6f2bd-167">In the Contact Manager solution scenario, these arguments are required:</span></span>

    [!code-console[Main](creating-a-build-definition-that-supports-deployment/samples/sample1.cmd)]

    ![](creating-a-build-definition-that-supports-deployment/_static/image8.png)
15. <span data-ttu-id="6f2bd-168">Bu örnekte:</span><span class="sxs-lookup"><span data-stu-id="6f2bd-168">In this example:</span></span>

    1. <span data-ttu-id="6f2bd-169">**DeployOnBuild = true** ve **DeployTarget paket =** bağımsız değişkenleri, kişinin Yöneticisi çözümü yapılandırdığınızda gereklidir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-169">The **DeployOnBuild=true** and **DeployTarget=package** arguments are required when you build the Contact Manager solution.</span></span> <span data-ttu-id="6f2bd-170">Bu web dağıtım paketleri her web uygulaması projesi oluşturduktan sonra açıklandığı gibi oluşturmak için MSBuild bildirir [bina ve paketleme Web Uygulama projeleri](../web-deployment-in-the-enterprise/building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-170">This instructs MSBuild to create web deployment packages after building each web application project, as described in [Building and Packaging Web Application Projects](../web-deployment-in-the-enterprise/building-and-packaging-web-application-projects.md).</span></span>
    2. <span data-ttu-id="6f2bd-171">**TargetEnvPropsFile** bağımsız değişkeni, oluşturma sırasında gereklidir *Publish.proj* dosya.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-171">The **TargetEnvPropsFile** argument is required when you build the *Publish.proj* file.</span></span> <span data-ttu-id="6f2bd-172">Bu özellik açıklandığı gibi ortama özgü yapılandırma dosyasının konumu gösterir [oluşturma işlemini anlama](../web-deployment-in-the-enterprise/understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-172">This property indicates the location of the environment-specific configuration file, as described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md).</span></span>
16. <span data-ttu-id="6f2bd-173">Üzerinde **Bekletme İlkesi** sekmesinde, gerekli olarak korumak istediğiniz her tür kaç derlemeler yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-173">On the **Retention Policy** tab, configure how many builds of each type you want to retain as required.</span></span>
17. <span data-ttu-id="6f2bd-174">**Kaydet**'e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-174">Click **Save**.</span></span>

## <a name="queue-a-build"></a><span data-ttu-id="6f2bd-175">Bir Derlemeyi Sıraya Koyma</span><span class="sxs-lookup"><span data-stu-id="6f2bd-175">Queue a Build</span></span>

<span data-ttu-id="6f2bd-176">Bu noktada, en az bir yeni derleme tanımı oluşturdunuz.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-176">At this point, you have created at least one new build definition.</span></span> <span data-ttu-id="6f2bd-177">Tanımlanan oluşturma işlemi artık yapı tanımında belirtilen Tetikleyicileri göre çalışır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-177">The build process you defined will now run according to the triggers you specified in the build definition.</span></span>

<span data-ttu-id="6f2bd-178">Yapı tanımınızı CI kullanmak için yapılandırdıysanız, iki yolla yapı tanımınızı test edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="6f2bd-178">If you've configured your build definition to use CI, you can test your build definition in two ways:</span></span>

- <span data-ttu-id="6f2bd-179">Bazı içerikler için otomatik bir derlemeyi tetiklemek için takım projesi iade edin.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-179">Check in some content to the team project to trigger an automatic build.</span></span>
- <span data-ttu-id="6f2bd-180">El ile bir yapıyı sıraya.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-180">Queue a build manually.</span></span>

<span data-ttu-id="6f2bd-181">**El ile bir yapıyı sıraya almak için**</span><span class="sxs-lookup"><span data-stu-id="6f2bd-181">**To queue a build manually**</span></span>

1. <span data-ttu-id="6f2bd-182">İçinde **Takım Gezgini** penceresinde, yapı tanımına sağ tıklayın ve ardından **yeni yapıyı sıraya al**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-182">In the **Team Explorer** window, right-click the build definition, and then click **Queue New Build**.</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image9.png)
2. <span data-ttu-id="6f2bd-183">İçinde **Yapıyı Sıraya Al** iletişim kutusu, yapı özelliklerini gözden geçirin ve ardından **sıra**.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-183">In the **Queue Build** dialog box, review the build properties, and then click **Queue**.</span></span>

    ![](creating-a-build-definition-that-supports-deployment/_static/image10.png)

<span data-ttu-id="6f2bd-184">İlerleme durumunu ve bir yapı sonucunu gözden geçirmek için&#x2014;olup, el ile veya otomatik olarak tetiklendi bağımsız olarak&#x2014;derleme tanımı'nda çift **Takım Gezgini** penceresi.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-184">To review the progress and the outcome of a build&#x2014;regardless of whether it was triggered manually or automatically&#x2014;double-click the build definition in the **Team Explorer** window.</span></span> <span data-ttu-id="6f2bd-185">Bu açılır bir **Yapı Gezgini** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-185">This will open a **Build Explorer** tab.</span></span>

![](creating-a-build-definition-that-supports-deployment/_static/image11.png)

<span data-ttu-id="6f2bd-186">Buradan, başarısız derlemeleri giderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-186">From here, you can troubleshoot failed builds.</span></span> <span data-ttu-id="6f2bd-187">Tek bir derleme çift tıklarsanız özet bilgileri görüntülemek ve aracılığıyla ayrıntılı günlük dosyalarına'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-187">If you double-click an individual build, you can view summary information and click through to detailed log files.</span></span>

![](creating-a-build-definition-that-supports-deployment/_static/image12.png)

<span data-ttu-id="6f2bd-188">Başarısız derlemeler sorun giderme ve başka bir yapı çalışmadan önce sorunları çözmek için bu bilgileri kullanın.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-188">You can use this information to troubleshoot failed builds and address any problems before you attempt another build.</span></span>

> [!NOTE]
> <span data-ttu-id="6f2bd-189">Dağıtım mantığını yürütme derlemeleri büyük olasılıkla hedef ortamda gereken izinler yapı sunucunun verilen kadar başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-189">Builds that execute deployment logic are likely to fail until you have granted the build server any permissions required in the destination environment.</span></span> <span data-ttu-id="6f2bd-190">Daha fazla bilgi için bkz: [takım yapı dağıtımı için izinleri yapılandırma](configuring-permissions-for-team-build-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-190">For more information, see [Configuring Permissions for Team Build Deployment](configuring-permissions-for-team-build-deployment.md).</span></span>


## <a name="monitor-the-build-process"></a><span data-ttu-id="6f2bd-191">Derleme işlemi izleyin</span><span class="sxs-lookup"><span data-stu-id="6f2bd-191">Monitor the Build Process</span></span>

<span data-ttu-id="6f2bd-192">TFS geniş bir yapı işlemi izlemenize yardımcı olmak için işlevsellik sağlar.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-192">TFS provides a broad range of functionality to help you monitor the build process.</span></span> <span data-ttu-id="6f2bd-193">Örneğin, TFS bir e-posta göndermek veya bir yapı tamamlandığında, görev çubuğu bildirim alanında uyarıları görüntüler.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-193">For example, TFS can send you an email or display alerts in your taskbar notification area when a build has completed.</span></span> <span data-ttu-id="6f2bd-194">Daha fazla bilgi için bkz: [çalıştırma ve İzleyici derlemeler](https://msdn.microsoft.com/library/ms181721.aspx).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-194">For more information, see [Run and Monitor Builds](https://msdn.microsoft.com/library/ms181721.aspx).</span></span>

## <a name="conclusion"></a><span data-ttu-id="6f2bd-195">Sonuç</span><span class="sxs-lookup"><span data-stu-id="6f2bd-195">Conclusion</span></span>

<span data-ttu-id="6f2bd-196">Bu konuda bir derleme tanımınız TFS'de oluşturma açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-196">This topic described how to create a build definition in TFS.</span></span> <span data-ttu-id="6f2bd-197">Her takım projesine içerik bir geliştirici denetim gerçekleştirildiğinde derleme işlemi çalıştırılan için derleme tanımını CI için yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-197">The build definition is configured for CI, so the build process runs whenever a developer checks in content to the team project.</span></span> <span data-ttu-id="6f2bd-198">Yapı tanımı web paketleri ve veritabanı komut dosyalarında bir hedef sunucu ortamı dağıtmak için özel bir MSBuild proje dosyası yürütür.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-198">The build definition executes a custom MSBuild project file to deploy web packages and database scripts to a target server environment.</span></span>

<span data-ttu-id="6f2bd-199">Derleme işleminin bir parçası başarılı olması bir otomatik dağıtım için sırayla yapı hizmeti hesabı hedef web sunucuları ve hedef veritabanı sunucusunda uygun izinleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-199">In order for an automated deployment to succeed as part of a build process, you'll need to grant appropriate permissions to the build service account on the target web servers and the target database server.</span></span> <span data-ttu-id="6f2bd-200">Bu öğretici, son konusunda [takım yapı dağıtımı için izinleri yapılandırma](configuring-permissions-for-team-build-deployment.md), tanımlamak ve bir ekip sunucusundan otomatik dağıtımı için gerekli izinleri yapılandırma açıklar.</span><span class="sxs-lookup"><span data-stu-id="6f2bd-200">The final topic in this tutorial, [Configuring Permissions for Team Build Deployment](configuring-permissions-for-team-build-deployment.md), describes how to identify and configure the permissions required for automated deployment from a Team Build server.</span></span>

## <a name="further-reading"></a><span data-ttu-id="6f2bd-201">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="6f2bd-201">Further Reading</span></span>

<span data-ttu-id="6f2bd-202">Derleme tanımları oluşturma hakkında daha fazla bilgi için bkz: [temel yapı tanımı oluşturma](https://msdn.microsoft.com/library/ms181716.aspx) ve [bilgisayarınızı derleme işlemi tanımlamak](https://msdn.microsoft.com/library/ms181715.aspx).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-202">For more information on creating build definitions, see [Create a Basic Build Definition](https://msdn.microsoft.com/library/ms181716.aspx) and [Define Your Build Process](https://msdn.microsoft.com/library/ms181715.aspx).</span></span> <span data-ttu-id="6f2bd-203">Sıraya alma yapılar hakkında daha fazla yönergeler için bkz [bir yapıyı sıraya](https://msdn.microsoft.com/library/ms181722.aspx).</span><span class="sxs-lookup"><span data-stu-id="6f2bd-203">For more guidance on queuing builds, see [Queue a Build](https://msdn.microsoft.com/library/ms181722.aspx).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="6f2bd-204">[Önceki](configuring-a-tfs-build-server-for-web-deployment.md)
> [sonraki](deploying-a-specific-build.md)</span><span class="sxs-lookup"><span data-stu-id="6f2bd-204">[Previous](configuring-a-tfs-build-server-for-web-deployment.md)
[Next](deploying-a-specific-build.md)</span></span>

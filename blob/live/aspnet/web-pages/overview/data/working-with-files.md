---
uid: web-pages/overview/data/working-with-files
title: "Bir ASP.NET Web sayfaları (Razor) sitesindeki dosyaları ile çalışma | Microsoft Docs"
author: tfitzmac
description: "Bu bölümde, okuma, yazma, ekleme, silme ve dosyaları karşıya yükleme açıklanmaktadır."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2014
ms.topic: article
ms.assetid: eee916e4-ba4c-439a-a24e-68df7d45a569
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/data/working-with-files
msc.type: authoredcontent
ms.openlocfilehash: b3497ee17809070227115db197093c9cd0ca6c70
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/10/2017
---
<a name="working-with-files-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="a0247-103">Bir ASP.NET Web sayfaları (Razor) sitesinde dosyalarıyla çalışma</span><span class="sxs-lookup"><span data-stu-id="a0247-103">Working with Files in an ASP.NET Web Pages (Razor) Site</span></span>
====================
<span data-ttu-id="a0247-104">tarafından [zel FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="a0247-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="a0247-105">Bu makalede, okuma, yazma, ekleme, silme ve ASP.NET Web sayfaları (Razor) sitesi dosyaları karşıya yükleme açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="a0247-105">This article explains how to read, write, append, delete, and upload files in an ASP.NET Web Pages (Razor) site.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="a0247-106">Resimler yükleyin ve bunları değiştirmek istiyorsanız (örneğin, çevirme veya bunları yeniden boyutlandırma), bkz: [bir ASP.NET Web Pages sitesinde görüntülerle çalışma](https://go.microsoft.com/fwlink/?LinkId=202897).</span><span class="sxs-lookup"><span data-stu-id="a0247-106">If you want to upload images and manipulate them (for example, flip or resize them), see [Working with Images in an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=202897).</span></span>
> 
> 
> <span data-ttu-id="a0247-107">**Öğrenecekleriniz:**</span><span class="sxs-lookup"><span data-stu-id="a0247-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="a0247-108">Bir metin dosyası oluşturun ve ona veri yazmak nasıl.</span><span class="sxs-lookup"><span data-stu-id="a0247-108">How to create a text file and write data to it.</span></span>
> - <span data-ttu-id="a0247-109">Varolan dosyasına veri eklemek nasıl.</span><span class="sxs-lookup"><span data-stu-id="a0247-109">How to append data to an existing file.</span></span>
> - <span data-ttu-id="a0247-110">Bir dosyayı okuma ve ondan görüntülemek nasıl.</span><span class="sxs-lookup"><span data-stu-id="a0247-110">How to read a file and display from it.</span></span>
> - <span data-ttu-id="a0247-111">Bir Web sitesinden dosyaları silmek nasıl.</span><span class="sxs-lookup"><span data-stu-id="a0247-111">How to delete files from a website.</span></span>
> - <span data-ttu-id="a0247-112">Kullanıcılar bir dosya veya birden çok dosya karşıya yükleme sağlama.</span><span class="sxs-lookup"><span data-stu-id="a0247-112">How to let users upload one file or multiple files.</span></span>
> 
> <span data-ttu-id="a0247-113">Bu makalede sunulan özellikler programlama ASP.NET şunlardır:</span><span class="sxs-lookup"><span data-stu-id="a0247-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="a0247-114">`File` Dosyaları yönetmek için bir yol sağlayan nesne.</span><span class="sxs-lookup"><span data-stu-id="a0247-114">The `File` object, which provides a way to manage files.</span></span>
> - <span data-ttu-id="a0247-115">`FileUpload` Yardımcısı.</span><span class="sxs-lookup"><span data-stu-id="a0247-115">The `FileUpload` helper.</span></span>
> - <span data-ttu-id="a0247-116">`Path` Yolu ve dosya adlarını değiştirmek olanak tanıyan yöntemler sağlayan nesne.</span><span class="sxs-lookup"><span data-stu-id="a0247-116">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="a0247-117">Öğreticide kullanılan yazılım sürümleri</span><span class="sxs-lookup"><span data-stu-id="a0247-117">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="a0247-118">ASP.NET Web sayfaları (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="a0247-118">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="a0247-119">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="a0247-119">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="a0247-120">Bu öğretici, WebMatrix 3 ile de çalışır.</span><span class="sxs-lookup"><span data-stu-id="a0247-120">This tutorial also works with WebMatrix 3.</span></span>


<a id="Creating_a_Text_File"></a>
## <a name="creating-a-text-file-and-writing-data-to-it"></a><span data-ttu-id="a0247-121">Bir metin dosyası oluşturma ve veri yazma</span><span class="sxs-lookup"><span data-stu-id="a0247-121">Creating a Text File and Writing Data to It</span></span>

<span data-ttu-id="a0247-122">Bir veritabanı, Web sitenizdeki kullanmanın yanı sıra dosyalarla çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="a0247-122">In addition to using a database in your website, you might work with files.</span></span> <span data-ttu-id="a0247-123">Örneğin, site verilerini depolamak için basit bir yol olarak metin dosyalarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-123">For example, you might use text files as a simple way to store data for the site.</span></span> <span data-ttu-id="a0247-124">(Verileri depolamak için kullanılan bir metin dosyası adlandırılan bir *düz dosya*.) Metin dosyaları olabilir farklı biçimlerde gibi *.txt*, *.xml*, veya *.csv* (virgülle ayrılmış değerler).</span><span class="sxs-lookup"><span data-stu-id="a0247-124">(A text file that's used to store data is sometimes called a *flat file*.) Text files can be in different formats, like *.txt*, *.xml*, or *.csv* (comma-delimited values).</span></span>

<span data-ttu-id="a0247-125">Bir metin dosyasına veri depolamak istiyorsanız, kullanabileceğiniz `File.WriteAllText` yöntemi oluşturmak için dosya belirtin ve ona yazılacak veriler.</span><span class="sxs-lookup"><span data-stu-id="a0247-125">If you want to store data in a text file, you can use the `File.WriteAllText` method to specify the file to create and the data to write to it.</span></span> <span data-ttu-id="a0247-126">Bu yordamda, üç basit bir form içeren bir sayfa oluşturacaksınız `input` öğeleri (ad, Soyadı ve e-posta adresi) ve bir **gönderme** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="a0247-126">In this procedure, you'll create a page that contains a simple form with three `input` elements (first name, last name, and email address) and a **Submit** button.</span></span> <span data-ttu-id="a0247-127">Kullanıcı formu gönderdiğinde, kullanıcının giriş bir metin dosyasında depolamak.</span><span class="sxs-lookup"><span data-stu-id="a0247-127">When the user submits the form, you'll store the user's input in a text file.</span></span>

1. <span data-ttu-id="a0247-128">Adlı yeni bir klasör oluşturun *uygulama\_veri*, zaten yoksa.</span><span class="sxs-lookup"><span data-stu-id="a0247-128">Create a new folder named *App\_Data*, if it doesn't exist already.</span></span>
2. <span data-ttu-id="a0247-129">Web sitenizin kök adlı yeni bir dosya oluşturun *UserData.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a0247-129">At the root of your website, create a new file named *UserData.cshtml*.</span></span>
3. <span data-ttu-id="a0247-130">Varolan içeriği aşağıdakiyle değiştirin:</span><span class="sxs-lookup"><span data-stu-id="a0247-130">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample1.cshtml)]

    <span data-ttu-id="a0247-131">HTML biçimlendirmesi form üç metin kutusu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="a0247-131">The HTML markup creates the form with the three text boxes.</span></span> <span data-ttu-id="a0247-132">Kodda, kullandığınız `IsPost` işleme başlamadan önce sayfa gönderildikten olup olmadığını belirlemek için özellik.</span><span class="sxs-lookup"><span data-stu-id="a0247-132">In the code, you use the `IsPost` property to determine whether the page has been submitted before you start processing.</span></span>

    <span data-ttu-id="a0247-133">İlk kullanıcı girişi alma ve değişkenleri atamak için bir görevdir.</span><span class="sxs-lookup"><span data-stu-id="a0247-133">The first task is to get the user input and assign it to variables.</span></span> <span data-ttu-id="a0247-134">Kod sonra ayrı değişkenlerin değerleri dizesine sonra farklı bir değişkende depolanan bir virgülle ayrılmış, art arda ekler.</span><span class="sxs-lookup"><span data-stu-id="a0247-134">The code then concatenates the values of the separate variables into one comma-delimited string, which is then stored in a different variable.</span></span> <span data-ttu-id="a0247-135">Virgül ayırıcısı tırnak işaretleri içinde yer alan bir dize olduğuna dikkat edin (","), virgül, oluşturmakta olduğunuz büyük dizeye tam anlamıyla katıştırma olduğundan.</span><span class="sxs-lookup"><span data-stu-id="a0247-135">Notice that the comma separator is a string contained in quotation marks (","), because you're literally embedding a comma into the big string that you're creating.</span></span> <span data-ttu-id="a0247-136">Eklediğiniz birlikte birleştirme veri sonunda `Environment.NewLine`.</span><span class="sxs-lookup"><span data-stu-id="a0247-136">At the end of the data that you concatenate together, you add `Environment.NewLine`.</span></span> <span data-ttu-id="a0247-137">Satır sonu (yeni satır karakteri) ekler.</span><span class="sxs-lookup"><span data-stu-id="a0247-137">This adds a line break (a newline character).</span></span> <span data-ttu-id="a0247-138">Bu birleştirme ile oluşturmakta olduğunuz şuna benzer bir dize şöyledir:</span><span class="sxs-lookup"><span data-stu-id="a0247-138">What you're creating with all this concatenation is a string that looks like this:</span></span>

    [!code-css[Main](working-with-files/samples/sample2.css)]

    <span data-ttu-id="a0247-139">(Bir görünmez satır sonu ile sonunda.)</span><span class="sxs-lookup"><span data-stu-id="a0247-139">(With an invisible line break at the end.)</span></span>

    <span data-ttu-id="a0247-140">Daha sonra bir değişken oluşturma (`dataFile`) verileri depolamak için dosya adını ve konumunu içerir.</span><span class="sxs-lookup"><span data-stu-id="a0247-140">You then create a variable (`dataFile`) that contains the location and name of the file to store the data in.</span></span> <span data-ttu-id="a0247-141">Konum ayarlamak için bazı özel olarak işlenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="a0247-141">Setting the location requires some special handling.</span></span> <span data-ttu-id="a0247-142">Web siteleri, onu gibi mutlak yollar kodda başvurmak için bir hatalı deneyimdir *C:\Folder\File.txt* web sunucusundaki dosyaları.</span><span class="sxs-lookup"><span data-stu-id="a0247-142">In websites, it's a bad practice to refer in code to absolute paths like *C:\Folder\File.txt* for files on the web server.</span></span> <span data-ttu-id="a0247-143">Bir Web sitesi taşınırsa, mutlak bir yol yanlış olabilir.</span><span class="sxs-lookup"><span data-stu-id="a0247-143">If a website is moved, an absolute path will be wrong.</span></span> <span data-ttu-id="a0247-144">Ayrıca, barındırılan bir site için (için kendi bilgisayarınızda aygıtlardır) genellikle bile kodu yazarken doğru yolu nedir tanımadığınız.</span><span class="sxs-lookup"><span data-stu-id="a0247-144">Moreover, for a hosted site (as opposed to on your own computer) you typically don't even know what the correct path is when you're writing the code.</span></span>

    <span data-ttu-id="a0247-145">(Örneğin, bir dosya yazma için ancak bazen şimdi,), tam bir yol gerekir.</span><span class="sxs-lookup"><span data-stu-id="a0247-145">But sometimes (like now, for writing a file) you do need a complete path.</span></span> <span data-ttu-id="a0247-146">Çözüm `MapPath` yöntemi `Server` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="a0247-146">The solution is to use the `MapPath` method of the `Server` object.</span></span> <span data-ttu-id="a0247-147">Bu, Web sitenize tam yolunu döndürür.</span><span class="sxs-lookup"><span data-stu-id="a0247-147">This returns the complete path to your website.</span></span> <span data-ttu-id="a0247-148">Web sitesi kök için kullanıcı yolu `~` işleci (site represen için sanal kök) için `MapPath`.</span><span class="sxs-lookup"><span data-stu-id="a0247-148">To get the path for the website root, you user the `~` operator (to represen the site's virtual root) to `MapPath`.</span></span> <span data-ttu-id="a0247-149">(Ayrıca bir alt klasör adı, gibi geçirebilirsiniz *~/App\_veri /*, için o alt klasör yolu.) Ardından, tam yolunu oluşturmak için hangi yöntemi döndürür üzerine ek bilgi arada kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-149">(You can also pass a subfolder name to it, like *~/App\_Data/*, to get the path for that subfolder.) You can then concatenate additional information onto whatever the method returns in order to create a complete path.</span></span> <span data-ttu-id="a0247-150">Bu örnekte, bir dosya adı ekleyin.</span><span class="sxs-lookup"><span data-stu-id="a0247-150">In this example, you add a file name.</span></span> <span data-ttu-id="a0247-151">(Daha fazla bilgiyi dosya ve klasör yollarında ile çalışma hakkında [ASP.NET Web sayfalarını programlama kullanarak Razor sözdizimi giriş](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="a0247-151">(You can read more about how to work with file and folder paths in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="a0247-152">Dosya kaydedilir *uygulama\_veri* klasör.</span><span class="sxs-lookup"><span data-stu-id="a0247-152">The file is saved in the *App\_Data* folder.</span></span> <span data-ttu-id="a0247-153">Bu klasör açıklandığı gibi veri dosyalarını depolamak için kullanılır ASP.NET özel klasöründedir [ASP.NET Web sayfaları sitelerdeki veritabanı ile çalışmaya giriş](https://go.microsoft.com/fwlink/?LinkId=195209).</span><span class="sxs-lookup"><span data-stu-id="a0247-153">This folder is a special folder in ASP.NET that's used to store data files, as described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=195209).</span></span>

    <span data-ttu-id="a0247-154">`WriteAllText` Yöntemi `File` nesneyi veri dosyasına yazar.</span><span class="sxs-lookup"><span data-stu-id="a0247-154">The `WriteAllText` method of the `File` object writes the data to the file.</span></span> <span data-ttu-id="a0247-155">Bu yöntemi iki parametre alır: adıyla (yol) yazmak için dosya ve yazılacak gerçek veriler.</span><span class="sxs-lookup"><span data-stu-id="a0247-155">This method takes two parameters: the name (with path) of the file to write to, and the actual data to write.</span></span> <span data-ttu-id="a0247-156">İlk parametre adını taşıyan bildirimi bir `@` öneki olarak karakter.</span><span class="sxs-lookup"><span data-stu-id="a0247-156">Notice that the name of the first parameter has an `@` character as a prefix.</span></span> <span data-ttu-id="a0247-157">Bu verbatim dize sabit değeri sağlama ve gibi karakterler ASP "/" özel yollarla yorumlanmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="a0247-157">This tells ASP.NET that you're providing a verbatim string literal, and that characters like "/" should not be interpreted in special ways.</span></span> <span data-ttu-id="a0247-158">(Daha fazla bilgi için bkz: [ASP.NET Web programlama kullanarak Razor sözdizimi giriş](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="a0247-158">(For more information, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths).)</span></span>

    > [!NOTE]
    > <span data-ttu-id="a0247-159">Kodunuz dosyaları kaydetmek için sırayla *uygulama\_veri* klasörü, uygulama okuma-yazma bu klasör için izinleri.</span><span class="sxs-lookup"><span data-stu-id="a0247-159">In order for your code to save files in the *App\_Data* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="a0247-160">Geliştirme bilgisayarınızda bu genellikle bir sorun değildir.</span><span class="sxs-lookup"><span data-stu-id="a0247-160">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="a0247-161">Ancak, bir barındırma sağlayıcısının web sunucusuna sitenizi yayımladığınızda, açık bir şekilde bu izinleri ayarlamanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="a0247-161">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="a0247-162">Bu kodu bir barındırma sağlayıcısının sunucusunda çalıştırın ve hataları alırsanız bu izinleri ayarlamak nasıl öğrenmek için barındırma sağlayıcısına başvurun.</span><span class="sxs-lookup"><span data-stu-id="a0247-162">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

- <span data-ttu-id="a0247-163">Bir tarayıcıda. Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a0247-163">Run the page in a browser.</span></span> 

    ![](working-with-files/_static/image1.jpg)
- <span data-ttu-id="a0247-164">Alanlarına değerleri girin ve ardından **gönderme**.</span><span class="sxs-lookup"><span data-stu-id="a0247-164">Enter values into the fields and then click **Submit**.</span></span>
- <span data-ttu-id="a0247-165">Tarayıcıyı kapatın.</span><span class="sxs-lookup"><span data-stu-id="a0247-165">Close the browser.</span></span>
- <span data-ttu-id="a0247-166">Projeye dönün ve görünümü yenileyin.</span><span class="sxs-lookup"><span data-stu-id="a0247-166">Return to the project and refresh the view.</span></span>
- <span data-ttu-id="a0247-167">Açık *data.txt* dosya.</span><span class="sxs-lookup"><span data-stu-id="a0247-167">Open the *data.txt* file.</span></span> <span data-ttu-id="a0247-168">Formda gönderilen veri dosyasıdır.</span><span class="sxs-lookup"><span data-stu-id="a0247-168">The data you submitted in the form is in the file.</span></span> 

    ![[Görüntü]](working-with-files/_static/image2.jpg)
- <span data-ttu-id="a0247-170">Kapat *data.txt* dosya.</span><span class="sxs-lookup"><span data-stu-id="a0247-170">Close the *data.txt* file.</span></span>

<a id="Appending_Data"></a>
## <a name="appending-data-to-an-existing-file"></a><span data-ttu-id="a0247-171">Varolan bir dosyaya veri ekleme</span><span class="sxs-lookup"><span data-stu-id="a0247-171">Appending Data to an Existing File</span></span>

<span data-ttu-id="a0247-172">Önceki örnekte kullanılan `WriteAllText` veri yalnızca bir parçasının içinde var bir metin dosyası oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="a0247-172">In the previous example, you used `WriteAllText` to create a text file that's got just one piece of data in it.</span></span> <span data-ttu-id="a0247-173">Yeniden yöntemini çağırın ve aynı dosya adına geçirmek istiyorsanız, var olan dosyayı tamamen üzerine yazılır.</span><span class="sxs-lookup"><span data-stu-id="a0247-173">If you call the method again and pass it the same file name, the existing file is completely overwritten.</span></span> <span data-ttu-id="a0247-174">Bir dosyayı oluşturduktan sonra ancak genellikle yeni veri dosyasının sonuna eklemek istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-174">However, after you've created a file you often want to add new data to the end of the file.</span></span> <span data-ttu-id="a0247-175">Bu kullanarak yapabilirsiniz `AppendAllText` yöntemi `File` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="a0247-175">You can do that using the `AppendAllText` method of the `File` object.</span></span>

1. <span data-ttu-id="a0247-176">Web sitesi, bir kopyasını *UserData.cshtml* dosya ve kopya adı *UserDataMultiple.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a0247-176">In the website, make a copy of the *UserData.cshtml* file and name the copy *UserDataMultiple.cshtml*.</span></span>
2. <span data-ttu-id="a0247-177">Kod bloğu açmadan önce Değiştir `<!DOCTYPE html>` aşağıdaki kod bloğu etiketi:</span><span class="sxs-lookup"><span data-stu-id="a0247-177">Replace the code block before the opening `<!DOCTYPE html>` tag with the following code block:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample3.cshtml)]

    <span data-ttu-id="a0247-178">Bu kod bir değişiklik, içinde önceki örnekten içeriyor.</span><span class="sxs-lookup"><span data-stu-id="a0247-178">This code has one change in it from the previous example.</span></span> <span data-ttu-id="a0247-179">Yerine `WriteAllText`, kullandığı `the AppendAllText` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="a0247-179">Instead of using `WriteAllText`, it uses `the AppendAllText` method.</span></span> <span data-ttu-id="a0247-180">Yöntemlere benzer dışında `AppendAllText` veri dosyasının sonuna ekler.</span><span class="sxs-lookup"><span data-stu-id="a0247-180">The methods are similar, except that `AppendAllText` adds the data to the end of the file.</span></span> <span data-ttu-id="a0247-181">İle `WriteAllText`, `AppendAllText` zaten yoksa dosyası oluşturur.</span><span class="sxs-lookup"><span data-stu-id="a0247-181">As with `WriteAllText`, `AppendAllText` creates the file if it doesn't already exist.</span></span>
3. <span data-ttu-id="a0247-182">Bir tarayıcıda. Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a0247-182">Run the page in a browser.</span></span>
4. <span data-ttu-id="a0247-183">Alanları için değerleri girin ve ardından **gönderme**.</span><span class="sxs-lookup"><span data-stu-id="a0247-183">Enter values for the fields and then click **Submit**.</span></span>
5. <span data-ttu-id="a0247-184">Daha fazla veri ekleme ve formu yeniden gönderin.</span><span class="sxs-lookup"><span data-stu-id="a0247-184">Add more data and submit the form again.</span></span>
6. <span data-ttu-id="a0247-185">Dönüş projenize, proje klasörüne sağ tıklayın ve ardından **yenileme**.</span><span class="sxs-lookup"><span data-stu-id="a0247-185">Return to your project, right-click the project folder, and then click **Refresh**.</span></span>
7. <span data-ttu-id="a0247-186">Açık *data.txt* dosya.</span><span class="sxs-lookup"><span data-stu-id="a0247-186">Open the *data.txt* file.</span></span> <span data-ttu-id="a0247-187">Şimdi girdiğiniz yeni verileri de içerir.</span><span class="sxs-lookup"><span data-stu-id="a0247-187">It now contains the new data that you just entered.</span></span> 

    ![[Görüntü]](working-with-files/_static/image3.jpg)

<a id="Reading_and_Displaying_Data"></a>
## <a name="reading-and-displaying-data-from-a-file"></a><span data-ttu-id="a0247-189">Okuma ve bir dosyadan verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="a0247-189">Reading and Displaying Data from a File</span></span>

<span data-ttu-id="a0247-190">Verileri bir metin dosyasına yazma gerekmez olsa bile, büyük olasılıkla bazen birinden verileri okumak gerekir.</span><span class="sxs-lookup"><span data-stu-id="a0247-190">Even if you don't need to write data to a text file, you'll probably sometimes need to read data from one.</span></span> <span data-ttu-id="a0247-191">Bunu yapmak için tekrar kullanabilirsiniz `File` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="a0247-191">To do this, you can again use the `File` object.</span></span> <span data-ttu-id="a0247-192">Kullanabileceğiniz `File` her satır ayrı ayrı okumak için nesne (satır sonları tarafından ayrılmış olarak) veya nasıl ayrılmış olsun tek bir öğe okunamıyor.</span><span class="sxs-lookup"><span data-stu-id="a0247-192">You can use the `File` object to read each line individually (separated by line breaks) or to read individual item no matter how they're separated.</span></span>

<span data-ttu-id="a0247-193">Bu yordamda okuyun ve önceki örnekte oluşturulan veri görüntüler gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="a0247-193">This procedure shows you how to read and display the data that you created in the previous example.</span></span>

1. <span data-ttu-id="a0247-194">Web sitenizin kök adlı yeni bir dosya oluşturun *DisplayData.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a0247-194">At the root of your website, create a new file named *DisplayData.cshtml*.</span></span>
2. <span data-ttu-id="a0247-195">Varolan içeriği aşağıdakiyle değiştirin:</span><span class="sxs-lookup"><span data-stu-id="a0247-195">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample4.cshtml)]

    <span data-ttu-id="a0247-196">Kod, önceki örnekte adlı bir değişkende oluşturduğunuz dosyasını okuyarak başlatır `userData`, bu yöntem çağrısı kullanarak:</span><span class="sxs-lookup"><span data-stu-id="a0247-196">The code starts by reading the file that you created in the previous example into a variable named `userData`, using this method call:</span></span>

    [!code-css[Main](working-with-files/samples/sample5.css)]

    <span data-ttu-id="a0247-197">Bunu yapmak için kod içindedir bir `if` deyimi.</span><span class="sxs-lookup"><span data-stu-id="a0247-197">The code to do this is inside an `if` statement.</span></span> <span data-ttu-id="a0247-198">Bir dosyayı okuma istediğinizde, bunu kullanmak için iyi bir fikirdir `File.Exists` önce dosyanın mevcut olup olmadığını belirlemek amacıyla yöntemi.</span><span class="sxs-lookup"><span data-stu-id="a0247-198">When you want to read a file, it's a good idea to use the `File.Exists` method to determine first whether the file is available.</span></span> <span data-ttu-id="a0247-199">Kod ayrıca dosya boş olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="a0247-199">The code also checks whether the file is empty.</span></span>

    <span data-ttu-id="a0247-200">Sayfa gövdesi iki içeren `foreach` döngüsü, bir diğer içe geçmiş.</span><span class="sxs-lookup"><span data-stu-id="a0247-200">The body of the page contains two `foreach` loops, one nested inside the other.</span></span> <span data-ttu-id="a0247-201">Dış `foreach` döngü veri dosyasından bir defada bir satır alır.</span><span class="sxs-lookup"><span data-stu-id="a0247-201">The outer `foreach` loop gets one line at a time from the data file.</span></span> <span data-ttu-id="a0247-202">Bu durumda, satırları satır sonları dosya &#8212;tanımlanır; diğer bir deyişle, her bir veri öğesi kendi satırında ' dir.</span><span class="sxs-lookup"><span data-stu-id="a0247-202">In this case, the lines are defined by line breaks in the file &#8212; that is, each data item is on its own line.</span></span> <span data-ttu-id="a0247-203">Yeni bir öğe dış döngü oluşturur (`<li>` öğesi) sıralı liste içinde (`<ol>` öğesi).</span><span class="sxs-lookup"><span data-stu-id="a0247-203">The outer loop creates a new item (`<li>` element) inside an ordered list (`<ol>` element).</span></span>

    <span data-ttu-id="a0247-204">İç döngü ayırıcı olarak virgül kullanarak öğeleri (alanları) her veri satırı ayıran.</span><span class="sxs-lookup"><span data-stu-id="a0247-204">The inner loop splits each data line into items (fields) using a comma as a delimiter.</span></span> <span data-ttu-id="a0247-205">(Önceki örneği temel alarak, bu üç alan &#8212;her satırında anlamına gelir; ilk adını, soyadını ve e-posta adresi, her bir virgülle ayrılmış) İç döngü da oluşturur bir `<ul>` veri satırına her bir alan için madde listesi ve bir listesini görüntüler.</span><span class="sxs-lookup"><span data-stu-id="a0247-205">(Based on the previous example, this means that each line contains three fields &#8212; the first name, last name, and email address, each separated by a comma.) The inner loop also creates a `<ul>` list and displays one list item for each field in the data line.</span></span>

    <span data-ttu-id="a0247-206">Kod iki veri türü, bir dizi kullanmayı gösterir ve `char` veri türü.</span><span class="sxs-lookup"><span data-stu-id="a0247-206">The code illustrates how to use two data types, an array and the `char` data type.</span></span> <span data-ttu-id="a0247-207">Dizi gereklidir çünkü `File.ReadAllLines` yöntemi veri dizisi olarak döndürür.</span><span class="sxs-lookup"><span data-stu-id="a0247-207">The array is required because the `File.ReadAllLines` method returns data as an array.</span></span> <span data-ttu-id="a0247-208">`char` Veri türü, çünkü gereklidir `Split` yöntemi döndürür bir `array` her öğe türü olduğu `char`.</span><span class="sxs-lookup"><span data-stu-id="a0247-208">The `char` data type is required because the `Split` method returns an `array` in which each element is of the type `char`.</span></span> <span data-ttu-id="a0247-209">(Dizileri hakkında daha fazla bilgi için bkz: [ASP.NET Web programlama kullanarak Razor sözdizimi giriş](https://go.microsoft.com/fwlink/?LinkId=202890#ID_CollectionsAndObjects).)</span><span class="sxs-lookup"><span data-stu-id="a0247-209">(For information about arrays, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_CollectionsAndObjects).)</span></span>
3. <span data-ttu-id="a0247-210">Bir tarayıcıda. Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a0247-210">Run the page in a browser.</span></span> <span data-ttu-id="a0247-211">Önceki örneklerde girdiğiniz veriler görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="a0247-211">The data you entered for the previous examples is displayed.</span></span> 

    ![[Görüntü]](working-with-files/_static/image4.jpg)

> [!TIP] 
> 
> <span data-ttu-id="a0247-213">**Microsoft Excel virgülle ayrılmış bir dosyadan verileri görüntüleme**</span><span class="sxs-lookup"><span data-stu-id="a0247-213">**Displaying Data from a Microsoft Excel Comma-Delimited File**</span></span>
> 
> <span data-ttu-id="a0247-214">Microsoft Excel elektronik tablo virgülle ayrılmış bir dosya olarak bulunan verileri kaydetmek için kullanabileceğiniz (*.csv* dosyası).</span><span class="sxs-lookup"><span data-stu-id="a0247-214">You can use Microsoft Excel to save the data contained in a spreadsheet as a comma-delimited file (*.csv* file).</span></span> <span data-ttu-id="a0247-215">Bunu yaptığınızda, Excel biçiminde değil düz metin dosyası kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="a0247-215">When you do, the file is saved in plain text, not in Excel format.</span></span> <span data-ttu-id="a0247-216">Elektronik tablodaki her satır bir metin dosyasındaki satır sonu ile ayrılır ve her bir veri öğesi virgülle ayrılmış.</span><span class="sxs-lookup"><span data-stu-id="a0247-216">Each row in the spreadsheet is separated by a line break in the text file, and each data item is separated by a comma.</span></span> <span data-ttu-id="a0247-217">Yalnızca kodunuzun veri dosyasında adını değiştirerek virgülle ayrılmış bir Excel dosyasını okumak için önceki örnekte gösterilen kodu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-217">You can use the code shown in the previous example to read an Excel comma-delimited file just by changing the name of the data file in your code.</span></span>


<a id="Deleting_Files"></a>
## <a name="deleting-files"></a><span data-ttu-id="a0247-218">Dosyaları silme</span><span class="sxs-lookup"><span data-stu-id="a0247-218">Deleting Files</span></span>

<span data-ttu-id="a0247-219">Web sitesinden dosyaları silmek için kullanabileceğiniz `File.Delete` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="a0247-219">To delete files from your website, you can use the `File.Delete` method.</span></span> <span data-ttu-id="a0247-220">Bu yordam, kullanıcıların bir görüntü Sil izin verecek şekilde gösterilmektedir (*.jpg* dosyası) gelen bir *görüntüleri* dosyanın adını biliyorsanız, klasör.</span><span class="sxs-lookup"><span data-stu-id="a0247-220">This procedure shows how to let users delete an image (*.jpg* file) from an *images* folder if they know the name of the file.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="a0247-221">**Önemli** bir üretim Web sitesi, genellikle kimin verilerde değişiklik yapabilir izin kısıtlayın.</span><span class="sxs-lookup"><span data-stu-id="a0247-221">**Important** In a production website, you typically restrict who's allowed to make changes to the data.</span></span> <span data-ttu-id="a0247-222">Sitesinde görevleri gerçekleştirmek için Kullanıcıları yetkilendirmek için yol ve üyelik ayarlama hakkında bilgi için bkz: [güvenlik ekleme ve bir ASP.NET Web sayfaları Site üyeliği](https://go.microsoft.com/fwlink/?LinkId=202904).</span><span class="sxs-lookup"><span data-stu-id="a0247-222">For information about how to set up membership and about ways to authorize users to perform tasks on the site, see [Adding Security and Membership to an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=202904).</span></span>


1. <span data-ttu-id="a0247-223">Adlı bir alt Web sitesi oluşturma *görüntüleri*.</span><span class="sxs-lookup"><span data-stu-id="a0247-223">In the website, create a subfolder named *images*.</span></span>
2. <span data-ttu-id="a0247-224">Bir veya daha fazla kopyasını *.jpg* içine dosyaları *görüntüleri* klasör.</span><span class="sxs-lookup"><span data-stu-id="a0247-224">Copy one or more *.jpg* files into the *images* folder.</span></span>
3. <span data-ttu-id="a0247-225">Web sitesinin kök dizininde adlı yeni bir dosya oluşturun *FileDelete.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a0247-225">In the root of the website, create a new file named *FileDelete.cshtml*.</span></span>
4. <span data-ttu-id="a0247-226">Varolan içeriği aşağıdakiyle değiştirin:</span><span class="sxs-lookup"><span data-stu-id="a0247-226">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample6.cshtml)]

    <span data-ttu-id="a0247-227">Bu sayfa, kullanıcıların bir görüntü dosyasının adını girebilecekleri bir form içerir.</span><span class="sxs-lookup"><span data-stu-id="a0247-227">This page contains a form where users can enter the name of an image file.</span></span> <span data-ttu-id="a0247-228">Bunlar girmeyin *.jpg* dosya adı uzantısı; dosya adı bu gibi kısıtlayarak, Yardım kullanıcıların, sitenizde rastgele dosyalar silmesi önlenir.</span><span class="sxs-lookup"><span data-stu-id="a0247-228">They don't enter the *.jpg* file-name extension; by restricting the file name like this, you help prevents users from deleting arbitrary files on your site.</span></span>

    <span data-ttu-id="a0247-229">Kod kullanıcının girdiği ve tam yolunu oluşturur dosya adını okur.</span><span class="sxs-lookup"><span data-stu-id="a0247-229">The code reads the file name that the user has entered and then constructs a complete path.</span></span> <span data-ttu-id="a0247-230">Kod yolu oluşturmak için geçerli Web sitesi yolu kullanır (tarafından döndürülen `Server.MapPath` yöntemi), *görüntüleri* klasör adı, kullanıcı tarafından sağlanan ad ve sabit değerli bir dize olarak ".jpg".</span><span class="sxs-lookup"><span data-stu-id="a0247-230">To create the path, the code uses the current website path (as returned by the `Server.MapPath` method), the *images* folder name, the name that the user has provided, and ".jpg" as a literal string.</span></span>

    <span data-ttu-id="a0247-231">Kod çağrıları dosyayı silmek için `File.Delete` yöntemi, az önce oluşturulan tam yolunu geçirme.</span><span class="sxs-lookup"><span data-stu-id="a0247-231">To delete the file, the code calls the `File.Delete` method, passing it the full path that you just constructed.</span></span> <span data-ttu-id="a0247-232">İşaretleme sonunda kod dosyası silindi bir onay iletisi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="a0247-232">At the end of the markup, code displays a confirmation message that the file was deleted.</span></span>
5. <span data-ttu-id="a0247-233">Bir tarayıcıda. Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a0247-233">Run the page in a browser.</span></span> 

    ![[Görüntü]](working-with-files/_static/image5.jpg)
6. <span data-ttu-id="a0247-235">Silin ve ardından dosyanın adını girin **gönderme**.</span><span class="sxs-lookup"><span data-stu-id="a0247-235">Enter the name of the file to delete and then click **Submit**.</span></span> <span data-ttu-id="a0247-236">Dosya silinmişse, dosyanın adını sayfasının en altında görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="a0247-236">If the file was deleted, the name of the file is displayed at the bottom of the page.</span></span>

<a id="Letting_Users_Upload_a_File"></a>
## <a name="letting-users-upload-a-file"></a><span data-ttu-id="a0247-237">Veren kullanıcılar karşıya bir dosya</span><span class="sxs-lookup"><span data-stu-id="a0247-237">Letting Users Upload a File</span></span>

<span data-ttu-id="a0247-238">`FileUpload` Yardımcı kullanıcıların Web sitenize dosyaları karşıya yükleme.</span><span class="sxs-lookup"><span data-stu-id="a0247-238">The `FileUpload` helper lets users upload files to your website.</span></span> <span data-ttu-id="a0247-239">Aşağıdaki yordam tek bir dosyayı karşıya kullanıcıların izin gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="a0247-239">The procedure below shows you how to let users upload a single file.</span></span>

1. <span data-ttu-id="a0247-240">ASP.NET Web Yardımcıları kitaplığı açıklandığı gibi Web sitenize ekleyin [yükleme Yardımcıları bir ASP.NET Web Pages sitesinde](https://go.microsoft.com/fwlink/?LinkId=252372), daha önce ekleyemiyor.</span><span class="sxs-lookup"><span data-stu-id="a0247-240">Add the ASP.NET Web Helpers Library to your website as described in [Installing Helpers in an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=252372), if you didn't add it previously.</span></span>
2. <span data-ttu-id="a0247-241">İçinde *uygulama\_veri* klasörü, yeni bir klasör oluşturun ve adlandırın *UploadedFiles*.</span><span class="sxs-lookup"><span data-stu-id="a0247-241">In the *App\_Data* folder, create a new a folder and name it *UploadedFiles*.</span></span>
3. <span data-ttu-id="a0247-242">Kök dizininde adlı yeni bir dosya oluşturun *FileUpload.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a0247-242">In the root, create a new file named *FileUpload.cshtml*.</span></span>
4. <span data-ttu-id="a0247-243">Sayfa varolan içeriği aşağıdakiyle değiştirin:</span><span class="sxs-lookup"><span data-stu-id="a0247-243">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample7.cshtml)]

    <span data-ttu-id="a0247-244">Sayfa gövde bölümünü kullanır `FileUpload` Yardımcısı yükleme kutusu ve büyük olasılıkla aşina düğmeleri oluşturun:</span><span class="sxs-lookup"><span data-stu-id="a0247-244">The body portion of the page uses the `FileUpload` helper to create the upload box and buttons that you're probably familiar with:</span></span>

    ![[Görüntü]](working-with-files/_static/image6.jpg)

    <span data-ttu-id="a0247-246">İçin ayarladığınız özellikleri `FileUpload` yardımcı karşıya yüklenecek dosyayı için tek bir kutu istediğiniz ve okuma için Gönder düğmesinin istediğinizi belirtin **karşıya**.</span><span class="sxs-lookup"><span data-stu-id="a0247-246">The properties that you set for the `FileUpload` helper specify that you want a single box for the file to upload and that you want the submit button to read **Upload**.</span></span> <span data-ttu-id="a0247-247">(Daha fazla kutuları makalenin sonraki bölümlerinde eklenecektir.)</span><span class="sxs-lookup"><span data-stu-id="a0247-247">(You'll add more boxes later in the article.)</span></span>

    <span data-ttu-id="a0247-248">Kullanıcı tıkladığında **karşıya**, sayfanın üst kısmındaki kod dosyası alır ve kaydeder.</span><span class="sxs-lookup"><span data-stu-id="a0247-248">When the user clicks **Upload**, the code at the top of the page gets the file and saves it.</span></span> <span data-ttu-id="a0247-249">`Request` Form alanlardan değerlerini almak için normalde kullandığınız nesnesi de sahip bir `Files` dosya (veya dosyaları) içeren bir dizi, yüklediğiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-249">The `Request` object that you normally use to get values from form fields also has a `Files` array that contains the file (or files) that have been uploaded.</span></span> <span data-ttu-id="a0247-250">Dizi &#8212;belirli konumlara dışında tek tek dosyaları alabilirsiniz; Örneğin, ilk yüklenen dosya almak için size `Request.Files[0]`, ikinci dosya almak için size `Request.Files[1]`ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="a0247-250">You can get individual files out of specific positions in the array &#8212; for example, to get the first uploaded file, you get `Request.Files[0]`, to get the second file, you get `Request.Files[1]`, and so on.</span></span> <span data-ttu-id="a0247-251">(Programlamada genellikle sayım sıfırda başladığını unutmayın.)</span><span class="sxs-lookup"><span data-stu-id="a0247-251">(Remember that in programming, counting usually starts at zero.)</span></span>

    <span data-ttu-id="a0247-252">Yüklenen dosya getirme, onu bir değişkende yerleştirdiğiniz (burada, `uploadedFile`) böylece üzerinde çalışabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-252">When you fetch an uploaded file, you put it in a variable (here, `uploadedFile`) so that you can manipulate it.</span></span> <span data-ttu-id="a0247-253">Yüklenen dosya adını belirlemek için yalnızca size kendi `FileName` özelliği.</span><span class="sxs-lookup"><span data-stu-id="a0247-253">To determine the name of the uploaded file, you just get its `FileName` property.</span></span> <span data-ttu-id="a0247-254">Ancak, ne zaman kullanıcı karşıya yükleyen bir dosya `FileName` tam yolu içerir kullanıcının özgün adı içeriyor.</span><span class="sxs-lookup"><span data-stu-id="a0247-254">However, when the user uploads a file, `FileName` contains the user's original name, which includes the entire path.</span></span> <span data-ttu-id="a0247-255">Şuna benzeyebilir:</span><span class="sxs-lookup"><span data-stu-id="a0247-255">It might look like this:</span></span>

    <span data-ttu-id="a0247-256">*C:\Users\Public\Sample.txt*</span><span class="sxs-lookup"><span data-stu-id="a0247-256">*C:\Users\Public\Sample.txt*</span></span>

    <span data-ttu-id="a0247-257">Sunucunuz için değil, kullanıcının bilgisayarındaki yolu olduğu için bu yol bilgileri yine de istemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-257">You don't want all that path information, though, because that's the path on the user's computer, not for your server.</span></span> <span data-ttu-id="a0247-258">Yalnızca gerçek dosya adı istediğiniz (*örnek.txt*).</span><span class="sxs-lookup"><span data-stu-id="a0247-258">You just want the actual file name (*Sample.txt*).</span></span> <span data-ttu-id="a0247-259">Yalnızca bir yoldan dosya kullanarak Şerit `Path.GetFileName` yöntemi şuna benzer:</span><span class="sxs-lookup"><span data-stu-id="a0247-259">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](working-with-files/samples/sample8.cs)]

    <span data-ttu-id="a0247-260">`Path` Çeşitli yöntemler yolları Şerit, yolları birleştirmek ve benzeri için kullanabileceğiniz şöyle sahip bir yardımcı programı bir nesnedir.</span><span class="sxs-lookup"><span data-stu-id="a0247-260">The `Path` object is a utility that has a number of methods like this that you can use to strip paths, combine paths, and so on.</span></span>

    <span data-ttu-id="a0247-261">Karşıya yüklenen dosyanın adını kabulünüzü sonra siteniz yüklenen dosya depolamak istediğiniz yeri için yeni bir yol oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="a0247-261">Once you've gotten the name of the uploaded file, you can build a new path for where you want to store the uploaded file in your website.</span></span> <span data-ttu-id="a0247-262">Bu durumda, birleştirme `Server.MapPath`, klasör adları (*uygulama\_veri/UploadedFiles*) ve yeni bir yol oluşturmak için yeni kırpılmış dosya adı.</span><span class="sxs-lookup"><span data-stu-id="a0247-262">In this case, you combine `Server.MapPath`, the folder names (*App\_Data/UploadedFiles*), and the newly stripped file name to create a new path.</span></span> <span data-ttu-id="a0247-263">Karşıya yüklenen dosyanın sonra çağırabilirsiniz `SaveAs` yöntemi gerçekte dosyayı kaydedin.</span><span class="sxs-lookup"><span data-stu-id="a0247-263">You can then call the uploaded file's `SaveAs` method to actually save the file.</span></span>
5. <span data-ttu-id="a0247-264">Bir tarayıcıda. Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a0247-264">Run the page in a browser.</span></span> 

    ![[Görüntü]](working-with-files/_static/image7.jpg)
6. <span data-ttu-id="a0247-266">Tıklatın **Gözat** ve karşıya yüklemek için bir dosya seçin.</span><span class="sxs-lookup"><span data-stu-id="a0247-266">Click **Browse** and then select a file to upload.</span></span> 

    ![[Görüntü]](working-with-files/_static/image8.jpg)

    <span data-ttu-id="a0247-268">Metin kutusunun yanındaki **Gözat** düğmesi yolu ve dosya konumunu içerir.</span><span class="sxs-lookup"><span data-stu-id="a0247-268">The text box next to the **Browse** button will contain the path and file location.</span></span>

    ![[Görüntü]](working-with-files/_static/image9.jpg)
7. <span data-ttu-id="a0247-270">Tıklatın **karşıya**.</span><span class="sxs-lookup"><span data-stu-id="a0247-270">Click **Upload**.</span></span>
8. <span data-ttu-id="a0247-271">Web sitesi, proje klasörüne sağ tıklayın ve ardından **yenileme**.</span><span class="sxs-lookup"><span data-stu-id="a0247-271">In the website, right-click the project folder and then click **Refresh**.</span></span>
9. <span data-ttu-id="a0247-272">Açık *UploadedFiles* klasör.</span><span class="sxs-lookup"><span data-stu-id="a0247-272">Open the *UploadedFiles* folder.</span></span> <span data-ttu-id="a0247-273">Karşıya dosya klasöründe bulunur.</span><span class="sxs-lookup"><span data-stu-id="a0247-273">The file that you uploaded is in the folder.</span></span> 

    ![[Görüntü]](working-with-files/_static/image10.jpg)

<a id="Letting_Users_Upload_Multiple_Files"></a>
## <a name="letting-users-upload-multiple-files"></a><span data-ttu-id="a0247-275">İzin vererek kullanıcıların birden çok dosya karşıya yükleme</span><span class="sxs-lookup"><span data-stu-id="a0247-275">Letting Users Upload Multiple Files</span></span>

<span data-ttu-id="a0247-276">Önceki örnekte, bir dosyayı karşıya yüklemeyi açmalarına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="a0247-276">In the previous example, you let users upload one file.</span></span> <span data-ttu-id="a0247-277">Ancak, kullanabileceğiniz `FileUpload` aynı anda birden fazla dosyayı karşıya yüklemeyi Yardımcısı.</span><span class="sxs-lookup"><span data-stu-id="a0247-277">But you can use the `FileUpload` helper to upload more than one file at a time.</span></span> <span data-ttu-id="a0247-278">Bu, aynı anda bir dosyayı karşıya yüklemeyi can sıkıcı olduğu fotoğrafları, karşıya yükleme gibi senaryolar için kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="a0247-278">This is handy for scenarios like uploading photos, where uploading one file at a time is tedious.</span></span> <span data-ttu-id="a0247-279">(Fotoğrafları karşıya yükleme hakkında bilgi edinebilirsiniz [bir ASP.NET Web Pages sitesinde görüntülerle çalışma](https://go.microsoft.com/fwlink/?LinkId=202897).) Bu örnek, birden fazla karşıya yüklemek için aynı tekniği kullanabilirsiniz ancak aynı anda iki karşıya kullanıcıların izin vermek nasıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="a0247-279">(You can read about uploading photos in [Working with Images in an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=202897).) This example shows how to let users upload two at a time, although you can use the same technique to upload more than that.</span></span>

1. <span data-ttu-id="a0247-280">ASP.NET Web Yardımcıları kitaplığı açıklandığı gibi Web sitenize ekleyin [yükleme Yardımcıları bir ASP.NET Web Pages sitesinde](https://go.microsoft.com/fwlink/?LinkId=252372), henüz yapmadıysanız.</span><span class="sxs-lookup"><span data-stu-id="a0247-280">Add the ASP.NET Web Helpers Library to your website as described in [Installing Helpers in an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=252372), if you haven't already.</span></span>
2. <span data-ttu-id="a0247-281">Adlı yeni bir sayfa oluşturma *FileUploadMultiple.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="a0247-281">Create a new page named *FileUploadMultiple.cshtml*.</span></span>
3. <span data-ttu-id="a0247-282">Sayfa varolan içeriği aşağıdakiyle değiştirin:</span><span class="sxs-lookup"><span data-stu-id="a0247-282">Replace the existing content in the page with the following:</span></span>  

    [!code-cshtml[Main](working-with-files/samples/sample9.cshtml)]

    <span data-ttu-id="a0247-283">Bu örnekte, `FileUpload` yardımcı sayfasının gövdesindeki iki dosyaları karşıya yükleme kullanıcıların izin vermek için varsayılan olarak yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="a0247-283">In this example, the `FileUpload` helper in the body of the page is configured to let users upload two files by default.</span></span> <span data-ttu-id="a0247-284">Çünkü `allowMoreFilesToBeAdded` ayarlanır `true`, Yardımcısı kullanıcı daha fazla karşıya yükleme kutuları Ekle olanak sağlayan bir bağlantı oluşturur:</span><span class="sxs-lookup"><span data-stu-id="a0247-284">Because `allowMoreFilesToBeAdded` is set to `true`, the helper renders a link that lets user add more upload boxes:</span></span>

    ![[Görüntü]](working-with-files/_static/image11.jpg)

    <span data-ttu-id="a0247-286">Kullanıcı karşıya yükleme dosyalarını işlemek için önceki örnekte &#8212;kullanılan aynı temel teknik kod kullanır; bir dosyadan al `Request.Files` ve kaydedin.</span><span class="sxs-lookup"><span data-stu-id="a0247-286">To process the files that the user uploads, the code uses the same basic technique that you used in the previous example &#8212; get a file from `Request.Files` and then save it.</span></span> <span data-ttu-id="a0247-287">(Çeşitli öğeler de dahil olmak üzere, doğru dosya adını ve yolunu almak için yapmanız gerekir.) Bu süre yenilik, kullanıcı birden çok dosya karşıya yükleme ve birçok tanımadığınız ' dir.</span><span class="sxs-lookup"><span data-stu-id="a0247-287">(Including the various things you need to do to get the right file name and path.) The innovation this time is that the user might be uploading multiple files and you don't know many.</span></span> <span data-ttu-id="a0247-288">Öğrenmek için alabilirsiniz `Request.Files.Count`.</span><span class="sxs-lookup"><span data-stu-id="a0247-288">To find out, you can get `Request.Files.Count`.</span></span>

    <span data-ttu-id="a0247-289">Elle bu numara ile aracılığıyla döngüye girer `Request.Files`her dosyayı sırayla almak ve kaydedin.</span><span class="sxs-lookup"><span data-stu-id="a0247-289">With this number in hand, you can loop through `Request.Files`, fetch each file in turn, and save it.</span></span> <span data-ttu-id="a0247-290">Bilinen kaç kez koleksiyonu üzerinden döngü istediğinizde, kullanabileceğiniz bir `for` döngü şuna benzer:</span><span class="sxs-lookup"><span data-stu-id="a0247-290">When you want to loop a known number of times through a collection, you can use a `for` loop, like this:</span></span>

    [!code-csharp[Main](working-with-files/samples/sample10.cs)]

    <span data-ttu-id="a0247-291">Değişkeni `i` ayarladığınız herhangi bir üst sınır sıfırdan gidecek yalnızca bir geçici sayacıdır.</span><span class="sxs-lookup"><span data-stu-id="a0247-291">The variable `i` is just a temporary counter that will go from zero to whatever upper limit you set.</span></span> <span data-ttu-id="a0247-292">Bu durumda, üst sınır dosya sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="a0247-292">In this case, the upper limit is the number of files.</span></span> <span data-ttu-id="a0247-293">Ancak sayacı sıfırda ASP.NET senaryolarda sayım için tipik olan başladığından üst sınırı gerçekte bir'den küçük dosya sayısı.</span><span class="sxs-lookup"><span data-stu-id="a0247-293">But because the counter starts at zero, as is typical for counting scenarios in ASP.NET, the upper limit is actually one less than the file count.</span></span> <span data-ttu-id="a0247-294">(Üç dosyaları karşıya yüklediyseniz sayısı 2 sıfırdır.)</span><span class="sxs-lookup"><span data-stu-id="a0247-294">(If three files are uploaded, the count is zero to 2.)</span></span>

    <span data-ttu-id="a0247-295">`uploadedCount` Değişkeni başarıyla karşıya yüklendi ve kaydedilmiş olan tüm dosyaları toplar.</span><span class="sxs-lookup"><span data-stu-id="a0247-295">The `uploadedCount` variable totals all the files that are successfully uploaded and saved.</span></span> <span data-ttu-id="a0247-296">Bu kod beklenen dosya karşıya yüklenecek mümkün olmayabilir olasılığı için hesapları.</span><span class="sxs-lookup"><span data-stu-id="a0247-296">This code accounts for the possibility that an expected file may not be able to be uploaded.</span></span>
4. <span data-ttu-id="a0247-297">Bir tarayıcıda. Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="a0247-297">Run the page in a browser.</span></span> <span data-ttu-id="a0247-298">Tarayıcı sayfası ve onun iki karşıya yükleme kutularını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="a0247-298">The browser displays the page and its two upload boxes.</span></span>
5. <span data-ttu-id="a0247-299">Karşıya yüklemek için iki dosya seçin.</span><span class="sxs-lookup"><span data-stu-id="a0247-299">Select two files to upload.</span></span>
6. <span data-ttu-id="a0247-300">Tıklatın **başka bir dosya eklemek**.</span><span class="sxs-lookup"><span data-stu-id="a0247-300">Click **Add another file**.</span></span> <span data-ttu-id="a0247-301">Sayfaya yeni bir karşıya yükleme kutusu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="a0247-301">The page displays a new upload box.</span></span> 

    ![[Görüntü]](working-with-files/_static/image12.jpg)
7. <span data-ttu-id="a0247-303">Tıklatın **karşıya**.</span><span class="sxs-lookup"><span data-stu-id="a0247-303">Click **Upload**.</span></span>
8. <span data-ttu-id="a0247-304">Web sitesi, proje klasörüne sağ tıklayın ve ardından **yenileme**.</span><span class="sxs-lookup"><span data-stu-id="a0247-304">In the website, right-click the project folder and then click **Refresh**.</span></span>
9. <span data-ttu-id="a0247-305">Açık *UploadedFiles* başarıyla karşıya yüklenen dosyaların görmek için klasör.</span><span class="sxs-lookup"><span data-stu-id="a0247-305">Open the *UploadedFiles* folder to see the successfully uploaded files.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="a0247-306">Ek Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="a0247-306">Additional Resources</span></span>


[<span data-ttu-id="a0247-307">Bir ASP.NET Web Pages sitesinde görüntüleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="a0247-307">Working with Images in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202897)

[<span data-ttu-id="a0247-308">Bir CSV dosyasına dışarı aktarma</span><span class="sxs-lookup"><span data-stu-id="a0247-308">Exporting to a CSV File</span></span>](https://msdn.microsoft.com/en-us/library/ms155919.aspx)

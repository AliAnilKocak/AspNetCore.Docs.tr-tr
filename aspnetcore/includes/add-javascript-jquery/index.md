## <a name="call-the-web-api-with-jquery"></a><span data-ttu-id="ec843-101">JQuery ile Web API çağrısı</span><span class="sxs-lookup"><span data-stu-id="ec843-101">Call the Web API with jQuery</span></span>

<span data-ttu-id="ec843-102">Bu bölümde, Web API'sini çağırmak için jQuery kullanan bir HTML sayfası eklenir.</span><span class="sxs-lookup"><span data-stu-id="ec843-102">In this section, an HTML page is added that uses jQuery to call the Web API.</span></span> <span data-ttu-id="ec843-103">jQuery isteği başlatır ve sayfa API'nin yanıt ayrıntıları ile güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="ec843-103">jQuery initiates the request and updates the page with the details from the API's response.</span></span>

<span data-ttu-id="ec843-104">Projenin statik dosyaları işleme ve varsayılan dosya eşlemesini etkinleştirmek üzere yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="ec843-104">Configure the project to serve static files and to enable default file mapping.</span></span> <span data-ttu-id="ec843-105">Bu çağırarak gerçekleştirilir [UseStaticFiles](/dotnet/api/microsoft.aspnetcore.builder.staticfileextensions.usestaticfiles#Microsoft_AspNetCore_Builder_StaticFileExtensions_UseStaticFiles_Microsoft_AspNetCore_Builder_IApplicationBuilder_) ve [UseDefaultFiles](/dotnet/api/microsoft.aspnetcore.builder.defaultfilesextensions.usedefaultfiles#Microsoft_AspNetCore_Builder_DefaultFilesExtensions_UseDefaultFiles_Microsoft_AspNetCore_Builder_IApplicationBuilder_) uzantı yöntemleri *Startup.Configure*.</span><span class="sxs-lookup"><span data-stu-id="ec843-105">This is accomplished by invoking the [UseStaticFiles](/dotnet/api/microsoft.aspnetcore.builder.staticfileextensions.usestaticfiles#Microsoft_AspNetCore_Builder_StaticFileExtensions_UseStaticFiles_Microsoft_AspNetCore_Builder_IApplicationBuilder_) and [UseDefaultFiles](/dotnet/api/microsoft.aspnetcore.builder.defaultfilesextensions.usedefaultfiles#Microsoft_AspNetCore_Builder_DefaultFilesExtensions_UseDefaultFiles_Microsoft_AspNetCore_Builder_IApplicationBuilder_) extension methods in *Startup.Configure*.</span></span> <span data-ttu-id="ec843-106">Daha fazla bilgi için bkz: [ASP.NET Core statik dosyaları ile çalışma](xref:fundamentals/static-files).</span><span class="sxs-lookup"><span data-stu-id="ec843-106">For more information, see [Work with static files in ASP.NET Core](xref:fundamentals/static-files).</span></span>

```csharp
public void Configure(IApplicationBuilder app, IHostingEnvironment env)
{
    app.UseDefaultFiles();
    app.UseStaticFiles();

    app.UseMvc();
}
```

<span data-ttu-id="ec843-107">Bir HTML sayfasında, aşağıdaki adımları izleyerek projeye ekleyin:</span><span class="sxs-lookup"><span data-stu-id="ec843-107">Add an HTML page to the project by following these steps:</span></span>

* <span data-ttu-id="ec843-108">Sağ *wwwroot* dizin ve select **Ekle** > **yeni öğe** > **HTML sayfası**.</span><span class="sxs-lookup"><span data-stu-id="ec843-108">Right-click the *wwwroot* directory, and select **Add** > **New Item** > **HTML Page**.</span></span>
* <span data-ttu-id="ec843-109">Dosya adı *index.html*ve aşağıdaki biçimlendirme dosyasına eklenecek:</span><span class="sxs-lookup"><span data-stu-id="ec843-109">Name the file *index.html*, and include the following markup in the file:</span></span>

[!code-html[Main](samples/sample3.html)]

<span data-ttu-id="ec843-110">ASP.NET Core projenin başlatma ayarlarında bir değişiklik, HTML sayfası yerel olarak test etmek için gerekli.</span><span class="sxs-lookup"><span data-stu-id="ec843-110">A change to the ASP.NET Core project's launch settings may be required to test the HTML page locally.</span></span> <span data-ttu-id="ec843-111">Açık *launchSettings.json* içinde *özellikleri* projenin dizin.</span><span class="sxs-lookup"><span data-stu-id="ec843-111">Open *launchSettings.json* in the *Properties* directory of the project.</span></span> <span data-ttu-id="ec843-112">Kaldırma `launchUrl` adresindeki açmak için uygulama zorlamak için özellik *index.html*&mdash;projenin varsayılan dosya.</span><span class="sxs-lookup"><span data-stu-id="ec843-112">Remove the `launchUrl` property to force the app to open at *index.html*&mdash;the project's default file.</span></span>

<span data-ttu-id="ec843-113">JQuery almak için birkaç yolu vardır.</span><span class="sxs-lookup"><span data-stu-id="ec843-113">There are several ways to get jQuery.</span></span> <span data-ttu-id="ec843-114">Önceki parçacığında, bir CDN kitaplığı yüklenir.</span><span class="sxs-lookup"><span data-stu-id="ec843-114">In the preceding snippet, the library is loaded from a CDN.</span></span> <span data-ttu-id="ec843-115">Bu örnek, jQuery ile API'yi çağıran bir tam CRUD örnektir.</span><span class="sxs-lookup"><span data-stu-id="ec843-115">This sample is a complete CRUD example of calling the API with jQuery.</span></span> <span data-ttu-id="ec843-116">Bu örnek daha zengin bir deneyime için ek özellikler vardır.</span><span class="sxs-lookup"><span data-stu-id="ec843-116">There are additional features in this sample to make the experience richer.</span></span> <span data-ttu-id="ec843-117">API çağrıları geçici açıklamalar aşağıda verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="ec843-117">Below are explanations around the calls to the API.</span></span>

### <a name="get-a-list-of-to-do-items"></a><span data-ttu-id="ec843-118">Yapılacaklar öğelerini bir listesini alma</span><span class="sxs-lookup"><span data-stu-id="ec843-118">Get a list of to-do items</span></span>

<span data-ttu-id="ec843-119">Yapılacaklar öğelerini bir listesini almak için bir HTTP GET isteği Gönder */api/todo*.</span><span class="sxs-lookup"><span data-stu-id="ec843-119">To get a list of to-do items, send an HTTP GET request to */api/todo*.</span></span>

<span data-ttu-id="ec843-120">JQuery [ajax](https://api.jquery.com/jquery.ajax/) işlevi bir nesne ya da dizi temsil eden JSON döndürür API AJAX isteği gönderir.</span><span class="sxs-lookup"><span data-stu-id="ec843-120">The jQuery [ajax](https://api.jquery.com/jquery.ajax/) function sends an AJAX request to the API, which returns JSON representing an object or array.</span></span> <span data-ttu-id="ec843-121">Bu işlev bir HTTP isteğinin belirtilen gönderirken HTTP etkileşiminin tüm formları işleyebilir `url`.</span><span class="sxs-lookup"><span data-stu-id="ec843-121">This function can handle all forms of HTTP interaction, sending an HTTP request to the specified `url`.</span></span> <span data-ttu-id="ec843-122">`GET` olarak kullanılan `type`.</span><span class="sxs-lookup"><span data-stu-id="ec843-122">`GET` is used as the `type`.</span></span> <span data-ttu-id="ec843-123">`success` Geri çağırma işlevi istek başarılı olursa çağrılır.</span><span class="sxs-lookup"><span data-stu-id="ec843-123">The `success` callback function is invoked if the request succeeds.</span></span> <span data-ttu-id="ec843-124">Geri arama, DOM Yapılacaklar bilgilerle güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="ec843-124">In the callback, the DOM is updated with the to-do information.</span></span>

[!code-javascript[Main](samples/sample4.html)]

### <a name="add-a-to-do-item"></a><span data-ttu-id="ec843-125">Bir Yapılacaklar öğesi ekleyin</span><span class="sxs-lookup"><span data-stu-id="ec843-125">Add a to-do item</span></span>

<span data-ttu-id="ec843-126">Yapılacaklar öğesi eklemek için bir HTTP POST isteği Gönder */api/todo/*.</span><span class="sxs-lookup"><span data-stu-id="ec843-126">To add a to-do item, send an HTTP POST request to */api/todo/*.</span></span> <span data-ttu-id="ec843-127">İstek gövdesi bir Yapılacaklar nesnesi içermelidir.</span><span class="sxs-lookup"><span data-stu-id="ec843-127">The request body should contain a to-do object.</span></span> <span data-ttu-id="ec843-128">[Ajax](https://api.jquery.com/jquery.ajax/) işlevi kullanarak `POST` API'yi çağırmak için.</span><span class="sxs-lookup"><span data-stu-id="ec843-128">The [ajax](https://api.jquery.com/jquery.ajax/) function is using `POST` to call the API.</span></span> <span data-ttu-id="ec843-129">İçin `POST` ve `PUT` istekleri, istek gövdesini API için gönderilen verileri temsil eder.</span><span class="sxs-lookup"><span data-stu-id="ec843-129">For `POST` and `PUT` requests, the request body represents the data sent to the API.</span></span> <span data-ttu-id="ec843-130">API JSON istek gövdesini bekliyor.</span><span class="sxs-lookup"><span data-stu-id="ec843-130">The API is expecting a JSON request body.</span></span> <span data-ttu-id="ec843-131">`accepts` Ve `contentType` seçeneklerini ayarlamak `application/json` sınıflandırmak için medya alındı ve sırasıyla gönderilen türü.</span><span class="sxs-lookup"><span data-stu-id="ec843-131">The `accepts` and `contentType` options are set to `application/json` to classify the media type being received and sent, respectively.</span></span> <span data-ttu-id="ec843-132">Kullanarak bir JSON nesnesi dönüştürülen veriler [ `JSON.stringify` ](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify).</span><span class="sxs-lookup"><span data-stu-id="ec843-132">The data is converted to a JSON object using [`JSON.stringify`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify).</span></span> <span data-ttu-id="ec843-133">API başarılı durum kodu döndürdüğünde `getData` işlevi HTML tablosu güncelleştirmek için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="ec843-133">When the API returns a successful status code, the `getData` function is invoked to update the HTML table.</span></span>

[!code-javascript[Main](samples/sample5.js)]

### <a name="update-a-to-do-item"></a><span data-ttu-id="ec843-134">Güncelleştirme Yapılacaklar öğesi</span><span class="sxs-lookup"><span data-stu-id="ec843-134">Update a to-do item</span></span>

<span data-ttu-id="ec843-135">Yapılacaklar öğesi güncelleştirme, her ikisi de bir istek gövdesi kullanır bu yana bir ekleme ile çok benzer.</span><span class="sxs-lookup"><span data-stu-id="ec843-135">Updating a to-do item is very similar to adding one, since both rely on a request body.</span></span> <span data-ttu-id="ec843-136">İkisi arasındaki yalnızca gerçek fark bu durumda olan `url` öğesinin benzersiz tanıtıcısı eklemek üzere değişiklikler ve `type` olan `PUT`.</span><span class="sxs-lookup"><span data-stu-id="ec843-136">The only real difference between the two in this case is that the `url` changes to add the unique identifier of the item, and the `type` is `PUT`.</span></span>

[!code-javascript[Main](samples/sample6.js)]

### <a name="delete-a-to-do-item"></a><span data-ttu-id="ec843-137">Yapılacaklar öğesi silme</span><span class="sxs-lookup"><span data-stu-id="ec843-137">Delete a to-do item</span></span>

<span data-ttu-id="ec843-138">Yapılacaklar öğesi silme gerçekleştirilir ayarlayarak `type` ajax çağrısı üzerinde `DELETE` ve belirttiğinizden öğeyi benzersiz tanımlayıcı URL'si.</span><span class="sxs-lookup"><span data-stu-id="ec843-138">Deleting a to-do item is accomplished by setting the `type` on the ajax call to `DELETE` and specifing the item's unique identifier in the url.</span></span>

[!code-javascript[Main](samples/sample6.js)]

---
<span data-ttu-id="7a755-101">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-101">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-102">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-102">'Blazor'</span></span>
- <span data-ttu-id="7a755-103">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-103">'Identity'</span></span>
- <span data-ttu-id="7a755-104">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-104">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-105">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-105">'Razor'</span></span>
- <span data-ttu-id="7a755-106">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-106">'SignalR' uid:</span></span> 

---
# <a name="httpsys-web-server-implementation-in-aspnet-core"></a><span data-ttu-id="7a755-107">ASP.NET Core 'de HTTP. sys Web sunucusu uygulama</span><span class="sxs-lookup"><span data-stu-id="7a755-107">HTTP.sys web server implementation in ASP.NET Core</span></span>

<span data-ttu-id="7a755-108">[Tom Dykstra](https://github.com/tdykstra) ve [Chris](https://github.com/Tratcher) 'e göre</span><span class="sxs-lookup"><span data-stu-id="7a755-108">By [Tom Dykstra](https://github.com/tdykstra) and [Chris Ross](https://github.com/Tratcher)</span></span>

::: moniker range=">= aspnetcore-3.1"

<span data-ttu-id="7a755-109">[Http. sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) , yalnızca Windows üzerinde çalışan [ASP.NET Core için bir Web sunucusudur](xref:fundamentals/servers/index) .</span><span class="sxs-lookup"><span data-stu-id="7a755-109">[HTTP.sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) is a [web server for ASP.NET Core](xref:fundamentals/servers/index) that only runs on Windows.</span></span> <span data-ttu-id="7a755-110">HTTP. sys, [Kestrel](xref:fundamentals/servers/kestrel) Server için bir alternatiftir ve Kestrel tarafından sağlamayan bazı özellikler sunar.</span><span class="sxs-lookup"><span data-stu-id="7a755-110">HTTP.sys is an alternative to [Kestrel](xref:fundamentals/servers/kestrel) server and offers some features that Kestrel doesn't provide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7a755-111">HTTP. sys [ASP.NET Core modülüyle](xref:host-and-deploy/aspnet-core-module) uyumlu DEĞILDIR ve ııs veya IIS Express ile kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="7a755-111">HTTP.sys isn't compatible with the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) and can't be used with IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-112">HTTP. sys aşağıdaki özellikleri destekler:</span><span class="sxs-lookup"><span data-stu-id="7a755-112">HTTP.sys supports the following features:</span></span>

* [<span data-ttu-id="7a755-113">Windows Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-113">Windows Authentication</span></span>](xref:security/authentication/windowsauth)
* <span data-ttu-id="7a755-114">Bağlantı noktası Paylaşımı</span><span class="sxs-lookup"><span data-stu-id="7a755-114">Port sharing</span></span>
* <span data-ttu-id="7a755-115">SNı ile HTTPS</span><span class="sxs-lookup"><span data-stu-id="7a755-115">HTTPS with SNI</span></span>
* <span data-ttu-id="7a755-116">TLS üzerinden HTTP/2 (Windows 10 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-116">HTTP/2 over TLS (Windows 10 or later)</span></span>
* <span data-ttu-id="7a755-117">Doğrudan dosya iletimi</span><span class="sxs-lookup"><span data-stu-id="7a755-117">Direct file transmission</span></span>
* <span data-ttu-id="7a755-118">Yanıtları Önbelleğe Alma</span><span class="sxs-lookup"><span data-stu-id="7a755-118">Response caching</span></span>
* <span data-ttu-id="7a755-119">WebSockets (Windows 8 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-119">WebSockets (Windows 8 or later)</span></span>

<span data-ttu-id="7a755-120">Desteklenen Windows sürümleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-120">Supported Windows versions:</span></span>

* <span data-ttu-id="7a755-121">Windows 7 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-121">Windows 7 or later</span></span>
* <span data-ttu-id="7a755-122">Windows Server 2008 R2 veya sonraki sürümü</span><span class="sxs-lookup"><span data-stu-id="7a755-122">Windows Server 2008 R2 or later</span></span>

<span data-ttu-id="7a755-123">[Örnek kodu görüntüleme veya indirme](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([nasıl indirileceği](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="7a755-123">[View or download sample code](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="when-to-use-httpsys"></a><span data-ttu-id="7a755-124">HTTP. sys ne zaman kullanılır</span><span class="sxs-lookup"><span data-stu-id="7a755-124">When to use HTTP.sys</span></span>

<span data-ttu-id="7a755-125">HTTP. sys, şu durumlarda olduğu dağıtımlar için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="7a755-125">HTTP.sys is useful for deployments where:</span></span>

* <span data-ttu-id="7a755-126">Sunucuyu IIS kullanmadan doğrudan Internet 'e sunmaya gerek vardır.</span><span class="sxs-lookup"><span data-stu-id="7a755-126">There's a need to expose the server directly to the Internet without using IIS.</span></span>

  ![HTTP. sys doğrudan Internet ile iletişim kurar](httpsys/_static/httpsys-to-internet.png)

* <span data-ttu-id="7a755-128">İç dağıtım, [Windows kimlik doğrulaması](xref:security/authentication/windowsauth)gibi Kestrel 'de kullanılamayan bir özelliği gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-128">An internal deployment requires a feature not available in Kestrel, such as [Windows Authentication](xref:security/authentication/windowsauth).</span></span>

  ![HTTP. sys doğrudan iç ağla iletişim kurar](httpsys/_static/httpsys-to-internal.png)

<span data-ttu-id="7a755-130">HTTP. sys pek çok tür saldırılara karşı koruyan ve tam özellikli bir Web sunucusu için sağlamlık, güvenlik ve ölçeklenebilirlik sağlayan çok sayıda teknolojiden oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-130">HTTP.sys is mature technology that protects against many types of attacks and provides the robustness, security, and scalability of a full-featured web server.</span></span> <span data-ttu-id="7a755-131">IIS, HTTP. sys ' nin üstünde HTTP dinleyicisi olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="7a755-131">IIS itself runs as an HTTP listener on top of HTTP.sys.</span></span>

## <a name="http2-support"></a><span data-ttu-id="7a755-132">HTTP/2 desteği</span><span class="sxs-lookup"><span data-stu-id="7a755-132">HTTP/2 support</span></span>

<span data-ttu-id="7a755-133">Aşağıdaki temel gereksinimler karşılanıyorsa ASP.NET Core uygulamalar için [http/2](https://httpwg.org/specs/rfc7540.html) etkinleştirilir:</span><span class="sxs-lookup"><span data-stu-id="7a755-133">[HTTP/2](https://httpwg.org/specs/rfc7540.html) is enabled for ASP.NET Core apps if the following base requirements are met:</span></span>

* <span data-ttu-id="7a755-134">Windows Server 2016/Windows 10 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-134">Windows Server 2016/Windows 10 or later</span></span>
* <span data-ttu-id="7a755-135">[Uygulama katmanı protokol anlaşması (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) bağlantısı</span><span class="sxs-lookup"><span data-stu-id="7a755-135">[Application-Layer Protocol Negotiation (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) connection</span></span>
* <span data-ttu-id="7a755-136">TLS 1,2 veya üzeri bağlantı</span><span class="sxs-lookup"><span data-stu-id="7a755-136">TLS 1.2 or later connection</span></span>

<span data-ttu-id="7a755-137">Bir HTTP/2 bağlantısı kurulduysa, [HttpRequest. Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) Reports `HTTP/2` .</span><span class="sxs-lookup"><span data-stu-id="7a755-137">If an HTTP/2 connection is established, [HttpRequest.Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) reports `HTTP/2`.</span></span>

<span data-ttu-id="7a755-138">HTTP/2 varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-138">HTTP/2 is enabled by default.</span></span> <span data-ttu-id="7a755-139">HTTP/2 bağlantısı kurulmadıysa, bağlantı HTTP/1.1 'ye geri döner.</span><span class="sxs-lookup"><span data-stu-id="7a755-139">If an HTTP/2 connection isn't established, the connection falls back to HTTP/1.1.</span></span> <span data-ttu-id="7a755-140">Windows 'un gelecek bir sürümünde http/2 yapılandırma bayrakları http/2 ' yi HTTP. sys ile devre dışı bırakma özelliği de dahil olmak üzere kullanılabilir olacaktır.</span><span class="sxs-lookup"><span data-stu-id="7a755-140">In a future release of Windows, HTTP/2 configuration flags will be available, including the ability to disable HTTP/2 with HTTP.sys.</span></span>

## <a name="kernel-mode-authentication-with-kerberos"></a><span data-ttu-id="7a755-141">Kerberos ile çekirdek modu kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-141">Kernel mode authentication with Kerberos</span></span>

<span data-ttu-id="7a755-142">HTTP. sys, Kerberos kimlik doğrulama protokolü ile çekirdek modu kimlik doğrulamasına temsilciler.</span><span class="sxs-lookup"><span data-stu-id="7a755-142">HTTP.sys delegates to kernel mode authentication with the Kerberos authentication protocol.</span></span> <span data-ttu-id="7a755-143">Kullanıcı modu kimlik doğrulaması, Kerberos ve HTTP. sys ile desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-143">User mode authentication isn't supported with Kerberos and HTTP.sys.</span></span> <span data-ttu-id="7a755-144">Makine hesabı, Active Directory alındığı ve kullanıcının kimliğini doğrulamak için istemci tarafından sunucuya iletilen Kerberos belirtecinin/biletinin şifresini çözmek için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-144">The machine account must be used to decrypt the Kerberos token/ticket that's obtained from Active Directory and forwarded by the client to the server to authenticate the user.</span></span> <span data-ttu-id="7a755-145">Uygulamanın kullanıcısına değil, ana bilgisayar için hizmet asıl adını (SPN) kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-145">Register the Service Principal Name (SPN) for the host, not the user of the app.</span></span>

## <a name="how-to-use-httpsys"></a><span data-ttu-id="7a755-146">HTTP. sys kullanma</span><span class="sxs-lookup"><span data-stu-id="7a755-146">How to use HTTP.sys</span></span>

### <a name="configure-the-aspnet-core-app-to-use-httpsys"></a><span data-ttu-id="7a755-147">ASP.NET Core uygulamasını HTTP. sys kullanacak şekilde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-147">Configure the ASP.NET Core app to use HTTP.sys</span></span>

<span data-ttu-id="7a755-148"><xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*>Ana bilgisayarı oluştururken, gerekli herhangi bir yöntemi belirterek uzantı yöntemini çağırın <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions> .</span><span class="sxs-lookup"><span data-stu-id="7a755-148">Call the <xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*> extension method when building the host, specifying any required <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions>.</span></span> <span data-ttu-id="7a755-149">Aşağıdaki örnek, seçeneklerini varsayılan değerlerine ayarlar:</span><span class="sxs-lookup"><span data-stu-id="7a755-149">The following example sets options to their default values:</span></span>

[!code-csharp[](httpsys/samples/3.x/SampleApp/Program.cs?name=snippet1&highlight=5-13)]

<span data-ttu-id="7a755-150">Ek HTTP. sys yapılandırması, [kayıt defteri ayarları](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows)aracılığıyla işlenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-150">Additional HTTP.sys configuration is handled through [registry settings](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows).</span></span>

<span data-ttu-id="7a755-151">**HTTP. sys seçenekleri**</span><span class="sxs-lookup"><span data-stu-id="7a755-151">**HTTP.sys options**</span></span>

| <span data-ttu-id="7a755-152">Özellik</span><span class="sxs-lookup"><span data-stu-id="7a755-152">Property</span></span> | <span data-ttu-id="7a755-153">Açıklama</span><span class="sxs-lookup"><span data-stu-id="7a755-153">Description</span></span> | <span data-ttu-id="7a755-154">Varsayılan</span><span class="sxs-lookup"><span data-stu-id="7a755-154">Default</span></span> |
| ---
<span data-ttu-id="7a755-155">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-155">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-156">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-156">'Blazor'</span></span>
- <span data-ttu-id="7a755-157">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-157">'Identity'</span></span>
- <span data-ttu-id="7a755-158">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-158">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-159">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-159">'Razor'</span></span>
- <span data-ttu-id="7a755-160">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-160">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-161">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-161">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-162">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-162">'Blazor'</span></span>
- <span data-ttu-id="7a755-163">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-163">'Identity'</span></span>
- <span data-ttu-id="7a755-164">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-164">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-165">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-165">'Razor'</span></span>
- <span data-ttu-id="7a755-166">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-166">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-167">---- | ---title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-167">---- | --- title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-168">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-168">'Blazor'</span></span>
- <span data-ttu-id="7a755-169">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-169">'Identity'</span></span>
- <span data-ttu-id="7a755-170">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-170">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-171">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-171">'Razor'</span></span>
- <span data-ttu-id="7a755-172">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-172">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-173">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-173">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-174">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-174">'Blazor'</span></span>
- <span data-ttu-id="7a755-175">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-175">'Identity'</span></span>
- <span data-ttu-id="7a755-176">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-176">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-177">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-177">'Razor'</span></span>
- <span data-ttu-id="7a755-178">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-178">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-179">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-179">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-180">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-180">'Blazor'</span></span>
- <span data-ttu-id="7a755-181">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-181">'Identity'</span></span>
- <span data-ttu-id="7a755-182">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-182">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-183">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-183">'Razor'</span></span>
- <span data-ttu-id="7a755-184">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-184">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-185">------ | :-----: | | [Allowsynchronousio](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Ve için zaman uyumlu giriş/çıkışa izin verilip verilmeyeceğini `HttpContext.Request.Body` denetleyin `HttpContext.Response.Body` .</span><span class="sxs-lookup"><span data-stu-id="7a755-185">------ | :-----: | | [AllowSynchronousIO](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Control whether synchronous input/output is allowed for the `HttpContext.Request.Body` and `HttpContext.Response.Body`.</span></span><span data-ttu-id="7a755-186"> | `false`| | [Authentication. AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Anonim isteklere izin verin.</span><span class="sxs-lookup"><span data-stu-id="7a755-186"> | `false` | | [Authentication.AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Allow anonymous requests.</span></span><span data-ttu-id="7a755-187"> | `true`| | [Kimlik doğrulaması. şemalar](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | İzin verilen kimlik doğrulama düzenlerini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-187"> | `true` | | [Authentication.Schemes](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | Specify the allowed authentication schemes.</span></span> <span data-ttu-id="7a755-188">Dinleyici elden atılırken önce herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-188">May be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-189">Değerler [authenticationdüzenlerinin numaralandırması](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes)tarafından sağlanır: `Basic` ,,, `Kerberos` `Negotiate` `None` , ve `NTLM` .</span><span class="sxs-lookup"><span data-stu-id="7a755-189">Values are provided by the [AuthenticationSchemes enum](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes): `Basic`, `Kerberos`, `Negotiate`, `None`, and `NTLM`.</span></span><span data-ttu-id="7a755-190"> | `None`| | [Enableresponsecaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Uygun üst bilgileri içeren yanıtlar için [çekirdek modu](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) önbelleğe almayı deneyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-190"> | `None` | | [EnableResponseCaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Attempt [kernel-mode](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) caching for responses with eligible headers.</span></span> <span data-ttu-id="7a755-191">Yanıt `Set-Cookie` , `Vary` veya `Pragma` üst bilgileri içermeyebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-191">The response may not include `Set-Cookie`, `Vary`, or `Pragma` headers.</span></span> <span data-ttu-id="7a755-192">`Cache-Control` `public` Bir ya da değeri ya da bir üst bilgi içermelidir `shared-max-age` `max-age` `Expires` .</span><span class="sxs-lookup"><span data-stu-id="7a755-192">It must include a `Cache-Control` header that's `public` and either a `shared-max-age` or `max-age` value, or an `Expires` header.</span></span><span data-ttu-id="7a755-193"> | `true`| | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | En fazla eşzamanlı kabul sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-193"> | `true` | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | The maximum number of concurrent accepts.</span></span> <span data-ttu-id="7a755-194">| 5 &times; [ortam. <br> ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | Kabul edilecek eşzamanlı bağlantı sayısı üst sınırı.</span><span class="sxs-lookup"><span data-stu-id="7a755-194">| 5 &times; [Environment.<br>ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | The maximum number of concurrent connections to accept.</span></span> <span data-ttu-id="7a755-195">`-1`Sonsuz için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-195">Use `-1` for infinite.</span></span> <span data-ttu-id="7a755-196">`null`Kayıt defterinin makine genelindeki ayarını kullanmak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-196">Use `null` to use the registry's machine-wide setting.</span></span> | `null`<br><span data-ttu-id="7a755-197">(makine genelinde</span><span class="sxs-lookup"><span data-stu-id="7a755-197">(machine-wide</span></span><br><span data-ttu-id="7a755-198">ayar) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | <a href="#maxrequestbodysize">MaxRequestBodySize</a> bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-198">setting) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | See the <a href="#maxrequestbodysize">MaxRequestBodySize</a> section.</span></span> <span data-ttu-id="7a755-199">| 30000000 bayt</span><span class="sxs-lookup"><span data-stu-id="7a755-199">| 30000000 bytes</span></span><br><span data-ttu-id="7a755-200">(~ 28,6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | Sıraya alınabilen en fazla istek sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-200">(~28.6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | The maximum number of requests that can be queued.</span></span> <span data-ttu-id="7a755-201">| 1000 | | `RequestQueueMode` | Bu, sunucunun istek kuyruğunu oluşturma ve yapılandırmadan sorumlu olup olmadığını veya mevcut bir kuyruğa iliştirilmesinin gerekip gerekmediğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-201">| 1000 | | `RequestQueueMode` | This indicates whether the server is responsible for creating and configuring the request queue, or if it should attach to an existing queue.</span></span><br><span data-ttu-id="7a755-202">Mevcut bir kuyruğa eklenirken, mevcut yapılandırma seçeneklerinin çoğu geçerli değildir.</span><span class="sxs-lookup"><span data-stu-id="7a755-202">Most existing configuration options do not apply when attaching to an existing queue.</span></span><span data-ttu-id="7a755-203"> | `RequestQueueMode.Create`| | `RequestQueueName` | HTTP. sys istek kuyruğunun adı.</span><span class="sxs-lookup"><span data-stu-id="7a755-203"> | `RequestQueueMode.Create` | | `RequestQueueName` | The name of the HTTP.sys request queue.</span></span><span data-ttu-id="7a755-204"> | `null`(Anonim kuyruk) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | İstemci bağlantısının kesilmesinden kaynaklanan yanıt gövdesi yazmasının, özel durumlar oluşturması veya normal şekilde tamamlanması gerektiğini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-204"> | `null` (Anonymous queue) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | Indicate if response body writes that fail due to client disconnects should throw exceptions or complete normally.</span></span> | `false`<br><span data-ttu-id="7a755-205">(normal olarak) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager>Kayıt defterinde da YAPıLANDıRıLABILEN http. sys yapılandırmasını kullanıma sunun.</span><span class="sxs-lookup"><span data-stu-id="7a755-205">(complete normally) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | Expose the HTTP.sys <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager> configuration, which may also be configured in the registry.</span></span> <span data-ttu-id="7a755-206">Varsayılan değerler de dahil olmak üzere her bir ayar hakkında daha fazla bilgi edinmek için API bağlantılarını izleyin:</span><span class="sxs-lookup"><span data-stu-id="7a755-206">Follow the API links to learn more about each setting, including default values:</span></span><ul><li><span data-ttu-id="7a755-207">[TimeoutManager. DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): http sunucusu API 'sinin varlık gövdesini etkin tut bağlantısı üzerinde boşaltmasına izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-207">[TimeoutManager.DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): Time allowed for the HTTP Server API to drain the entity body on a Keep-Alive connection.</span></span></li><li><span data-ttu-id="7a755-208">[TimeoutManager. EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): istek varlığı gövdesinin gelmesi için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-208">[TimeoutManager.EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): Time allowed for the request entity body to arrive.</span></span></li><li><span data-ttu-id="7a755-209">[TimeoutManager. HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): http sunucusu API 'sinin istek üst bilgisini ayrıştırması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-209">[TimeoutManager.HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): Time allowed for the HTTP Server API to parse the request header.</span></span></li><li><span data-ttu-id="7a755-210">[TimeoutManager. IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): boştaki bir bağlantı için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-210">[TimeoutManager.IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): Time allowed for an idle connection.</span></span></li><li><span data-ttu-id="7a755-211">[TimeoutManager. MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): yanıt için en düşük gönderme hızı.</span><span class="sxs-lookup"><span data-stu-id="7a755-211">[TimeoutManager.MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): The minimum send rate for the response.</span></span></li><li><span data-ttu-id="7a755-212">[TimeoutManager. RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): isteğin, uygulamanın onu seçmeden önce istek kuyruğunda kalması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-212">[TimeoutManager.RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): Time allowed for the request to remain in the request queue before the app picks it up.</span></span></li></ul> <span data-ttu-id="7a755-213">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection>Http. sys ile kaydolmak için öğesini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-213">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | Specify the <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection> to register with HTTP.sys.</span></span> <span data-ttu-id="7a755-214">En yararlı olan [UrlPrefixCollection. Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), koleksiyona bir ön ek eklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-214">The most useful is [UrlPrefixCollection.Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), which is used to add a prefix to the collection.</span></span> <span data-ttu-id="7a755-215">Bunlar, dinleyici elden atılıyor öncesinde herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-215">These may be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-216">|  |</span><span class="sxs-lookup"><span data-stu-id="7a755-216">|  |</span></span>

<a name="maxrequestbodysize"></a>

<span data-ttu-id="7a755-217">**MaxRequestBodySize**</span><span class="sxs-lookup"><span data-stu-id="7a755-217">**MaxRequestBodySize**</span></span>

<span data-ttu-id="7a755-218">Herhangi bir istek gövdesinin bayt olarak izin verilen en büyük boyutu.</span><span class="sxs-lookup"><span data-stu-id="7a755-218">The maximum allowed size of any request body in bytes.</span></span> <span data-ttu-id="7a755-219">Olarak ayarlandığında `null` , en büyük istek gövdesi boyutu sınırsızdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-219">When set to `null`, the maximum request body size is unlimited.</span></span> <span data-ttu-id="7a755-220">Bu sınırın, her zaman sınırsız olan yükseltilmiş bağlantıları üzerinde hiçbir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-220">This limit has no effect on upgraded connections, which are always unlimited.</span></span>

<span data-ttu-id="7a755-221">Tek bir ASP.NET Core MVC uygulamasında sınırı geçersiz kılmak için önerilen yöntem, `IActionResult` <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> bir eylem yönteminde özniteliğini kullanmaktır:</span><span class="sxs-lookup"><span data-stu-id="7a755-221">The recommended method to override the limit in an ASP.NET Core MVC app for a single `IActionResult` is to use the <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> attribute on an action method:</span></span>

```csharp
[RequestSizeLimit(100000000)]
public IActionResult MyActionMethod()
```

<span data-ttu-id="7a755-222">Uygulama isteği okumayı başlattıktan sonra bir istek üzerindeki sınırı yapılandırmayı denerse bir özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-222">An exception is thrown if the app attempts to configure the limit on a request after the app has started reading the request.</span></span> <span data-ttu-id="7a755-223">Özelliğin `IsReadOnly` salt okuma durumunda olup olmadığını göstermek için bir özellik kullanılabilir `MaxRequestBodySize` , yani sınırı yapılandırmak için çok geç.</span><span class="sxs-lookup"><span data-stu-id="7a755-223">An `IsReadOnly` property can be used to indicate if the `MaxRequestBodySize` property is in a read-only state, meaning it's too late to configure the limit.</span></span>

<span data-ttu-id="7a755-224">Uygulamanın istek başına geçersiz kılması gerekiyorsa <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> , şunu kullanın <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature> :</span><span class="sxs-lookup"><span data-stu-id="7a755-224">If the app should override <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> per-request, use the <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature>:</span></span>

[!code-csharp[](httpsys/samples/3.x/SampleApp/Startup.cs?name=snippet1&highlight=6-7)]

<span data-ttu-id="7a755-225">Visual Studio kullanıyorsanız, uygulamanın IIS veya IIS Express çalıştıracak şekilde yapılandırılmadığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="7a755-225">If using Visual Studio, make sure the app isn't configured to run IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-226">Visual Studio 'da varsayılan başlatma profili IIS Express içindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-226">In Visual Studio, the default launch profile is for IIS Express.</span></span> <span data-ttu-id="7a755-227">Projeyi konsol uygulaması olarak çalıştırmak için, aşağıdaki ekran görüntüsünde gösterildiği gibi seçili profili el ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="7a755-227">To run the project as a console app, manually change the selected profile, as shown in the following screen shot:</span></span>

![Konsol uygulaması profilini seçin](httpsys/_static/vs-choose-profile.png)

### <a name="configure-windows-server"></a><span data-ttu-id="7a755-229">Windows Server 'ı yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-229">Configure Windows Server</span></span>

1. <span data-ttu-id="7a755-230">Uygulamanın açmak için bağlantı noktalarını belirleme ve [Windows Güvenlik Duvarı](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) 'Nı veya [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell CMDLET 'ini kullanarak trafiğin http. sys ' ye ulaşmasını sağlamak için güvenlik duvarı bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-230">Determine the ports to open for the app and use [Windows Firewall](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) or the [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell cmdlet to open firewall ports to allow traffic to reach HTTP.sys.</span></span> <span data-ttu-id="7a755-231">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-231">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-232">Bir Azure sanal makinesine dağıtım yaparken, [ağ güvenlik grubundaki](/azure/virtual-machines/windows/nsg-quickstart-portal)bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-232">When deploying to an Azure VM, open the ports in the [Network Security Group](/azure/virtual-machines/windows/nsg-quickstart-portal).</span></span> <span data-ttu-id="7a755-233">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-233">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-234">Gerekirse, X. 509.440 sertifikalarını edinin ve yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-234">Obtain and install X.509 certificates, if required.</span></span>

   <span data-ttu-id="7a755-235">Windows 'da, [New-SelfSignedCertificate PowerShell cmdlet 'ini](/powershell/module/pkiclient/new-selfsignedcertificate)kullanarak otomatik olarak imzalanan sertifikalar oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7a755-235">On Windows, create self-signed certificates using the [New-SelfSignedCertificate PowerShell cmdlet](/powershell/module/pkiclient/new-selfsignedcertificate).</span></span> <span data-ttu-id="7a755-236">Desteklenmeyen bir örnek için bkz [. UpdateIISExpressSSLForChrome. ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span><span class="sxs-lookup"><span data-stu-id="7a755-236">For an unsupported example, see [UpdateIISExpressSSLForChrome.ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span></span>

   <span data-ttu-id="7a755-237">Sunucunun **yerel makine** > **Kişisel** deposunda otomatik olarak imzalanan veya CA imzalı sertifikalar yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-237">Install either self-signed or CA-signed certificates in the server's **Local Machine** > **Personal** store.</span></span>

1. <span data-ttu-id="7a755-238">Uygulama [çerçeveye bağımlı bir dağıtım](/dotnet/core/deploying/#framework-dependent-deployments-fdd)ise, .net core, .NET Framework veya her ikisini de (uygulama .NET Framework hedefleyen bir .NET Core uygulaması ise) yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-238">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd), install .NET Core, .NET Framework, or both (if the app is a .NET Core app targeting the .NET Framework).</span></span>

   * <span data-ttu-id="7a755-239">**.NET Core**: uygulama .NET Core gerektiriyorsa .NET Core [Indirmelerinde](https://dotnet.microsoft.com/download) **.NET Core çalışma zamanı** yükleyicisini edinip çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-239">**.NET Core**: If the app requires .NET Core, obtain and run the **.NET Core Runtime** installer from [.NET Core Downloads](https://dotnet.microsoft.com/download).</span></span> <span data-ttu-id="7a755-240">Tam SDK 'Yı sunucuya yüklemeyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-240">Don't install the full SDK on the server.</span></span>
   * <span data-ttu-id="7a755-241">**.NET Framework**: uygulama .NET Framework gerektiriyorsa [.NET Framework yükleme kılavuzuna](/dotnet/framework/install/)bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-241">**.NET Framework**: If the app requires .NET Framework, see the [.NET Framework installation guide](/dotnet/framework/install/).</span></span> <span data-ttu-id="7a755-242">Gerekli .NET Framework yüklemesi.</span><span class="sxs-lookup"><span data-stu-id="7a755-242">Install the required .NET Framework.</span></span> <span data-ttu-id="7a755-243">En son .NET Framework yükleyicisi [.NET Core İndirmeleri](https://dotnet.microsoft.com/download) sayfasından edinilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-243">The installer for the latest .NET Framework is available from the [.NET Core Downloads](https://dotnet.microsoft.com/download) page.</span></span>

   <span data-ttu-id="7a755-244">Uygulama, [kendi içinde bir dağıtım](/dotnet/core/deploying/#self-contained-deployments-scd)ise, uygulama çalışma zamanını dağıtımda içerir.</span><span class="sxs-lookup"><span data-stu-id="7a755-244">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd), the app includes the runtime in its deployment.</span></span> <span data-ttu-id="7a755-245">Sunucuda çerçeve yüklemesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-245">No framework installation is required on the server.</span></span>

1. <span data-ttu-id="7a755-246">Uygulamada URL 'Leri ve bağlantı noktalarını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-246">Configure URLs and ports in the app.</span></span>

   <span data-ttu-id="7a755-247">Varsayılan olarak, ASP.NET Core öğesine bağlanır `http://localhost:5000` .</span><span class="sxs-lookup"><span data-stu-id="7a755-247">By default, ASP.NET Core binds to `http://localhost:5000`.</span></span> <span data-ttu-id="7a755-248">URL öneklerini ve bağlantı noktalarını yapılandırmak için seçenekler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="7a755-248">To configure URL prefixes and ports, options include:</span></span>

   * <xref:Microsoft.AspNetCore.Hosting.HostingAbstractionsWebHostBuilderExtensions.UseUrls*>
   * <span data-ttu-id="7a755-249">`urls`komut satırı bağımsız değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-249">`urls` command-line argument</span></span>
   * <span data-ttu-id="7a755-250">`ASPNETCORE_URLS`ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-250">`ASPNETCORE_URLS` environment variable</span></span>
   * <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes>

   <span data-ttu-id="7a755-251">Aşağıdaki kod örneği, <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> `10.0.0.4` 443 numaralı bağlantı noktasında sunucunun yerel IP adresi ile nasıl kullanılacağını göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="7a755-251">The following code example shows how to use <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> with the server's local IP address `10.0.0.4` on port 443:</span></span>

   [!code-csharp[](httpsys/samples_snapshot/3.x/Program.cs?highlight=7)]

   <span data-ttu-id="7a755-252">Avantajı `UrlPrefixes` , hatalı biçimli ön ekler için hemen bir hata iletisi oluşturulmasından oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-252">An advantage of `UrlPrefixes` is that an error message is generated immediately for improperly formatted prefixes.</span></span>

   <span data-ttu-id="7a755-253">Ayarları `UrlPrefixes` geçersiz kıl `UseUrls` / `urls` / `ASPNETCORE_URLS` .</span><span class="sxs-lookup"><span data-stu-id="7a755-253">The settings in `UrlPrefixes` override `UseUrls`/`urls`/`ASPNETCORE_URLS` settings.</span></span> <span data-ttu-id="7a755-254">Bu nedenle, `UseUrls` `urls` ve `ASPNETCORE_URLS` ortam değişkeninin AVANTAJı Kestrel ve http. sys arasında geçiş yapmak daha kolay olabilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-254">Therefore, an advantage of `UseUrls`, `urls`, and the `ASPNETCORE_URLS` environment variable is that it's easier to switch between Kestrel and HTTP.sys.</span></span>

   <span data-ttu-id="7a755-255">HTTP. sys, [http sunucusu API UrlPrefix dize biçimlerini](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)kullanır.</span><span class="sxs-lookup"><span data-stu-id="7a755-255">HTTP.sys uses the [HTTP Server API UrlPrefix string formats](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx).</span></span>

   > [!WARNING]
   > <span data-ttu-id="7a755-256">Üst düzey joker karakter bağlamaları ( `http://*:80/` ve `http://+:80` ) kullanılmamalıdır **not** .</span><span class="sxs-lookup"><span data-stu-id="7a755-256">Top-level wildcard bindings (`http://*:80/` and `http://+:80`) should **not** be used.</span></span> <span data-ttu-id="7a755-257">Üst düzey joker karakter bağlamaları uygulama güvenliği güvenlik açıklarını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7a755-257">Top-level wildcard bindings create app security vulnerabilities.</span></span> <span data-ttu-id="7a755-258">Bu hem güçlü hem de zayıf Joker karakterlere yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="7a755-258">This applies to both strong and weak wildcards.</span></span> <span data-ttu-id="7a755-259">Joker karakterler yerine açık konak adlarını veya IP adreslerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-259">Use explicit host names or IP addresses rather than wildcards.</span></span> <span data-ttu-id="7a755-260">Alt etki alanı joker bağlantısı (örneğin, `*.mysub.com` ), tüm üst etki alanını ( `*.com` Bu güvenlik açığı olan aksine) kontrol ediyorsanız bir güvenlik riski değildir.</span><span class="sxs-lookup"><span data-stu-id="7a755-260">Subdomain wildcard binding (for example, `*.mysub.com`) isn't a security risk if you control the entire parent domain (as opposed to `*.com`, which is vulnerable).</span></span> <span data-ttu-id="7a755-261">Daha fazla bilgi için bkz. [RFC 7230: bölüm 5,4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span><span class="sxs-lookup"><span data-stu-id="7a755-261">For more information, see [RFC 7230: Section 5.4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span></span>

1. <span data-ttu-id="7a755-262">Ön ek, sunucudaki URL öneklerini ister.</span><span class="sxs-lookup"><span data-stu-id="7a755-262">Preregister URL prefixes on the server.</span></span>

   <span data-ttu-id="7a755-263">HTTP. sys ' yi yapılandırmaya yönelik yerleşik araç *netsh. exe*' dir.</span><span class="sxs-lookup"><span data-stu-id="7a755-263">The built-in tool for configuring HTTP.sys is *netsh.exe*.</span></span> <span data-ttu-id="7a755-264">*netsh. exe* , URL öneklerini ayırmak ve X. 509.440 sertifikaları atamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-264">*netsh.exe* is used to reserve URL prefixes and assign X.509 certificates.</span></span> <span data-ttu-id="7a755-265">Araç, yönetici ayrıcalıkları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-265">The tool requires administrator privileges.</span></span>

   <span data-ttu-id="7a755-266">Uygulamanın URL 'Lerini kaydettirmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-266">Use the *netsh.exe* tool to register URLs for the app:</span></span>

   ```console
   netsh http add urlacl url=<URL> user=<USER>
   ```

   * <span data-ttu-id="7a755-267">`<URL>`: Tam nitelikli Tekdüzen Kaynak Bulucu (URL).</span><span class="sxs-lookup"><span data-stu-id="7a755-267">`<URL>`: The fully qualified Uniform Resource Locator (URL).</span></span> <span data-ttu-id="7a755-268">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-268">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-269">Geçerli bir ana bilgisayar adı veya yerel IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-269">Use a valid hostname or local IP address.</span></span> <span data-ttu-id="7a755-270">*URL, sondaki eğik çizgi içermelidir.*</span><span class="sxs-lookup"><span data-stu-id="7a755-270">*The URL must include a trailing slash.*</span></span>
   * <span data-ttu-id="7a755-271">`<USER>`: Kullanıcı veya Kullanıcı grubu adını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-271">`<USER>`: Specifies the user or user-group name.</span></span>

   <span data-ttu-id="7a755-272">Aşağıdaki örnekte sunucusunun yerel IP adresi `10.0.0.4` :</span><span class="sxs-lookup"><span data-stu-id="7a755-272">In the following example, the local IP address of the server is `10.0.0.4`:</span></span>

   ```console
   netsh http add urlacl url=https://10.0.0.4:443/ user=Users
   ```

   <span data-ttu-id="7a755-273">Bir URL kaydedildiğinde, araç ile yanıt verir `URL reservation successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-273">When a URL is registered, the tool responds with `URL reservation successfully added`.</span></span>

   <span data-ttu-id="7a755-274">Kayıtlı bir URL 'yi silmek için şu `delete urlacl` komutu kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-274">To delete a registered URL, use the `delete urlacl` command:</span></span>

   ```console
   netsh http delete urlacl url=<URL>
   ```

1. <span data-ttu-id="7a755-275">X. 509.440 sertifikalarını sunucusuna kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-275">Register X.509 certificates on the server.</span></span>

   <span data-ttu-id="7a755-276">Uygulamanın sertifikalarını kaydetmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-276">Use the *netsh.exe* tool to register certificates for the app:</span></span>

   ```console
   netsh http add sslcert ipport=<IP>:<PORT> certhash=<THUMBPRINT> appid="{<GUID>}"
   ```

   * <span data-ttu-id="7a755-277">`<IP>`: Bağlama için yerel IP adresini belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-277">`<IP>`: Specifies the local IP address for the binding.</span></span> <span data-ttu-id="7a755-278">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-278">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-279">Geçerli bir IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-279">Use a valid IP address.</span></span>
   * <span data-ttu-id="7a755-280">`<PORT>`: Bağlama için bağlantı noktasını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-280">`<PORT>`: Specifies the port for the binding.</span></span>
   * <span data-ttu-id="7a755-281">`<THUMBPRINT>`: X. 509.440 sertifika parmak izi.</span><span class="sxs-lookup"><span data-stu-id="7a755-281">`<THUMBPRINT>`: The X.509 certificate thumbprint.</span></span>
   * <span data-ttu-id="7a755-282">`<GUID>`: Uygulamayı bilgilendirme amacıyla temsil eden geliştirici tarafından oluşturulan bir GUID.</span><span class="sxs-lookup"><span data-stu-id="7a755-282">`<GUID>`: A developer-generated GUID to represent the app for informational purposes.</span></span>

   <span data-ttu-id="7a755-283">Başvuru amacıyla, GUID 'yi uygulamada bir paket etiketi olarak depolayın:</span><span class="sxs-lookup"><span data-stu-id="7a755-283">For reference purposes, store the GUID in the app as a package tag:</span></span>

   * <span data-ttu-id="7a755-284">Visual Studio 'da:</span><span class="sxs-lookup"><span data-stu-id="7a755-284">In Visual Studio:</span></span>
     * <span data-ttu-id="7a755-285">**Çözüm Gezgini** ' de uygulamaya sağ tıklayıp **Özellikler**' i seçerek uygulamanın proje özelliklerini açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-285">Open the app's project properties by right-clicking on the app in **Solution Explorer** and selecting **Properties**.</span></span>
     * <span data-ttu-id="7a755-286">**Paket** sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="7a755-286">Select the **Package** tab.</span></span>
     * <span data-ttu-id="7a755-287">**Etiketler** alanında oluşturduğunuz GUID 'yi girin.</span><span class="sxs-lookup"><span data-stu-id="7a755-287">Enter the GUID that you created in the **Tags** field.</span></span>
   * <span data-ttu-id="7a755-288">Visual Studio kullanmadığınız durumlarda:</span><span class="sxs-lookup"><span data-stu-id="7a755-288">When not using Visual Studio:</span></span>
     * <span data-ttu-id="7a755-289">Uygulamanın proje dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-289">Open the app's project file.</span></span>
     * <span data-ttu-id="7a755-290">`<PackageTags>`Oluşturduğunuz GUID ile yeni veya var olan bir özelliği ekleyin `<PropertyGroup>` :</span><span class="sxs-lookup"><span data-stu-id="7a755-290">Add a `<PackageTags>` property to a new or existing `<PropertyGroup>` with the GUID that you created:</span></span>

       ```xml
       <PropertyGroup>
         <PackageTags>9412ee86-c21b-4eb8-bd89-f650fbf44931</PackageTags>
       </PropertyGroup>
       ```

   <span data-ttu-id="7a755-291">Aşağıdaki örnekte:</span><span class="sxs-lookup"><span data-stu-id="7a755-291">In the following example:</span></span>

   * <span data-ttu-id="7a755-292">Sunucunun yerel IP adresi `10.0.0.4` .</span><span class="sxs-lookup"><span data-stu-id="7a755-292">The local IP address of the server is `10.0.0.4`.</span></span>
   * <span data-ttu-id="7a755-293">Bir çevrimiçi rastgele GUID Oluşturucu değeri sağlar `appid` .</span><span class="sxs-lookup"><span data-stu-id="7a755-293">An online random GUID generator provides the `appid` value.</span></span>

   ```console
   netsh http add sslcert 
       ipport=10.0.0.4:443 
       certhash=b66ee04419d4ee37464ab8785ff02449980eae10 
       appid="{9412ee86-c21b-4eb8-bd89-f650fbf44931}"
   ```

   <span data-ttu-id="7a755-294">Bir sertifika kaydedildiğinde, araç ile yanıt verir `SSL Certificate successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-294">When a certificate is registered, the tool responds with `SSL Certificate successfully added`.</span></span>

   <span data-ttu-id="7a755-295">Bir sertifika kaydını silmek için şu komutu kullanın `delete sslcert` :</span><span class="sxs-lookup"><span data-stu-id="7a755-295">To delete a certificate registration, use the `delete sslcert` command:</span></span>

   ```console
   netsh http delete sslcert ipport=<IP>:<PORT>
   ```

   <span data-ttu-id="7a755-296">*Netsh. exe*için başvuru belgeleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-296">Reference documentation for *netsh.exe*:</span></span>

   * [<span data-ttu-id="7a755-297">Köprü Metni Aktarım Protokolü (HTTP) için Netsh komutları</span><span class="sxs-lookup"><span data-stu-id="7a755-297">Netsh Commands for Hypertext Transfer Protocol (HTTP)</span></span>](https://technet.microsoft.com/library/cc725882.aspx)
   * [<span data-ttu-id="7a755-298">UrlPrefix dizeleri</span><span class="sxs-lookup"><span data-stu-id="7a755-298">UrlPrefix Strings</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)

1. <span data-ttu-id="7a755-299">Uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-299">Run the app.</span></span>

   <span data-ttu-id="7a755-300">1024 'den büyük bir bağlantı noktası numarası ile HTTP (HTTPS değil) kullanarak localhost 'a bağlanırken uygulamayı çalıştırmak için yönetici ayrıcalıklarına gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-300">Administrator privileges aren't required to run the app when binding to localhost using HTTP (not HTTPS) with a port number greater than 1024.</span></span> <span data-ttu-id="7a755-301">Diğer yapılandırmalarda (örneğin, yerel bir IP adresi veya 443 numaralı bağlantı noktasına bağlama), uygulamayı yönetici ayrıcalıklarıyla çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-301">For other configurations (for example, using a local IP address or binding to port 443), run the app with administrator privileges.</span></span>

   <span data-ttu-id="7a755-302">Uygulama, sunucunun genel IP adresinde yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="7a755-302">The app responds at the server's public IP address.</span></span> <span data-ttu-id="7a755-303">Bu örnekte, sunucusuna, genel IP adresinde Internet 'ten ulaşılırsa `104.214.79.47` .</span><span class="sxs-lookup"><span data-stu-id="7a755-303">In this example, the server is reached from the Internet at its public IP address of `104.214.79.47`.</span></span>

   <span data-ttu-id="7a755-304">Bu örnekte bir geliştirme sertifikası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-304">A development certificate is used in this example.</span></span> <span data-ttu-id="7a755-305">Tarayıcının güvenilmeyen sertifika uyarısı atlandıktan sonra sayfa güvenli bir şekilde yüklenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-305">The page loads securely after bypassing the browser's untrusted certificate warning.</span></span>

   ![Uygulamanın dizin sayfasını yüklü olarak gösteren tarayıcı penceresi](httpsys/_static/browser.png)

## <a name="proxy-server-and-load-balancer-scenarios"></a><span data-ttu-id="7a755-307">Proxy sunucusu ve yük dengeleyici senaryoları</span><span class="sxs-lookup"><span data-stu-id="7a755-307">Proxy server and load balancer scenarios</span></span>

<span data-ttu-id="7a755-308">Internet veya şirket ağından gelen isteklerle etkileşime geçen HTTP. sys tarafından barındırılan uygulamalar için, proxy sunucularının ve yük dengeleyiciler 'nin arkasında barındırılırken ek yapılandırma gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-308">For apps hosted by HTTP.sys that interact with requests from the Internet or a corporate network, additional configuration might be required when hosting behind proxy servers and load balancers.</span></span> <span data-ttu-id="7a755-309">Daha fazla bilgi için bkz. [proxy sunucularıyla ve yük dengeleyicilerle çalışacak ASP.NET Core yapılandırma](xref:host-and-deploy/proxy-load-balancer).</span><span class="sxs-lookup"><span data-stu-id="7a755-309">For more information, see [Configure ASP.NET Core to work with proxy servers and load balancers](xref:host-and-deploy/proxy-load-balancer).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7a755-310">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="7a755-310">Additional resources</span></span>

* [<span data-ttu-id="7a755-311">HTTP. sys ile Windows kimlik doğrulamasını etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="7a755-311">Enable Windows Authentication with HTTP.sys</span></span>](xref:security/authentication/windowsauth#httpsys)
* [<span data-ttu-id="7a755-312">HTTP Sunucusu API 'SI</span><span class="sxs-lookup"><span data-stu-id="7a755-312">HTTP Server API</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364510.aspx)
* [<span data-ttu-id="7a755-313">ASPNET/HttpSysServer GitHub deposu (kaynak kodu)</span><span class="sxs-lookup"><span data-stu-id="7a755-313">aspnet/HttpSysServer GitHub repository (source code)</span></span>](https://github.com/aspnet/HttpSysServer/)
* [<span data-ttu-id="7a755-314">Ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="7a755-314">The host</span></span>](xref:fundamentals/index#host)
* <xref:test/troubleshoot>

::: moniker-end

::: moniker range="= aspnetcore-3.0"

<span data-ttu-id="7a755-315">[Http. sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) , yalnızca Windows üzerinde çalışan [ASP.NET Core için bir Web sunucusudur](xref:fundamentals/servers/index) .</span><span class="sxs-lookup"><span data-stu-id="7a755-315">[HTTP.sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) is a [web server for ASP.NET Core](xref:fundamentals/servers/index) that only runs on Windows.</span></span> <span data-ttu-id="7a755-316">HTTP. sys, [Kestrel](xref:fundamentals/servers/kestrel) Server için bir alternatiftir ve Kestrel tarafından sağlamayan bazı özellikler sunar.</span><span class="sxs-lookup"><span data-stu-id="7a755-316">HTTP.sys is an alternative to [Kestrel](xref:fundamentals/servers/kestrel) server and offers some features that Kestrel doesn't provide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7a755-317">HTTP. sys [ASP.NET Core modülüyle](xref:host-and-deploy/aspnet-core-module) uyumlu DEĞILDIR ve ııs veya IIS Express ile kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="7a755-317">HTTP.sys isn't compatible with the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) and can't be used with IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-318">HTTP. sys aşağıdaki özellikleri destekler:</span><span class="sxs-lookup"><span data-stu-id="7a755-318">HTTP.sys supports the following features:</span></span>

* [<span data-ttu-id="7a755-319">Windows Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-319">Windows Authentication</span></span>](xref:security/authentication/windowsauth)
* <span data-ttu-id="7a755-320">Bağlantı noktası Paylaşımı</span><span class="sxs-lookup"><span data-stu-id="7a755-320">Port sharing</span></span>
* <span data-ttu-id="7a755-321">SNı ile HTTPS</span><span class="sxs-lookup"><span data-stu-id="7a755-321">HTTPS with SNI</span></span>
* <span data-ttu-id="7a755-322">TLS üzerinden HTTP/2 (Windows 10 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-322">HTTP/2 over TLS (Windows 10 or later)</span></span>
* <span data-ttu-id="7a755-323">Doğrudan dosya iletimi</span><span class="sxs-lookup"><span data-stu-id="7a755-323">Direct file transmission</span></span>
* <span data-ttu-id="7a755-324">Yanıtları Önbelleğe Alma</span><span class="sxs-lookup"><span data-stu-id="7a755-324">Response caching</span></span>
* <span data-ttu-id="7a755-325">WebSockets (Windows 8 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-325">WebSockets (Windows 8 or later)</span></span>

<span data-ttu-id="7a755-326">Desteklenen Windows sürümleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-326">Supported Windows versions:</span></span>

* <span data-ttu-id="7a755-327">Windows 7 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-327">Windows 7 or later</span></span>
* <span data-ttu-id="7a755-328">Windows Server 2008 R2 veya sonraki sürümü</span><span class="sxs-lookup"><span data-stu-id="7a755-328">Windows Server 2008 R2 or later</span></span>

<span data-ttu-id="7a755-329">[Örnek kodu görüntüleme veya indirme](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([nasıl indirileceği](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="7a755-329">[View or download sample code](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="when-to-use-httpsys"></a><span data-ttu-id="7a755-330">HTTP. sys ne zaman kullanılır</span><span class="sxs-lookup"><span data-stu-id="7a755-330">When to use HTTP.sys</span></span>

<span data-ttu-id="7a755-331">HTTP. sys, şu durumlarda olduğu dağıtımlar için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="7a755-331">HTTP.sys is useful for deployments where:</span></span>

* <span data-ttu-id="7a755-332">Sunucuyu IIS kullanmadan doğrudan Internet 'e sunmaya gerek vardır.</span><span class="sxs-lookup"><span data-stu-id="7a755-332">There's a need to expose the server directly to the Internet without using IIS.</span></span>

  ![HTTP. sys doğrudan Internet ile iletişim kurar](httpsys/_static/httpsys-to-internet.png)

* <span data-ttu-id="7a755-334">İç dağıtım, [Windows kimlik doğrulaması](xref:security/authentication/windowsauth)gibi Kestrel 'de kullanılamayan bir özelliği gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-334">An internal deployment requires a feature not available in Kestrel, such as [Windows Authentication](xref:security/authentication/windowsauth).</span></span>

  ![HTTP. sys doğrudan iç ağla iletişim kurar](httpsys/_static/httpsys-to-internal.png)

<span data-ttu-id="7a755-336">HTTP. sys pek çok tür saldırılara karşı koruyan ve tam özellikli bir Web sunucusu için sağlamlık, güvenlik ve ölçeklenebilirlik sağlayan çok sayıda teknolojiden oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-336">HTTP.sys is mature technology that protects against many types of attacks and provides the robustness, security, and scalability of a full-featured web server.</span></span> <span data-ttu-id="7a755-337">IIS, HTTP. sys ' nin üstünde HTTP dinleyicisi olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="7a755-337">IIS itself runs as an HTTP listener on top of HTTP.sys.</span></span>

## <a name="http2-support"></a><span data-ttu-id="7a755-338">HTTP/2 desteği</span><span class="sxs-lookup"><span data-stu-id="7a755-338">HTTP/2 support</span></span>

<span data-ttu-id="7a755-339">Aşağıdaki temel gereksinimler karşılanıyorsa ASP.NET Core uygulamalar için [http/2](https://httpwg.org/specs/rfc7540.html) etkinleştirilir:</span><span class="sxs-lookup"><span data-stu-id="7a755-339">[HTTP/2](https://httpwg.org/specs/rfc7540.html) is enabled for ASP.NET Core apps if the following base requirements are met:</span></span>

* <span data-ttu-id="7a755-340">Windows Server 2016/Windows 10 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-340">Windows Server 2016/Windows 10 or later</span></span>
* <span data-ttu-id="7a755-341">[Uygulama katmanı protokol anlaşması (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) bağlantısı</span><span class="sxs-lookup"><span data-stu-id="7a755-341">[Application-Layer Protocol Negotiation (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) connection</span></span>
* <span data-ttu-id="7a755-342">TLS 1,2 veya üzeri bağlantı</span><span class="sxs-lookup"><span data-stu-id="7a755-342">TLS 1.2 or later connection</span></span>

<span data-ttu-id="7a755-343">Bir HTTP/2 bağlantısı kurulduysa, [HttpRequest. Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) Reports `HTTP/2` .</span><span class="sxs-lookup"><span data-stu-id="7a755-343">If an HTTP/2 connection is established, [HttpRequest.Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) reports `HTTP/2`.</span></span>

<span data-ttu-id="7a755-344">HTTP/2 varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-344">HTTP/2 is enabled by default.</span></span> <span data-ttu-id="7a755-345">HTTP/2 bağlantısı kurulmadıysa, bağlantı HTTP/1.1 'ye geri döner.</span><span class="sxs-lookup"><span data-stu-id="7a755-345">If an HTTP/2 connection isn't established, the connection falls back to HTTP/1.1.</span></span> <span data-ttu-id="7a755-346">Windows 'un gelecek bir sürümünde http/2 yapılandırma bayrakları http/2 ' yi HTTP. sys ile devre dışı bırakma özelliği de dahil olmak üzere kullanılabilir olacaktır.</span><span class="sxs-lookup"><span data-stu-id="7a755-346">In a future release of Windows, HTTP/2 configuration flags will be available, including the ability to disable HTTP/2 with HTTP.sys.</span></span>

## <a name="kernel-mode-authentication-with-kerberos"></a><span data-ttu-id="7a755-347">Kerberos ile çekirdek modu kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-347">Kernel mode authentication with Kerberos</span></span>

<span data-ttu-id="7a755-348">HTTP. sys, Kerberos kimlik doğrulama protokolü ile çekirdek modu kimlik doğrulamasına temsilciler.</span><span class="sxs-lookup"><span data-stu-id="7a755-348">HTTP.sys delegates to kernel mode authentication with the Kerberos authentication protocol.</span></span> <span data-ttu-id="7a755-349">Kullanıcı modu kimlik doğrulaması, Kerberos ve HTTP. sys ile desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-349">User mode authentication isn't supported with Kerberos and HTTP.sys.</span></span> <span data-ttu-id="7a755-350">Makine hesabı, Active Directory alındığı ve kullanıcının kimliğini doğrulamak için istemci tarafından sunucuya iletilen Kerberos belirtecinin/biletinin şifresini çözmek için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-350">The machine account must be used to decrypt the Kerberos token/ticket that's obtained from Active Directory and forwarded by the client to the server to authenticate the user.</span></span> <span data-ttu-id="7a755-351">Uygulamanın kullanıcısına değil, ana bilgisayar için hizmet asıl adını (SPN) kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-351">Register the Service Principal Name (SPN) for the host, not the user of the app.</span></span>

## <a name="how-to-use-httpsys"></a><span data-ttu-id="7a755-352">HTTP. sys kullanma</span><span class="sxs-lookup"><span data-stu-id="7a755-352">How to use HTTP.sys</span></span>

### <a name="configure-the-aspnet-core-app-to-use-httpsys"></a><span data-ttu-id="7a755-353">ASP.NET Core uygulamasını HTTP. sys kullanacak şekilde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-353">Configure the ASP.NET Core app to use HTTP.sys</span></span>

<span data-ttu-id="7a755-354"><xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*>Ana bilgisayarı oluştururken, gerekli herhangi bir yöntemi belirterek uzantı yöntemini çağırın <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions> .</span><span class="sxs-lookup"><span data-stu-id="7a755-354">Call the <xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*> extension method when building the host, specifying any required <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions>.</span></span> <span data-ttu-id="7a755-355">Aşağıdaki örnek, seçeneklerini varsayılan değerlerine ayarlar:</span><span class="sxs-lookup"><span data-stu-id="7a755-355">The following example sets options to their default values:</span></span>

[!code-csharp[](httpsys/samples/3.x/SampleApp/Program.cs?name=snippet1&highlight=5-13)]

<span data-ttu-id="7a755-356">Ek HTTP. sys yapılandırması, [kayıt defteri ayarları](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows)aracılığıyla işlenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-356">Additional HTTP.sys configuration is handled through [registry settings](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows).</span></span>

<span data-ttu-id="7a755-357">**HTTP. sys seçenekleri**</span><span class="sxs-lookup"><span data-stu-id="7a755-357">**HTTP.sys options**</span></span>

| <span data-ttu-id="7a755-358">Özellik</span><span class="sxs-lookup"><span data-stu-id="7a755-358">Property</span></span> | <span data-ttu-id="7a755-359">Açıklama</span><span class="sxs-lookup"><span data-stu-id="7a755-359">Description</span></span> | <span data-ttu-id="7a755-360">Varsayılan</span><span class="sxs-lookup"><span data-stu-id="7a755-360">Default</span></span> |
| ---
<span data-ttu-id="7a755-361">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-361">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-362">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-362">'Blazor'</span></span>
- <span data-ttu-id="7a755-363">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-363">'Identity'</span></span>
- <span data-ttu-id="7a755-364">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-364">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-365">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-365">'Razor'</span></span>
- <span data-ttu-id="7a755-366">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-366">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-367">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-367">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-368">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-368">'Blazor'</span></span>
- <span data-ttu-id="7a755-369">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-369">'Identity'</span></span>
- <span data-ttu-id="7a755-370">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-370">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-371">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-371">'Razor'</span></span>
- <span data-ttu-id="7a755-372">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-372">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-373">---- | ---title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-373">---- | --- title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-374">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-374">'Blazor'</span></span>
- <span data-ttu-id="7a755-375">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-375">'Identity'</span></span>
- <span data-ttu-id="7a755-376">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-376">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-377">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-377">'Razor'</span></span>
- <span data-ttu-id="7a755-378">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-378">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-379">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-379">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-380">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-380">'Blazor'</span></span>
- <span data-ttu-id="7a755-381">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-381">'Identity'</span></span>
- <span data-ttu-id="7a755-382">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-382">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-383">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-383">'Razor'</span></span>
- <span data-ttu-id="7a755-384">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-384">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-385">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-385">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-386">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-386">'Blazor'</span></span>
- <span data-ttu-id="7a755-387">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-387">'Identity'</span></span>
- <span data-ttu-id="7a755-388">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-388">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-389">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-389">'Razor'</span></span>
- <span data-ttu-id="7a755-390">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-390">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-391">------ | :-----: | | [Allowsynchronousio](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Ve için zaman uyumlu giriş/çıkışa izin verilip verilmeyeceğini `HttpContext.Request.Body` denetleyin `HttpContext.Response.Body` .</span><span class="sxs-lookup"><span data-stu-id="7a755-391">------ | :-----: | | [AllowSynchronousIO](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Control whether synchronous input/output is allowed for the `HttpContext.Request.Body` and `HttpContext.Response.Body`.</span></span><span data-ttu-id="7a755-392"> | `false`| | [Authentication. AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Anonim isteklere izin verin.</span><span class="sxs-lookup"><span data-stu-id="7a755-392"> | `false` | | [Authentication.AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Allow anonymous requests.</span></span><span data-ttu-id="7a755-393"> | `true`| | [Kimlik doğrulaması. şemalar](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | İzin verilen kimlik doğrulama düzenlerini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-393"> | `true` | | [Authentication.Schemes](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | Specify the allowed authentication schemes.</span></span> <span data-ttu-id="7a755-394">Dinleyici elden atılırken önce herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-394">May be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-395">Değerler [authenticationdüzenlerinin numaralandırması](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes)tarafından sağlanır: `Basic` ,,, `Kerberos` `Negotiate` `None` , ve `NTLM` .</span><span class="sxs-lookup"><span data-stu-id="7a755-395">Values are provided by the [AuthenticationSchemes enum](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes): `Basic`, `Kerberos`, `Negotiate`, `None`, and `NTLM`.</span></span><span data-ttu-id="7a755-396"> | `None`| | [Enableresponsecaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Uygun üst bilgileri içeren yanıtlar için [çekirdek modu](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) önbelleğe almayı deneyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-396"> | `None` | | [EnableResponseCaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Attempt [kernel-mode](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) caching for responses with eligible headers.</span></span> <span data-ttu-id="7a755-397">Yanıt `Set-Cookie` , `Vary` veya `Pragma` üst bilgileri içermeyebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-397">The response may not include `Set-Cookie`, `Vary`, or `Pragma` headers.</span></span> <span data-ttu-id="7a755-398">`Cache-Control` `public` Bir ya da değeri ya da bir üst bilgi içermelidir `shared-max-age` `max-age` `Expires` .</span><span class="sxs-lookup"><span data-stu-id="7a755-398">It must include a `Cache-Control` header that's `public` and either a `shared-max-age` or `max-age` value, or an `Expires` header.</span></span><span data-ttu-id="7a755-399"> | `true`| | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | En fazla eşzamanlı kabul sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-399"> | `true` | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | The maximum number of concurrent accepts.</span></span> <span data-ttu-id="7a755-400">| 5 &times; [ortam. <br> ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | Kabul edilecek eşzamanlı bağlantı sayısı üst sınırı.</span><span class="sxs-lookup"><span data-stu-id="7a755-400">| 5 &times; [Environment.<br>ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | The maximum number of concurrent connections to accept.</span></span> <span data-ttu-id="7a755-401">`-1`Sonsuz için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-401">Use `-1` for infinite.</span></span> <span data-ttu-id="7a755-402">`null`Kayıt defterinin makine genelindeki ayarını kullanmak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-402">Use `null` to use the registry's machine-wide setting.</span></span> | `null`<br><span data-ttu-id="7a755-403">(makine genelinde</span><span class="sxs-lookup"><span data-stu-id="7a755-403">(machine-wide</span></span><br><span data-ttu-id="7a755-404">ayar) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | <a href="#maxrequestbodysize">MaxRequestBodySize</a> bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-404">setting) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | See the <a href="#maxrequestbodysize">MaxRequestBodySize</a> section.</span></span> <span data-ttu-id="7a755-405">| 30000000 bayt</span><span class="sxs-lookup"><span data-stu-id="7a755-405">| 30000000 bytes</span></span><br><span data-ttu-id="7a755-406">(~ 28,6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | Sıraya alınabilen en fazla istek sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-406">(~28.6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | The maximum number of requests that can be queued.</span></span> <span data-ttu-id="7a755-407">| 1000 | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | İstemci bağlantısının kesilmesinden kaynaklanan yanıt gövdesi yazmasının, özel durumlar oluşturması veya normal şekilde tamamlanması gerektiğini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-407">| 1000 | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | Indicate if response body writes that fail due to client disconnects should throw exceptions or complete normally.</span></span> | `false`<br><span data-ttu-id="7a755-408">(normal olarak) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager>Kayıt defterinde da YAPıLANDıRıLABILEN http. sys yapılandırmasını kullanıma sunun.</span><span class="sxs-lookup"><span data-stu-id="7a755-408">(complete normally) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | Expose the HTTP.sys <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager> configuration, which may also be configured in the registry.</span></span> <span data-ttu-id="7a755-409">Varsayılan değerler de dahil olmak üzere her bir ayar hakkında daha fazla bilgi edinmek için API bağlantılarını izleyin:</span><span class="sxs-lookup"><span data-stu-id="7a755-409">Follow the API links to learn more about each setting, including default values:</span></span><ul><li><span data-ttu-id="7a755-410">[TimeoutManager. DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): http sunucusu API 'sinin varlık gövdesini etkin tut bağlantısı üzerinde boşaltmasına izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-410">[TimeoutManager.DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): Time allowed for the HTTP Server API to drain the entity body on a Keep-Alive connection.</span></span></li><li><span data-ttu-id="7a755-411">[TimeoutManager. EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): istek varlığı gövdesinin gelmesi için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-411">[TimeoutManager.EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): Time allowed for the request entity body to arrive.</span></span></li><li><span data-ttu-id="7a755-412">[TimeoutManager. HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): http sunucusu API 'sinin istek üst bilgisini ayrıştırması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-412">[TimeoutManager.HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): Time allowed for the HTTP Server API to parse the request header.</span></span></li><li><span data-ttu-id="7a755-413">[TimeoutManager. IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): boştaki bir bağlantı için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-413">[TimeoutManager.IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): Time allowed for an idle connection.</span></span></li><li><span data-ttu-id="7a755-414">[TimeoutManager. MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): yanıt için en düşük gönderme hızı.</span><span class="sxs-lookup"><span data-stu-id="7a755-414">[TimeoutManager.MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): The minimum send rate for the response.</span></span></li><li><span data-ttu-id="7a755-415">[TimeoutManager. RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): isteğin, uygulamanın onu seçmeden önce istek kuyruğunda kalması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-415">[TimeoutManager.RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): Time allowed for the request to remain in the request queue before the app picks it up.</span></span></li></ul> <span data-ttu-id="7a755-416">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection>Http. sys ile kaydolmak için öğesini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-416">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | Specify the <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection> to register with HTTP.sys.</span></span> <span data-ttu-id="7a755-417">En yararlı olan [UrlPrefixCollection. Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), koleksiyona bir ön ek eklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-417">The most useful is [UrlPrefixCollection.Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), which is used to add a prefix to the collection.</span></span> <span data-ttu-id="7a755-418">Bunlar, dinleyici elden atılıyor öncesinde herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-418">These may be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-419">|  |</span><span class="sxs-lookup"><span data-stu-id="7a755-419">|  |</span></span>

<a name="maxrequestbodysize"></a>

<span data-ttu-id="7a755-420">**MaxRequestBodySize**</span><span class="sxs-lookup"><span data-stu-id="7a755-420">**MaxRequestBodySize**</span></span>

<span data-ttu-id="7a755-421">Herhangi bir istek gövdesinin bayt olarak izin verilen en büyük boyutu.</span><span class="sxs-lookup"><span data-stu-id="7a755-421">The maximum allowed size of any request body in bytes.</span></span> <span data-ttu-id="7a755-422">Olarak ayarlandığında `null` , en büyük istek gövdesi boyutu sınırsızdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-422">When set to `null`, the maximum request body size is unlimited.</span></span> <span data-ttu-id="7a755-423">Bu sınırın, her zaman sınırsız olan yükseltilmiş bağlantıları üzerinde hiçbir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-423">This limit has no effect on upgraded connections, which are always unlimited.</span></span>

<span data-ttu-id="7a755-424">Tek bir ASP.NET Core MVC uygulamasında sınırı geçersiz kılmak için önerilen yöntem, `IActionResult` <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> bir eylem yönteminde özniteliğini kullanmaktır:</span><span class="sxs-lookup"><span data-stu-id="7a755-424">The recommended method to override the limit in an ASP.NET Core MVC app for a single `IActionResult` is to use the <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> attribute on an action method:</span></span>

```csharp
[RequestSizeLimit(100000000)]
public IActionResult MyActionMethod()
```

<span data-ttu-id="7a755-425">Uygulama isteği okumayı başlattıktan sonra bir istek üzerindeki sınırı yapılandırmayı denerse bir özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-425">An exception is thrown if the app attempts to configure the limit on a request after the app has started reading the request.</span></span> <span data-ttu-id="7a755-426">Özelliğin `IsReadOnly` salt okuma durumunda olup olmadığını göstermek için bir özellik kullanılabilir `MaxRequestBodySize` , yani sınırı yapılandırmak için çok geç.</span><span class="sxs-lookup"><span data-stu-id="7a755-426">An `IsReadOnly` property can be used to indicate if the `MaxRequestBodySize` property is in a read-only state, meaning it's too late to configure the limit.</span></span>

<span data-ttu-id="7a755-427">Uygulamanın istek başına geçersiz kılması gerekiyorsa <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> , şunu kullanın <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature> :</span><span class="sxs-lookup"><span data-stu-id="7a755-427">If the app should override <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> per-request, use the <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature>:</span></span>

[!code-csharp[](httpsys/samples/3.x/SampleApp/Startup.cs?name=snippet1&highlight=6-7)]

<span data-ttu-id="7a755-428">Visual Studio kullanıyorsanız, uygulamanın IIS veya IIS Express çalıştıracak şekilde yapılandırılmadığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="7a755-428">If using Visual Studio, make sure the app isn't configured to run IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-429">Visual Studio 'da varsayılan başlatma profili IIS Express içindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-429">In Visual Studio, the default launch profile is for IIS Express.</span></span> <span data-ttu-id="7a755-430">Projeyi konsol uygulaması olarak çalıştırmak için, aşağıdaki ekran görüntüsünde gösterildiği gibi seçili profili el ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="7a755-430">To run the project as a console app, manually change the selected profile, as shown in the following screen shot:</span></span>

![Konsol uygulaması profilini seçin](httpsys/_static/vs-choose-profile.png)

### <a name="configure-windows-server"></a><span data-ttu-id="7a755-432">Windows Server 'ı yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-432">Configure Windows Server</span></span>

1. <span data-ttu-id="7a755-433">Uygulamanın açmak için bağlantı noktalarını belirleme ve [Windows Güvenlik Duvarı](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) 'Nı veya [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell CMDLET 'ini kullanarak trafiğin http. sys ' ye ulaşmasını sağlamak için güvenlik duvarı bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-433">Determine the ports to open for the app and use [Windows Firewall](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) or the [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell cmdlet to open firewall ports to allow traffic to reach HTTP.sys.</span></span> <span data-ttu-id="7a755-434">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-434">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-435">Bir Azure sanal makinesine dağıtım yaparken, [ağ güvenlik grubundaki](/azure/virtual-machines/windows/nsg-quickstart-portal)bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-435">When deploying to an Azure VM, open the ports in the [Network Security Group](/azure/virtual-machines/windows/nsg-quickstart-portal).</span></span> <span data-ttu-id="7a755-436">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-436">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-437">Gerekirse, X. 509.440 sertifikalarını edinin ve yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-437">Obtain and install X.509 certificates, if required.</span></span>

   <span data-ttu-id="7a755-438">Windows 'da, [New-SelfSignedCertificate PowerShell cmdlet 'ini](/powershell/module/pkiclient/new-selfsignedcertificate)kullanarak otomatik olarak imzalanan sertifikalar oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7a755-438">On Windows, create self-signed certificates using the [New-SelfSignedCertificate PowerShell cmdlet](/powershell/module/pkiclient/new-selfsignedcertificate).</span></span> <span data-ttu-id="7a755-439">Desteklenmeyen bir örnek için bkz [. UpdateIISExpressSSLForChrome. ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span><span class="sxs-lookup"><span data-stu-id="7a755-439">For an unsupported example, see [UpdateIISExpressSSLForChrome.ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span></span>

   <span data-ttu-id="7a755-440">Sunucunun **yerel makine** > **Kişisel** deposunda otomatik olarak imzalanan veya CA imzalı sertifikalar yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-440">Install either self-signed or CA-signed certificates in the server's **Local Machine** > **Personal** store.</span></span>

1. <span data-ttu-id="7a755-441">Uygulama [çerçeveye bağımlı bir dağıtım](/dotnet/core/deploying/#framework-dependent-deployments-fdd)ise, .net core, .NET Framework veya her ikisini de (uygulama .NET Framework hedefleyen bir .NET Core uygulaması ise) yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-441">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd), install .NET Core, .NET Framework, or both (if the app is a .NET Core app targeting the .NET Framework).</span></span>

   * <span data-ttu-id="7a755-442">**.NET Core**: uygulama .NET Core gerektiriyorsa .NET Core [Indirmelerinde](https://dotnet.microsoft.com/download) **.NET Core çalışma zamanı** yükleyicisini edinip çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-442">**.NET Core**: If the app requires .NET Core, obtain and run the **.NET Core Runtime** installer from [.NET Core Downloads](https://dotnet.microsoft.com/download).</span></span> <span data-ttu-id="7a755-443">Tam SDK 'Yı sunucuya yüklemeyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-443">Don't install the full SDK on the server.</span></span>
   * <span data-ttu-id="7a755-444">**.NET Framework**: uygulama .NET Framework gerektiriyorsa [.NET Framework yükleme kılavuzuna](/dotnet/framework/install/)bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-444">**.NET Framework**: If the app requires .NET Framework, see the [.NET Framework installation guide](/dotnet/framework/install/).</span></span> <span data-ttu-id="7a755-445">Gerekli .NET Framework yüklemesi.</span><span class="sxs-lookup"><span data-stu-id="7a755-445">Install the required .NET Framework.</span></span> <span data-ttu-id="7a755-446">En son .NET Framework yükleyicisi [.NET Core İndirmeleri](https://dotnet.microsoft.com/download) sayfasından edinilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-446">The installer for the latest .NET Framework is available from the [.NET Core Downloads](https://dotnet.microsoft.com/download) page.</span></span>

   <span data-ttu-id="7a755-447">Uygulama, [kendi içinde bir dağıtım](/dotnet/core/deploying/#self-contained-deployments-scd)ise, uygulama çalışma zamanını dağıtımda içerir.</span><span class="sxs-lookup"><span data-stu-id="7a755-447">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd), the app includes the runtime in its deployment.</span></span> <span data-ttu-id="7a755-448">Sunucuda çerçeve yüklemesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-448">No framework installation is required on the server.</span></span>

1. <span data-ttu-id="7a755-449">Uygulamada URL 'Leri ve bağlantı noktalarını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-449">Configure URLs and ports in the app.</span></span>

   <span data-ttu-id="7a755-450">Varsayılan olarak, ASP.NET Core öğesine bağlanır `http://localhost:5000` .</span><span class="sxs-lookup"><span data-stu-id="7a755-450">By default, ASP.NET Core binds to `http://localhost:5000`.</span></span> <span data-ttu-id="7a755-451">URL öneklerini ve bağlantı noktalarını yapılandırmak için seçenekler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="7a755-451">To configure URL prefixes and ports, options include:</span></span>

   * <xref:Microsoft.AspNetCore.Hosting.HostingAbstractionsWebHostBuilderExtensions.UseUrls*>
   * <span data-ttu-id="7a755-452">`urls`komut satırı bağımsız değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-452">`urls` command-line argument</span></span>
   * <span data-ttu-id="7a755-453">`ASPNETCORE_URLS`ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-453">`ASPNETCORE_URLS` environment variable</span></span>
   * <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes>

   <span data-ttu-id="7a755-454">Aşağıdaki kod örneği, <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> `10.0.0.4` 443 numaralı bağlantı noktasında sunucunun yerel IP adresi ile nasıl kullanılacağını göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="7a755-454">The following code example shows how to use <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> with the server's local IP address `10.0.0.4` on port 443:</span></span>

   [!code-csharp[](httpsys/samples_snapshot/3.x/Program.cs?highlight=7)]

   <span data-ttu-id="7a755-455">Avantajı `UrlPrefixes` , hatalı biçimli ön ekler için hemen bir hata iletisi oluşturulmasından oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-455">An advantage of `UrlPrefixes` is that an error message is generated immediately for improperly formatted prefixes.</span></span>

   <span data-ttu-id="7a755-456">Ayarları `UrlPrefixes` geçersiz kıl `UseUrls` / `urls` / `ASPNETCORE_URLS` .</span><span class="sxs-lookup"><span data-stu-id="7a755-456">The settings in `UrlPrefixes` override `UseUrls`/`urls`/`ASPNETCORE_URLS` settings.</span></span> <span data-ttu-id="7a755-457">Bu nedenle, `UseUrls` `urls` ve `ASPNETCORE_URLS` ortam değişkeninin AVANTAJı Kestrel ve http. sys arasında geçiş yapmak daha kolay olabilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-457">Therefore, an advantage of `UseUrls`, `urls`, and the `ASPNETCORE_URLS` environment variable is that it's easier to switch between Kestrel and HTTP.sys.</span></span>

   <span data-ttu-id="7a755-458">HTTP. sys, [http sunucusu API UrlPrefix dize biçimlerini](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)kullanır.</span><span class="sxs-lookup"><span data-stu-id="7a755-458">HTTP.sys uses the [HTTP Server API UrlPrefix string formats](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx).</span></span>

   > [!WARNING]
   > <span data-ttu-id="7a755-459">Üst düzey joker karakter bağlamaları ( `http://*:80/` ve `http://+:80` ) kullanılmamalıdır **not** .</span><span class="sxs-lookup"><span data-stu-id="7a755-459">Top-level wildcard bindings (`http://*:80/` and `http://+:80`) should **not** be used.</span></span> <span data-ttu-id="7a755-460">Üst düzey joker karakter bağlamaları uygulama güvenliği güvenlik açıklarını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7a755-460">Top-level wildcard bindings create app security vulnerabilities.</span></span> <span data-ttu-id="7a755-461">Bu hem güçlü hem de zayıf Joker karakterlere yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="7a755-461">This applies to both strong and weak wildcards.</span></span> <span data-ttu-id="7a755-462">Joker karakterler yerine açık konak adlarını veya IP adreslerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-462">Use explicit host names or IP addresses rather than wildcards.</span></span> <span data-ttu-id="7a755-463">Alt etki alanı joker bağlantısı (örneğin, `*.mysub.com` ), tüm üst etki alanını ( `*.com` Bu güvenlik açığı olan aksine) kontrol ediyorsanız bir güvenlik riski değildir.</span><span class="sxs-lookup"><span data-stu-id="7a755-463">Subdomain wildcard binding (for example, `*.mysub.com`) isn't a security risk if you control the entire parent domain (as opposed to `*.com`, which is vulnerable).</span></span> <span data-ttu-id="7a755-464">Daha fazla bilgi için bkz. [RFC 7230: bölüm 5,4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span><span class="sxs-lookup"><span data-stu-id="7a755-464">For more information, see [RFC 7230: Section 5.4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span></span>

1. <span data-ttu-id="7a755-465">Ön ek, sunucudaki URL öneklerini ister.</span><span class="sxs-lookup"><span data-stu-id="7a755-465">Preregister URL prefixes on the server.</span></span>

   <span data-ttu-id="7a755-466">HTTP. sys ' yi yapılandırmaya yönelik yerleşik araç *netsh. exe*' dir.</span><span class="sxs-lookup"><span data-stu-id="7a755-466">The built-in tool for configuring HTTP.sys is *netsh.exe*.</span></span> <span data-ttu-id="7a755-467">*netsh. exe* , URL öneklerini ayırmak ve X. 509.440 sertifikaları atamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-467">*netsh.exe* is used to reserve URL prefixes and assign X.509 certificates.</span></span> <span data-ttu-id="7a755-468">Araç, yönetici ayrıcalıkları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-468">The tool requires administrator privileges.</span></span>

   <span data-ttu-id="7a755-469">Uygulamanın URL 'Lerini kaydettirmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-469">Use the *netsh.exe* tool to register URLs for the app:</span></span>

   ```console
   netsh http add urlacl url=<URL> user=<USER>
   ```

   * <span data-ttu-id="7a755-470">`<URL>`: Tam nitelikli Tekdüzen Kaynak Bulucu (URL).</span><span class="sxs-lookup"><span data-stu-id="7a755-470">`<URL>`: The fully qualified Uniform Resource Locator (URL).</span></span> <span data-ttu-id="7a755-471">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-471">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-472">Geçerli bir ana bilgisayar adı veya yerel IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-472">Use a valid hostname or local IP address.</span></span> <span data-ttu-id="7a755-473">*URL, sondaki eğik çizgi içermelidir.*</span><span class="sxs-lookup"><span data-stu-id="7a755-473">*The URL must include a trailing slash.*</span></span>
   * <span data-ttu-id="7a755-474">`<USER>`: Kullanıcı veya Kullanıcı grubu adını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-474">`<USER>`: Specifies the user or user-group name.</span></span>

   <span data-ttu-id="7a755-475">Aşağıdaki örnekte sunucusunun yerel IP adresi `10.0.0.4` :</span><span class="sxs-lookup"><span data-stu-id="7a755-475">In the following example, the local IP address of the server is `10.0.0.4`:</span></span>

   ```console
   netsh http add urlacl url=https://10.0.0.4:443/ user=Users
   ```

   <span data-ttu-id="7a755-476">Bir URL kaydedildiğinde, araç ile yanıt verir `URL reservation successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-476">When a URL is registered, the tool responds with `URL reservation successfully added`.</span></span>

   <span data-ttu-id="7a755-477">Kayıtlı bir URL 'yi silmek için şu `delete urlacl` komutu kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-477">To delete a registered URL, use the `delete urlacl` command:</span></span>

   ```console
   netsh http delete urlacl url=<URL>
   ```

1. <span data-ttu-id="7a755-478">X. 509.440 sertifikalarını sunucusuna kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-478">Register X.509 certificates on the server.</span></span>

   <span data-ttu-id="7a755-479">Uygulamanın sertifikalarını kaydetmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-479">Use the *netsh.exe* tool to register certificates for the app:</span></span>

   ```console
   netsh http add sslcert ipport=<IP>:<PORT> certhash=<THUMBPRINT> appid="{<GUID>}"
   ```

   * <span data-ttu-id="7a755-480">`<IP>`: Bağlama için yerel IP adresini belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-480">`<IP>`: Specifies the local IP address for the binding.</span></span> <span data-ttu-id="7a755-481">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-481">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-482">Geçerli bir IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-482">Use a valid IP address.</span></span>
   * <span data-ttu-id="7a755-483">`<PORT>`: Bağlama için bağlantı noktasını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-483">`<PORT>`: Specifies the port for the binding.</span></span>
   * <span data-ttu-id="7a755-484">`<THUMBPRINT>`: X. 509.440 sertifika parmak izi.</span><span class="sxs-lookup"><span data-stu-id="7a755-484">`<THUMBPRINT>`: The X.509 certificate thumbprint.</span></span>
   * <span data-ttu-id="7a755-485">`<GUID>`: Uygulamayı bilgilendirme amacıyla temsil eden geliştirici tarafından oluşturulan bir GUID.</span><span class="sxs-lookup"><span data-stu-id="7a755-485">`<GUID>`: A developer-generated GUID to represent the app for informational purposes.</span></span>

   <span data-ttu-id="7a755-486">Başvuru amacıyla, GUID 'yi uygulamada bir paket etiketi olarak depolayın:</span><span class="sxs-lookup"><span data-stu-id="7a755-486">For reference purposes, store the GUID in the app as a package tag:</span></span>

   * <span data-ttu-id="7a755-487">Visual Studio 'da:</span><span class="sxs-lookup"><span data-stu-id="7a755-487">In Visual Studio:</span></span>
     * <span data-ttu-id="7a755-488">**Çözüm Gezgini** ' de uygulamaya sağ tıklayıp **Özellikler**' i seçerek uygulamanın proje özelliklerini açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-488">Open the app's project properties by right-clicking on the app in **Solution Explorer** and selecting **Properties**.</span></span>
     * <span data-ttu-id="7a755-489">**Paket** sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="7a755-489">Select the **Package** tab.</span></span>
     * <span data-ttu-id="7a755-490">**Etiketler** alanında oluşturduğunuz GUID 'yi girin.</span><span class="sxs-lookup"><span data-stu-id="7a755-490">Enter the GUID that you created in the **Tags** field.</span></span>
   * <span data-ttu-id="7a755-491">Visual Studio kullanmadığınız durumlarda:</span><span class="sxs-lookup"><span data-stu-id="7a755-491">When not using Visual Studio:</span></span>
     * <span data-ttu-id="7a755-492">Uygulamanın proje dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-492">Open the app's project file.</span></span>
     * <span data-ttu-id="7a755-493">`<PackageTags>`Oluşturduğunuz GUID ile yeni veya var olan bir özelliği ekleyin `<PropertyGroup>` :</span><span class="sxs-lookup"><span data-stu-id="7a755-493">Add a `<PackageTags>` property to a new or existing `<PropertyGroup>` with the GUID that you created:</span></span>

       ```xml
       <PropertyGroup>
         <PackageTags>9412ee86-c21b-4eb8-bd89-f650fbf44931</PackageTags>
       </PropertyGroup>
       ```

   <span data-ttu-id="7a755-494">Aşağıdaki örnekte:</span><span class="sxs-lookup"><span data-stu-id="7a755-494">In the following example:</span></span>

   * <span data-ttu-id="7a755-495">Sunucunun yerel IP adresi `10.0.0.4` .</span><span class="sxs-lookup"><span data-stu-id="7a755-495">The local IP address of the server is `10.0.0.4`.</span></span>
   * <span data-ttu-id="7a755-496">Bir çevrimiçi rastgele GUID Oluşturucu değeri sağlar `appid` .</span><span class="sxs-lookup"><span data-stu-id="7a755-496">An online random GUID generator provides the `appid` value.</span></span>

   ```console
   netsh http add sslcert 
       ipport=10.0.0.4:443 
       certhash=b66ee04419d4ee37464ab8785ff02449980eae10 
       appid="{9412ee86-c21b-4eb8-bd89-f650fbf44931}"
   ```

   <span data-ttu-id="7a755-497">Bir sertifika kaydedildiğinde, araç ile yanıt verir `SSL Certificate successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-497">When a certificate is registered, the tool responds with `SSL Certificate successfully added`.</span></span>

   <span data-ttu-id="7a755-498">Bir sertifika kaydını silmek için şu komutu kullanın `delete sslcert` :</span><span class="sxs-lookup"><span data-stu-id="7a755-498">To delete a certificate registration, use the `delete sslcert` command:</span></span>

   ```console
   netsh http delete sslcert ipport=<IP>:<PORT>
   ```

   <span data-ttu-id="7a755-499">*Netsh. exe*için başvuru belgeleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-499">Reference documentation for *netsh.exe*:</span></span>

   * [<span data-ttu-id="7a755-500">Köprü Metni Aktarım Protokolü (HTTP) için Netsh komutları</span><span class="sxs-lookup"><span data-stu-id="7a755-500">Netsh Commands for Hypertext Transfer Protocol (HTTP)</span></span>](https://technet.microsoft.com/library/cc725882.aspx)
   * [<span data-ttu-id="7a755-501">UrlPrefix dizeleri</span><span class="sxs-lookup"><span data-stu-id="7a755-501">UrlPrefix Strings</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)

1. <span data-ttu-id="7a755-502">Uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-502">Run the app.</span></span>

   <span data-ttu-id="7a755-503">1024 'den büyük bir bağlantı noktası numarası ile HTTP (HTTPS değil) kullanarak localhost 'a bağlanırken uygulamayı çalıştırmak için yönetici ayrıcalıklarına gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-503">Administrator privileges aren't required to run the app when binding to localhost using HTTP (not HTTPS) with a port number greater than 1024.</span></span> <span data-ttu-id="7a755-504">Diğer yapılandırmalarda (örneğin, yerel bir IP adresi veya 443 numaralı bağlantı noktasına bağlama), uygulamayı yönetici ayrıcalıklarıyla çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-504">For other configurations (for example, using a local IP address or binding to port 443), run the app with administrator privileges.</span></span>

   <span data-ttu-id="7a755-505">Uygulama, sunucunun genel IP adresinde yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="7a755-505">The app responds at the server's public IP address.</span></span> <span data-ttu-id="7a755-506">Bu örnekte, sunucusuna, genel IP adresinde Internet 'ten ulaşılırsa `104.214.79.47` .</span><span class="sxs-lookup"><span data-stu-id="7a755-506">In this example, the server is reached from the Internet at its public IP address of `104.214.79.47`.</span></span>

   <span data-ttu-id="7a755-507">Bu örnekte bir geliştirme sertifikası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-507">A development certificate is used in this example.</span></span> <span data-ttu-id="7a755-508">Tarayıcının güvenilmeyen sertifika uyarısı atlandıktan sonra sayfa güvenli bir şekilde yüklenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-508">The page loads securely after bypassing the browser's untrusted certificate warning.</span></span>

   ![Uygulamanın dizin sayfasını yüklü olarak gösteren tarayıcı penceresi](httpsys/_static/browser.png)

## <a name="proxy-server-and-load-balancer-scenarios"></a><span data-ttu-id="7a755-510">Proxy sunucusu ve yük dengeleyici senaryoları</span><span class="sxs-lookup"><span data-stu-id="7a755-510">Proxy server and load balancer scenarios</span></span>

<span data-ttu-id="7a755-511">Internet veya şirket ağından gelen isteklerle etkileşime geçen HTTP. sys tarafından barındırılan uygulamalar için, proxy sunucularının ve yük dengeleyiciler 'nin arkasında barındırılırken ek yapılandırma gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-511">For apps hosted by HTTP.sys that interact with requests from the Internet or a corporate network, additional configuration might be required when hosting behind proxy servers and load balancers.</span></span> <span data-ttu-id="7a755-512">Daha fazla bilgi için bkz. [proxy sunucularıyla ve yük dengeleyicilerle çalışacak ASP.NET Core yapılandırma](xref:host-and-deploy/proxy-load-balancer).</span><span class="sxs-lookup"><span data-stu-id="7a755-512">For more information, see [Configure ASP.NET Core to work with proxy servers and load balancers](xref:host-and-deploy/proxy-load-balancer).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7a755-513">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="7a755-513">Additional resources</span></span>

* [<span data-ttu-id="7a755-514">HTTP. sys ile Windows kimlik doğrulamasını etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="7a755-514">Enable Windows Authentication with HTTP.sys</span></span>](xref:security/authentication/windowsauth#httpsys)
* [<span data-ttu-id="7a755-515">HTTP Sunucusu API 'SI</span><span class="sxs-lookup"><span data-stu-id="7a755-515">HTTP Server API</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364510.aspx)
* [<span data-ttu-id="7a755-516">ASPNET/HttpSysServer GitHub deposu (kaynak kodu)</span><span class="sxs-lookup"><span data-stu-id="7a755-516">aspnet/HttpSysServer GitHub repository (source code)</span></span>](https://github.com/aspnet/HttpSysServer/)
* [<span data-ttu-id="7a755-517">Ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="7a755-517">The host</span></span>](xref:fundamentals/index#host)
* <xref:test/troubleshoot>

::: moniker-end

::: moniker range="= aspnetcore-2.2"

<span data-ttu-id="7a755-518">[Http. sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) , yalnızca Windows üzerinde çalışan [ASP.NET Core için bir Web sunucusudur](xref:fundamentals/servers/index) .</span><span class="sxs-lookup"><span data-stu-id="7a755-518">[HTTP.sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) is a [web server for ASP.NET Core](xref:fundamentals/servers/index) that only runs on Windows.</span></span> <span data-ttu-id="7a755-519">HTTP. sys, [Kestrel](xref:fundamentals/servers/kestrel) Server için bir alternatiftir ve Kestrel tarafından sağlamayan bazı özellikler sunar.</span><span class="sxs-lookup"><span data-stu-id="7a755-519">HTTP.sys is an alternative to [Kestrel](xref:fundamentals/servers/kestrel) server and offers some features that Kestrel doesn't provide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7a755-520">HTTP. sys [ASP.NET Core modülüyle](xref:host-and-deploy/aspnet-core-module) uyumlu DEĞILDIR ve ııs veya IIS Express ile kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="7a755-520">HTTP.sys isn't compatible with the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) and can't be used with IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-521">HTTP. sys aşağıdaki özellikleri destekler:</span><span class="sxs-lookup"><span data-stu-id="7a755-521">HTTP.sys supports the following features:</span></span>

* [<span data-ttu-id="7a755-522">Windows Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-522">Windows Authentication</span></span>](xref:security/authentication/windowsauth)
* <span data-ttu-id="7a755-523">Bağlantı noktası Paylaşımı</span><span class="sxs-lookup"><span data-stu-id="7a755-523">Port sharing</span></span>
* <span data-ttu-id="7a755-524">SNı ile HTTPS</span><span class="sxs-lookup"><span data-stu-id="7a755-524">HTTPS with SNI</span></span>
* <span data-ttu-id="7a755-525">TLS üzerinden HTTP/2 (Windows 10 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-525">HTTP/2 over TLS (Windows 10 or later)</span></span>
* <span data-ttu-id="7a755-526">Doğrudan dosya iletimi</span><span class="sxs-lookup"><span data-stu-id="7a755-526">Direct file transmission</span></span>
* <span data-ttu-id="7a755-527">Yanıtları Önbelleğe Alma</span><span class="sxs-lookup"><span data-stu-id="7a755-527">Response caching</span></span>
* <span data-ttu-id="7a755-528">WebSockets (Windows 8 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-528">WebSockets (Windows 8 or later)</span></span>

<span data-ttu-id="7a755-529">Desteklenen Windows sürümleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-529">Supported Windows versions:</span></span>

* <span data-ttu-id="7a755-530">Windows 7 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-530">Windows 7 or later</span></span>
* <span data-ttu-id="7a755-531">Windows Server 2008 R2 veya sonraki sürümü</span><span class="sxs-lookup"><span data-stu-id="7a755-531">Windows Server 2008 R2 or later</span></span>

<span data-ttu-id="7a755-532">[Örnek kodu görüntüleme veya indirme](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([nasıl indirileceği](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="7a755-532">[View or download sample code](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="when-to-use-httpsys"></a><span data-ttu-id="7a755-533">HTTP. sys ne zaman kullanılır</span><span class="sxs-lookup"><span data-stu-id="7a755-533">When to use HTTP.sys</span></span>

<span data-ttu-id="7a755-534">HTTP. sys, şu durumlarda olduğu dağıtımlar için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="7a755-534">HTTP.sys is useful for deployments where:</span></span>

* <span data-ttu-id="7a755-535">Sunucuyu IIS kullanmadan doğrudan Internet 'e sunmaya gerek vardır.</span><span class="sxs-lookup"><span data-stu-id="7a755-535">There's a need to expose the server directly to the Internet without using IIS.</span></span>

  ![HTTP. sys doğrudan Internet ile iletişim kurar](httpsys/_static/httpsys-to-internet.png)

* <span data-ttu-id="7a755-537">İç dağıtım, [Windows kimlik doğrulaması](xref:security/authentication/windowsauth)gibi Kestrel 'de kullanılamayan bir özelliği gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-537">An internal deployment requires a feature not available in Kestrel, such as [Windows Authentication](xref:security/authentication/windowsauth).</span></span>

  ![HTTP. sys doğrudan iç ağla iletişim kurar](httpsys/_static/httpsys-to-internal.png)

<span data-ttu-id="7a755-539">HTTP. sys pek çok tür saldırılara karşı koruyan ve tam özellikli bir Web sunucusu için sağlamlık, güvenlik ve ölçeklenebilirlik sağlayan çok sayıda teknolojiden oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-539">HTTP.sys is mature technology that protects against many types of attacks and provides the robustness, security, and scalability of a full-featured web server.</span></span> <span data-ttu-id="7a755-540">IIS, HTTP. sys ' nin üstünde HTTP dinleyicisi olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="7a755-540">IIS itself runs as an HTTP listener on top of HTTP.sys.</span></span>

## <a name="http2-support"></a><span data-ttu-id="7a755-541">HTTP/2 desteği</span><span class="sxs-lookup"><span data-stu-id="7a755-541">HTTP/2 support</span></span>

<span data-ttu-id="7a755-542">Aşağıdaki temel gereksinimler karşılanıyorsa ASP.NET Core uygulamalar için [http/2](https://httpwg.org/specs/rfc7540.html) etkinleştirilir:</span><span class="sxs-lookup"><span data-stu-id="7a755-542">[HTTP/2](https://httpwg.org/specs/rfc7540.html) is enabled for ASP.NET Core apps if the following base requirements are met:</span></span>

* <span data-ttu-id="7a755-543">Windows Server 2016/Windows 10 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-543">Windows Server 2016/Windows 10 or later</span></span>
* <span data-ttu-id="7a755-544">[Uygulama katmanı protokol anlaşması (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) bağlantısı</span><span class="sxs-lookup"><span data-stu-id="7a755-544">[Application-Layer Protocol Negotiation (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) connection</span></span>
* <span data-ttu-id="7a755-545">TLS 1,2 veya üzeri bağlantı</span><span class="sxs-lookup"><span data-stu-id="7a755-545">TLS 1.2 or later connection</span></span>

<span data-ttu-id="7a755-546">Bir HTTP/2 bağlantısı kurulduysa, [HttpRequest. Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) Reports `HTTP/2` .</span><span class="sxs-lookup"><span data-stu-id="7a755-546">If an HTTP/2 connection is established, [HttpRequest.Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) reports `HTTP/2`.</span></span>

<span data-ttu-id="7a755-547">HTTP/2 varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-547">HTTP/2 is enabled by default.</span></span> <span data-ttu-id="7a755-548">HTTP/2 bağlantısı kurulmadıysa, bağlantı HTTP/1.1 'ye geri döner.</span><span class="sxs-lookup"><span data-stu-id="7a755-548">If an HTTP/2 connection isn't established, the connection falls back to HTTP/1.1.</span></span> <span data-ttu-id="7a755-549">Windows 'un gelecek bir sürümünde http/2 yapılandırma bayrakları http/2 ' yi HTTP. sys ile devre dışı bırakma özelliği de dahil olmak üzere kullanılabilir olacaktır.</span><span class="sxs-lookup"><span data-stu-id="7a755-549">In a future release of Windows, HTTP/2 configuration flags will be available, including the ability to disable HTTP/2 with HTTP.sys.</span></span>

## <a name="kernel-mode-authentication-with-kerberos"></a><span data-ttu-id="7a755-550">Kerberos ile çekirdek modu kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-550">Kernel mode authentication with Kerberos</span></span>

<span data-ttu-id="7a755-551">HTTP. sys, Kerberos kimlik doğrulama protokolü ile çekirdek modu kimlik doğrulamasına temsilciler.</span><span class="sxs-lookup"><span data-stu-id="7a755-551">HTTP.sys delegates to kernel mode authentication with the Kerberos authentication protocol.</span></span> <span data-ttu-id="7a755-552">Kullanıcı modu kimlik doğrulaması, Kerberos ve HTTP. sys ile desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-552">User mode authentication isn't supported with Kerberos and HTTP.sys.</span></span> <span data-ttu-id="7a755-553">Makine hesabı, Active Directory alındığı ve kullanıcının kimliğini doğrulamak için istemci tarafından sunucuya iletilen Kerberos belirtecinin/biletinin şifresini çözmek için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-553">The machine account must be used to decrypt the Kerberos token/ticket that's obtained from Active Directory and forwarded by the client to the server to authenticate the user.</span></span> <span data-ttu-id="7a755-554">Uygulamanın kullanıcısına değil, ana bilgisayar için hizmet asıl adını (SPN) kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-554">Register the Service Principal Name (SPN) for the host, not the user of the app.</span></span>

## <a name="how-to-use-httpsys"></a><span data-ttu-id="7a755-555">HTTP. sys kullanma</span><span class="sxs-lookup"><span data-stu-id="7a755-555">How to use HTTP.sys</span></span>

### <a name="configure-the-aspnet-core-app-to-use-httpsys"></a><span data-ttu-id="7a755-556">ASP.NET Core uygulamasını HTTP. sys kullanacak şekilde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-556">Configure the ASP.NET Core app to use HTTP.sys</span></span>

<span data-ttu-id="7a755-557">[Microsoft. AspNetCore. app metapackage](xref:fundamentals/metapackage-app) ([NuGet.org](https://www.nuget.org/packages/Microsoft.AspNetCore.App/)) kullanılırken proje dosyasındaki bir paket başvurusu gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="7a755-557">A package reference in the project file isn't required when using the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) ([nuget.org](https://www.nuget.org/packages/Microsoft.AspNetCore.App/)).</span></span> <span data-ttu-id="7a755-558">`Microsoft.AspNetCore.App`Metapackage 'i kullanmıyorsanız [Microsoft. Aspnetcore. Server. httpsys](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.HttpSys/)öğesine bir paket başvurusu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-558">When not using the `Microsoft.AspNetCore.App` metapackage, add a package reference to [Microsoft.AspNetCore.Server.HttpSys](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.HttpSys/).</span></span>

<span data-ttu-id="7a755-559"><xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*>Ana bilgisayarı oluştururken, gerekli herhangi bir yöntemi belirterek uzantı yöntemini çağırın <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions> .</span><span class="sxs-lookup"><span data-stu-id="7a755-559">Call the <xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*> extension method when building the host, specifying any required <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions>.</span></span> <span data-ttu-id="7a755-560">Aşağıdaki örnek, seçeneklerini varsayılan değerlerine ayarlar:</span><span class="sxs-lookup"><span data-stu-id="7a755-560">The following example sets options to their default values:</span></span>

[!code-csharp[](httpsys/samples/2.x/SampleApp/Program.cs?name=snippet1&highlight=4-12)]

<span data-ttu-id="7a755-561">Ek HTTP. sys yapılandırması, [kayıt defteri ayarları](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows)aracılığıyla işlenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-561">Additional HTTP.sys configuration is handled through [registry settings](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows).</span></span>

<span data-ttu-id="7a755-562">**HTTP. sys seçenekleri**</span><span class="sxs-lookup"><span data-stu-id="7a755-562">**HTTP.sys options**</span></span>

| <span data-ttu-id="7a755-563">Özellik</span><span class="sxs-lookup"><span data-stu-id="7a755-563">Property</span></span> | <span data-ttu-id="7a755-564">Açıklama</span><span class="sxs-lookup"><span data-stu-id="7a755-564">Description</span></span> | <span data-ttu-id="7a755-565">Varsayılan</span><span class="sxs-lookup"><span data-stu-id="7a755-565">Default</span></span> |
| ---
<span data-ttu-id="7a755-566">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-566">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-567">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-567">'Blazor'</span></span>
- <span data-ttu-id="7a755-568">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-568">'Identity'</span></span>
- <span data-ttu-id="7a755-569">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-569">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-570">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-570">'Razor'</span></span>
- <span data-ttu-id="7a755-571">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-571">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-572">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-572">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-573">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-573">'Blazor'</span></span>
- <span data-ttu-id="7a755-574">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-574">'Identity'</span></span>
- <span data-ttu-id="7a755-575">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-575">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-576">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-576">'Razor'</span></span>
- <span data-ttu-id="7a755-577">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-577">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-578">---- | ---title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-578">---- | --- title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-579">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-579">'Blazor'</span></span>
- <span data-ttu-id="7a755-580">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-580">'Identity'</span></span>
- <span data-ttu-id="7a755-581">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-581">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-582">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-582">'Razor'</span></span>
- <span data-ttu-id="7a755-583">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-583">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-584">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-584">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-585">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-585">'Blazor'</span></span>
- <span data-ttu-id="7a755-586">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-586">'Identity'</span></span>
- <span data-ttu-id="7a755-587">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-587">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-588">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-588">'Razor'</span></span>
- <span data-ttu-id="7a755-589">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-589">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-590">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-590">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-591">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-591">'Blazor'</span></span>
- <span data-ttu-id="7a755-592">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-592">'Identity'</span></span>
- <span data-ttu-id="7a755-593">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-593">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-594">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-594">'Razor'</span></span>
- <span data-ttu-id="7a755-595">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-595">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-596">------ | :-----: | | [Allowsynchronousio](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Ve için zaman uyumlu giriş/çıkışa izin verilip verilmeyeceğini `HttpContext.Request.Body` denetleyin `HttpContext.Response.Body` .</span><span class="sxs-lookup"><span data-stu-id="7a755-596">------ | :-----: | | [AllowSynchronousIO](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Control whether synchronous input/output is allowed for the `HttpContext.Request.Body` and `HttpContext.Response.Body`.</span></span><span data-ttu-id="7a755-597"> | `true`| | [Authentication. AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Anonim isteklere izin verin.</span><span class="sxs-lookup"><span data-stu-id="7a755-597"> | `true` | | [Authentication.AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Allow anonymous requests.</span></span><span data-ttu-id="7a755-598"> | `true`| | [Kimlik doğrulaması. şemalar](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | İzin verilen kimlik doğrulama düzenlerini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-598"> | `true` | | [Authentication.Schemes](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | Specify the allowed authentication schemes.</span></span> <span data-ttu-id="7a755-599">Dinleyici elden atılırken önce herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-599">May be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-600">Değerler [authenticationdüzenlerinin numaralandırması](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes)tarafından sağlanır: `Basic` ,,, `Kerberos` `Negotiate` `None` , ve `NTLM` .</span><span class="sxs-lookup"><span data-stu-id="7a755-600">Values are provided by the [AuthenticationSchemes enum](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes): `Basic`, `Kerberos`, `Negotiate`, `None`, and `NTLM`.</span></span><span data-ttu-id="7a755-601"> | `None`| | [Enableresponsecaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Uygun üst bilgileri içeren yanıtlar için [çekirdek modu](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) önbelleğe almayı deneyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-601"> | `None` | | [EnableResponseCaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Attempt [kernel-mode](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) caching for responses with eligible headers.</span></span> <span data-ttu-id="7a755-602">Yanıt `Set-Cookie` , `Vary` veya `Pragma` üst bilgileri içermeyebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-602">The response may not include `Set-Cookie`, `Vary`, or `Pragma` headers.</span></span> <span data-ttu-id="7a755-603">`Cache-Control` `public` Bir ya da değeri ya da bir üst bilgi içermelidir `shared-max-age` `max-age` `Expires` .</span><span class="sxs-lookup"><span data-stu-id="7a755-603">It must include a `Cache-Control` header that's `public` and either a `shared-max-age` or `max-age` value, or an `Expires` header.</span></span><span data-ttu-id="7a755-604"> | `true`| | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | En fazla eşzamanlı kabul sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-604"> | `true` | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | The maximum number of concurrent accepts.</span></span> <span data-ttu-id="7a755-605">| 5 &times; [ortam. <br> ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | Kabul edilecek eşzamanlı bağlantı sayısı üst sınırı.</span><span class="sxs-lookup"><span data-stu-id="7a755-605">| 5 &times; [Environment.<br>ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | The maximum number of concurrent connections to accept.</span></span> <span data-ttu-id="7a755-606">`-1`Sonsuz için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-606">Use `-1` for infinite.</span></span> <span data-ttu-id="7a755-607">`null`Kayıt defterinin makine genelindeki ayarını kullanmak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-607">Use `null` to use the registry's machine-wide setting.</span></span> | `null`<br><span data-ttu-id="7a755-608">(makine genelinde</span><span class="sxs-lookup"><span data-stu-id="7a755-608">(machine-wide</span></span><br><span data-ttu-id="7a755-609">ayar) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | <a href="#maxrequestbodysize">MaxRequestBodySize</a> bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-609">setting) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | See the <a href="#maxrequestbodysize">MaxRequestBodySize</a> section.</span></span> <span data-ttu-id="7a755-610">| 30000000 bayt</span><span class="sxs-lookup"><span data-stu-id="7a755-610">| 30000000 bytes</span></span><br><span data-ttu-id="7a755-611">(~ 28,6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | Sıraya alınabilen en fazla istek sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-611">(~28.6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | The maximum number of requests that can be queued.</span></span> <span data-ttu-id="7a755-612">| 1000 | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | İstemci bağlantısının kesilmesinden kaynaklanan yanıt gövdesi yazmasının, özel durumlar oluşturması veya normal şekilde tamamlanması gerektiğini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-612">| 1000 | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | Indicate if response body writes that fail due to client disconnects should throw exceptions or complete normally.</span></span> | `false`<br><span data-ttu-id="7a755-613">(normal olarak) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager>Kayıt defterinde da YAPıLANDıRıLABILEN http. sys yapılandırmasını kullanıma sunun.</span><span class="sxs-lookup"><span data-stu-id="7a755-613">(complete normally) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | Expose the HTTP.sys <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager> configuration, which may also be configured in the registry.</span></span> <span data-ttu-id="7a755-614">Varsayılan değerler de dahil olmak üzere her bir ayar hakkında daha fazla bilgi edinmek için API bağlantılarını izleyin:</span><span class="sxs-lookup"><span data-stu-id="7a755-614">Follow the API links to learn more about each setting, including default values:</span></span><ul><li><span data-ttu-id="7a755-615">[TimeoutManager. DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): http sunucusu API 'sinin varlık gövdesini etkin tut bağlantısı üzerinde boşaltmasına izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-615">[TimeoutManager.DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): Time allowed for the HTTP Server API to drain the entity body on a Keep-Alive connection.</span></span></li><li><span data-ttu-id="7a755-616">[TimeoutManager. EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): istek varlığı gövdesinin gelmesi için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-616">[TimeoutManager.EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): Time allowed for the request entity body to arrive.</span></span></li><li><span data-ttu-id="7a755-617">[TimeoutManager. HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): http sunucusu API 'sinin istek üst bilgisini ayrıştırması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-617">[TimeoutManager.HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): Time allowed for the HTTP Server API to parse the request header.</span></span></li><li><span data-ttu-id="7a755-618">[TimeoutManager. IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): boştaki bir bağlantı için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-618">[TimeoutManager.IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): Time allowed for an idle connection.</span></span></li><li><span data-ttu-id="7a755-619">[TimeoutManager. MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): yanıt için en düşük gönderme hızı.</span><span class="sxs-lookup"><span data-stu-id="7a755-619">[TimeoutManager.MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): The minimum send rate for the response.</span></span></li><li><span data-ttu-id="7a755-620">[TimeoutManager. RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): isteğin, uygulamanın onu seçmeden önce istek kuyruğunda kalması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-620">[TimeoutManager.RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): Time allowed for the request to remain in the request queue before the app picks it up.</span></span></li></ul> <span data-ttu-id="7a755-621">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection>Http. sys ile kaydolmak için öğesini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-621">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | Specify the <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection> to register with HTTP.sys.</span></span> <span data-ttu-id="7a755-622">En yararlı olan [UrlPrefixCollection. Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), koleksiyona bir ön ek eklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-622">The most useful is [UrlPrefixCollection.Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), which is used to add a prefix to the collection.</span></span> <span data-ttu-id="7a755-623">Bunlar, dinleyici elden atılıyor öncesinde herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-623">These may be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-624">|  |</span><span class="sxs-lookup"><span data-stu-id="7a755-624">|  |</span></span>

<a name="maxrequestbodysize"></a>

<span data-ttu-id="7a755-625">**MaxRequestBodySize**</span><span class="sxs-lookup"><span data-stu-id="7a755-625">**MaxRequestBodySize**</span></span>

<span data-ttu-id="7a755-626">Herhangi bir istek gövdesinin bayt olarak izin verilen en büyük boyutu.</span><span class="sxs-lookup"><span data-stu-id="7a755-626">The maximum allowed size of any request body in bytes.</span></span> <span data-ttu-id="7a755-627">Olarak ayarlandığında `null` , en büyük istek gövdesi boyutu sınırsızdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-627">When set to `null`, the maximum request body size is unlimited.</span></span> <span data-ttu-id="7a755-628">Bu sınırın, her zaman sınırsız olan yükseltilmiş bağlantıları üzerinde hiçbir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-628">This limit has no effect on upgraded connections, which are always unlimited.</span></span>

<span data-ttu-id="7a755-629">Tek bir ASP.NET Core MVC uygulamasında sınırı geçersiz kılmak için önerilen yöntem, `IActionResult` <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> bir eylem yönteminde özniteliğini kullanmaktır:</span><span class="sxs-lookup"><span data-stu-id="7a755-629">The recommended method to override the limit in an ASP.NET Core MVC app for a single `IActionResult` is to use the <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> attribute on an action method:</span></span>

```csharp
[RequestSizeLimit(100000000)]
public IActionResult MyActionMethod()
```

<span data-ttu-id="7a755-630">Uygulama isteği okumayı başlattıktan sonra bir istek üzerindeki sınırı yapılandırmayı denerse bir özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-630">An exception is thrown if the app attempts to configure the limit on a request after the app has started reading the request.</span></span> <span data-ttu-id="7a755-631">Özelliğin `IsReadOnly` salt okuma durumunda olup olmadığını göstermek için bir özellik kullanılabilir `MaxRequestBodySize` , yani sınırı yapılandırmak için çok geç.</span><span class="sxs-lookup"><span data-stu-id="7a755-631">An `IsReadOnly` property can be used to indicate if the `MaxRequestBodySize` property is in a read-only state, meaning it's too late to configure the limit.</span></span>

<span data-ttu-id="7a755-632">Uygulamanın istek başına geçersiz kılması gerekiyorsa <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> , şunu kullanın <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature> :</span><span class="sxs-lookup"><span data-stu-id="7a755-632">If the app should override <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> per-request, use the <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature>:</span></span>

[!code-csharp[](httpsys/samples/2.x/SampleApp/Startup.cs?name=snippet1&highlight=6-7)]

<span data-ttu-id="7a755-633">Visual Studio kullanıyorsanız, uygulamanın IIS veya IIS Express çalıştıracak şekilde yapılandırılmadığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="7a755-633">If using Visual Studio, make sure the app isn't configured to run IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-634">Visual Studio 'da varsayılan başlatma profili IIS Express içindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-634">In Visual Studio, the default launch profile is for IIS Express.</span></span> <span data-ttu-id="7a755-635">Projeyi konsol uygulaması olarak çalıştırmak için, aşağıdaki ekran görüntüsünde gösterildiği gibi seçili profili el ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="7a755-635">To run the project as a console app, manually change the selected profile, as shown in the following screen shot:</span></span>

![Konsol uygulaması profilini seçin](httpsys/_static/vs-choose-profile.png)

### <a name="configure-windows-server"></a><span data-ttu-id="7a755-637">Windows Server 'ı yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-637">Configure Windows Server</span></span>

1. <span data-ttu-id="7a755-638">Uygulamanın açmak için bağlantı noktalarını belirleme ve [Windows Güvenlik Duvarı](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) 'Nı veya [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell CMDLET 'ini kullanarak trafiğin http. sys ' ye ulaşmasını sağlamak için güvenlik duvarı bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-638">Determine the ports to open for the app and use [Windows Firewall](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) or the [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell cmdlet to open firewall ports to allow traffic to reach HTTP.sys.</span></span> <span data-ttu-id="7a755-639">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-639">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-640">Bir Azure sanal makinesine dağıtım yaparken, [ağ güvenlik grubundaki](/azure/virtual-machines/windows/nsg-quickstart-portal)bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-640">When deploying to an Azure VM, open the ports in the [Network Security Group](/azure/virtual-machines/windows/nsg-quickstart-portal).</span></span> <span data-ttu-id="7a755-641">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-641">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-642">Gerekirse, X. 509.440 sertifikalarını edinin ve yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-642">Obtain and install X.509 certificates, if required.</span></span>

   <span data-ttu-id="7a755-643">Windows 'da, [New-SelfSignedCertificate PowerShell cmdlet 'ini](/powershell/module/pkiclient/new-selfsignedcertificate)kullanarak otomatik olarak imzalanan sertifikalar oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7a755-643">On Windows, create self-signed certificates using the [New-SelfSignedCertificate PowerShell cmdlet](/powershell/module/pkiclient/new-selfsignedcertificate).</span></span> <span data-ttu-id="7a755-644">Desteklenmeyen bir örnek için bkz [. UpdateIISExpressSSLForChrome. ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span><span class="sxs-lookup"><span data-stu-id="7a755-644">For an unsupported example, see [UpdateIISExpressSSLForChrome.ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span></span>

   <span data-ttu-id="7a755-645">Sunucunun **yerel makine** > **Kişisel** deposunda otomatik olarak imzalanan veya CA imzalı sertifikalar yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-645">Install either self-signed or CA-signed certificates in the server's **Local Machine** > **Personal** store.</span></span>

1. <span data-ttu-id="7a755-646">Uygulama [çerçeveye bağımlı bir dağıtım](/dotnet/core/deploying/#framework-dependent-deployments-fdd)ise, .net core, .NET Framework veya her ikisini de (uygulama .NET Framework hedefleyen bir .NET Core uygulaması ise) yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-646">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd), install .NET Core, .NET Framework, or both (if the app is a .NET Core app targeting the .NET Framework).</span></span>

   * <span data-ttu-id="7a755-647">**.NET Core**: uygulama .NET Core gerektiriyorsa .NET Core [Indirmelerinde](https://dotnet.microsoft.com/download) **.NET Core çalışma zamanı** yükleyicisini edinip çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-647">**.NET Core**: If the app requires .NET Core, obtain and run the **.NET Core Runtime** installer from [.NET Core Downloads](https://dotnet.microsoft.com/download).</span></span> <span data-ttu-id="7a755-648">Tam SDK 'Yı sunucuya yüklemeyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-648">Don't install the full SDK on the server.</span></span>
   * <span data-ttu-id="7a755-649">**.NET Framework**: uygulama .NET Framework gerektiriyorsa [.NET Framework yükleme kılavuzuna](/dotnet/framework/install/)bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-649">**.NET Framework**: If the app requires .NET Framework, see the [.NET Framework installation guide](/dotnet/framework/install/).</span></span> <span data-ttu-id="7a755-650">Gerekli .NET Framework yüklemesi.</span><span class="sxs-lookup"><span data-stu-id="7a755-650">Install the required .NET Framework.</span></span> <span data-ttu-id="7a755-651">En son .NET Framework yükleyicisi [.NET Core İndirmeleri](https://dotnet.microsoft.com/download) sayfasından edinilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-651">The installer for the latest .NET Framework is available from the [.NET Core Downloads](https://dotnet.microsoft.com/download) page.</span></span>

   <span data-ttu-id="7a755-652">Uygulama, [kendi içinde bir dağıtım](/dotnet/core/deploying/#self-contained-deployments-scd)ise, uygulama çalışma zamanını dağıtımda içerir.</span><span class="sxs-lookup"><span data-stu-id="7a755-652">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd), the app includes the runtime in its deployment.</span></span> <span data-ttu-id="7a755-653">Sunucuda çerçeve yüklemesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-653">No framework installation is required on the server.</span></span>

1. <span data-ttu-id="7a755-654">Uygulamada URL 'Leri ve bağlantı noktalarını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-654">Configure URLs and ports in the app.</span></span>

   <span data-ttu-id="7a755-655">Varsayılan olarak, ASP.NET Core öğesine bağlanır `http://localhost:5000` .</span><span class="sxs-lookup"><span data-stu-id="7a755-655">By default, ASP.NET Core binds to `http://localhost:5000`.</span></span> <span data-ttu-id="7a755-656">URL öneklerini ve bağlantı noktalarını yapılandırmak için seçenekler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="7a755-656">To configure URL prefixes and ports, options include:</span></span>

   * <xref:Microsoft.AspNetCore.Hosting.HostingAbstractionsWebHostBuilderExtensions.UseUrls*>
   * <span data-ttu-id="7a755-657">`urls`komut satırı bağımsız değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-657">`urls` command-line argument</span></span>
   * <span data-ttu-id="7a755-658">`ASPNETCORE_URLS`ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-658">`ASPNETCORE_URLS` environment variable</span></span>
   * <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes>

   <span data-ttu-id="7a755-659">Aşağıdaki kod örneği, <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> `10.0.0.4` 443 numaralı bağlantı noktasında sunucunun yerel IP adresi ile nasıl kullanılacağını göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="7a755-659">The following code example shows how to use <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> with the server's local IP address `10.0.0.4` on port 443:</span></span>

   [!code-csharp[](httpsys/samples_snapshot/2.x/Program.cs?highlight=6)]

   <span data-ttu-id="7a755-660">Avantajı `UrlPrefixes` , hatalı biçimli ön ekler için hemen bir hata iletisi oluşturulmasından oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-660">An advantage of `UrlPrefixes` is that an error message is generated immediately for improperly formatted prefixes.</span></span>

   <span data-ttu-id="7a755-661">Ayarları `UrlPrefixes` geçersiz kıl `UseUrls` / `urls` / `ASPNETCORE_URLS` .</span><span class="sxs-lookup"><span data-stu-id="7a755-661">The settings in `UrlPrefixes` override `UseUrls`/`urls`/`ASPNETCORE_URLS` settings.</span></span> <span data-ttu-id="7a755-662">Bu nedenle, `UseUrls` `urls` ve `ASPNETCORE_URLS` ortam değişkeninin AVANTAJı Kestrel ve http. sys arasında geçiş yapmak daha kolay olabilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-662">Therefore, an advantage of `UseUrls`, `urls`, and the `ASPNETCORE_URLS` environment variable is that it's easier to switch between Kestrel and HTTP.sys.</span></span>

   <span data-ttu-id="7a755-663">HTTP. sys, [http sunucusu API UrlPrefix dize biçimlerini](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)kullanır.</span><span class="sxs-lookup"><span data-stu-id="7a755-663">HTTP.sys uses the [HTTP Server API UrlPrefix string formats](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx).</span></span>

   > [!WARNING]
   > <span data-ttu-id="7a755-664">Üst düzey joker karakter bağlamaları ( `http://*:80/` ve `http://+:80` ) kullanılmamalıdır **not** .</span><span class="sxs-lookup"><span data-stu-id="7a755-664">Top-level wildcard bindings (`http://*:80/` and `http://+:80`) should **not** be used.</span></span> <span data-ttu-id="7a755-665">Üst düzey joker karakter bağlamaları uygulama güvenliği güvenlik açıklarını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7a755-665">Top-level wildcard bindings create app security vulnerabilities.</span></span> <span data-ttu-id="7a755-666">Bu hem güçlü hem de zayıf Joker karakterlere yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="7a755-666">This applies to both strong and weak wildcards.</span></span> <span data-ttu-id="7a755-667">Joker karakterler yerine açık konak adlarını veya IP adreslerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-667">Use explicit host names or IP addresses rather than wildcards.</span></span> <span data-ttu-id="7a755-668">Alt etki alanı joker bağlantısı (örneğin, `*.mysub.com` ), tüm üst etki alanını ( `*.com` Bu güvenlik açığı olan aksine) kontrol ediyorsanız bir güvenlik riski değildir.</span><span class="sxs-lookup"><span data-stu-id="7a755-668">Subdomain wildcard binding (for example, `*.mysub.com`) isn't a security risk if you control the entire parent domain (as opposed to `*.com`, which is vulnerable).</span></span> <span data-ttu-id="7a755-669">Daha fazla bilgi için bkz. [RFC 7230: bölüm 5,4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span><span class="sxs-lookup"><span data-stu-id="7a755-669">For more information, see [RFC 7230: Section 5.4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span></span>

1. <span data-ttu-id="7a755-670">Ön ek, sunucudaki URL öneklerini ister.</span><span class="sxs-lookup"><span data-stu-id="7a755-670">Preregister URL prefixes on the server.</span></span>

   <span data-ttu-id="7a755-671">HTTP. sys ' yi yapılandırmaya yönelik yerleşik araç *netsh. exe*' dir.</span><span class="sxs-lookup"><span data-stu-id="7a755-671">The built-in tool for configuring HTTP.sys is *netsh.exe*.</span></span> <span data-ttu-id="7a755-672">*netsh. exe* , URL öneklerini ayırmak ve X. 509.440 sertifikaları atamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-672">*netsh.exe* is used to reserve URL prefixes and assign X.509 certificates.</span></span> <span data-ttu-id="7a755-673">Araç, yönetici ayrıcalıkları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-673">The tool requires administrator privileges.</span></span>

   <span data-ttu-id="7a755-674">Uygulamanın URL 'Lerini kaydettirmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-674">Use the *netsh.exe* tool to register URLs for the app:</span></span>

   ```console
   netsh http add urlacl url=<URL> user=<USER>
   ```

   * <span data-ttu-id="7a755-675">`<URL>`: Tam nitelikli Tekdüzen Kaynak Bulucu (URL).</span><span class="sxs-lookup"><span data-stu-id="7a755-675">`<URL>`: The fully qualified Uniform Resource Locator (URL).</span></span> <span data-ttu-id="7a755-676">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-676">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-677">Geçerli bir ana bilgisayar adı veya yerel IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-677">Use a valid hostname or local IP address.</span></span> <span data-ttu-id="7a755-678">*URL, sondaki eğik çizgi içermelidir.*</span><span class="sxs-lookup"><span data-stu-id="7a755-678">*The URL must include a trailing slash.*</span></span>
   * <span data-ttu-id="7a755-679">`<USER>`: Kullanıcı veya Kullanıcı grubu adını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-679">`<USER>`: Specifies the user or user-group name.</span></span>

   <span data-ttu-id="7a755-680">Aşağıdaki örnekte sunucusunun yerel IP adresi `10.0.0.4` :</span><span class="sxs-lookup"><span data-stu-id="7a755-680">In the following example, the local IP address of the server is `10.0.0.4`:</span></span>

   ```console
   netsh http add urlacl url=https://10.0.0.4:443/ user=Users
   ```

   <span data-ttu-id="7a755-681">Bir URL kaydedildiğinde, araç ile yanıt verir `URL reservation successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-681">When a URL is registered, the tool responds with `URL reservation successfully added`.</span></span>

   <span data-ttu-id="7a755-682">Kayıtlı bir URL 'yi silmek için şu `delete urlacl` komutu kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-682">To delete a registered URL, use the `delete urlacl` command:</span></span>

   ```console
   netsh http delete urlacl url=<URL>
   ```

1. <span data-ttu-id="7a755-683">X. 509.440 sertifikalarını sunucusuna kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-683">Register X.509 certificates on the server.</span></span>

   <span data-ttu-id="7a755-684">Uygulamanın sertifikalarını kaydetmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-684">Use the *netsh.exe* tool to register certificates for the app:</span></span>

   ```console
   netsh http add sslcert ipport=<IP>:<PORT> certhash=<THUMBPRINT> appid="{<GUID>}"
   ```

   * <span data-ttu-id="7a755-685">`<IP>`: Bağlama için yerel IP adresini belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-685">`<IP>`: Specifies the local IP address for the binding.</span></span> <span data-ttu-id="7a755-686">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-686">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-687">Geçerli bir IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-687">Use a valid IP address.</span></span>
   * <span data-ttu-id="7a755-688">`<PORT>`: Bağlama için bağlantı noktasını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-688">`<PORT>`: Specifies the port for the binding.</span></span>
   * <span data-ttu-id="7a755-689">`<THUMBPRINT>`: X. 509.440 sertifika parmak izi.</span><span class="sxs-lookup"><span data-stu-id="7a755-689">`<THUMBPRINT>`: The X.509 certificate thumbprint.</span></span>
   * <span data-ttu-id="7a755-690">`<GUID>`: Uygulamayı bilgilendirme amacıyla temsil eden geliştirici tarafından oluşturulan bir GUID.</span><span class="sxs-lookup"><span data-stu-id="7a755-690">`<GUID>`: A developer-generated GUID to represent the app for informational purposes.</span></span>

   <span data-ttu-id="7a755-691">Başvuru amacıyla, GUID 'yi uygulamada bir paket etiketi olarak depolayın:</span><span class="sxs-lookup"><span data-stu-id="7a755-691">For reference purposes, store the GUID in the app as a package tag:</span></span>

   * <span data-ttu-id="7a755-692">Visual Studio 'da:</span><span class="sxs-lookup"><span data-stu-id="7a755-692">In Visual Studio:</span></span>
     * <span data-ttu-id="7a755-693">**Çözüm Gezgini** ' de uygulamaya sağ tıklayıp **Özellikler**' i seçerek uygulamanın proje özelliklerini açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-693">Open the app's project properties by right-clicking on the app in **Solution Explorer** and selecting **Properties**.</span></span>
     * <span data-ttu-id="7a755-694">**Paket** sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="7a755-694">Select the **Package** tab.</span></span>
     * <span data-ttu-id="7a755-695">**Etiketler** alanında oluşturduğunuz GUID 'yi girin.</span><span class="sxs-lookup"><span data-stu-id="7a755-695">Enter the GUID that you created in the **Tags** field.</span></span>
   * <span data-ttu-id="7a755-696">Visual Studio kullanmadığınız durumlarda:</span><span class="sxs-lookup"><span data-stu-id="7a755-696">When not using Visual Studio:</span></span>
     * <span data-ttu-id="7a755-697">Uygulamanın proje dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-697">Open the app's project file.</span></span>
     * <span data-ttu-id="7a755-698">`<PackageTags>`Oluşturduğunuz GUID ile yeni veya var olan bir özelliği ekleyin `<PropertyGroup>` :</span><span class="sxs-lookup"><span data-stu-id="7a755-698">Add a `<PackageTags>` property to a new or existing `<PropertyGroup>` with the GUID that you created:</span></span>

       ```xml
       <PropertyGroup>
         <PackageTags>9412ee86-c21b-4eb8-bd89-f650fbf44931</PackageTags>
       </PropertyGroup>
       ```

   <span data-ttu-id="7a755-699">Aşağıdaki örnekte:</span><span class="sxs-lookup"><span data-stu-id="7a755-699">In the following example:</span></span>

   * <span data-ttu-id="7a755-700">Sunucunun yerel IP adresi `10.0.0.4` .</span><span class="sxs-lookup"><span data-stu-id="7a755-700">The local IP address of the server is `10.0.0.4`.</span></span>
   * <span data-ttu-id="7a755-701">Bir çevrimiçi rastgele GUID Oluşturucu değeri sağlar `appid` .</span><span class="sxs-lookup"><span data-stu-id="7a755-701">An online random GUID generator provides the `appid` value.</span></span>

   ```console
   netsh http add sslcert 
       ipport=10.0.0.4:443 
       certhash=b66ee04419d4ee37464ab8785ff02449980eae10 
       appid="{9412ee86-c21b-4eb8-bd89-f650fbf44931}"
   ```

   <span data-ttu-id="7a755-702">Bir sertifika kaydedildiğinde, araç ile yanıt verir `SSL Certificate successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-702">When a certificate is registered, the tool responds with `SSL Certificate successfully added`.</span></span>

   <span data-ttu-id="7a755-703">Bir sertifika kaydını silmek için şu komutu kullanın `delete sslcert` :</span><span class="sxs-lookup"><span data-stu-id="7a755-703">To delete a certificate registration, use the `delete sslcert` command:</span></span>

   ```console
   netsh http delete sslcert ipport=<IP>:<PORT>
   ```

   <span data-ttu-id="7a755-704">*Netsh. exe*için başvuru belgeleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-704">Reference documentation for *netsh.exe*:</span></span>

   * [<span data-ttu-id="7a755-705">Köprü Metni Aktarım Protokolü (HTTP) için Netsh komutları</span><span class="sxs-lookup"><span data-stu-id="7a755-705">Netsh Commands for Hypertext Transfer Protocol (HTTP)</span></span>](https://technet.microsoft.com/library/cc725882.aspx)
   * [<span data-ttu-id="7a755-706">UrlPrefix dizeleri</span><span class="sxs-lookup"><span data-stu-id="7a755-706">UrlPrefix Strings</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)

1. <span data-ttu-id="7a755-707">Uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-707">Run the app.</span></span>

   <span data-ttu-id="7a755-708">1024 'den büyük bir bağlantı noktası numarası ile HTTP (HTTPS değil) kullanarak localhost 'a bağlanırken uygulamayı çalıştırmak için yönetici ayrıcalıklarına gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-708">Administrator privileges aren't required to run the app when binding to localhost using HTTP (not HTTPS) with a port number greater than 1024.</span></span> <span data-ttu-id="7a755-709">Diğer yapılandırmalarda (örneğin, yerel bir IP adresi veya 443 numaralı bağlantı noktasına bağlama), uygulamayı yönetici ayrıcalıklarıyla çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-709">For other configurations (for example, using a local IP address or binding to port 443), run the app with administrator privileges.</span></span>

   <span data-ttu-id="7a755-710">Uygulama, sunucunun genel IP adresinde yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="7a755-710">The app responds at the server's public IP address.</span></span> <span data-ttu-id="7a755-711">Bu örnekte, sunucusuna, genel IP adresinde Internet 'ten ulaşılırsa `104.214.79.47` .</span><span class="sxs-lookup"><span data-stu-id="7a755-711">In this example, the server is reached from the Internet at its public IP address of `104.214.79.47`.</span></span>

   <span data-ttu-id="7a755-712">Bu örnekte bir geliştirme sertifikası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-712">A development certificate is used in this example.</span></span> <span data-ttu-id="7a755-713">Tarayıcının güvenilmeyen sertifika uyarısı atlandıktan sonra sayfa güvenli bir şekilde yüklenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-713">The page loads securely after bypassing the browser's untrusted certificate warning.</span></span>

   ![Uygulamanın dizin sayfasını yüklü olarak gösteren tarayıcı penceresi](httpsys/_static/browser.png)

## <a name="proxy-server-and-load-balancer-scenarios"></a><span data-ttu-id="7a755-715">Proxy sunucusu ve yük dengeleyici senaryoları</span><span class="sxs-lookup"><span data-stu-id="7a755-715">Proxy server and load balancer scenarios</span></span>

<span data-ttu-id="7a755-716">Internet veya şirket ağından gelen isteklerle etkileşime geçen HTTP. sys tarafından barındırılan uygulamalar için, proxy sunucularının ve yük dengeleyiciler 'nin arkasında barındırılırken ek yapılandırma gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-716">For apps hosted by HTTP.sys that interact with requests from the Internet or a corporate network, additional configuration might be required when hosting behind proxy servers and load balancers.</span></span> <span data-ttu-id="7a755-717">Daha fazla bilgi için bkz. [proxy sunucularıyla ve yük dengeleyicilerle çalışacak ASP.NET Core yapılandırma](xref:host-and-deploy/proxy-load-balancer).</span><span class="sxs-lookup"><span data-stu-id="7a755-717">For more information, see [Configure ASP.NET Core to work with proxy servers and load balancers](xref:host-and-deploy/proxy-load-balancer).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7a755-718">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="7a755-718">Additional resources</span></span>

* [<span data-ttu-id="7a755-719">HTTP. sys ile Windows kimlik doğrulamasını etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="7a755-719">Enable Windows Authentication with HTTP.sys</span></span>](xref:security/authentication/windowsauth#httpsys)
* [<span data-ttu-id="7a755-720">HTTP Sunucusu API 'SI</span><span class="sxs-lookup"><span data-stu-id="7a755-720">HTTP Server API</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364510.aspx)
* [<span data-ttu-id="7a755-721">ASPNET/HttpSysServer GitHub deposu (kaynak kodu)</span><span class="sxs-lookup"><span data-stu-id="7a755-721">aspnet/HttpSysServer GitHub repository (source code)</span></span>](https://github.com/aspnet/HttpSysServer/)
* [<span data-ttu-id="7a755-722">Ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="7a755-722">The host</span></span>](xref:fundamentals/index#host)
* <xref:test/troubleshoot>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="7a755-723">[Http. sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) , yalnızca Windows üzerinde çalışan [ASP.NET Core için bir Web sunucusudur](xref:fundamentals/servers/index) .</span><span class="sxs-lookup"><span data-stu-id="7a755-723">[HTTP.sys](/iis/get-started/introduction-to-iis/introduction-to-iis-architecture#hypertext-transfer-protocol-stack-httpsys) is a [web server for ASP.NET Core](xref:fundamentals/servers/index) that only runs on Windows.</span></span> <span data-ttu-id="7a755-724">HTTP. sys, [Kestrel](xref:fundamentals/servers/kestrel) Server için bir alternatiftir ve Kestrel tarafından sağlamayan bazı özellikler sunar.</span><span class="sxs-lookup"><span data-stu-id="7a755-724">HTTP.sys is an alternative to [Kestrel](xref:fundamentals/servers/kestrel) server and offers some features that Kestrel doesn't provide.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7a755-725">HTTP. sys [ASP.NET Core modülüyle](xref:host-and-deploy/aspnet-core-module) uyumlu DEĞILDIR ve ııs veya IIS Express ile kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="7a755-725">HTTP.sys isn't compatible with the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) and can't be used with IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-726">HTTP. sys aşağıdaki özellikleri destekler:</span><span class="sxs-lookup"><span data-stu-id="7a755-726">HTTP.sys supports the following features:</span></span>

* [<span data-ttu-id="7a755-727">Windows Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-727">Windows Authentication</span></span>](xref:security/authentication/windowsauth)
* <span data-ttu-id="7a755-728">Bağlantı noktası Paylaşımı</span><span class="sxs-lookup"><span data-stu-id="7a755-728">Port sharing</span></span>
* <span data-ttu-id="7a755-729">SNı ile HTTPS</span><span class="sxs-lookup"><span data-stu-id="7a755-729">HTTPS with SNI</span></span>
* <span data-ttu-id="7a755-730">TLS üzerinden HTTP/2 (Windows 10 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-730">HTTP/2 over TLS (Windows 10 or later)</span></span>
* <span data-ttu-id="7a755-731">Doğrudan dosya iletimi</span><span class="sxs-lookup"><span data-stu-id="7a755-731">Direct file transmission</span></span>
* <span data-ttu-id="7a755-732">Yanıtları Önbelleğe Alma</span><span class="sxs-lookup"><span data-stu-id="7a755-732">Response caching</span></span>
* <span data-ttu-id="7a755-733">WebSockets (Windows 8 veya üzeri)</span><span class="sxs-lookup"><span data-stu-id="7a755-733">WebSockets (Windows 8 or later)</span></span>

<span data-ttu-id="7a755-734">Desteklenen Windows sürümleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-734">Supported Windows versions:</span></span>

* <span data-ttu-id="7a755-735">Windows 7 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-735">Windows 7 or later</span></span>
* <span data-ttu-id="7a755-736">Windows Server 2008 R2 veya sonraki sürümü</span><span class="sxs-lookup"><span data-stu-id="7a755-736">Windows Server 2008 R2 or later</span></span>

<span data-ttu-id="7a755-737">[Örnek kodu görüntüleme veya indirme](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([nasıl indirileceği](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="7a755-737">[View or download sample code](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/servers/httpsys/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="when-to-use-httpsys"></a><span data-ttu-id="7a755-738">HTTP. sys ne zaman kullanılır</span><span class="sxs-lookup"><span data-stu-id="7a755-738">When to use HTTP.sys</span></span>

<span data-ttu-id="7a755-739">HTTP. sys, şu durumlarda olduğu dağıtımlar için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="7a755-739">HTTP.sys is useful for deployments where:</span></span>

* <span data-ttu-id="7a755-740">Sunucuyu IIS kullanmadan doğrudan Internet 'e sunmaya gerek vardır.</span><span class="sxs-lookup"><span data-stu-id="7a755-740">There's a need to expose the server directly to the Internet without using IIS.</span></span>

  ![HTTP. sys doğrudan Internet ile iletişim kurar](httpsys/_static/httpsys-to-internet.png)

* <span data-ttu-id="7a755-742">İç dağıtım, [Windows kimlik doğrulaması](xref:security/authentication/windowsauth)gibi Kestrel 'de kullanılamayan bir özelliği gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-742">An internal deployment requires a feature not available in Kestrel, such as [Windows Authentication](xref:security/authentication/windowsauth).</span></span>

  ![HTTP. sys doğrudan iç ağla iletişim kurar](httpsys/_static/httpsys-to-internal.png)

<span data-ttu-id="7a755-744">HTTP. sys pek çok tür saldırılara karşı koruyan ve tam özellikli bir Web sunucusu için sağlamlık, güvenlik ve ölçeklenebilirlik sağlayan çok sayıda teknolojiden oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-744">HTTP.sys is mature technology that protects against many types of attacks and provides the robustness, security, and scalability of a full-featured web server.</span></span> <span data-ttu-id="7a755-745">IIS, HTTP. sys ' nin üstünde HTTP dinleyicisi olarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="7a755-745">IIS itself runs as an HTTP listener on top of HTTP.sys.</span></span>

## <a name="http2-support"></a><span data-ttu-id="7a755-746">HTTP/2 desteği</span><span class="sxs-lookup"><span data-stu-id="7a755-746">HTTP/2 support</span></span>

<span data-ttu-id="7a755-747">Aşağıdaki temel gereksinimler karşılanıyorsa ASP.NET Core uygulamalar için [http/2](https://httpwg.org/specs/rfc7540.html) etkinleştirilir:</span><span class="sxs-lookup"><span data-stu-id="7a755-747">[HTTP/2](https://httpwg.org/specs/rfc7540.html) is enabled for ASP.NET Core apps if the following base requirements are met:</span></span>

* <span data-ttu-id="7a755-748">Windows Server 2016/Windows 10 veya üzeri</span><span class="sxs-lookup"><span data-stu-id="7a755-748">Windows Server 2016/Windows 10 or later</span></span>
* <span data-ttu-id="7a755-749">[Uygulama katmanı protokol anlaşması (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) bağlantısı</span><span class="sxs-lookup"><span data-stu-id="7a755-749">[Application-Layer Protocol Negotiation (ALPN)](https://tools.ietf.org/html/rfc7301#section-3) connection</span></span>
* <span data-ttu-id="7a755-750">TLS 1,2 veya üzeri bağlantı</span><span class="sxs-lookup"><span data-stu-id="7a755-750">TLS 1.2 or later connection</span></span>

<span data-ttu-id="7a755-751">Bir HTTP/2 bağlantısı kurulduysa, [HttpRequest. Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) Reports `HTTP/1.1` .</span><span class="sxs-lookup"><span data-stu-id="7a755-751">If an HTTP/2 connection is established, [HttpRequest.Protocol](xref:Microsoft.AspNetCore.Http.HttpRequest.Protocol*) reports `HTTP/1.1`.</span></span>

<span data-ttu-id="7a755-752">HTTP/2 varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-752">HTTP/2 is enabled by default.</span></span> <span data-ttu-id="7a755-753">HTTP/2 bağlantısı kurulmadıysa, bağlantı HTTP/1.1 'ye geri döner.</span><span class="sxs-lookup"><span data-stu-id="7a755-753">If an HTTP/2 connection isn't established, the connection falls back to HTTP/1.1.</span></span> <span data-ttu-id="7a755-754">Windows 'un gelecek bir sürümünde http/2 yapılandırma bayrakları http/2 ' yi HTTP. sys ile devre dışı bırakma özelliği de dahil olmak üzere kullanılabilir olacaktır.</span><span class="sxs-lookup"><span data-stu-id="7a755-754">In a future release of Windows, HTTP/2 configuration flags will be available, including the ability to disable HTTP/2 with HTTP.sys.</span></span>

## <a name="kernel-mode-authentication-with-kerberos"></a><span data-ttu-id="7a755-755">Kerberos ile çekirdek modu kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="7a755-755">Kernel mode authentication with Kerberos</span></span>

<span data-ttu-id="7a755-756">HTTP. sys, Kerberos kimlik doğrulama protokolü ile çekirdek modu kimlik doğrulamasına temsilciler.</span><span class="sxs-lookup"><span data-stu-id="7a755-756">HTTP.sys delegates to kernel mode authentication with the Kerberos authentication protocol.</span></span> <span data-ttu-id="7a755-757">Kullanıcı modu kimlik doğrulaması, Kerberos ve HTTP. sys ile desteklenmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-757">User mode authentication isn't supported with Kerberos and HTTP.sys.</span></span> <span data-ttu-id="7a755-758">Makine hesabı, Active Directory alındığı ve kullanıcının kimliğini doğrulamak için istemci tarafından sunucuya iletilen Kerberos belirtecinin/biletinin şifresini çözmek için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-758">The machine account must be used to decrypt the Kerberos token/ticket that's obtained from Active Directory and forwarded by the client to the server to authenticate the user.</span></span> <span data-ttu-id="7a755-759">Uygulamanın kullanıcısına değil, ana bilgisayar için hizmet asıl adını (SPN) kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-759">Register the Service Principal Name (SPN) for the host, not the user of the app.</span></span>

## <a name="how-to-use-httpsys"></a><span data-ttu-id="7a755-760">HTTP. sys kullanma</span><span class="sxs-lookup"><span data-stu-id="7a755-760">How to use HTTP.sys</span></span>

### <a name="configure-the-aspnet-core-app-to-use-httpsys"></a><span data-ttu-id="7a755-761">ASP.NET Core uygulamasını HTTP. sys kullanacak şekilde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-761">Configure the ASP.NET Core app to use HTTP.sys</span></span>

<span data-ttu-id="7a755-762">[Microsoft. AspNetCore. app metapackage](xref:fundamentals/metapackage-app) ([NuGet.org](https://www.nuget.org/packages/Microsoft.AspNetCore.App/)) kullanılırken proje dosyasındaki bir paket başvurusu gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="7a755-762">A package reference in the project file isn't required when using the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) ([nuget.org](https://www.nuget.org/packages/Microsoft.AspNetCore.App/)).</span></span> <span data-ttu-id="7a755-763">`Microsoft.AspNetCore.App`Metapackage 'i kullanmıyorsanız [Microsoft. Aspnetcore. Server. httpsys](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.HttpSys/)öğesine bir paket başvurusu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-763">When not using the `Microsoft.AspNetCore.App` metapackage, add a package reference to [Microsoft.AspNetCore.Server.HttpSys](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.HttpSys/).</span></span>

<span data-ttu-id="7a755-764"><xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*>Ana bilgisayarı oluştururken, gerekli herhangi bir yöntemi belirterek uzantı yöntemini çağırın <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions> .</span><span class="sxs-lookup"><span data-stu-id="7a755-764">Call the <xref:Microsoft.AspNetCore.Hosting.WebHostBuilderHttpSysExtensions.UseHttpSys*> extension method when building the host, specifying any required <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions>.</span></span> <span data-ttu-id="7a755-765">Aşağıdaki örnek, seçeneklerini varsayılan değerlerine ayarlar:</span><span class="sxs-lookup"><span data-stu-id="7a755-765">The following example sets options to their default values:</span></span>

[!code-csharp[](httpsys/samples/2.x/SampleApp/Program.cs?name=snippet1&highlight=4-12)]

<span data-ttu-id="7a755-766">Ek HTTP. sys yapılandırması, [kayıt defteri ayarları](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows)aracılığıyla işlenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-766">Additional HTTP.sys configuration is handled through [registry settings](https://support.microsoft.com/help/820129/http-sys-registry-settings-for-windows).</span></span>

<span data-ttu-id="7a755-767">**HTTP. sys seçenekleri**</span><span class="sxs-lookup"><span data-stu-id="7a755-767">**HTTP.sys options**</span></span>

| <span data-ttu-id="7a755-768">Özellik</span><span class="sxs-lookup"><span data-stu-id="7a755-768">Property</span></span> | <span data-ttu-id="7a755-769">Açıklama</span><span class="sxs-lookup"><span data-stu-id="7a755-769">Description</span></span> | <span data-ttu-id="7a755-770">Varsayılan</span><span class="sxs-lookup"><span data-stu-id="7a755-770">Default</span></span> |
| ---
<span data-ttu-id="7a755-771">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-771">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-772">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-772">'Blazor'</span></span>
- <span data-ttu-id="7a755-773">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-773">'Identity'</span></span>
- <span data-ttu-id="7a755-774">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-774">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-775">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-775">'Razor'</span></span>
- <span data-ttu-id="7a755-776">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-776">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-777">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-777">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-778">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-778">'Blazor'</span></span>
- <span data-ttu-id="7a755-779">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-779">'Identity'</span></span>
- <span data-ttu-id="7a755-780">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-780">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-781">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-781">'Razor'</span></span>
- <span data-ttu-id="7a755-782">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-782">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-783">---- | ---title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-783">---- | --- title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-784">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-784">'Blazor'</span></span>
- <span data-ttu-id="7a755-785">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-785">'Identity'</span></span>
- <span data-ttu-id="7a755-786">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-786">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-787">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-787">'Razor'</span></span>
- <span data-ttu-id="7a755-788">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-788">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-789">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-789">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-790">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-790">'Blazor'</span></span>
- <span data-ttu-id="7a755-791">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-791">'Identity'</span></span>
- <span data-ttu-id="7a755-792">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-792">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-793">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-793">'Razor'</span></span>
- <span data-ttu-id="7a755-794">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-794">'SignalR' uid:</span></span> 

-
<span data-ttu-id="7a755-795">title: Yazar: Açıklama: monikerRange: MS. Author: MS. Custom: MS. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="7a755-795">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="7a755-796">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="7a755-796">'Blazor'</span></span>
- <span data-ttu-id="7a755-797">'Identity'</span><span class="sxs-lookup"><span data-stu-id="7a755-797">'Identity'</span></span>
- <span data-ttu-id="7a755-798">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="7a755-798">'Let's Encrypt'</span></span>
- <span data-ttu-id="7a755-799">'Razor'</span><span class="sxs-lookup"><span data-stu-id="7a755-799">'Razor'</span></span>
- <span data-ttu-id="7a755-800">' SignalR ' uid:</span><span class="sxs-lookup"><span data-stu-id="7a755-800">'SignalR' uid:</span></span> 

<span data-ttu-id="7a755-801">------ | :-----: | | [Allowsynchronousio](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Ve için zaman uyumlu giriş/çıkışa izin verilip verilmeyeceğini `HttpContext.Request.Body` denetleyin `HttpContext.Response.Body` .</span><span class="sxs-lookup"><span data-stu-id="7a755-801">------ | :-----: | | [AllowSynchronousIO](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.AllowSynchronousIO) | Control whether synchronous input/output is allowed for the `HttpContext.Request.Body` and `HttpContext.Response.Body`.</span></span><span data-ttu-id="7a755-802"> | `true`| | [Authentication. AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Anonim isteklere izin verin.</span><span class="sxs-lookup"><span data-stu-id="7a755-802"> | `true` | | [Authentication.AllowAnonymous](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.AllowAnonymous) | Allow anonymous requests.</span></span><span data-ttu-id="7a755-803"> | `true`| | [Kimlik doğrulaması. şemalar](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | İzin verilen kimlik doğrulama düzenlerini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-803"> | `true` | | [Authentication.Schemes](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationManager.Schemes) | Specify the allowed authentication schemes.</span></span> <span data-ttu-id="7a755-804">Dinleyici elden atılırken önce herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-804">May be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-805">Değerler [authenticationdüzenlerinin numaralandırması](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes)tarafından sağlanır: `Basic` ,,, `Kerberos` `Negotiate` `None` , ve `NTLM` .</span><span class="sxs-lookup"><span data-stu-id="7a755-805">Values are provided by the [AuthenticationSchemes enum](xref:Microsoft.AspNetCore.Server.HttpSys.AuthenticationSchemes): `Basic`, `Kerberos`, `Negotiate`, `None`, and `NTLM`.</span></span><span data-ttu-id="7a755-806"> | `None`| | [Enableresponsecaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Uygun üst bilgileri içeren yanıtlar için [çekirdek modu](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) önbelleğe almayı deneyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-806"> | `None` | | [EnableResponseCaching](xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.EnableResponseCaching) | Attempt [kernel-mode](/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode) caching for responses with eligible headers.</span></span> <span data-ttu-id="7a755-807">Yanıt `Set-Cookie` , `Vary` veya `Pragma` üst bilgileri içermeyebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-807">The response may not include `Set-Cookie`, `Vary`, or `Pragma` headers.</span></span> <span data-ttu-id="7a755-808">`Cache-Control` `public` Bir ya da değeri ya da bir üst bilgi içermelidir `shared-max-age` `max-age` `Expires` .</span><span class="sxs-lookup"><span data-stu-id="7a755-808">It must include a `Cache-Control` header that's `public` and either a `shared-max-age` or `max-age` value, or an `Expires` header.</span></span><span data-ttu-id="7a755-809"> | `true`| | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | En fazla eşzamanlı kabul sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-809"> | `true` | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxAccepts> | The maximum number of concurrent accepts.</span></span> <span data-ttu-id="7a755-810">| 5 &times; [ortam. <br> ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | Kabul edilecek eşzamanlı bağlantı sayısı üst sınırı.</span><span class="sxs-lookup"><span data-stu-id="7a755-810">| 5 &times; [Environment.<br>ProcessorCount](xref:System.Environment.ProcessorCount) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxConnections> | The maximum number of concurrent connections to accept.</span></span> <span data-ttu-id="7a755-811">`-1`Sonsuz için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-811">Use `-1` for infinite.</span></span> <span data-ttu-id="7a755-812">`null`Kayıt defterinin makine genelindeki ayarını kullanmak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-812">Use `null` to use the registry's machine-wide setting.</span></span> | `null`<br><span data-ttu-id="7a755-813">(makine genelinde</span><span class="sxs-lookup"><span data-stu-id="7a755-813">(machine-wide</span></span><br><span data-ttu-id="7a755-814">ayar) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | <a href="#maxrequestbodysize">MaxRequestBodySize</a> bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-814">setting) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> | See the <a href="#maxrequestbodysize">MaxRequestBodySize</a> section.</span></span> <span data-ttu-id="7a755-815">| 30000000 bayt</span><span class="sxs-lookup"><span data-stu-id="7a755-815">| 30000000 bytes</span></span><br><span data-ttu-id="7a755-816">(~ 28,6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | Sıraya alınabilen en fazla istek sayısı.</span><span class="sxs-lookup"><span data-stu-id="7a755-816">(~28.6 MB) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.RequestQueueLimit> | The maximum number of requests that can be queued.</span></span> <span data-ttu-id="7a755-817">| 1000 | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | İstemci bağlantısının kesilmesinden kaynaklanan yanıt gövdesi yazmasının, özel durumlar oluşturması veya normal şekilde tamamlanması gerektiğini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-817">| 1000 | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.ThrowWriteExceptions> | Indicate if response body writes that fail due to client disconnects should throw exceptions or complete normally.</span></span> | `false`<br><span data-ttu-id="7a755-818">(normal olarak) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager>Kayıt defterinde da YAPıLANDıRıLABILEN http. sys yapılandırmasını kullanıma sunun.</span><span class="sxs-lookup"><span data-stu-id="7a755-818">(complete normally) | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.Timeouts> | Expose the HTTP.sys <xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager> configuration, which may also be configured in the registry.</span></span> <span data-ttu-id="7a755-819">Varsayılan değerler de dahil olmak üzere her bir ayar hakkında daha fazla bilgi edinmek için API bağlantılarını izleyin:</span><span class="sxs-lookup"><span data-stu-id="7a755-819">Follow the API links to learn more about each setting, including default values:</span></span><ul><li><span data-ttu-id="7a755-820">[TimeoutManager. DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): http sunucusu API 'sinin varlık gövdesini etkin tut bağlantısı üzerinde boşaltmasına izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-820">[TimeoutManager.DrainEntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.DrainEntityBody): Time allowed for the HTTP Server API to drain the entity body on a Keep-Alive connection.</span></span></li><li><span data-ttu-id="7a755-821">[TimeoutManager. EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): istek varlığı gövdesinin gelmesi için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-821">[TimeoutManager.EntityBody](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.EntityBody): Time allowed for the request entity body to arrive.</span></span></li><li><span data-ttu-id="7a755-822">[TimeoutManager. HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): http sunucusu API 'sinin istek üst bilgisini ayrıştırması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-822">[TimeoutManager.HeaderWait](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.HeaderWait): Time allowed for the HTTP Server API to parse the request header.</span></span></li><li><span data-ttu-id="7a755-823">[TimeoutManager. IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): boştaki bir bağlantı için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-823">[TimeoutManager.IdleConnection](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.IdleConnection): Time allowed for an idle connection.</span></span></li><li><span data-ttu-id="7a755-824">[TimeoutManager. MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): yanıt için en düşük gönderme hızı.</span><span class="sxs-lookup"><span data-stu-id="7a755-824">[TimeoutManager.MinSendBytesPerSecond](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.MinSendBytesPerSecond): The minimum send rate for the response.</span></span></li><li><span data-ttu-id="7a755-825">[TimeoutManager. RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): isteğin, uygulamanın onu seçmeden önce istek kuyruğunda kalması için izin verilen süre.</span><span class="sxs-lookup"><span data-stu-id="7a755-825">[TimeoutManager.RequestQueue](xref:Microsoft.AspNetCore.Server.HttpSys.TimeoutManager.RequestQueue): Time allowed for the request to remain in the request queue before the app picks it up.</span></span></li></ul> <span data-ttu-id="7a755-826">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection>Http. sys ile kaydolmak için öğesini belirtin.</span><span class="sxs-lookup"><span data-stu-id="7a755-826">|  | | <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> | Specify the <xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection> to register with HTTP.sys.</span></span> <span data-ttu-id="7a755-827">En yararlı olan [UrlPrefixCollection. Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), koleksiyona bir ön ek eklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-827">The most useful is [UrlPrefixCollection.Add](xref:Microsoft.AspNetCore.Server.HttpSys.UrlPrefixCollection.Add*), which is used to add a prefix to the collection.</span></span> <span data-ttu-id="7a755-828">Bunlar, dinleyici elden atılıyor öncesinde herhangi bir zamanda değiştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-828">These may be modified at any time prior to disposing the listener.</span></span> <span data-ttu-id="7a755-829">|  |</span><span class="sxs-lookup"><span data-stu-id="7a755-829">|  |</span></span>

<a name="maxrequestbodysize"></a>

<span data-ttu-id="7a755-830">**MaxRequestBodySize**</span><span class="sxs-lookup"><span data-stu-id="7a755-830">**MaxRequestBodySize**</span></span>

<span data-ttu-id="7a755-831">Herhangi bir istek gövdesinin bayt olarak izin verilen en büyük boyutu.</span><span class="sxs-lookup"><span data-stu-id="7a755-831">The maximum allowed size of any request body in bytes.</span></span> <span data-ttu-id="7a755-832">Olarak ayarlandığında `null` , en büyük istek gövdesi boyutu sınırsızdır.</span><span class="sxs-lookup"><span data-stu-id="7a755-832">When set to `null`, the maximum request body size is unlimited.</span></span> <span data-ttu-id="7a755-833">Bu sınırın, her zaman sınırsız olan yükseltilmiş bağlantıları üzerinde hiçbir etkisi yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-833">This limit has no effect on upgraded connections, which are always unlimited.</span></span>

<span data-ttu-id="7a755-834">Tek bir ASP.NET Core MVC uygulamasında sınırı geçersiz kılmak için önerilen yöntem, `IActionResult` <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> bir eylem yönteminde özniteliğini kullanmaktır:</span><span class="sxs-lookup"><span data-stu-id="7a755-834">The recommended method to override the limit in an ASP.NET Core MVC app for a single `IActionResult` is to use the <xref:Microsoft.AspNetCore.Mvc.RequestSizeLimitAttribute> attribute on an action method:</span></span>

```csharp
[RequestSizeLimit(100000000)]
public IActionResult MyActionMethod()
```

<span data-ttu-id="7a755-835">Uygulama isteği okumayı başlattıktan sonra bir istek üzerindeki sınırı yapılandırmayı denerse bir özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-835">An exception is thrown if the app attempts to configure the limit on a request after the app has started reading the request.</span></span> <span data-ttu-id="7a755-836">Özelliğin `IsReadOnly` salt okuma durumunda olup olmadığını göstermek için bir özellik kullanılabilir `MaxRequestBodySize` , yani sınırı yapılandırmak için çok geç.</span><span class="sxs-lookup"><span data-stu-id="7a755-836">An `IsReadOnly` property can be used to indicate if the `MaxRequestBodySize` property is in a read-only state, meaning it's too late to configure the limit.</span></span>

<span data-ttu-id="7a755-837">Uygulamanın istek başına geçersiz kılması gerekiyorsa <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> , şunu kullanın <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature> :</span><span class="sxs-lookup"><span data-stu-id="7a755-837">If the app should override <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.MaxRequestBodySize> per-request, use the <xref:Microsoft.AspNetCore.Http.Features.IHttpMaxRequestBodySizeFeature>:</span></span>

[!code-csharp[](httpsys/samples/2.x/SampleApp/Startup.cs?name=snippet1&highlight=6-7)]

<span data-ttu-id="7a755-838">Visual Studio kullanıyorsanız, uygulamanın IIS veya IIS Express çalıştıracak şekilde yapılandırılmadığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="7a755-838">If using Visual Studio, make sure the app isn't configured to run IIS or IIS Express.</span></span>

<span data-ttu-id="7a755-839">Visual Studio 'da varsayılan başlatma profili IIS Express içindir.</span><span class="sxs-lookup"><span data-stu-id="7a755-839">In Visual Studio, the default launch profile is for IIS Express.</span></span> <span data-ttu-id="7a755-840">Projeyi konsol uygulaması olarak çalıştırmak için, aşağıdaki ekran görüntüsünde gösterildiği gibi seçili profili el ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="7a755-840">To run the project as a console app, manually change the selected profile, as shown in the following screen shot:</span></span>

![Konsol uygulaması profilini seçin](httpsys/_static/vs-choose-profile.png)

### <a name="configure-windows-server"></a><span data-ttu-id="7a755-842">Windows Server 'ı yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7a755-842">Configure Windows Server</span></span>

1. <span data-ttu-id="7a755-843">Uygulamanın açmak için bağlantı noktalarını belirleme ve [Windows Güvenlik Duvarı](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) 'Nı veya [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell CMDLET 'ini kullanarak trafiğin http. sys ' ye ulaşmasını sağlamak için güvenlik duvarı bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-843">Determine the ports to open for the app and use [Windows Firewall](/windows/security/threat-protection/windows-firewall/create-an-inbound-port-rule) or the [New-NetFirewallRule](/powershell/module/netsecurity/new-netfirewallrule) PowerShell cmdlet to open firewall ports to allow traffic to reach HTTP.sys.</span></span> <span data-ttu-id="7a755-844">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-844">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-845">Bir Azure sanal makinesine dağıtım yaparken, [ağ güvenlik grubundaki](/azure/virtual-machines/windows/nsg-quickstart-portal)bağlantı noktalarını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-845">When deploying to an Azure VM, open the ports in the [Network Security Group](/azure/virtual-machines/windows/nsg-quickstart-portal).</span></span> <span data-ttu-id="7a755-846">Aşağıdaki komutlarda ve uygulama yapılandırmasında, 443 numaralı bağlantı noktası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-846">In the following commands and app configuration, port 443 is used.</span></span>

1. <span data-ttu-id="7a755-847">Gerekirse, X. 509.440 sertifikalarını edinin ve yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-847">Obtain and install X.509 certificates, if required.</span></span>

   <span data-ttu-id="7a755-848">Windows 'da, [New-SelfSignedCertificate PowerShell cmdlet 'ini](/powershell/module/pkiclient/new-selfsignedcertificate)kullanarak otomatik olarak imzalanan sertifikalar oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7a755-848">On Windows, create self-signed certificates using the [New-SelfSignedCertificate PowerShell cmdlet](/powershell/module/pkiclient/new-selfsignedcertificate).</span></span> <span data-ttu-id="7a755-849">Desteklenmeyen bir örnek için bkz [. UpdateIISExpressSSLForChrome. ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span><span class="sxs-lookup"><span data-stu-id="7a755-849">For an unsupported example, see [UpdateIISExpressSSLForChrome.ps1](https://github.com/dotnet/AspNetCore.Docs/tree/master/aspnetcore/includes/make-x509-cert/UpdateIISExpressSSLForChrome.ps1).</span></span>

   <span data-ttu-id="7a755-850">Sunucunun **yerel makine** > **Kişisel** deposunda otomatik olarak imzalanan veya CA imzalı sertifikalar yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-850">Install either self-signed or CA-signed certificates in the server's **Local Machine** > **Personal** store.</span></span>

1. <span data-ttu-id="7a755-851">Uygulama [çerçeveye bağımlı bir dağıtım](/dotnet/core/deploying/#framework-dependent-deployments-fdd)ise, .net core, .NET Framework veya her ikisini de (uygulama .NET Framework hedefleyen bir .NET Core uygulaması ise) yükler.</span><span class="sxs-lookup"><span data-stu-id="7a755-851">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd), install .NET Core, .NET Framework, or both (if the app is a .NET Core app targeting the .NET Framework).</span></span>

   * <span data-ttu-id="7a755-852">**.NET Core**: uygulama .NET Core gerektiriyorsa .NET Core [Indirmelerinde](https://dotnet.microsoft.com/download) **.NET Core çalışma zamanı** yükleyicisini edinip çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-852">**.NET Core**: If the app requires .NET Core, obtain and run the **.NET Core Runtime** installer from [.NET Core Downloads](https://dotnet.microsoft.com/download).</span></span> <span data-ttu-id="7a755-853">Tam SDK 'Yı sunucuya yüklemeyin.</span><span class="sxs-lookup"><span data-stu-id="7a755-853">Don't install the full SDK on the server.</span></span>
   * <span data-ttu-id="7a755-854">**.NET Framework**: uygulama .NET Framework gerektiriyorsa [.NET Framework yükleme kılavuzuna](/dotnet/framework/install/)bakın.</span><span class="sxs-lookup"><span data-stu-id="7a755-854">**.NET Framework**: If the app requires .NET Framework, see the [.NET Framework installation guide](/dotnet/framework/install/).</span></span> <span data-ttu-id="7a755-855">Gerekli .NET Framework yüklemesi.</span><span class="sxs-lookup"><span data-stu-id="7a755-855">Install the required .NET Framework.</span></span> <span data-ttu-id="7a755-856">En son .NET Framework yükleyicisi [.NET Core İndirmeleri](https://dotnet.microsoft.com/download) sayfasından edinilebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-856">The installer for the latest .NET Framework is available from the [.NET Core Downloads](https://dotnet.microsoft.com/download) page.</span></span>

   <span data-ttu-id="7a755-857">Uygulama, [kendi içinde bir dağıtım](/dotnet/core/deploying/#self-contained-deployments-scd)ise, uygulama çalışma zamanını dağıtımda içerir.</span><span class="sxs-lookup"><span data-stu-id="7a755-857">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd), the app includes the runtime in its deployment.</span></span> <span data-ttu-id="7a755-858">Sunucuda çerçeve yüklemesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="7a755-858">No framework installation is required on the server.</span></span>

1. <span data-ttu-id="7a755-859">Uygulamada URL 'Leri ve bağlantı noktalarını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-859">Configure URLs and ports in the app.</span></span>

   <span data-ttu-id="7a755-860">Varsayılan olarak, ASP.NET Core öğesine bağlanır `http://localhost:5000` .</span><span class="sxs-lookup"><span data-stu-id="7a755-860">By default, ASP.NET Core binds to `http://localhost:5000`.</span></span> <span data-ttu-id="7a755-861">URL öneklerini ve bağlantı noktalarını yapılandırmak için seçenekler şunları içerir:</span><span class="sxs-lookup"><span data-stu-id="7a755-861">To configure URL prefixes and ports, options include:</span></span>

   * <xref:Microsoft.AspNetCore.Hosting.HostingAbstractionsWebHostBuilderExtensions.UseUrls*>
   * <span data-ttu-id="7a755-862">`urls`komut satırı bağımsız değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-862">`urls` command-line argument</span></span>
   * <span data-ttu-id="7a755-863">`ASPNETCORE_URLS`ortam değişkeni</span><span class="sxs-lookup"><span data-stu-id="7a755-863">`ASPNETCORE_URLS` environment variable</span></span>
   * <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes>

   <span data-ttu-id="7a755-864">Aşağıdaki kod örneği, <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> `10.0.0.4` 443 numaralı bağlantı noktasında sunucunun yerel IP adresi ile nasıl kullanılacağını göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="7a755-864">The following code example shows how to use <xref:Microsoft.AspNetCore.Server.HttpSys.HttpSysOptions.UrlPrefixes> with the server's local IP address `10.0.0.4` on port 443:</span></span>

   [!code-csharp[](httpsys/samples_snapshot/2.x/Program.cs?highlight=6)]

   <span data-ttu-id="7a755-865">Avantajı `UrlPrefixes` , hatalı biçimli ön ekler için hemen bir hata iletisi oluşturulmasından oluşur.</span><span class="sxs-lookup"><span data-stu-id="7a755-865">An advantage of `UrlPrefixes` is that an error message is generated immediately for improperly formatted prefixes.</span></span>

   <span data-ttu-id="7a755-866">Ayarları `UrlPrefixes` geçersiz kıl `UseUrls` / `urls` / `ASPNETCORE_URLS` .</span><span class="sxs-lookup"><span data-stu-id="7a755-866">The settings in `UrlPrefixes` override `UseUrls`/`urls`/`ASPNETCORE_URLS` settings.</span></span> <span data-ttu-id="7a755-867">Bu nedenle, `UseUrls` `urls` ve `ASPNETCORE_URLS` ortam değişkeninin AVANTAJı Kestrel ve http. sys arasında geçiş yapmak daha kolay olabilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-867">Therefore, an advantage of `UseUrls`, `urls`, and the `ASPNETCORE_URLS` environment variable is that it's easier to switch between Kestrel and HTTP.sys.</span></span>

   <span data-ttu-id="7a755-868">HTTP. sys, [http sunucusu API UrlPrefix dize biçimlerini](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)kullanır.</span><span class="sxs-lookup"><span data-stu-id="7a755-868">HTTP.sys uses the [HTTP Server API UrlPrefix string formats](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx).</span></span>

   > [!WARNING]
   > <span data-ttu-id="7a755-869">Üst düzey joker karakter bağlamaları ( `http://*:80/` ve `http://+:80` ) kullanılmamalıdır **not** .</span><span class="sxs-lookup"><span data-stu-id="7a755-869">Top-level wildcard bindings (`http://*:80/` and `http://+:80`) should **not** be used.</span></span> <span data-ttu-id="7a755-870">Üst düzey joker karakter bağlamaları uygulama güvenliği güvenlik açıklarını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="7a755-870">Top-level wildcard bindings create app security vulnerabilities.</span></span> <span data-ttu-id="7a755-871">Bu hem güçlü hem de zayıf Joker karakterlere yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="7a755-871">This applies to both strong and weak wildcards.</span></span> <span data-ttu-id="7a755-872">Joker karakterler yerine açık konak adlarını veya IP adreslerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-872">Use explicit host names or IP addresses rather than wildcards.</span></span> <span data-ttu-id="7a755-873">Alt etki alanı joker bağlantısı (örneğin, `*.mysub.com` ), tüm üst etki alanını ( `*.com` Bu güvenlik açığı olan aksine) kontrol ediyorsanız bir güvenlik riski değildir.</span><span class="sxs-lookup"><span data-stu-id="7a755-873">Subdomain wildcard binding (for example, `*.mysub.com`) isn't a security risk if you control the entire parent domain (as opposed to `*.com`, which is vulnerable).</span></span> <span data-ttu-id="7a755-874">Daha fazla bilgi için bkz. [RFC 7230: bölüm 5,4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span><span class="sxs-lookup"><span data-stu-id="7a755-874">For more information, see [RFC 7230: Section 5.4: Host](https://tools.ietf.org/html/rfc7230#section-5.4).</span></span>

1. <span data-ttu-id="7a755-875">Ön ek, sunucudaki URL öneklerini ister.</span><span class="sxs-lookup"><span data-stu-id="7a755-875">Preregister URL prefixes on the server.</span></span>

   <span data-ttu-id="7a755-876">HTTP. sys ' yi yapılandırmaya yönelik yerleşik araç *netsh. exe*' dir.</span><span class="sxs-lookup"><span data-stu-id="7a755-876">The built-in tool for configuring HTTP.sys is *netsh.exe*.</span></span> <span data-ttu-id="7a755-877">*netsh. exe* , URL öneklerini ayırmak ve X. 509.440 sertifikaları atamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-877">*netsh.exe* is used to reserve URL prefixes and assign X.509 certificates.</span></span> <span data-ttu-id="7a755-878">Araç, yönetici ayrıcalıkları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="7a755-878">The tool requires administrator privileges.</span></span>

   <span data-ttu-id="7a755-879">Uygulamanın URL 'Lerini kaydettirmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-879">Use the *netsh.exe* tool to register URLs for the app:</span></span>

   ```console
   netsh http add urlacl url=<URL> user=<USER>
   ```

   * <span data-ttu-id="7a755-880">`<URL>`: Tam nitelikli Tekdüzen Kaynak Bulucu (URL).</span><span class="sxs-lookup"><span data-stu-id="7a755-880">`<URL>`: The fully qualified Uniform Resource Locator (URL).</span></span> <span data-ttu-id="7a755-881">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-881">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-882">Geçerli bir ana bilgisayar adı veya yerel IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-882">Use a valid hostname or local IP address.</span></span> <span data-ttu-id="7a755-883">*URL, sondaki eğik çizgi içermelidir.*</span><span class="sxs-lookup"><span data-stu-id="7a755-883">*The URL must include a trailing slash.*</span></span>
   * <span data-ttu-id="7a755-884">`<USER>`: Kullanıcı veya Kullanıcı grubu adını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-884">`<USER>`: Specifies the user or user-group name.</span></span>

   <span data-ttu-id="7a755-885">Aşağıdaki örnekte sunucusunun yerel IP adresi `10.0.0.4` :</span><span class="sxs-lookup"><span data-stu-id="7a755-885">In the following example, the local IP address of the server is `10.0.0.4`:</span></span>

   ```console
   netsh http add urlacl url=https://10.0.0.4:443/ user=Users
   ```

   <span data-ttu-id="7a755-886">Bir URL kaydedildiğinde, araç ile yanıt verir `URL reservation successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-886">When a URL is registered, the tool responds with `URL reservation successfully added`.</span></span>

   <span data-ttu-id="7a755-887">Kayıtlı bir URL 'yi silmek için şu `delete urlacl` komutu kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-887">To delete a registered URL, use the `delete urlacl` command:</span></span>

   ```console
   netsh http delete urlacl url=<URL>
   ```

1. <span data-ttu-id="7a755-888">X. 509.440 sertifikalarını sunucusuna kaydedin.</span><span class="sxs-lookup"><span data-stu-id="7a755-888">Register X.509 certificates on the server.</span></span>

   <span data-ttu-id="7a755-889">Uygulamanın sertifikalarını kaydetmek için *netsh. exe* aracını kullanın:</span><span class="sxs-lookup"><span data-stu-id="7a755-889">Use the *netsh.exe* tool to register certificates for the app:</span></span>

   ```console
   netsh http add sslcert ipport=<IP>:<PORT> certhash=<THUMBPRINT> appid="{<GUID>}"
   ```

   * <span data-ttu-id="7a755-890">`<IP>`: Bağlama için yerel IP adresini belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-890">`<IP>`: Specifies the local IP address for the binding.</span></span> <span data-ttu-id="7a755-891">Joker karakter bağlama kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="7a755-891">Don't use a wildcard binding.</span></span> <span data-ttu-id="7a755-892">Geçerli bir IP adresi kullanın.</span><span class="sxs-lookup"><span data-stu-id="7a755-892">Use a valid IP address.</span></span>
   * <span data-ttu-id="7a755-893">`<PORT>`: Bağlama için bağlantı noktasını belirtir.</span><span class="sxs-lookup"><span data-stu-id="7a755-893">`<PORT>`: Specifies the port for the binding.</span></span>
   * <span data-ttu-id="7a755-894">`<THUMBPRINT>`: X. 509.440 sertifika parmak izi.</span><span class="sxs-lookup"><span data-stu-id="7a755-894">`<THUMBPRINT>`: The X.509 certificate thumbprint.</span></span>
   * <span data-ttu-id="7a755-895">`<GUID>`: Uygulamayı bilgilendirme amacıyla temsil eden geliştirici tarafından oluşturulan bir GUID.</span><span class="sxs-lookup"><span data-stu-id="7a755-895">`<GUID>`: A developer-generated GUID to represent the app for informational purposes.</span></span>

   <span data-ttu-id="7a755-896">Başvuru amacıyla, GUID 'yi uygulamada bir paket etiketi olarak depolayın:</span><span class="sxs-lookup"><span data-stu-id="7a755-896">For reference purposes, store the GUID in the app as a package tag:</span></span>

   * <span data-ttu-id="7a755-897">Visual Studio 'da:</span><span class="sxs-lookup"><span data-stu-id="7a755-897">In Visual Studio:</span></span>
     * <span data-ttu-id="7a755-898">**Çözüm Gezgini** ' de uygulamaya sağ tıklayıp **Özellikler**' i seçerek uygulamanın proje özelliklerini açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-898">Open the app's project properties by right-clicking on the app in **Solution Explorer** and selecting **Properties**.</span></span>
     * <span data-ttu-id="7a755-899">**Paket** sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="7a755-899">Select the **Package** tab.</span></span>
     * <span data-ttu-id="7a755-900">**Etiketler** alanında oluşturduğunuz GUID 'yi girin.</span><span class="sxs-lookup"><span data-stu-id="7a755-900">Enter the GUID that you created in the **Tags** field.</span></span>
   * <span data-ttu-id="7a755-901">Visual Studio kullanmadığınız durumlarda:</span><span class="sxs-lookup"><span data-stu-id="7a755-901">When not using Visual Studio:</span></span>
     * <span data-ttu-id="7a755-902">Uygulamanın proje dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="7a755-902">Open the app's project file.</span></span>
     * <span data-ttu-id="7a755-903">`<PackageTags>`Oluşturduğunuz GUID ile yeni veya var olan bir özelliği ekleyin `<PropertyGroup>` :</span><span class="sxs-lookup"><span data-stu-id="7a755-903">Add a `<PackageTags>` property to a new or existing `<PropertyGroup>` with the GUID that you created:</span></span>

       ```xml
       <PropertyGroup>
         <PackageTags>9412ee86-c21b-4eb8-bd89-f650fbf44931</PackageTags>
       </PropertyGroup>
       ```

   <span data-ttu-id="7a755-904">Aşağıdaki örnekte:</span><span class="sxs-lookup"><span data-stu-id="7a755-904">In the following example:</span></span>

   * <span data-ttu-id="7a755-905">Sunucunun yerel IP adresi `10.0.0.4` .</span><span class="sxs-lookup"><span data-stu-id="7a755-905">The local IP address of the server is `10.0.0.4`.</span></span>
   * <span data-ttu-id="7a755-906">Bir çevrimiçi rastgele GUID Oluşturucu değeri sağlar `appid` .</span><span class="sxs-lookup"><span data-stu-id="7a755-906">An online random GUID generator provides the `appid` value.</span></span>

   ```console
   netsh http add sslcert 
       ipport=10.0.0.4:443 
       certhash=b66ee04419d4ee37464ab8785ff02449980eae10 
       appid="{9412ee86-c21b-4eb8-bd89-f650fbf44931}"
   ```

   <span data-ttu-id="7a755-907">Bir sertifika kaydedildiğinde, araç ile yanıt verir `SSL Certificate successfully added` .</span><span class="sxs-lookup"><span data-stu-id="7a755-907">When a certificate is registered, the tool responds with `SSL Certificate successfully added`.</span></span>

   <span data-ttu-id="7a755-908">Bir sertifika kaydını silmek için şu komutu kullanın `delete sslcert` :</span><span class="sxs-lookup"><span data-stu-id="7a755-908">To delete a certificate registration, use the `delete sslcert` command:</span></span>

   ```console
   netsh http delete sslcert ipport=<IP>:<PORT>
   ```

   <span data-ttu-id="7a755-909">*Netsh. exe*için başvuru belgeleri:</span><span class="sxs-lookup"><span data-stu-id="7a755-909">Reference documentation for *netsh.exe*:</span></span>

   * [<span data-ttu-id="7a755-910">Köprü Metni Aktarım Protokolü (HTTP) için Netsh komutları</span><span class="sxs-lookup"><span data-stu-id="7a755-910">Netsh Commands for Hypertext Transfer Protocol (HTTP)</span></span>](https://technet.microsoft.com/library/cc725882.aspx)
   * [<span data-ttu-id="7a755-911">UrlPrefix dizeleri</span><span class="sxs-lookup"><span data-stu-id="7a755-911">UrlPrefix Strings</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364698.aspx)

1. <span data-ttu-id="7a755-912">Uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-912">Run the app.</span></span>

   <span data-ttu-id="7a755-913">1024 'den büyük bir bağlantı noktası numarası ile HTTP (HTTPS değil) kullanarak localhost 'a bağlanırken uygulamayı çalıştırmak için yönetici ayrıcalıklarına gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="7a755-913">Administrator privileges aren't required to run the app when binding to localhost using HTTP (not HTTPS) with a port number greater than 1024.</span></span> <span data-ttu-id="7a755-914">Diğer yapılandırmalarda (örneğin, yerel bir IP adresi veya 443 numaralı bağlantı noktasına bağlama), uygulamayı yönetici ayrıcalıklarıyla çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="7a755-914">For other configurations (for example, using a local IP address or binding to port 443), run the app with administrator privileges.</span></span>

   <span data-ttu-id="7a755-915">Uygulama, sunucunun genel IP adresinde yanıt verir.</span><span class="sxs-lookup"><span data-stu-id="7a755-915">The app responds at the server's public IP address.</span></span> <span data-ttu-id="7a755-916">Bu örnekte, sunucusuna, genel IP adresinde Internet 'ten ulaşılırsa `104.214.79.47` .</span><span class="sxs-lookup"><span data-stu-id="7a755-916">In this example, the server is reached from the Internet at its public IP address of `104.214.79.47`.</span></span>

   <span data-ttu-id="7a755-917">Bu örnekte bir geliştirme sertifikası kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7a755-917">A development certificate is used in this example.</span></span> <span data-ttu-id="7a755-918">Tarayıcının güvenilmeyen sertifika uyarısı atlandıktan sonra sayfa güvenli bir şekilde yüklenir.</span><span class="sxs-lookup"><span data-stu-id="7a755-918">The page loads securely after bypassing the browser's untrusted certificate warning.</span></span>

   ![Uygulamanın dizin sayfasını yüklü olarak gösteren tarayıcı penceresi](httpsys/_static/browser.png)

## <a name="proxy-server-and-load-balancer-scenarios"></a><span data-ttu-id="7a755-920">Proxy sunucusu ve yük dengeleyici senaryoları</span><span class="sxs-lookup"><span data-stu-id="7a755-920">Proxy server and load balancer scenarios</span></span>

<span data-ttu-id="7a755-921">Internet veya şirket ağından gelen isteklerle etkileşime geçen HTTP. sys tarafından barındırılan uygulamalar için, proxy sunucularının ve yük dengeleyiciler 'nin arkasında barındırılırken ek yapılandırma gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="7a755-921">For apps hosted by HTTP.sys that interact with requests from the Internet or a corporate network, additional configuration might be required when hosting behind proxy servers and load balancers.</span></span> <span data-ttu-id="7a755-922">Daha fazla bilgi için bkz. [proxy sunucularıyla ve yük dengeleyicilerle çalışacak ASP.NET Core yapılandırma](xref:host-and-deploy/proxy-load-balancer).</span><span class="sxs-lookup"><span data-stu-id="7a755-922">For more information, see [Configure ASP.NET Core to work with proxy servers and load balancers](xref:host-and-deploy/proxy-load-balancer).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7a755-923">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="7a755-923">Additional resources</span></span>

* [<span data-ttu-id="7a755-924">HTTP. sys ile Windows kimlik doğrulamasını etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="7a755-924">Enable Windows Authentication with HTTP.sys</span></span>](xref:security/authentication/windowsauth#httpsys)
* [<span data-ttu-id="7a755-925">HTTP Sunucusu API 'SI</span><span class="sxs-lookup"><span data-stu-id="7a755-925">HTTP Server API</span></span>](https://msdn.microsoft.com/library/windows/desktop/aa364510.aspx)
* [<span data-ttu-id="7a755-926">ASPNET/HttpSysServer GitHub deposu (kaynak kodu)</span><span class="sxs-lookup"><span data-stu-id="7a755-926">aspnet/HttpSysServer GitHub repository (source code)</span></span>](https://github.com/aspnet/HttpSysServer/)
* [<span data-ttu-id="7a755-927">Ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="7a755-927">The host</span></span>](xref:fundamentals/index#host)
* <xref:test/troubleshoot>

::: moniker-end

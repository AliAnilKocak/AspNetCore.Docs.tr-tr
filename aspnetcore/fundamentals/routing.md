---
title: ASP.NET Core yönlendirme
author: rick-anderson
description: Nasıl ASP.NET Core yönlendirme uç noktaları için eşleme isteği için uç nokta seçici bir URI'leri ve dispatching gelen istekleri sorumludur keşfedin.
ms.author: riande
ms.custom: mvc
ms.date: 06/17/2019
uid: fundamentals/routing
ms.openlocfilehash: 71cb7215651a263e588531c9be644326c0b6eda6
ms.sourcegitcommit: 28a2874765cefe9eaa068dceb989a978ba2096aa
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/17/2019
ms.locfileid: "67167091"
---
# <a name="routing-in-aspnet-core"></a><span data-ttu-id="cc32f-103">ASP.NET Core yönlendirme</span><span class="sxs-lookup"><span data-stu-id="cc32f-103">Routing in ASP.NET Core</span></span>

<span data-ttu-id="cc32f-104">Tarafından [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), ve [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="cc32f-104">By [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

::: moniker range="<= aspnetcore-1.1"

<span data-ttu-id="cc32f-105">Bu konuda 1.1 sürümü için indirme [ASP.NET Core (sürüm 1.1, PDF) yönlendirme](https://webpifeed.blob.core.windows.net/webpifeed/Partners/Routing_1.x.pdf).</span><span class="sxs-lookup"><span data-stu-id="cc32f-105">For the 1.1 version of this topic, download [Routing in ASP.NET Core (version 1.1, PDF)](https://webpifeed.blob.core.windows.net/webpifeed/Partners/Routing_1.x.pdf).</span></span>

::: moniker-end

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-106">Yönlendirme uç noktaları için eşleme isteği için uç nokta seçici bir URI'leri ve dispatching gelen istekleri sorumludur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-106">Routing is responsible for mapping request URIs to endpoint selectors and dispatching incoming requests to endpoints.</span></span> <span data-ttu-id="cc32f-107">Yollar uygulamada tanımlı ve uygulama başlatıldığında yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="cc32f-107">Routes are defined in the app and configured when the app starts.</span></span> <span data-ttu-id="cc32f-108">Bir rota isteğe bağlı olarak istekte bulunan URL'den değerleri ayıklayabilir ve bu değerler daha sonra istek işleme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-108">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="cc32f-109">Uygulamadan rota bilgilerini kullanarak, yönlendirme de için uç nokta Seçici eşleyen URL üretmek kuramıyor.</span><span class="sxs-lookup"><span data-stu-id="cc32f-109">Using route information from the app, routing is also able to generate URLs that map to endpoint selectors.</span></span>

::: moniker-end

::: moniker range="= aspnetcore-2.2"

<span data-ttu-id="cc32f-110">ASP.NET Core 2.2 içinde son Yönlendirme senaryoları kullanmak için belirtin [uyumluluk sürümü](xref:mvc/compatibility-version) için MVC, kayıt hizmetleri `Startup.ConfigureServices`:</span><span class="sxs-lookup"><span data-stu-id="cc32f-110">To use the latest routing scenarios in ASP.NET Core 2.2, specify the [compatibility version](xref:mvc/compatibility-version) to the MVC services registration in `Startup.ConfigureServices`:</span></span>

```csharp
services.AddMvc()
    .SetCompatibilityVersion(CompatibilityVersion.Version_2_2);
```

<span data-ttu-id="cc32f-111"><xref:Microsoft.AspNetCore.Mvc.MvcOptions.EnableEndpointRouting> Seçeneği yönlendirme dahili uç nokta tabanlı mantıksal kullanması gerekip gerekmediğini belirler veya <xref:Microsoft.AspNetCore.Routing.IRouter>-ASP.NET Core 2.1 veya daha önce mantığı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-111">The <xref:Microsoft.AspNetCore.Mvc.MvcOptions.EnableEndpointRouting> option determines if routing should internally use endpoint-based logic or the <xref:Microsoft.AspNetCore.Routing.IRouter>-based logic of ASP.NET Core 2.1 or earlier.</span></span> <span data-ttu-id="cc32f-112">Uyumluluk sürümü 2.2 veya üzeri olarak ayarlandığında, varsayılan değer: `true`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-112">When the compatibility version is set to 2.2 or later, the default value is `true`.</span></span> <span data-ttu-id="cc32f-113">Değerine `false` önceki yönlendirme mantığı kullanmak için:</span><span class="sxs-lookup"><span data-stu-id="cc32f-113">Set the value to `false` to use the prior routing logic:</span></span>

```csharp
// Use the routing logic of ASP.NET Core 2.1 or earlier:
services.AddMvc(options => options.EnableEndpointRouting = false)
    .SetCompatibilityVersion(CompatibilityVersion.Version_2_2);
```

<span data-ttu-id="cc32f-114">Daha fazla bilgi için <xref:Microsoft.AspNetCore.Routing.IRouter>-yönlendirme bağlı olarak, bkz: [ASP.NET Core 2.1 sürümü, bu konunun](/aspnet/core/fundamentals/routing?view=aspnetcore-2.1).</span><span class="sxs-lookup"><span data-stu-id="cc32f-114">For more information on <xref:Microsoft.AspNetCore.Routing.IRouter>-based routing, see the [ASP.NET Core 2.1 version of this topic](/aspnet/core/fundamentals/routing?view=aspnetcore-2.1).</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-115">Yönlendirme, yol işleyicisi ve bir gelen istekleri gönderme eşleştirme isteğinde URI'ler için sorumludur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-115">Routing is responsible for mapping request URIs to route handlers and dispatching an incoming requests.</span></span> <span data-ttu-id="cc32f-116">Yollar uygulamada tanımlı ve uygulama başlatıldığında yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="cc32f-116">Routes are defined in the app and configured when the app starts.</span></span> <span data-ttu-id="cc32f-117">Bir rota isteğe bağlı olarak istekte bulunan URL'den değerleri ayıklayabilir ve bu değerler daha sonra istek işleme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-117">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="cc32f-118">Yapılandırılan yollar uygulamasından kullanarak yönlendirme rota işleyicilerine eşleyen URL üretmek kuramıyor.</span><span class="sxs-lookup"><span data-stu-id="cc32f-118">Using configured routes from the app, routing is able to generate URLs that map to route handlers.</span></span>

::: moniker-end

::: moniker range="= aspnetcore-2.1"

<span data-ttu-id="cc32f-119">ASP.NET Core 2.1 son Yönlendirme senaryoları kullanmak için belirtin [uyumluluk sürümü](xref:mvc/compatibility-version) için MVC, kayıt hizmetleri `Startup.ConfigureServices`:</span><span class="sxs-lookup"><span data-stu-id="cc32f-119">To use the latest routing scenarios in ASP.NET Core 2.1, specify the [compatibility version](xref:mvc/compatibility-version) to the MVC services registration in `Startup.ConfigureServices`:</span></span>

```csharp
services.AddMvc()
    .SetCompatibilityVersion(CompatibilityVersion.Version_2_1);
```

::: moniker-end

> [!IMPORTANT]
> <span data-ttu-id="cc32f-120">Bu belge, alt düzey ASP.NET Core yönlendirme kapsar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-120">This document covers low-level ASP.NET Core routing.</span></span> <span data-ttu-id="cc32f-121">ASP.NET Core MVC yönlendirme hakkında daha fazla bilgi için bkz: <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-121">For information on ASP.NET Core MVC routing, see <xref:mvc/controllers/routing>.</span></span> <span data-ttu-id="cc32f-122">Razor sayfaları yönlendirme kuralları hakkında daha fazla bilgi için bkz: <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-122">For information on routing conventions in Razor Pages, see <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="cc32f-123">[Görüntüleme veya indirme örnek kodu](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([nasıl indirileceğini](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="cc32f-123">[View or download sample code](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="cc32f-124">Yönlendirme Temelleri</span><span class="sxs-lookup"><span data-stu-id="cc32f-124">Routing basics</span></span>

<span data-ttu-id="cc32f-125">Çoğu uygulama, URL'leri okunaklı ve anlamlı olacak şekilde basit ve açıklayıcı bir yönlendirme düzeni seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-125">Most apps should choose a basic and descriptive routing scheme so that URLs are readable and meaningful.</span></span> <span data-ttu-id="cc32f-126">Varsayılan geleneksel yolu `{controller=Home}/{action=Index}/{id?}`:</span><span class="sxs-lookup"><span data-stu-id="cc32f-126">The default conventional route `{controller=Home}/{action=Index}/{id?}`:</span></span>

* <span data-ttu-id="cc32f-127">Temel ve açıklayıcı bir yönlendirme düzenini destekler.</span><span class="sxs-lookup"><span data-stu-id="cc32f-127">Supports a basic and descriptive routing scheme.</span></span>
* <span data-ttu-id="cc32f-128">Kullanıcı Arabirimi tabanlı uygulamalar için kullanışlı bir başlangıç noktası var.</span><span class="sxs-lookup"><span data-stu-id="cc32f-128">Is a useful starting point for UI-based apps.</span></span>

<span data-ttu-id="cc32f-129">Geliştiriciler genellikle ekleme ek kısa yolları yüksek trafik alanlara kullanarak özel durumlarda (örneğin, blog ve e-ticaret uç) bir uygulamanın [öznitelik yönlendirme](xref:mvc/controllers/routing#attribute-routing) veya Geleneksel rotaları dedicated.</span><span class="sxs-lookup"><span data-stu-id="cc32f-129">Developers commonly add additional terse routes to high-traffic areas of an app in specialized situations (for example, blog and ecommerce endpoints) using [attribute routing](xref:mvc/controllers/routing#attribute-routing) or dedicated conventional routes.</span></span>

<span data-ttu-id="cc32f-130">Web API'leri öznitelik yönlendirme uygulamanın işlevselliğini bir kaynak kümesi olarak model için işlemleri burada HTTP fiilleri tarafından temsil edilir kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-130">Web APIs should use attribute routing to model the app's functionality as a set of resources where operations are represented by HTTP verbs.</span></span> <span data-ttu-id="cc32f-131">Başka bir deyişle, aynı mantıksal kaynak üzerinde birçok işlemler (örneğin, GET, POST) aynı URL'yi kullanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-131">This means that many operations (for example, GET, POST) on the same logical resource will use the same URL.</span></span> <span data-ttu-id="cc32f-132">Öznitelik yönlendirmeyi dikkatli bir şekilde bir API uygulamasının genel bir uç nokta düzenini tasarlamak için nelere ihtiyacınız olduğunu denetim düzeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-132">Attribute routing provides a level of control that's needed to carefully design an API's public endpoint layout.</span></span>

<span data-ttu-id="cc32f-133">Razor sayfaları uygulamaları kullanma varsayılan adlandırılmış kaynaklarında sunmak için yönlendirme geleneksel *sayfaları* uygulama klasörü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-133">Razor Pages apps use default conventional routing to serve named resources in the *Pages* folder of an app.</span></span> <span data-ttu-id="cc32f-134">Ek kuralları kullanılabilir Razor sayfaları yönlendirme davranışı özelleştirmenize olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-134">Additional conventions are available that allow you to customize Razor Pages routing behavior.</span></span> <span data-ttu-id="cc32f-135">Daha fazla bilgi için bkz. <xref:razor-pages/index> ve <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-135">For more information, see <xref:razor-pages/index> and <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="cc32f-136">URL oluşturma desteği, uygulamayı birbirine bağlamak için URL'leri kodlamak olmadan geliştirilecek okumasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-136">URL generation support allows the app to be developed without hard-coding URLs to link the app together.</span></span> <span data-ttu-id="cc32f-137">Temel bir yönlendirme yapılandırmayla başlatma ve uygulamanın kaynak Düzen belirlendikten sonra yolları değiştirmek için bu destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-137">This support allows for starting with a basic routing configuration and modifying the routes after the app's resource layout is determined.</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-138">Yönlendirme kullanan *uç noktaları* (`Endpoint`) mantıksal uç noktaları bir uygulamada temsil etmek için.</span><span class="sxs-lookup"><span data-stu-id="cc32f-138">Routing uses *endpoints* (`Endpoint`) to represent logical endpoints in an app.</span></span>

<span data-ttu-id="cc32f-139">Bir uç nokta istekleri ve rastgele meta veri koleksiyonu işlemek için bir temsilci tanımlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-139">An endpoint defines a delegate to process requests and a collection of arbitrary metadata.</span></span> <span data-ttu-id="cc32f-140">Meta veriler, ilkeleri ve yapılandırma için her bir uç noktasının iliştirilmiş temelinde kullanılan uygulama geniş kapsamlı kritik konular olur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-140">The metadata is used implement cross-cutting concerns based on policies and configuration attached to each endpoint.</span></span>

<span data-ttu-id="cc32f-141">Yönlendirme sistem aşağıdaki özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="cc32f-141">The routing system has the following characteristics:</span></span>

* <span data-ttu-id="cc32f-142">Rota şablonu söz dizimi, parçalanmış rota parametrelerinin rotalarla tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-142">Route template syntax is used to define routes with tokenized route parameters.</span></span>
* <span data-ttu-id="cc32f-143">Geleneksel stili ve öznitelik stili uç nokta yapılandırması izin verilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-143">Conventional-style and attribute-style endpoint configuration is permitted.</span></span>
* <span data-ttu-id="cc32f-144"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> bir URL parametresi için belirtilen uç nokta kısıtlaması geçerli bir değer içerip içermediğini belirlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-144"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> is used to determine whether a URL parameter contains a valid value for a given endpoint constraint.</span></span>
* <span data-ttu-id="cc32f-145">MVC/Razor sayfaları gibi uygulama modelleri, tahmin edilebilir bir uygulama Yönlendirme senaryoları biri olan uç noktaları, tüm kaydedin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-145">App models, such as MVC/Razor Pages, register all of their endpoints, which have a predictable implementation of routing scenarios.</span></span>
* <span data-ttu-id="cc32f-146">Yönlendirme uygulama ara yazılım ardışık istenen her yerde yönlendirme kararlarını verir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-146">The routing implementation makes routing decisions wherever desired in the middleware pipeline.</span></span>
* <span data-ttu-id="cc32f-147">Yönlendirme Ara yazılımdan sonra görünen bir ara yazılım, belirli bir istek URI'si için uç nokta karar yönlendirme Ara sonucunu inceleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-147">Middleware that appears after a Routing Middleware can inspect the result of the Routing Middleware's endpoint decision for a given request URI.</span></span>
* <span data-ttu-id="cc32f-148">Tüm uç noktalar için ara yazılım ardışık düzenini herhangi bir yerindeki uygulamasında numaralandırma mümkündür.</span><span class="sxs-lookup"><span data-stu-id="cc32f-148">It's possible to enumerate all of the endpoints in the app anywhere in the middleware pipeline.</span></span>
* <span data-ttu-id="cc32f-149">Uygulama yönlendirme (örneğin, yeniden yönlendirme veya bağlantıları) uç noktası bilgilerini temel alarak URL'lerini oluşturmak ve bu nedenle bakım yardımcı olan URL'ler, sabit kodlanmış önlemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-149">An app can use routing to generate URLs (for example, for redirection or links) based on endpoint information and thus avoid hard-coded URLs, which helps maintainability.</span></span>
* <span data-ttu-id="cc32f-150">URL üretimi rastgele genişletilebilirlik desteği adreslerinde dayanır:</span><span class="sxs-lookup"><span data-stu-id="cc32f-150">URL generation is based on addresses, which support arbitrary extensibility:</span></span>

  * <span data-ttu-id="cc32f-151">Bağlantı oluşturucu API (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>) herhangi bir yerde kullanarak çözülebilir [bağımlılık ekleme (dı)](xref:fundamentals/dependency-injection) URL'lerini oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="cc32f-151">The Link Generator API (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>) can be resolved anywhere using [dependency injection (DI)](xref:fundamentals/dependency-injection) to generate URLs.</span></span>
  * <span data-ttu-id="cc32f-152">Bağlantı oluşturucu API DI kullanılabilir olmayan <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> URL'ler oluşturma yöntemleri sunar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-152">Where the Link Generator API isn't available via DI, <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> offers methods to build URLs.</span></span>

> [!NOTE]
> <span data-ttu-id="cc32f-153">Uç noktası ASP.NET Core 2.2 yönlendirme sürümle birlikte, uç nokta bağlama MVC/Razor sayfaları Eylemler ve sayfaları ile sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-153">With the release of endpoint routing in ASP.NET Core 2.2, endpoint linking is limited to MVC/Razor Pages actions and pages.</span></span> <span data-ttu-id="cc32f-154">Uç nokta bağlama genişletmeleri özellikleri gelecekteki sürümlerde planlanmış.</span><span class="sxs-lookup"><span data-stu-id="cc32f-154">The expansions of endpoint-linking capabilities is planned for future releases.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-155">Yönlendirme kullanan *yollar* (uygulamaları <xref:Microsoft.AspNetCore.Routing.IRouter>) için:</span><span class="sxs-lookup"><span data-stu-id="cc32f-155">Routing uses *routes* (implementations of <xref:Microsoft.AspNetCore.Routing.IRouter>) to:</span></span>

* <span data-ttu-id="cc32f-156">Gelen istekler harita *rota işleyicileri*.</span><span class="sxs-lookup"><span data-stu-id="cc32f-156">Map incoming requests to *route handlers*.</span></span>
* <span data-ttu-id="cc32f-157">Yanıtları kullanılan URL'leri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-157">Generate the URLs used in responses.</span></span>

<span data-ttu-id="cc32f-158">Varsayılan olarak, bir uygulama rota tek bir koleksiyonu vardır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-158">By default, an app has a single collection of routes.</span></span> <span data-ttu-id="cc32f-159">Bir istek ulaştığında, koleksiyon yolları koleksiyonda mevcut olduğunu sırada işlenir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-159">When a request arrives, the routes in the collection are processed in the order that they exist in the collection.</span></span> <span data-ttu-id="cc32f-160">Framework çağırarak gelen istek URL rota koleksiyondaki eşleştirmeyi dener <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> koleksiyondaki her bir yol yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-160">The framework attempts to match an incoming request URL to a route in the collection by calling the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each route in the collection.</span></span> <span data-ttu-id="cc32f-161">Yanıt, yönlendirme (örneğin, yeniden yönlendirme veya bağlantıları) rota bilgilerine dayalı URL'lerini oluşturmak ve bu nedenle bakım yardımcı olan URL'ler, sabit kodlanmış önlemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-161">A response can use routing to generate URLs (for example, for redirection or links) based on route information and thus avoid hard-coded URLs, which helps maintainability.</span></span>

<span data-ttu-id="cc32f-162">Yönlendirme sistem aşağıdaki özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="cc32f-162">The routing system has the following characteristics:</span></span>

* <span data-ttu-id="cc32f-163">Rota şablonu söz dizimi, parçalanmış rota parametrelerinin rotalarla tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-163">Route template syntax is used to define routes with tokenized route parameters.</span></span>
* <span data-ttu-id="cc32f-164">Geleneksel stili ve öznitelik stili uç nokta yapılandırması izin verilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-164">Conventional-style and attribute-style endpoint configuration is permitted.</span></span>
* <span data-ttu-id="cc32f-165"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> bir URL parametresi için belirtilen uç nokta kısıtlaması geçerli bir değer içerip içermediğini belirlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-165"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> is used to determine whether a URL parameter contains a valid value for a given endpoint constraint.</span></span>
* <span data-ttu-id="cc32f-166">MVC/Razor sayfaları gibi uygulama modelleri Yönlendirme senaryoları, tahmin edilebilir bir uygulamasına sahipseniz, yolların kaydedin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-166">App models, such as MVC/Razor Pages, register all of their routes, which have a predictable implementation of routing scenarios.</span></span>
* <span data-ttu-id="cc32f-167">Yanıt, yönlendirme (örneğin, yeniden yönlendirme veya bağlantıları) rota bilgilerine dayalı URL'lerini oluşturmak ve bu nedenle bakım yardımcı olan URL'ler, sabit kodlanmış önlemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-167">A response can use routing to generate URLs (for example, for redirection or links) based on route information and thus avoid hard-coded URLs, which helps maintainability.</span></span>
* <span data-ttu-id="cc32f-168">URL üretimi rastgele genişletilebilirlik desteği yolları üzerinde temel alır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-168">URL generation is based on routes, which support arbitrary extensibility.</span></span> <span data-ttu-id="cc32f-169"><xref:Microsoft.AspNetCore.Mvc.IUrlHelper> URL'ler oluşturma yöntemleri sunar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-169"><xref:Microsoft.AspNetCore.Mvc.IUrlHelper> offers methods to build URLs.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-170">Yönlendirme bağlı olduğu [ara yazılım](xref:fundamentals/middleware/index) tarafından işlem hattı <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-170">Routing is connected to the [middleware](xref:fundamentals/middleware/index) pipeline by the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> class.</span></span> <span data-ttu-id="cc32f-171">[ASP.NET Core MVC](xref:mvc/overview) yapılandırmasına bir parçası olarak ara yazılım ardışık düzene yönlendirme ekler ve MVC Razor sayfaları uygulamalarında yönlendirilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-171">[ASP.NET Core MVC](xref:mvc/overview) adds routing to the middleware pipeline as part of its configuration and handles routing in MVC and Razor Pages apps.</span></span> <span data-ttu-id="cc32f-172">Bir tek başına bileşeni olarak Yönlendirme öğrenmek için bkz [kullanın yönlendirme ara yazılım](#use-routing-middleware) bölümü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-172">To learn how to use routing as a standalone component, see the [Use Routing Middleware](#use-routing-middleware) section.</span></span>

### <a name="url-matching"></a><span data-ttu-id="cc32f-173">URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="cc32f-173">URL matching</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-174">URL ile eşleşen işlemdir hangi yönlendirme dağıtımları tarafından gelen bir istek için bir *uç nokta*.</span><span class="sxs-lookup"><span data-stu-id="cc32f-174">URL matching is the process by which routing dispatches an incoming request to an *endpoint*.</span></span> <span data-ttu-id="cc32f-175">Bu işlem URL yolunda verileri temel alır, ancak istekteki herhangi bir veri dikkate alınması gereken genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-175">This process is based on data in the URL path but can be extended to consider any data in the request.</span></span> <span data-ttu-id="cc32f-176">İşleyicileri ayırmak için istekleri gönderme olanağı, büyüklüğü ve karmaşıklığı ile bir uygulama, ölçeklendirme için anahtardır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-176">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an app.</span></span>

::: moniker-end

::: moniker range=">= aspnetcore-3.0"

<span data-ttu-id="cc32f-177">Bir yönlendirme ara yazılımı yürütüldüğünde, bir uç nokta ayarlar (`Endpoint`) ve rota değerleri için bir özellik üzerinde <xref:Microsoft.AspNetCore.Http.HttpContext>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-177">When a Routing Middleware executes, it sets an endpoint (`Endpoint`) and route values to a feature on the <xref:Microsoft.AspNetCore.Http.HttpContext>.</span></span> <span data-ttu-id="cc32f-178">Geçerli istek için:</span><span class="sxs-lookup"><span data-stu-id="cc32f-178">For the current request:</span></span>

* <span data-ttu-id="cc32f-179">Çağırma `HttpContext.GetEndpoint` uç noktasını alır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-179">Calling `HttpContext.GetEndpoint` gets the endpoint.</span></span>
* <span data-ttu-id="cc32f-180">`HttpRequest.RouteValues` Rota değerleri koleksiyonunu alır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-180">`HttpRequest.RouteValues` gets the collection of route values.</span></span>

<span data-ttu-id="cc32f-181">Yönlendirme Ara yazılımdan sonra çalışan bir ara yazılım, uç nokta bakın ve eylemi gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-181">Middleware running after the Routing Middleware can see the endpoint and take action.</span></span> <span data-ttu-id="cc32f-182">Örneğin, bir yetkilendirme ara yazılımı, uç noktanın bir yetkilendirme ilkesi için meta veri koleksiyonu sorgulayın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-182">For example, an Authorization Middleware can interrogate the endpoint's metadata collection for an authorization policy.</span></span> <span data-ttu-id="cc32f-183">Seçili uç noktanın temsilci, tüm ara yazılımların istek işleme ardışık düzeninde yürütülür sonra çağrılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-183">After all of the middleware in the request processing pipeline is executed, the selected endpoint's delegate is invoked.</span></span>

::: moniker-end

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-184">Uç nokta akışındaki yönlendirme sistemi için tüm dispatching kararlarını sorumludur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-184">The routing system in endpoint routing is responsible for all dispatching decisions.</span></span> <span data-ttu-id="cc32f-185">Ara yazılım seçilen uç noktasına göre ilkeleri uygulayan olduğundan, gönderme etkileyebilecek herhangi bir karar veya güvenlik ilkeleri uygulamayı, yönlendirme sistemin içine yapılan önemlidir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-185">Since the middleware applies policies based on the selected endpoint, it's important that any decision that can affect dispatching or the application of security policies is made inside the routing system.</span></span>

<span data-ttu-id="cc32f-186">Uç nokta temsilci ne zaman çalıştırılır, özelliklerini [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) şimdiye kadarki gerçekleştirilen istek işleme göre uygun değerlere ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-186">When the endpoint delegate is executed, the properties of [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) are set to appropriate values based on the request processing performed thus far.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-187">URL ile eşleşen işlemdir hangi yönlendirme dağıtımları tarafından gelen bir istek için bir *işleyici*.</span><span class="sxs-lookup"><span data-stu-id="cc32f-187">URL matching is the process by which routing dispatches an incoming request to a *handler*.</span></span> <span data-ttu-id="cc32f-188">Bu işlem URL yolunda verileri temel alır, ancak istekteki herhangi bir veri dikkate alınması gereken genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-188">This process is based on data in the URL path but can be extended to consider any data in the request.</span></span> <span data-ttu-id="cc32f-189">İşleyicileri ayırmak için istekleri gönderme olanağı, büyüklüğü ve karmaşıklığı ile bir uygulama, ölçeklendirme için anahtardır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-189">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an app.</span></span>

<span data-ttu-id="cc32f-190">Gelen istekleri girin <xref:Microsoft.AspNetCore.Builder.RouterMiddleware>, çağıran <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> yöntemi dizideki her bir yol.</span><span class="sxs-lookup"><span data-stu-id="cc32f-190">Incoming requests enter the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware>, which calls the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each route in sequence.</span></span> <span data-ttu-id="cc32f-191"><xref:Microsoft.AspNetCore.Routing.IRouter> Örneği seçer kullanılıp kullanılmayacağını *işlemek* ayarlayarak isteğin [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*) NULL olmayan <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-191">The <xref:Microsoft.AspNetCore.Routing.IRouter> instance chooses whether to *handle* the request by setting the [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*) to a non-null <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span></span> <span data-ttu-id="cc32f-192">İstek için bir işleyici bir rotayı ayarlar, işlemenin durması yönlendirmek ve işleyicisi isteği işlemek için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-192">If a route sets a handler for the request, route processing stops, and the handler is invoked to process the request.</span></span> <span data-ttu-id="cc32f-193">İsteği işlemek için hiçbir yol işleyicisi bulunursa, ara yazılım istek ardışık düzende sonraki ara yazılımı için devre dışı istek uygulamalı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-193">If no route handler is found to process the request, the middleware hands the request off to the next middleware in the request pipeline.</span></span>

<span data-ttu-id="cc32f-194">Birincil Giriş <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> olduğu [RouteContext.HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*) geçerli istekle ilişkili.</span><span class="sxs-lookup"><span data-stu-id="cc32f-194">The primary input to <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> is the [RouteContext.HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*) associated with the current request.</span></span> <span data-ttu-id="cc32f-195">[RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler) ve [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*) olduğunu çıkışları bir yol ile eşleşen sonra ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-195">The [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler) and [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*) are outputs set after a route is matched.</span></span>

<span data-ttu-id="cc32f-196">Çağıran bir eşleşme <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> özelliklerini de ayarlar [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) şimdiye kadarki gerçekleştirilen istek işleme göre uygun değerleri.</span><span class="sxs-lookup"><span data-stu-id="cc32f-196">A match that calls <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> also sets the properties of the [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) to appropriate values based on the request processing performed thus far.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-197">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) sözlüğü olan *rota değerleri* route'tan üretti.</span><span class="sxs-lookup"><span data-stu-id="cc32f-197">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="cc32f-198">Bu değerler, genellikle URL belirteç oluşturma tarafından belirlenir ve kullanıcı girişi kabul etmek veya daha fazla dispatching kararlar uygulaması içinde için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-198">These values are usually determined by tokenizing the URL and can be used to accept user input or to make further dispatching decisions inside the app.</span></span>

<span data-ttu-id="cc32f-199">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) olan bir özellik paketi eşlenen rotaya ilgili ek veriler.</span><span class="sxs-lookup"><span data-stu-id="cc32f-199">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="cc32f-200"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*> Uygulama kararlar verebilen her yol ile ilişkilendirmeyi durumu verilerini destekleyecek şekilde sağlanan eşleşen hangi rotalar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-200"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*> are provided to support associating state data with each route so that the app can make decisions based on which route matched.</span></span> <span data-ttu-id="cc32f-201">Bu değerler Geliştirici tanımlı ve yapmak **değil** herhangi bir şekilde yönlendirme davranışını etkiler.</span><span class="sxs-lookup"><span data-stu-id="cc32f-201">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="cc32f-202">Ayrıca, değerleri, gizli [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) aksine herhangi bir türde olabilir [RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values), gelen dizeleri ve dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-202">Additionally, values stashed in [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) can be of any type, in contrast to [RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values), which must be convertible to and from strings.</span></span>

<span data-ttu-id="cc32f-203">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) isteği başarıyla eşleşen yer alan yolları bir listesidir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-203">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="cc32f-204">Yollar başka içinde yuvalanabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-204">Routes can be nested inside of one another.</span></span> <span data-ttu-id="cc32f-205"><xref:Microsoft.AspNetCore.Routing.RouteData.Routers> Özelliği üzerinden bir eşleşme ile sonuçlandı yolların mantıksal ağaç yolu gösterir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-205">The <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="cc32f-206">Genel olarak, listedeki ilk öğe <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> rota koleksiyonu ve URL üretmek için kullanılmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-206">Generally, the first item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route collection and should be used for URL generation.</span></span> <span data-ttu-id="cc32f-207">Son öğenin <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> eşleşen bir rota işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-207">The last item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route handler that matched.</span></span>

<a name="lg"></a>

### <a name="url-generation-with-linkgenerator"></a><span data-ttu-id="cc32f-208">URL üretimi LinkGenerator ile</span><span class="sxs-lookup"><span data-stu-id="cc32f-208">URL generation with LinkGenerator</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-209">URL üretimi işlemdir hangi yönlendirerek, rota değerleri kümesine göre bir URL yolu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-209">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="cc32f-210">Bu, uç noktaları ve erişim URL'leri arasında mantıksal bir ayrım sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-210">This allows for a logical separation between your endpoints and the URLs that access them.</span></span>

<span data-ttu-id="cc32f-211">Bağlantı oluşturucu API uç noktası yönlendirme içerir (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>).</span><span class="sxs-lookup"><span data-stu-id="cc32f-211">Endpoint routing includes the Link Generator API (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>).</span></span> <span data-ttu-id="cc32f-212"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> DI alınan bir singleton hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-212"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> is a singleton service that can be retrieved from DI.</span></span> <span data-ttu-id="cc32f-213">API, bir yürütme isteği bağlamı dışında kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-213">The API can be used outside of the context of an executing request.</span></span> <span data-ttu-id="cc32f-214">MVC'ın <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> ve dayanan senaryoları <xref:Microsoft.AspNetCore.Mvc.IUrlHelper>, gibi [etiket Yardımcıları](xref:mvc/views/tag-helpers/intro), HTML yardımcıları ve [eylem sonuçlarını](xref:mvc/controllers/actions), özellikleri oluşturma bağlantı sağlamak için bağlantı oluşturucuyu kullanın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-214">MVC's <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> and scenarios that rely on <xref:Microsoft.AspNetCore.Mvc.IUrlHelper>, such as [Tag Helpers](xref:mvc/views/tag-helpers/intro), HTML Helpers, and [Action Results](xref:mvc/controllers/actions), use the link generator to provide link generating capabilities.</span></span>

<span data-ttu-id="cc32f-215">Bağlantı oluşturucu kavramı tarafından desteklenen bir *adresi* ve *adres düzenleri*.</span><span class="sxs-lookup"><span data-stu-id="cc32f-215">The link generator is backed by the concept of an *address* and *address schemes*.</span></span> <span data-ttu-id="cc32f-216">Adres düzeni bağlantı oluşturma için değerlendirilmesi gereken uç noktalarını belirleyen bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-216">An address scheme is a way of determining the endpoints that should be considered for link generation.</span></span> <span data-ttu-id="cc32f-217">Örneğin, rota adı ve rota değerleri senaryoları çok sayıda kullanıcı MVC/Razor sayfaları alışkın olduğunuz adres düzeni uygulanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-217">For example, the route name and route values scenarios many users are familiar with from MVC/Razor Pages are implemented as an address scheme.</span></span>

<span data-ttu-id="cc32f-218">Bağlantı oluşturucunun MVC/Razor sayfaları Eylemler ve sayfaları aşağıdaki uzantı yöntemleri aracılığıyla bağlantı oluşturabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="cc32f-218">The link generator can link to MVC/Razor Pages actions and pages via the following extension methods:</span></span>

* <xref:Microsoft.AspNetCore.Routing.ControllerLinkGeneratorExtensions.GetPathByAction*>
* <xref:Microsoft.AspNetCore.Routing.ControllerLinkGeneratorExtensions.GetUriByAction*>
* <xref:Microsoft.AspNetCore.Routing.PageLinkGeneratorExtensions.GetPathByPage*>
* <xref:Microsoft.AspNetCore.Routing.PageLinkGeneratorExtensions.GetUriByPage*>

<span data-ttu-id="cc32f-219">Bu yöntemlerin bir aşırı içeren bağımsız değişkenleri kabul eden `HttpContext`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-219">An overload of these methods accepts arguments that include the `HttpContext`.</span></span> <span data-ttu-id="cc32f-220">Bu yöntemler işlevsel olarak eşdeğerdir `Url.Action` ve `Url.Page` ancak daha fazla esneklik ve seçenek sunar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-220">These methods are functionally equivalent to `Url.Action` and `Url.Page` but offer additional flexibility and options.</span></span>

<span data-ttu-id="cc32f-221">`GetPath*` Yöntemleri en çok benzeyen `Url.Action` ve `Url.Page` içeren mutlak bir yol içeren bir URI hazırlanmasının.</span><span class="sxs-lookup"><span data-stu-id="cc32f-221">The `GetPath*` methods are most similar to `Url.Action` and `Url.Page` in that they generate a URI containing an absolute path.</span></span> <span data-ttu-id="cc32f-222">`GetUri*` Yöntemleri her zaman bir düzen ve konak içeren mutlak bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-222">The `GetUri*` methods always generate an absolute URI containing a scheme and host.</span></span> <span data-ttu-id="cc32f-223">Kabul yöntemleri bir `HttpContext` yürütme isteği bağlamında bir URI oluşturmayı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-223">The methods that accept an `HttpContext` generate a URI in the context of the executing request.</span></span> <span data-ttu-id="cc32f-224">Ortam rota değerleri, temel URL yolu, Düzen ve konak yürütülen istek, geçersiz kılınmadığı sürece kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-224">The ambient route values, URL base path, scheme, and host from the executing request are used unless overridden.</span></span>

<span data-ttu-id="cc32f-225"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> sahip bir adres olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-225"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> is called with an address.</span></span> <span data-ttu-id="cc32f-226">Bir URI oluşturma iki adımda gerçekleştirilir:</span><span class="sxs-lookup"><span data-stu-id="cc32f-226">Generating a URI occurs in two steps:</span></span>

1. <span data-ttu-id="cc32f-227">Bir adres bir adres ile aynı uç noktalar listesine bağlanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-227">An address is bound to a list of endpoints that match the address.</span></span>
1. <span data-ttu-id="cc32f-228">Her uç noktanın `RoutePattern` sağlanan değerler eşleşen bir rota deseni bulunana kadar değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-228">Each endpoint's `RoutePattern` is evaluated until a route pattern that matches the supplied values is found.</span></span> <span data-ttu-id="cc32f-229">Elde edilen çıkış, bağlantı oluşturucuya sağlanan ve döndürülen diğer URI bölümleri ile birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-229">The resulting output is combined with the other URI parts supplied to the link generator and returned.</span></span>

<span data-ttu-id="cc32f-230">Tarafından sağlanan yöntemleri <xref:Microsoft.AspNetCore.Routing.LinkGenerator> adresi herhangi bir türü için standart bağlantı oluşturma özellikleri destekler.</span><span class="sxs-lookup"><span data-stu-id="cc32f-230">The methods provided by <xref:Microsoft.AspNetCore.Routing.LinkGenerator> support standard link generation capabilities for any type of address.</span></span> <span data-ttu-id="cc32f-231">Bağlantı oluşturucu kullanmanın en kolay yolu, işlemleri belirli adres türü için genişletme yöntemleri aracılığıyladır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-231">The most convenient way to use the link generator is through extension methods that perform operations for a specific address type.</span></span>

| <span data-ttu-id="cc32f-232">Genişletme yöntemi</span><span class="sxs-lookup"><span data-stu-id="cc32f-232">Extension Method</span></span>   | <span data-ttu-id="cc32f-233">Açıklama</span><span class="sxs-lookup"><span data-stu-id="cc32f-233">Description</span></span>                                                         |
| ------------------ | ------------------------------------------------------------------- |
| <xref:Microsoft.AspNetCore.Routing.LinkGenerator.GetPathByAddress*> | <span data-ttu-id="cc32f-234">Bir URI ile sağlanan değerlerine göre mutlak bir yol oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-234">Generates a URI with an absolute path based on the provided values.</span></span> |
| <xref:Microsoft.AspNetCore.Routing.LinkGenerator.GetUriByAddress*> | <span data-ttu-id="cc32f-235">Sağlanan değerlere dayalı bir mutlak URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-235">Generates an absolute URI based on the provided values.</span></span>             |

> [!WARNING]
> <span data-ttu-id="cc32f-236">Aşağıdaki arama etkilerini dikkat <xref:Microsoft.AspNetCore.Routing.LinkGenerator> yöntemleri:</span><span class="sxs-lookup"><span data-stu-id="cc32f-236">Pay attention to the following implications of calling <xref:Microsoft.AspNetCore.Routing.LinkGenerator> methods:</span></span>
>
> * <span data-ttu-id="cc32f-237">Kullanım `GetUri*` genişletme yöntemleri dikkatle doğrulamaz bir uygulama yapılandırmasında `Host` , gelen istek üst bilgisi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-237">Use `GetUri*` extension methods with caution in an app configuration that doesn't validate the `Host` header of incoming requests.</span></span> <span data-ttu-id="cc32f-238">Varsa `Host` değil, gelen istek üst bilgisi doğrulandı, güvenilmeyen istek girişi, URI'de bir görünüm/sayfasında istemcisine gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-238">If the `Host` header of incoming requests isn't validated, untrusted request input can be sent back to the client in URIs in a view/page.</span></span> <span data-ttu-id="cc32f-239">Tüm üretim uygulamaları doğrulamak için sunucu yapılandırmanızı öneririz `Host` bilinen geçerli değerler karşı başlığı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-239">We recommend that all production apps configure their server to validate the `Host` header against known valid values.</span></span>
>
> * <span data-ttu-id="cc32f-240">Kullanım <xref:Microsoft.AspNetCore.Routing.LinkGenerator> Ara yazılımında birlikte dikkatle `Map` veya `MapWhen`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-240">Use <xref:Microsoft.AspNetCore.Routing.LinkGenerator> with caution in middleware in combination with `Map` or `MapWhen`.</span></span> <span data-ttu-id="cc32f-241">`Map*` bağlantı oluşturma çıkışını etkiler yürütülen istek temel yolunu değiştirir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-241">`Map*` changes the base path of the executing request, which affects the output of link generation.</span></span> <span data-ttu-id="cc32f-242">Tüm <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API'leri izin temel yolu belirtme.</span><span class="sxs-lookup"><span data-stu-id="cc32f-242">All of the <xref:Microsoft.AspNetCore.Routing.LinkGenerator> APIs allow specifying a base path.</span></span> <span data-ttu-id="cc32f-243">Her zaman geri almak için boş bir temel yol belirtmeniz `Map*`kullanıcının bağlantı nesil etkiler.</span><span class="sxs-lookup"><span data-stu-id="cc32f-243">Always specify an empty base path to undo `Map*`'s affect on link generation.</span></span>

## <a name="differences-from-earlier-versions-of-routing"></a><span data-ttu-id="cc32f-244">Önceki sürümlerini yönlendirme arasındaki farklar</span><span class="sxs-lookup"><span data-stu-id="cc32f-244">Differences from earlier versions of routing</span></span>

<span data-ttu-id="cc32f-245">Uç noktası yönlendirme içinde ASP.NET Core 2.2 veya sonraki bir sürümü ile ASP.NET Core yönlendirme önceki sürümleri arasında bazı farklar mevcuttur:</span><span class="sxs-lookup"><span data-stu-id="cc32f-245">A few differences exist between endpoint routing in ASP.NET Core 2.2 or later and earlier versions of routing in ASP.NET Core:</span></span>

* <span data-ttu-id="cc32f-246">Uç noktası yönlendirme sistemi desteklemiyor <xref:Microsoft.AspNetCore.Routing.IRouter>-genişletilebilirlik dan devralan dahil olmak üzere, temel <xref:Microsoft.AspNetCore.Routing.Route>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-246">The endpoint routing system doesn't support <xref:Microsoft.AspNetCore.Routing.IRouter>-based extensibility, including inheriting from <xref:Microsoft.AspNetCore.Routing.Route>.</span></span>

* <span data-ttu-id="cc32f-247">Uç nokta yönlendirmeyi desteklemiyor [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim).</span><span class="sxs-lookup"><span data-stu-id="cc32f-247">Endpoint routing doesn't support [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim).</span></span> <span data-ttu-id="cc32f-248">Kullanım 2.1 [uyumluluk sürümü](xref:mvc/compatibility-version) (`.SetCompatibilityVersion(CompatibilityVersion.Version_2_1)`) uyumluluk dolgu kullanmaya devam etmek için.</span><span class="sxs-lookup"><span data-stu-id="cc32f-248">Use the 2.1 [compatibility version](xref:mvc/compatibility-version) (`.SetCompatibilityVersion(CompatibilityVersion.Version_2_1)`) to continue using the compatibility shim.</span></span>

* <span data-ttu-id="cc32f-249">Uç noktası yönlendirme için oluşturulan bir URI'leri büyük küçük harfleri farklı bir davranış geleneksel yollar kullanırken sahiptir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-249">Endpoint Routing has different behavior for the casing of generated URIs when using conventional routes.</span></span>

  <span data-ttu-id="cc32f-250">Aşağıdaki varsayılan rota şablonu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="cc32f-250">Consider the following default route template:</span></span>

  ```csharp
  app.UseMvc(routes =>
  {
      routes.MapRoute("default", "{controller=Home}/{action=Index}/{id?}");
  });
  ```

  <span data-ttu-id="cc32f-251">Aşağıdaki yol kullanarak bir eylem giden bir bağlantı oluşturmak varsayalım:</span><span class="sxs-lookup"><span data-stu-id="cc32f-251">Suppose you generate a link to an action using the following route:</span></span>

  ```csharp
  var link = Url.Action("ReadPost", "blog", new { id = 17, });
  ```

  <span data-ttu-id="cc32f-252">İle <xref:Microsoft.AspNetCore.Routing.IRouter>-yönlendirme bağlı olarak, bu kod bir URI'sini oluşturur `/blog/ReadPost/17`, belirtilen rota değerin büyük küçük harfleri dikkate alır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-252">With <xref:Microsoft.AspNetCore.Routing.IRouter>-based routing, this code generates a URI of `/blog/ReadPost/17`, which respects the casing of the provided route value.</span></span> <span data-ttu-id="cc32f-253">ASP.NET Core 2.2 veya sonraki bir sürümde uç noktası yönlendirme üretir `/Blog/ReadPost/17` ("Blog" büyük harfle).</span><span class="sxs-lookup"><span data-stu-id="cc32f-253">Endpoint routing in ASP.NET Core 2.2 or later produces `/Blog/ReadPost/17` ("Blog" is capitalized).</span></span> <span data-ttu-id="cc32f-254">Uç noktası yönlendirme sağlar `IOutboundParameterTransformer` bu davranışı genel özelleştirme veya URL'leri eşleme için farklı kuralları uygulamak için kullanılan arabirim.</span><span class="sxs-lookup"><span data-stu-id="cc32f-254">Endpoint routing provides the `IOutboundParameterTransformer` interface that can be used to customize this behavior globally or to apply different conventions for mapping URLs.</span></span>

  <span data-ttu-id="cc32f-255">Daha fazla bilgi için [parametre transformer başvurusu](#parameter-transformer-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-255">For more information, see the [Parameter transformer reference](#parameter-transformer-reference) section.</span></span>

* <span data-ttu-id="cc32f-256">Geleneksel rotalarla MVC/Razor sayfaları tarafından kullanılan bağlantı oluşturma, bir denetleyici/eylem veya yok sayfasına bağlantı çalışırken farklı davranır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-256">Link Generation used by MVC/Razor Pages with conventional routes behaves differently when attempting to link to an controller/action or page that doesn't exist.</span></span>

  <span data-ttu-id="cc32f-257">Aşağıdaki varsayılan rota şablonu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="cc32f-257">Consider the following default route template:</span></span>

  ```csharp
  app.UseMvc(routes =>
  {
      routes.MapRoute("default", "{controller=Home}/{action=Index}/{id?}");
  });
  ```

  <span data-ttu-id="cc32f-258">Aşağıdaki varsayılan şablonu kullanarak bir eylem giden bir bağlantı oluşturmak varsayalım:</span><span class="sxs-lookup"><span data-stu-id="cc32f-258">Suppose you generate a link to an action using the default template with the following:</span></span>

  ```csharp
  var link = Url.Action("ReadPost", "Blog", new { id = 17, });
  ```

  <span data-ttu-id="cc32f-259">İle `IRouter`-yönlendirme bağlı olarak, sonuç her zaman, `/Blog/ReadPost/17`bile `BlogController` mevcut değil veya yok bir `ReadPost` eylem yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-259">With `IRouter`-based routing, the result is always `/Blog/ReadPost/17`, even if the `BlogController` doesn't exist or doesn't have a `ReadPost` action method.</span></span> <span data-ttu-id="cc32f-260">ASP.NET Core 2.2 veya sonraki bir sürümde uç noktası yönlendirme beklendiği gibi üretir `/Blog/ReadPost/17` eylem yöntemi varsa.</span><span class="sxs-lookup"><span data-stu-id="cc32f-260">As expected, endpoint routing in ASP.NET Core 2.2 or later produces `/Blog/ReadPost/17` if the action method exists.</span></span> <span data-ttu-id="cc32f-261">*Ancak, uç noktası yönlendirme eylemini mevcut değilse boş bir dize oluşturur.*</span><span class="sxs-lookup"><span data-stu-id="cc32f-261">*However, endpoint routing produces an empty string if the action doesn't exist.*</span></span> <span data-ttu-id="cc32f-262">Kavramsal olarak, uç noktası yönlendirme eylemi mevcut değilse uç nokta var olduğunu varsaymaz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-262">Conceptually, endpoint routing doesn't assume that the endpoint exists if the action doesn't exist.</span></span>

* <span data-ttu-id="cc32f-263">Bağlantı oluşturma *ortam değeri geçersiz kılma algoritması* uç noktası yönlendirme ile kullanıldığında farklı davranır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-263">The link generation *ambient value invalidation algorithm* behaves differently when used with endpoint routing.</span></span>

  <span data-ttu-id="cc32f-264">*Ortam değeri geçersiz kılma* hangi rota değerleri (ortam değerler) şu anda yürütülen istek bağlantı oluşturma işlemlerinde kullanılabilir karar algoritmasıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-264">*Ambient value invalidation* is the algorithm that decides which route values from the currently executing request (the ambient values) can be used in link generation operations.</span></span> <span data-ttu-id="cc32f-265">Her zaman geleneksel yönlendirme ek rota değerleri için farklı bir eylem bağlanırken geçersiz kılındı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-265">Conventional routing always invalidated extra route values when linking to a different action.</span></span> <span data-ttu-id="cc32f-266">Öznitelik yönlendirme, ASP.NET Core 2.2 sürümünü önce bu davranışı yoktu.</span><span class="sxs-lookup"><span data-stu-id="cc32f-266">Attribute routing didn't have this behavior prior to the release of ASP.NET Core 2.2.</span></span> <span data-ttu-id="cc32f-267">ASP.NET Core önceki sürümlerinde aynı yol parametre adları kullanan başka bir eylem bağlantıları bağlantı oluşturma hataları sonuçlandı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-267">In earlier versions of ASP.NET Core, links to another action that use the same route parameter names resulted in link generation errors.</span></span> <span data-ttu-id="cc32f-268">ASP.NET Core 2.2 veya sonraki sürümlerde, her iki biçimi yönlendirme için başka bir eylem bağlarken değerleri geçersiz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-268">In ASP.NET Core 2.2 or later, both forms of routing invalidate values when linking to another action.</span></span>

  <span data-ttu-id="cc32f-269">Aşağıdaki örnek ASP.NET Core 2.1 veya daha önce göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="cc32f-269">Consider the following example in ASP.NET Core 2.1 or earlier.</span></span> <span data-ttu-id="cc32f-270">Başka bir eylem (veya başka bir sayfa) bağlanırken, rota değerleri istenmeyen şekilde yeniden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-270">When linking to another action (or another page), route values can be reused in undesirable ways.</span></span>

  <span data-ttu-id="cc32f-271">İçinde */Pages/Store/Product.cshtml*:</span><span class="sxs-lookup"><span data-stu-id="cc32f-271">In */Pages/Store/Product.cshtml*:</span></span>

  ```cshtml
  @page "{id}"
  @Url.Page("/Login")
  ```

  <span data-ttu-id="cc32f-272">İçinde */Pages/Login.cshtml*:</span><span class="sxs-lookup"><span data-stu-id="cc32f-272">In */Pages/Login.cshtml*:</span></span>

  ```cshtml
  @page "{id?}"
  ```

  <span data-ttu-id="cc32f-273">URI ise `/Store/Product/18` bağlantı ASP.NET Core 2.1 veya daha önce oluşturulan tarafından Store/bilgileri sayfasında `@Url.Page("/Login")` olduğu `/Login/18`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-273">If the URI is `/Store/Product/18` in ASP.NET Core 2.1 or earlier, the link generated on the Store/Info page by `@Url.Page("/Login")` is `/Login/18`.</span></span> <span data-ttu-id="cc32f-274">`id` 18 değerini yeniden kullanılabilir, bağlantı hedef tamamen farklı bir uygulamanın parçası olmasına rağmen.</span><span class="sxs-lookup"><span data-stu-id="cc32f-274">The `id` value of 18 is reused, even though the link destination is different part of the app entirely.</span></span> <span data-ttu-id="cc32f-275">`id` Rota değeri bağlamında `/Login` sayfası büyük olasılıkla bir kullanıcı kimliği değerini depolama ürün kimliği değeri geçersiz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-275">The `id` route value in the context of the `/Login` page is probably a user ID value, not a store product ID value.</span></span>

  <span data-ttu-id="cc32f-276">Uç noktasında yönlendirme ile ASP.NET Core 2.2 veya üzeri sonucudur `/Login`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-276">In endpoint routing with ASP.NET Core 2.2 or later, the result is `/Login`.</span></span> <span data-ttu-id="cc32f-277">Ortam değerleri bağlı hedef farklı bir eylem veya sayfası olduğunda yeniden değildir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-277">Ambient values aren't reused when the linked destination is a different action or page.</span></span>

* <span data-ttu-id="cc32f-278">Gidiş dönüşü rota parametresi söz dizimi: Eğik olmayan kodlanmış bir yıldız işareti çift kullanırken (`**`) genel parametresi söz dizimi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-278">Round-tripping route parameter syntax: Forward slashes aren't encoded when using a double-asterisk (`**`) catch-all parameter syntax.</span></span>

  <span data-ttu-id="cc32f-279">Bağlantı oluşturma sırasında bir çift yıldız yakalanan değer yönlendirme sistem kodlar (`**`) genel parametresi (örneğin, `{**myparametername}`) eğik hariç.</span><span class="sxs-lookup"><span data-stu-id="cc32f-279">During link generation, the routing system encodes the value captured in a double-asterisk (`**`) catch-all parameter (for example, `{**myparametername}`) except the forward slashes.</span></span> <span data-ttu-id="cc32f-280">Catch-tüm çift yıldız işareti ile desteklenen `IRouter`-ASP.NET Core 2.2 veya sonraki bir sürümde yönlendirme tabanlı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-280">The double-asterisk catch-all is supported with `IRouter`-based routing in ASP.NET Core 2.2 or later.</span></span>

  <span data-ttu-id="cc32f-281">ASP.NET Core'nın önceki sürümlerinde yıldız genel parametre sözdizimi (`{*myparametername}`) desteklenen kalır ve eğik kodlanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-281">The single asterisk catch-all parameter syntax in prior versions of ASP.NET Core (`{*myparametername}`) remains supported, and forward slashes are encoded.</span></span>

  | <span data-ttu-id="cc32f-282">yol</span><span class="sxs-lookup"><span data-stu-id="cc32f-282">Route</span></span>              | <span data-ttu-id="cc32f-283">İle oluşturulan bağlantı</span><span class="sxs-lookup"><span data-stu-id="cc32f-283">Link generated with</span></span><br>`Url.Action(new { category = "admin/products" })`&hellip; |
  | ------------------ | --------------------------------------------------------------------- |
  | `/search/{*page}`  | <span data-ttu-id="cc32f-284">`/search/admin%2Fproducts` (eğik çizgi kodlanmış)</span><span class="sxs-lookup"><span data-stu-id="cc32f-284">`/search/admin%2Fproducts` (the forward slash is encoded)</span></span>             |
  | `/search/{**page}` | `/search/admin/products`                                              |

### <a name="middleware-example"></a><span data-ttu-id="cc32f-285">Ara yazılım örneği</span><span class="sxs-lookup"><span data-stu-id="cc32f-285">Middleware example</span></span>

<span data-ttu-id="cc32f-286">Aşağıdaki örnekte, bir ara yazılım kullanan <xref:Microsoft.AspNetCore.Routing.LinkGenerator> listeleyen bir eylem yöntemine giden bağlantı oluşturmak için API ürünleri depolayın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-286">In the following example, a middleware uses the <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API to create link to an action method that lists store products.</span></span> <span data-ttu-id="cc32f-287">Bir sınıf ve arama ekleyerek bağlantı oluşturucuyu kullanarak `GenerateLink` bir uygulamada herhangi bir sınıf için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-287">Using the link generator by injecting it into a class and calling `GenerateLink` is available to any class in an app.</span></span>

```csharp
using Microsoft.AspNetCore.Routing;

public class ProductsLinkMiddleware
{
    private readonly LinkGenerator _linkGenerator;

    public ProductsLinkMiddleware(RequestDelegate next, LinkGenerator linkGenerator)
    {
        _linkGenerator = linkGenerator;
    }

    public async Task InvokeAsync(HttpContext httpContext)
    {
        var url = _linkGenerator.GetPathByAction("ListProducts", "Store");

        httpContext.Response.ContentType = "text/plain";

        await httpContext.Response.WriteAsync($"Go to {url} to see our products.");
    }
}
```

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-288">URL üretimi işlemdir hangi yönlendirerek, rota değerleri kümesine göre bir URL yolu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-288">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="cc32f-289">Bu yol işleyicisi ve bunlara erişim URL'leri arasında mantıksal bir ayrım sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-289">This allows for a logical separation between route handlers and the URLs that access them.</span></span>

<span data-ttu-id="cc32f-290">URL üretimi, benzer bir süreçtir takip eder, ancak kullanıcı veya framework kodu çağırma ile başlar <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> yöntemi rota koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="cc32f-290">URL generation follows a similar iterative process, but it starts with user or framework code calling into the <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> method of the route collection.</span></span> <span data-ttu-id="cc32f-291">Her *rota* sahip kendi <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> yöntemi null olmayan bir kadar sırayla çağrılır <xref:Microsoft.AspNetCore.Routing.VirtualPathData> döndürülür.</span><span class="sxs-lookup"><span data-stu-id="cc32f-291">Each *route* has its <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> method called in sequence until a non-null <xref:Microsoft.AspNetCore.Routing.VirtualPathData> is returned.</span></span>

<span data-ttu-id="cc32f-292">Birincil giriş için <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> şunlardır:</span><span class="sxs-lookup"><span data-stu-id="cc32f-292">The primary inputs to <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> are:</span></span>

* [<span data-ttu-id="cc32f-293">VirtualPathContext.HttpContext</span><span class="sxs-lookup"><span data-stu-id="cc32f-293">VirtualPathContext.HttpContext</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext)
* [<span data-ttu-id="cc32f-294">VirtualPathContext.Values</span><span class="sxs-lookup"><span data-stu-id="cc32f-294">VirtualPathContext.Values</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values)
* [<span data-ttu-id="cc32f-295">VirtualPathContext.AmbientValues</span><span class="sxs-lookup"><span data-stu-id="cc32f-295">VirtualPathContext.AmbientValues</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues)

<span data-ttu-id="cc32f-296">Yollar, öncelikle tarafından sağlanan rota değerleri kullanın <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values> ve <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues> bir URL'yi oluşturmak mümkün olup olmadığını ve hangi içerecek şekilde değerleri karar vermek için.</span><span class="sxs-lookup"><span data-stu-id="cc32f-296">Routes primarily use the route values provided by <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values> and <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues> to decide whether it's possible to generate a URL and what values to include.</span></span> <span data-ttu-id="cc32f-297"><xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues> Geçerli isteğe eşleştirmeden üretilen rota değerlerini alır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-297">The <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues> are the set of route values that were produced from matching the current request.</span></span> <span data-ttu-id="cc32f-298">Buna karşılık, <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values> geçerli işlem için istenen URL'yi oluşturmak nasıl belirten rota değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-298">In contrast, <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values> are the route values that specify how to generate the desired URL for the current operation.</span></span> <span data-ttu-id="cc32f-299"><xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext> Olasılığına yol Hizmetleri ya da geçerli bağlam ile ilişkili ek veri edinmelidir sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-299">The <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext> is provided in case a route should obtain services or additional data associated with the current context.</span></span>

> [!TIP]
> <span data-ttu-id="cc32f-300">Düşünün [VirtualPathContext.Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*) geçersiz kılmalar için bir dizi olarak [VirtualPathContext.AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*).</span><span class="sxs-lookup"><span data-stu-id="cc32f-300">Think of [VirtualPathContext.Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*) as a set of overrides for the [VirtualPathContext.AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*).</span></span> <span data-ttu-id="cc32f-301">URL üretimi, rota değerleri için bağlantıları aynı yol ya da rota değerlerini kullanarak URL üretmek için geçerli istek yeniden dener.</span><span class="sxs-lookup"><span data-stu-id="cc32f-301">URL generation attempts to reuse route values from the current request to generate URLs for links using the same route or route values.</span></span>

<span data-ttu-id="cc32f-302">Çıkışı <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> olduğu bir <xref:Microsoft.AspNetCore.Routing.VirtualPathData>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-302">The output of <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> is a <xref:Microsoft.AspNetCore.Routing.VirtualPathData>.</span></span> <span data-ttu-id="cc32f-303"><xref:Microsoft.AspNetCore.Routing.VirtualPathData> Paralel olan <xref:Microsoft.AspNetCore.Routing.RouteData>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-303"><xref:Microsoft.AspNetCore.Routing.VirtualPathData> is a parallel of <xref:Microsoft.AspNetCore.Routing.RouteData>.</span></span> <span data-ttu-id="cc32f-304"><xref:Microsoft.AspNetCore.Routing.VirtualPathData> içeren <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> çıkış URL'si ve rota tarafından ayarlanması bazı ek özellikler.</span><span class="sxs-lookup"><span data-stu-id="cc32f-304"><xref:Microsoft.AspNetCore.Routing.VirtualPathData> contains the <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> for the output URL and some additional properties that should be set by the route.</span></span>

<span data-ttu-id="cc32f-305">[VirtualPathData.VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) özelliği içeren *sanal yol* rota tarafından üretilen.</span><span class="sxs-lookup"><span data-stu-id="cc32f-305">The [VirtualPathData.VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) property contains the *virtual path* produced by the route.</span></span> <span data-ttu-id="cc32f-306">Gereksinimlerinize bağlı olarak, daha fazla yolu işlem gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-306">Depending on your needs, you may need to process the path further.</span></span> <span data-ttu-id="cc32f-307">Oluşturulan URL HTML işlemek istiyorsanız, uygulamanın taban yolu önüne ekleyin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-307">If you want to render the generated URL in HTML, prepend the base path of the app.</span></span>

<span data-ttu-id="cc32f-308">[VirtualPathData.Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*) URL başarıyla oluşturuldu rota bir başvurudur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-308">The [VirtualPathData.Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*) is a reference to the route that successfully generated the URL.</span></span>

<span data-ttu-id="cc32f-309">[VirtualPathData.DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) özellikleri olan URL'yi oluşturulan yol ilgili ek veri sözlüğü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-309">The [VirtualPathData.DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) properties is a dictionary of additional data related to the route that generated the URL.</span></span> <span data-ttu-id="cc32f-310">Bu, paralel, [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*).</span><span class="sxs-lookup"><span data-stu-id="cc32f-310">This is the parallel of [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*).</span></span>

::: moniker-end

### <a name="create-routes"></a><span data-ttu-id="cc32f-311">Yollar oluşturma</span><span class="sxs-lookup"><span data-stu-id="cc32f-311">Create routes</span></span>

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-312">Yönlendirme sağlar <xref:Microsoft.AspNetCore.Routing.Route> sınıf öğesinin standart uygulaması olarak <xref:Microsoft.AspNetCore.Routing.IRouter>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-312">Routing provides the <xref:Microsoft.AspNetCore.Routing.Route> class as the standard implementation of <xref:Microsoft.AspNetCore.Routing.IRouter>.</span></span> <span data-ttu-id="cc32f-313"><xref:Microsoft.AspNetCore.Routing.Route> kullanan *rota şablonu* karşı URL yolu eşleştirilecek desenleri tanımlamak için sözdizimi, <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> çağrılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-313"><xref:Microsoft.AspNetCore.Routing.Route> uses the *route template* syntax to define patterns to match against the URL path when <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> is called.</span></span> <span data-ttu-id="cc32f-314"><xref:Microsoft.AspNetCore.Routing.Route> bir URL'yi oluşturmak için aynı rota şablonunu kullanır, <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> çağrılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-314"><xref:Microsoft.AspNetCore.Routing.Route> uses the same route template to generate a URL when <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> is called.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-315">Çoğu uygulama çağırarak yollar oluşturma <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> veya benzer genişletme yöntemlerini tanımlanan <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-315">Most apps create routes by calling <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> or one of the similar extension methods defined on <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span></span> <span data-ttu-id="cc32f-316">Herhangi bir <xref:Microsoft.AspNetCore.Routing.IRouteBuilder> genişletme yöntemleri öğesinin bir örneğini oluşturamıyor <xref:Microsoft.AspNetCore.Routing.Route> ve rota koleksiyona ekleyin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-316">Any of the <xref:Microsoft.AspNetCore.Routing.IRouteBuilder> extension methods create an instance of <xref:Microsoft.AspNetCore.Routing.Route> and add it to the route collection.</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-317"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> bir rota işleyicisi parametresini kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="cc32f-317"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> doesn't accept a route handler parameter.</span></span> <span data-ttu-id="cc32f-318"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> yalnızca tarafından işlenen rotalar ekler <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-318"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> only adds routes that are handled by the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span> <span data-ttu-id="cc32f-319">MVC yönlendirme hakkında daha fazla bilgi için bkz: <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-319">To learn more about routing in MVC, see <xref:mvc/controllers/routing>.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-320"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> bir rota işleyicisi parametresini kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="cc32f-320"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> doesn't accept a route handler parameter.</span></span> <span data-ttu-id="cc32f-321"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> yalnızca tarafından işlenen rotalar ekler <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-321"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> only adds routes that are handled by the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span> <span data-ttu-id="cc32f-322">Varsayılan işleyici bir `IRouter`, ve işleyici isteği işlememesi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-322">The default handler is an `IRouter`, and the handler might not handle the request.</span></span> <span data-ttu-id="cc32f-323">Örneğin, yalnızca işleyen bir varsayılan işleyici eşleşen bir kullanılabilir denetleyici ve eylem istekleri gibi ASP.NET Core MVC genellikle yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-323">For example, ASP.NET Core MVC is typically configured as a default handler that only handles requests that match an available controller and action.</span></span> <span data-ttu-id="cc32f-324">MVC yönlendirme hakkında daha fazla bilgi için bkz: <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-324">To learn more about routing in MVC, see <xref:mvc/controllers/routing>.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-325">Aşağıdaki kod örneği, örneğidir bir <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> tipik bir ASP.NET Core MVC yönlendirme tanımı tarafından kullanılan arama:</span><span class="sxs-lookup"><span data-stu-id="cc32f-325">The following code example is an example of a <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> call used by a typical ASP.NET Core MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="cc32f-326">Bu şablon, eşleşen bir URL yolu ve rota değerlerini ayıklar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-326">This template matches a URL path and extracts the route values.</span></span> <span data-ttu-id="cc32f-327">Örneğin, yol `/Products/Details/17` aşağıdaki rota değerlerini oluşturur: `{ controller = Products, action = Details, id = 17 }`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-327">For example, the path `/Products/Details/17` generates the following route values: `{ controller = Products, action = Details, id = 17 }`.</span></span>

<span data-ttu-id="cc32f-328">Rota değerleri ve URL yolunu kesimler halinde bölme ve her bir kesim ile eşleşen tarafından belirlenir *parametre yol* adını, rota şablonu.</span><span class="sxs-lookup"><span data-stu-id="cc32f-328">Route values are determined by splitting the URL path into segments and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="cc32f-329">Rota parametrelerine olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-329">Route parameters are named.</span></span> <span data-ttu-id="cc32f-330">Parametre adı, küme ayraçları içine kapsayan tarafından tanımlanan parametrelerin `{ ... }`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-330">The parameters defined by enclosing the parameter name in braces `{ ... }`.</span></span>

<span data-ttu-id="cc32f-331">Yukarıdaki şablonu URL yolu da eşleşen `/` ve değerler üretmek `{ controller = Home, action = Index }`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-331">The preceding template could also match the URL path `/` and produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="cc32f-332">Bu durum oluşur `{controller}` ve `{action}` rota parametrelerinin varsayılan değerlere sahip olur ve `id` rota parametresinin isteğe bağlı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-332">This occurs because the `{controller}` and `{action}` route parameters have default values and the `id` route parameter is optional.</span></span> <span data-ttu-id="cc32f-333">Bir eşittir işareti (`=`) rota parametresi adı parametresi için varsayılan bir değer tanımlar sonra bir değer tarafından izlenen.</span><span class="sxs-lookup"><span data-stu-id="cc32f-333">An equals sign (`=`) followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="cc32f-334">Bir soru işareti (`?`) sonra isteğe bağlı bir parametre rota parametresi adını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-334">A question mark (`?`) after the route parameter name defines an optional parameter.</span></span>

<span data-ttu-id="cc32f-335">Rota parametrelerinin varsayılan bir değerle *her zaman* rota eşleştiğinde bir yönlendirme değeri üretir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-335">Route parameters with a default value *always* produce a route value when the route matches.</span></span> <span data-ttu-id="cc32f-336">İsteğe bağlı parametreler, karşılık gelen hiçbir URL yol kesimi ise bir yönlendirme değeri üretmediği.</span><span class="sxs-lookup"><span data-stu-id="cc32f-336">Optional parameters don't produce a route value if there was no corresponding URL path segment.</span></span> <span data-ttu-id="cc32f-337">Bkz: [rota şablonu başvurusu](#route-template-reference) bölümünü kapsamlı bir açıklama için rota şablonu senaryoları ve söz dizimi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-337">See the [Route template reference](#route-template-reference) section for a thorough description of route template scenarios and syntax.</span></span>

<span data-ttu-id="cc32f-338">Aşağıdaki örnekte, rota parametre tanımında `{id:int}` tanımlayan bir [rota kısıtlaması](#route-constraint-reference) için `id` parametre yol:</span><span class="sxs-lookup"><span data-stu-id="cc32f-338">In the following example, the route parameter definition `{id:int}` defines a [route constraint](#route-constraint-reference) for the `id` route parameter:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="cc32f-339">Bu şablon bir URL yolu gibi eşleşen `/Products/Details/17` ama `/Products/Details/Apples`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-339">This template matches a URL path like `/Products/Details/17` but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="cc32f-340">Rota kısıtlamalarını uygulamak <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> ve onları doğrulamak için rota değerlerini denetleyin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-340">Route constraints implement <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> and inspect route values to verify them.</span></span> <span data-ttu-id="cc32f-341">Bu örnekte, rota değeri `id` tamsayıya dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-341">In this example, the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="cc32f-342">Bkz: [rota kısıtlaması başvurusu](#route-constraint-reference) rota kısıtlamaları framework tarafından sağlanan bir açıklaması için.</span><span class="sxs-lookup"><span data-stu-id="cc32f-342">See [route-constraint-reference](#route-constraint-reference) for an explanation of route constraints provided by the framework.</span></span>

<span data-ttu-id="cc32f-343">Ek aşırı yüklemeleri <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> değerleri kabul edin `constraints`, `dataTokens`, ve `defaults`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-343">Additional overloads of <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="cc32f-344">Bu parametre normal kullanım, burada parametre adları anonim tür eşleşen özellik adlarını rota anonim olarak belirlenmiş bir nesne geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-344">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="cc32f-345">Aşağıdaki <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> örnekler eşdeğer yollar oluşturur:</span><span class="sxs-lookup"><span data-stu-id="cc32f-345">The following <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

> [!TIP]
> <span data-ttu-id="cc32f-346">Satır içi söz dizimi kısıtlamaları ve varsayılan değerleri tanımlamak için basit yollar için kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-346">The inline syntax for defining constraints and defaults can be convenient for simple routes.</span></span> <span data-ttu-id="cc32f-347">Ancak, satır içi sözdizimi tarafından desteklenmeyen veri belirteçlerini gibi senaryoları vardır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-347">However, there are scenarios, such as data tokens, that aren't supported by inline syntax.</span></span>

<span data-ttu-id="cc32f-348">Aşağıdaki örnek, bazı ek senaryoları göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="cc32f-348">The following example demonstrates a few additional scenarios:</span></span>

::: moniker range=">= aspnetcore-2.2"

```csharp
routes.MapRoute(
    name: "blog",
    template: "Blog/{**article}",
    defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="cc32f-349">Önceki şablonda bir URL yolu gibi eşleşen `/Blog/All-About-Routing/Introduction` ve değerleri ayıklar `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-349">The preceding template matches a URL path like `/Blog/All-About-Routing/Introduction` and extracts the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="cc32f-350">Varsayılan rota değerleri için `controller` ve `action` olsa bile karşılık gelen hiçbir rota parametrelerinin şablonda rota tarafından üretilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-350">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="cc32f-351">Varsayılan değerleri, rota şablonu belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-351">Default values can be specified in the route template.</span></span> <span data-ttu-id="cc32f-352">`article` Rota parametresi olarak tanımlanmış olan bir *tümünü* çift yıldız görünümünü tarafından (`**`) rota parametre adından önce.</span><span class="sxs-lookup"><span data-stu-id="cc32f-352">The `article` route parameter is defined as a *catch-all* by the appearance of an double asterisk (`**`) before the route parameter name.</span></span> <span data-ttu-id="cc32f-353">Tümünü rota parametrelerinin, URL yolu geri kalanında yakalayın ve boş bir dize da eşleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-353">Catch-all route parameters capture the remainder of the URL path and can also match the empty string.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

```csharp
routes.MapRoute(
    name: "blog",
    template: "Blog/{*article}",
    defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="cc32f-354">Önceki şablonda bir URL yolu gibi eşleşen `/Blog/All-About-Routing/Introduction` ve değerleri ayıklar `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-354">The preceding template matches a URL path like `/Blog/All-About-Routing/Introduction` and extracts the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="cc32f-355">Varsayılan rota değerleri için `controller` ve `action` olsa bile karşılık gelen hiçbir rota parametrelerinin şablonda rota tarafından üretilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-355">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="cc32f-356">Varsayılan değerleri, rota şablonu belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-356">Default values can be specified in the route template.</span></span> <span data-ttu-id="cc32f-357">`article` Rota parametresi olarak tanımlanmış olan bir *tümünü* görünümüne göre bir yıldız işareti (`*`) rota parametre adından önce.</span><span class="sxs-lookup"><span data-stu-id="cc32f-357">The `article` route parameter is defined as a *catch-all* by the appearance of an asterisk (`*`) before the route parameter name.</span></span> <span data-ttu-id="cc32f-358">Tümünü rota parametrelerinin, URL yolu geri kalanında yakalayın ve boş bir dize da eşleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-358">Catch-all route parameters capture the remainder of the URL path and can also match the empty string.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-359">Aşağıdaki örnek, rota kısıtlamaları ve veri belirteçleri ekler:</span><span class="sxs-lookup"><span data-stu-id="cc32f-359">The following example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="cc32f-360">Önceki şablonda bir URL yolu gibi eşleşen `/en-US/Products/5` ve değerleri ayıklar `{ controller = Products, action = Details, id = 5 }` ve veri belirteçleri `{ locale = en-US }`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-360">The preceding template matches a URL path like `/en-US/Products/5` and extracts the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![Yerel Windows belirteçleri](routing/_static/tokens.png)

### <a name="route-class-url-generation"></a><span data-ttu-id="cc32f-362">Rota sınıfı URL üretimi</span><span class="sxs-lookup"><span data-stu-id="cc32f-362">Route class URL generation</span></span>

<span data-ttu-id="cc32f-363"><xref:Microsoft.AspNetCore.Routing.Route> Sınıfı da gerçekleştirebilirsiniz URL üretimi bir dizi rota değerleri, rota şablonu ile birleştirerek.</span><span class="sxs-lookup"><span data-stu-id="cc32f-363">The <xref:Microsoft.AspNetCore.Routing.Route> class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="cc32f-364">Bu mantıksal olarak URL yolu eşleşen ters işlemidir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-364">This is logically the reverse process of matching the URL path.</span></span>

> [!TIP]
> <span data-ttu-id="cc32f-365">URL üretimi daha iyi anlamak için oluşturmak ve ardından söz konusu URL rota şablonu nasıl BC hakkında düşünmek için hangi URL'yi düşünün.</span><span class="sxs-lookup"><span data-stu-id="cc32f-365">To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="cc32f-366">Hangi değerleri üretilen?</span><span class="sxs-lookup"><span data-stu-id="cc32f-366">What values would be produced?</span></span> <span data-ttu-id="cc32f-367">Bu, URL üretimi nasıl çalıştığını kabaca eşdeğeridir <xref:Microsoft.AspNetCore.Routing.Route> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-367">This is the rough equivalent of how URL generation works in the <xref:Microsoft.AspNetCore.Routing.Route> class.</span></span>

<span data-ttu-id="cc32f-368">Aşağıdaki örnek, genel bir ASP.NET Core MVC varsayılan rota kullanır:</span><span class="sxs-lookup"><span data-stu-id="cc32f-368">The following example uses a general ASP.NET Core MVC default route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="cc32f-369">Rota değerleri ile `{ controller = Products, action = List }`, URL `/Products/List` oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-369">With the route values `{ controller = Products, action = List }`, the URL `/Products/List` is generated.</span></span> <span data-ttu-id="cc32f-370">Rota değerleri, URL yolu oluşturmak karşılık gelen rota parametrelerinin yerini alır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-370">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="cc32f-371">Bu yana `id` isteğe bağlıdır rota parametresi, URL için bir değer olmadan başarıyla oluşturulur `id`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-371">Since `id` is an optional route parameter, the URL is successfully generated without a value for `id`.</span></span>

<span data-ttu-id="cc32f-372">Rota değerleri ile `{ controller = Home, action = Index }`, URL `/` oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-372">With the route values `{ controller = Home, action = Index }`, the URL `/` is generated.</span></span> <span data-ttu-id="cc32f-373">Belirtilen rota değerleri varsayılan değerleriyle eşleşir ve varsayılan değerlere karşılık gelen segmentleri güvenli bir şekilde göz ardı edilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-373">The provided route values match the default values, and the segments corresponding to the default values are safely omitted.</span></span>

<span data-ttu-id="cc32f-374">Aşağıdaki rota tanımını ile hem oluşturulan URL'leri gidiş dönüş (`/Home/Index` ve `/`) URL'yi oluşturmak için kullanılan aynı rota değerlerini üretir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-374">Both URLs generated round-trip with the following route definition (`/Home/Index` and `/`) produce the same route values that were used to generate the URL.</span></span>

> [!NOTE]
> <span data-ttu-id="cc32f-375">ASP.NET Core MVC kullanarak uygulama kullanması gereken <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> doğrudan yönlendirme içine çağırmak yerine URL'lerini oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="cc32f-375">An app using ASP.NET Core MVC should use <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="cc32f-376">URL üretimi hakkında daha fazla bilgi için bkz. [Url üretimi başvuru](#url-generation-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-376">For more information on URL generation, see the [Url generation reference](#url-generation-reference) section.</span></span>

## <a name="use-routing-middleware"></a><span data-ttu-id="cc32f-377">Yönlendirme ara yazılım kullanın</span><span class="sxs-lookup"><span data-stu-id="cc32f-377">Use Routing Middleware</span></span>

<span data-ttu-id="cc32f-378">Başvuru [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) uygulamanın proje dosyasında.</span><span class="sxs-lookup"><span data-stu-id="cc32f-378">Reference the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) in the app's project file.</span></span>

<span data-ttu-id="cc32f-379">Hizmet kapsayıcısını yönlendirme ekleme `Startup.ConfigureServices`:</span><span class="sxs-lookup"><span data-stu-id="cc32f-379">Add routing to the service container in `Startup.ConfigureServices`:</span></span>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

<span data-ttu-id="cc32f-380">Yollar yapılandırılmalıdır `Startup.Configure` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-380">Routes must be configured in the `Startup.Configure` method.</span></span> <span data-ttu-id="cc32f-381">Örnek uygulama aşağıdaki API'leri kullanır:</span><span class="sxs-lookup"><span data-stu-id="cc32f-381">The sample app uses the following APIs:</span></span>

* <xref:Microsoft.AspNetCore.Routing.RouteBuilder>
* <span data-ttu-id="cc32f-382"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; Yalnızca HTTP GET isteklerini eşleşir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-382"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; Matches only HTTP GET requests.</span></span>
* <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

<span data-ttu-id="cc32f-383">Aşağıdaki tablo, belirli bir URI'leri yanıtları gösterir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-383">The following table shows the responses with the given URIs.</span></span>

| <span data-ttu-id="cc32f-384">URI</span><span class="sxs-lookup"><span data-stu-id="cc32f-384">URI</span></span>                    | <span data-ttu-id="cc32f-385">Yanıt</span><span class="sxs-lookup"><span data-stu-id="cc32f-385">Response</span></span>                                          |
| ---------------------- | ------------------------------------------------- |
| `/package/create/3`    | <span data-ttu-id="cc32f-386">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="cc32f-386">Hello!</span></span> <span data-ttu-id="cc32f-387">Rota değerleri: [işlem oluşturun], [ID, 3]</span><span class="sxs-lookup"><span data-stu-id="cc32f-387">Route values: [operation, create], [id, 3]</span></span> |
| `/package/track/-3`    | <span data-ttu-id="cc32f-388">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="cc32f-388">Hello!</span></span> <span data-ttu-id="cc32f-389">Rota değerleri: [işlem, izleme], [ID, -3]</span><span class="sxs-lookup"><span data-stu-id="cc32f-389">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/-3/`   | <span data-ttu-id="cc32f-390">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="cc32f-390">Hello!</span></span> <span data-ttu-id="cc32f-391">Rota değerleri: [işlem, izleme], [ID, -3]</span><span class="sxs-lookup"><span data-stu-id="cc32f-391">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/`      | <span data-ttu-id="cc32f-392">Talep düştüğünde aracılığıyla, eşleşme yok.</span><span class="sxs-lookup"><span data-stu-id="cc32f-392">The request falls through, no match.</span></span>              |
| `GET /hello/Joe`       | <span data-ttu-id="cc32f-393">Merhaba, ALi!</span><span class="sxs-lookup"><span data-stu-id="cc32f-393">Hi, Joe!</span></span>                                          |
| `POST /hello/Joe`      | <span data-ttu-id="cc32f-394">İstek geçmez, yalnızca HTTP GET eşleşir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-394">The request falls through, matches HTTP GET only.</span></span> |
| `GET /hello/Joe/Smith` | <span data-ttu-id="cc32f-395">Talep düştüğünde aracılığıyla, eşleşme yok.</span><span class="sxs-lookup"><span data-stu-id="cc32f-395">The request falls through, no match.</span></span>              |

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-396">Tek bir yol yapılandırıyorsanız, çağrı <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*> öğesinde geçen bir `IRouter` örneği.</span><span class="sxs-lookup"><span data-stu-id="cc32f-396">If you're configuring a single route, call <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*> passing in an `IRouter` instance.</span></span> <span data-ttu-id="cc32f-397">Kullanmanız gerekmez <xref:Microsoft.AspNetCore.Routing.RouteBuilder>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-397">You won't need to use <xref:Microsoft.AspNetCore.Routing.RouteBuilder>.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-398">Çerçeve rotalar oluşturma için genişletme yöntemleri kümesini sunar (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span><span class="sxs-lookup"><span data-stu-id="cc32f-398">The framework provides a set of extension methods for creating routes (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span></span>

* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareVerb*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-399">Listelenen bazı yöntemler gibi <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>, gerekli bir <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-399">Some of listed methods, such as <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>, require a <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span></span> <span data-ttu-id="cc32f-400"><xref:Microsoft.AspNetCore.Http.RequestDelegate> Olarak kullanılan *rota işleyiciye* zaman yol ile eşleşen.</span><span class="sxs-lookup"><span data-stu-id="cc32f-400">The <xref:Microsoft.AspNetCore.Http.RequestDelegate> is used as the *route handler* when the route matches.</span></span> <span data-ttu-id="cc32f-401">Bu serideki diğer yöntemleri rota işleyiciye bir ara yazılım ardışık düzenini kullanmak için yapılandırma sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-401">Other methods in this family allow configuring a middleware pipeline for use as the route handler.</span></span> <span data-ttu-id="cc32f-402">Varsa `Map*` değil accept yöntemi bir işleyici gibi <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>, kullandığı <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-402">If the `Map*` method doesn't accept a handler, such as <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>, it uses the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-403">`Map[Verb]` Yöntemleri kısıtlamaları HTTP fiili yöntem adı için rota sınırlamak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-403">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="cc32f-404">Örneğin, <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> ve <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-404">For example, see <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> and <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="cc32f-405">Rota şablonu başvurusu</span><span class="sxs-lookup"><span data-stu-id="cc32f-405">Route template reference</span></span>

<span data-ttu-id="cc32f-406">Belirteçleri kaşlı ayraçlar içinde (`{ ... }`) tanımlamak *rota parametreleri* rotanın eşleşmesi durumunda bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-406">Tokens within curly braces (`{ ... }`) define *route parameters* that are bound if the route is matched.</span></span> <span data-ttu-id="cc32f-407">İçindeki bir yol parçasının birden fazla rota parametresini tanımlayabilirsiniz, ancak bir değişmez değer ayrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-407">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="cc32f-408">Örneğin, `{controller=Home}{action=Index}` arasında herhangi bir değişmez değer olduğundan geçerli bir yol değil `{controller}` ve `{action}`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-408">For example, `{controller=Home}{action=Index}` isn't a valid route, since there's no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="cc32f-409">Bu rota parametrelerinin bir adı olmalıdır ve ek öznitelikler belirtmiş olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-409">These route parameters must have a name and may have additional attributes specified.</span></span>

<span data-ttu-id="cc32f-410">Metin rota parametrelerinin dışında (örneğin, `{id}`) ve yol ayırıcısı `/` URL metin eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-410">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="cc32f-411">Eşleşen metin büyük/küçük harfe ve URL yolunu kodu çözülmüş gösterimini göre.</span><span class="sxs-lookup"><span data-stu-id="cc32f-411">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="cc32f-412">Değişmez değer rota parametresi sınırlayıcı eşleştirmek için (`{` veya `}`), sınırlayıcı karakter tekrarlayarak kaçış (`{{` veya `}}`).</span><span class="sxs-lookup"><span data-stu-id="cc32f-412">To match a literal route parameter delimiter (`{` or `}`), escape the delimiter by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="cc32f-413">İsteğe bağlı dosya uzantısına sahip bir dosya adı yakalama girişimi URL desenleri ek hususlar vardır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-413">URL patterns that attempt to capture a file name with an optional file extension have additional considerations.</span></span> <span data-ttu-id="cc32f-414">Örneğin, şablonu düşünün `files/{filename}.{ext?}`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-414">For example, consider the template `files/{filename}.{ext?}`.</span></span> <span data-ttu-id="cc32f-415">Hem de değerleri `filename` ve `ext` var, her iki değerler doldurulur.</span><span class="sxs-lookup"><span data-stu-id="cc32f-415">When values for both `filename` and `ext` exist, both values are populated.</span></span> <span data-ttu-id="cc32f-416">İçin bir değer `filename` URL'nin yol eşleşmeleri var olduğundan sondaki nokta (`.`) isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-416">If only a value for `filename` exists in the URL, the route matches because the trailing period (`.`) is  optional.</span></span> <span data-ttu-id="cc32f-417">Aşağıdaki URL'ler bu rotanın eşleşmesi:</span><span class="sxs-lookup"><span data-stu-id="cc32f-417">The following URLs match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile`

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-418">Bir yıldız işareti kullanabilirsiniz (`*`) veya çift yıldız işareti (`**`) URI rest'e bağlamak için bir rota parametresini öneki olarak.</span><span class="sxs-lookup"><span data-stu-id="cc32f-418">You can use an asterisk (`*`) or double asterisk (`**`) as a prefix to a route parameter to bind to the rest of the URI.</span></span> <span data-ttu-id="cc32f-419">Bu adlı bir *tümünü* parametreleri.</span><span class="sxs-lookup"><span data-stu-id="cc32f-419">These are called a *catch-all* parameters.</span></span> <span data-ttu-id="cc32f-420">Örneğin, `blog/{**slug}` ile başlayan herhangi bir URL ile eşleşen `/blog` ve öğesine atanan bu, aşağıdaki herhangi bir değere sahip `slug` rota değeri.</span><span class="sxs-lookup"><span data-stu-id="cc32f-420">For example, `blog/{**slug}` matches any URI that starts with `/blog` and has any value following it, which is assigned to the `slug` route value.</span></span> <span data-ttu-id="cc32f-421">Genel parametreleri da boş dize eşleşebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-421">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="cc32f-422">Yol, yol ayırıcı dahil olmak üzere, bir URL'yi oluşturmak için kullanıldığında, yakalama-all parametresini uygun karakterleri kaçırır. (`/`) karakter.</span><span class="sxs-lookup"><span data-stu-id="cc32f-422">The catch-all parameter escapes the appropriate characters when the route is used to generate a URL, including path separator (`/`) characters.</span></span> <span data-ttu-id="cc32f-423">Örneğin, yol `foo/{*path}` rota değerleri ile `{ path = "my/path" }` oluşturur `foo/my%2Fpath`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-423">For example, the route `foo/{*path}` with route values `{ path = "my/path" }` generates `foo/my%2Fpath`.</span></span> <span data-ttu-id="cc32f-424">Atlanan eğik unutmayın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-424">Note the escaped forward slash.</span></span> <span data-ttu-id="cc32f-425">Gidiş dönüş yol ayırıcı karakter kullanın `**` rota parametresinin öneki.</span><span class="sxs-lookup"><span data-stu-id="cc32f-425">To round-trip path separator characters, use the `**` route parameter prefix.</span></span> <span data-ttu-id="cc32f-426">Rota `foo/{**path}` ile `{ path = "my/path" }` oluşturur `foo/my/path`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-426">The route `foo/{**path}` with `{ path = "my/path" }` generates `foo/my/path`.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="cc32f-427">Yıldız işareti kullanabilirsiniz (`*`) URI rest'e bağlamak için bir rota parametresini öneki olarak.</span><span class="sxs-lookup"><span data-stu-id="cc32f-427">You can use the asterisk (`*`) as a prefix to a route parameter to bind to the rest of the URI.</span></span> <span data-ttu-id="cc32f-428">Bu adlı bir *tümünü* parametresi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-428">This is called a *catch-all* parameter.</span></span> <span data-ttu-id="cc32f-429">Örneğin, `blog/{*slug}` ile başlayan herhangi bir URL ile eşleşen `/blog` ve öğesine atanan bu, aşağıdaki herhangi bir değere sahip `slug` rota değeri.</span><span class="sxs-lookup"><span data-stu-id="cc32f-429">For example, `blog/{*slug}` matches any URI that starts with `/blog` and has any value following it, which is assigned to the `slug` route value.</span></span> <span data-ttu-id="cc32f-430">Genel parametreleri da boş dize eşleşebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-430">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="cc32f-431">Yol, yol ayırıcı dahil olmak üzere, bir URL'yi oluşturmak için kullanıldığında, yakalama-all parametresini uygun karakterleri kaçırır. (`/`) karakter.</span><span class="sxs-lookup"><span data-stu-id="cc32f-431">The catch-all parameter escapes the appropriate characters when the route is used to generate a URL, including path separator (`/`) characters.</span></span> <span data-ttu-id="cc32f-432">Örneğin, yol `foo/{*path}` rota değerleri ile `{ path = "my/path" }` oluşturur `foo/my%2Fpath`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-432">For example, the route `foo/{*path}` with route values `{ path = "my/path" }` generates `foo/my%2Fpath`.</span></span> <span data-ttu-id="cc32f-433">Atlanan eğik unutmayın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-433">Note the escaped forward slash.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-434">Rota parametrelerine sahip olabilir *varsayılan değerler* belirlenmiş bir eşittir işareti ile ayrılmış parametre adının varsayılan değeri belirterek (`=`).</span><span class="sxs-lookup"><span data-stu-id="cc32f-434">Route parameters may have *default values* designated by specifying the default value after the parameter name separated by an equals sign (`=`).</span></span> <span data-ttu-id="cc32f-435">Örneğin, `{controller=Home}` tanımlar `Home` için varsayılan değer olarak `controller`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-435">For example, `{controller=Home}` defines `Home` as the default value for `controller`.</span></span> <span data-ttu-id="cc32f-436">Hiçbir değer parametresi için URL'de varsa varsayılan değer kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-436">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="cc32f-437">Rota parametrelerine yapılan isteğe bağlı bir soru işareti eklenerek (`?`) parametre adı, giriş olarak sonuna `id?`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-437">Route parameters are made optional by appending a question mark (`?`) to the end of the parameter name, as in `id?`.</span></span> <span data-ttu-id="cc32f-438">İsteğe bağlı değerler ve varsayılan rota parametrelerini arasındaki fark, bir rota parametresini varsayılan değeri her zaman bir değer üretir olan&mdash;yalnızca bir değer istek URL'si sağlandığında isteğe bağlı parametresi bir değere sahip.</span><span class="sxs-lookup"><span data-stu-id="cc32f-438">The difference between optional values and default route parameters is that a route parameter with a default value always produces a value&mdash;an optional parameter has a value only when a value is provided by the request URL.</span></span>

<span data-ttu-id="cc32f-439">Rota parametrelerine bağlı URL'den rota değerle eşleşmelidir kısıtlamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-439">Route parameters may have constraints that must match the route value bound from the URL.</span></span> <span data-ttu-id="cc32f-440">İki nokta ekleme (`:`) ve rota parametresi adını belirttikten sonra kısıtlama adı bir *satır içi kısıtlama* bir rota parametresini üzerinde.</span><span class="sxs-lookup"><span data-stu-id="cc32f-440">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="cc32f-441">Kısıtlama bağımsız değişkenleri gerektiriyorsa, parantez içine alınmış (`(...)`) sonra kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-441">If the constraint requires arguments, they're enclosed in parentheses (`(...)`) after the constraint name.</span></span> <span data-ttu-id="cc32f-442">Başka bir iki nokta üst üste ekleyerek, birden çok satır içi kısıtlamalarını belirtilebilir (`:`) ve kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-442">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span>

<span data-ttu-id="cc32f-443">Kısıtlama adı ve bağımsız değişkenler geçirilir <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> bir örneğini oluşturmak için hizmet <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> URL işlenmesinde kullanılacak.</span><span class="sxs-lookup"><span data-stu-id="cc32f-443">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="cc32f-444">Örneğin, rota şablonu `blog/{article:minlength(10)}` belirtir bir `minlength` kısıtlaması bağımsız değişkeniyle `10`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-444">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="cc32f-445">Rota kısıtlamalarını ve kısıtlamaları framework tarafından sağlanan listesi hakkında daha fazla bilgi için bkz. [rota kısıtlaması başvurusu](#route-constraint-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-445">For more information on route constraints and a list of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="cc32f-446">Rota parametrelerine bağlantılar ve eşleşen eylemleri ve URL'leri sayfalara oluştururken bir parametrenin değeri dönüştürme parametresi dönüştürücüler, da olabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-446">Route parameters may also have parameter transformers, which transform a parameter's value when generating links and matching actions and pages to URLs.</span></span> <span data-ttu-id="cc32f-447">Kısıtlamalar gibi parametre dönüştürücüler satır içi bir rota parametresini bir iki nokta üst üste ekleyerek eklenebilir (`:`) ve rota parametre adından sonra transformer adı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-447">Like constraints, parameter transformers can be added inline to a route parameter by adding a colon (`:`) and transformer name after the route parameter name.</span></span> <span data-ttu-id="cc32f-448">Örneğin, rota şablonu `blog/{article:slugify}` belirtir bir `slugify` dönüştürücü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-448">For example, the route template `blog/{article:slugify}` specifies a `slugify` transformer.</span></span> <span data-ttu-id="cc32f-449">Parametre dönüştürücüler hakkında daha fazla bilgi için bkz. [parametre transformer başvurusu](#parameter-transformer-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="cc32f-449">For more information on parameter transformers, see the [Parameter transformer reference](#parameter-transformer-reference) section.</span></span>

::: moniker-end

<span data-ttu-id="cc32f-450">Aşağıdaki tabloda örnek rota şablonlarının ve davranışları gösterir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-450">The following table demonstrates example route templates and their behavior.</span></span>

| <span data-ttu-id="cc32f-451">Rota şablonu</span><span class="sxs-lookup"><span data-stu-id="cc32f-451">Route Template</span></span>                           | <span data-ttu-id="cc32f-452">Örnek eşleşen URI'si</span><span class="sxs-lookup"><span data-stu-id="cc32f-452">Example Matching URI</span></span>    | <span data-ttu-id="cc32f-453">İstek URI'si&hellip;</span><span class="sxs-lookup"><span data-stu-id="cc32f-453">The request URI&hellip;</span></span>                                                    |
| ---------------------------------------- | ----------------------- | -------------------------------------------------------------------------- |
| `hello`                                  | `/hello`                | <span data-ttu-id="cc32f-454">Yalnızca tek bir yol ile eşleşen `/hello`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-454">Only matches the single path `/hello`.</span></span>                                     |
| `{Page=Home}`                            | `/`                     | <span data-ttu-id="cc32f-455">Eşleşen ve ayarlar `Page` için `Home`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-455">Matches and sets `Page` to `Home`.</span></span>                                         |
| `{Page=Home}`                            | `/Contact`              | <span data-ttu-id="cc32f-456">Eşleşen ve ayarlar `Page` için `Contact`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-456">Matches and sets `Page` to `Contact`.</span></span>                                      |
| `{controller}/{action}/{id?}`            | `/Products/List`        | <span data-ttu-id="cc32f-457">Eşlendiği `Products` denetleyicisi ve `List` eylem.</span><span class="sxs-lookup"><span data-stu-id="cc32f-457">Maps to the `Products` controller and `List` action.</span></span>                       |
| `{controller}/{action}/{id?}`            | `/Products/Details/123` | <span data-ttu-id="cc32f-458">Eşlendiği `Products` denetleyicisi ve `Details` eylem (`id` ayarlamak için 123).</span><span class="sxs-lookup"><span data-stu-id="cc32f-458">Maps to the `Products` controller and  `Details` action (`id` set to 123).</span></span> |
| `{controller=Home}/{action=Index}/{id?}` | `/`                     | <span data-ttu-id="cc32f-459">Eşlendiği `Home` denetleyicisi ve `Index` yöntemi (`id` göz ardı edilir).</span><span class="sxs-lookup"><span data-stu-id="cc32f-459">Maps to the `Home` controller and `Index` method (`id` is ignored).</span></span>        |

<span data-ttu-id="cc32f-460">Şablon kullanarak genel yönlendirme en basit yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-460">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="cc32f-461">Kısıtlamaları ve varsayılan rota şablonu dışında da belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-461">Constraints and defaults can also be specified outside the route template.</span></span>

> [!TIP]
> <span data-ttu-id="cc32f-462">Etkinleştirme [günlüğü](xref:fundamentals/logging/index) görmek için nasıl yerleşik uygulamaları gibi yönlendirme <xref:Microsoft.AspNetCore.Routing.Route>, eşleşen istekleri.</span><span class="sxs-lookup"><span data-stu-id="cc32f-462">Enable [Logging](xref:fundamentals/logging/index) to see how the built-in routing implementations, such as <xref:Microsoft.AspNetCore.Routing.Route>, match requests.</span></span>

## <a name="reserved-routing-names"></a><span data-ttu-id="cc32f-463">Yönlendirme ayrılmış adlar</span><span class="sxs-lookup"><span data-stu-id="cc32f-463">Reserved routing names</span></span>

<span data-ttu-id="cc32f-464">Aşağıdaki anahtar sözcükler ayrılmış adları ve rota adları veya parametre kullanılamaz:</span><span class="sxs-lookup"><span data-stu-id="cc32f-464">The following keywords are reserved names and can't be used as route names or parameters:</span></span>

* `action`
* `area`
* `controller`
* `handler`
* `page`

## <a name="route-constraint-reference"></a><span data-ttu-id="cc32f-465">Rota kısıtlaması başvurusu</span><span class="sxs-lookup"><span data-stu-id="cc32f-465">Route constraint reference</span></span>

<span data-ttu-id="cc32f-466">Rota kısıtlamalarını bir eşleşme için gelen URL oluştu ve URL yolunu, rota değerlerini simgeleştirilmiş yürütün.</span><span class="sxs-lookup"><span data-stu-id="cc32f-466">Route constraints execute when a match has occurred to the incoming URL and the URL path is tokenized into route values.</span></span> <span data-ttu-id="cc32f-467">Rota kısıtlamalarını genellikle rota şablonu ile ilişkili yol değişkenlerinizin ve Evet olun/yok veya yüklememe değer kabul edilebilir bir karardır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-467">Route constraints generally inspect the route value associated via the route template and make a yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="cc32f-468">Bazı rota kısıtlamalarını isteğin yönlendirildiği olup olmadığını göz önünde bulundurun için rota değeri dışındaki verileri kullanın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-468">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="cc32f-469">Örneğin, <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> kabul edebilir veya kendi HTTP fiiline bağlı bir isteği reddetmek.</span><span class="sxs-lookup"><span data-stu-id="cc32f-469">For example, the <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> can accept or reject a request based on its HTTP verb.</span></span> <span data-ttu-id="cc32f-470">Kısıtlamaları bağlantı oluşturma ve yönlendirme isteklerinde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-470">Constraints are used in routing requests and link generation.</span></span>

> [!WARNING]
> <span data-ttu-id="cc32f-471">Kısıtlamaları kullanmayın **giriş doğrulama**.</span><span class="sxs-lookup"><span data-stu-id="cc32f-471">Don't use constraints for **input validation**.</span></span> <span data-ttu-id="cc32f-472">Kısıtlamalar için kullanılıyorsa **giriş doğrulama**, geçersiz giriş sonuçları bir *404 - Bulunamadı* yanıt yerine bir *400 - bozuk istek* uygun bir hata iletisi ile.</span><span class="sxs-lookup"><span data-stu-id="cc32f-472">If constraints are used for **input validation**, invalid input results in a *404 - Not Found* response instead of a *400 - Bad Request* with an appropriate error message.</span></span> <span data-ttu-id="cc32f-473">Rota kısıtlamalarını alışkın olduğunuz **belirsizliğinin ortadan kaldırılmasını** girişleri için belirli bir yol değil doğrulamak için benzer yollar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-473">Route constraints are used to **disambiguate** similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="cc32f-474">Aşağıdaki tabloda örnek rota kısıtlamalarını ve bunların beklenen bir davranış gösterir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-474">The following table demonstrates example route constraints and their expected behavior.</span></span>

| <span data-ttu-id="cc32f-475">kısıtlama</span><span class="sxs-lookup"><span data-stu-id="cc32f-475">constraint</span></span> | <span data-ttu-id="cc32f-476">Örnek</span><span class="sxs-lookup"><span data-stu-id="cc32f-476">Example</span></span> | <span data-ttu-id="cc32f-477">Örnek eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="cc32f-477">Example Matches</span></span> | <span data-ttu-id="cc32f-478">Notlar</span><span class="sxs-lookup"><span data-stu-id="cc32f-478">Notes</span></span> |
| ---------- | ------- | --------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="cc32f-479">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="cc32f-479">`123456789`, `-123456789`</span></span> | <span data-ttu-id="cc32f-480">Herhangi bir tamsayı ile eşleşir</span><span class="sxs-lookup"><span data-stu-id="cc32f-480">Matches any integer</span></span> |
| `bool` | `{active:bool}` | <span data-ttu-id="cc32f-481">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="cc32f-481">`true`, `FALSE`</span></span> | <span data-ttu-id="cc32f-482">Eşleşme `true` veya `false` (büyük-küçük harf duyarsız)</span><span class="sxs-lookup"><span data-stu-id="cc32f-482">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="cc32f-483">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="cc32f-483">`2016-12-31`, `2016-12-31 7:32pm`</span></span> | <span data-ttu-id="cc32f-484">Geçerli bir eşleşen `DateTime` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="cc32f-484">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="cc32f-485">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="cc32f-485">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="cc32f-486">Geçerli bir eşleşen `decimal` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="cc32f-486">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double` | `{weight:double}` | <span data-ttu-id="cc32f-487">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="cc32f-487">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="cc32f-488">Geçerli bir eşleşen `double` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="cc32f-488">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float` | `{weight:float}` | <span data-ttu-id="cc32f-489">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="cc32f-489">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="cc32f-490">Geçerli bir eşleşen `float` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="cc32f-490">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid` | `{id:guid}` | <span data-ttu-id="cc32f-491">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="cc32f-491">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="cc32f-492">Geçerli bir eşleşen `Guid` değeri</span><span class="sxs-lookup"><span data-stu-id="cc32f-492">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="cc32f-493">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="cc32f-493">`123456789`, `-123456789`</span></span> | <span data-ttu-id="cc32f-494">Geçerli bir eşleşen `long` değeri</span><span class="sxs-lookup"><span data-stu-id="cc32f-494">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="cc32f-495">Dize en az 4 karakter olmalıdır</span><span class="sxs-lookup"><span data-stu-id="cc32f-495">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="cc32f-496">Dize en fazla 8 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="cc32f-496">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="cc32f-497">Dize tam olarak 12 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="cc32f-497">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="cc32f-498">Dize en az 8, en fazla 16 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="cc32f-498">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="cc32f-499">En az 18 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="cc32f-499">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` | `91` | <span data-ttu-id="cc32f-500">En fazla 120 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="cc32f-500">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="cc32f-501">En az 18 ancak en fazla 120 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="cc32f-501">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="cc32f-502">Dize, bir veya daha fazla alfabetik karakter oluşmalıdır (`a`-`z`, büyük küçük harf duyarsız)</span><span class="sxs-lookup"><span data-stu-id="cc32f-502">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="cc32f-503">Dize, normal ifadeyle eşleşmesi gerekir (bkz. normal bir ifadeyi tanımlama hakkında ipuçları)</span><span class="sxs-lookup"><span data-stu-id="cc32f-503">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required` | `{name:required}` | `Rick` | <span data-ttu-id="cc32f-504">Parametresi olmayan değer URL oluşturma sırasında mevcut olduğunu uygulamak için kullanılan</span><span class="sxs-lookup"><span data-stu-id="cc32f-504">Used to enforce that a non-parameter value is present during URL generation</span></span> |

<span data-ttu-id="cc32f-505">Birden çok, tek bir parametre için virgülle ayrılmış kısıtlamalar uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-505">Multiple, colon-delimited constraints can be applied to a single parameter.</span></span> <span data-ttu-id="cc32f-506">Örneğin, aşağıdaki kısıtlama parametresi için 1 veya daha büyük bir tamsayı değeri kısıtlar:</span><span class="sxs-lookup"><span data-stu-id="cc32f-506">For example, the following constraint restricts a parameter to an integer value of 1 or greater:</span></span>

```csharp
[Route("users/{id:int:min(1)}")]
public User GetUserById(int id) { }
```

> [!WARNING]
> <span data-ttu-id="cc32f-507">Rota kısıtlamalarını URL'yi doğrulayın ve CLR türüne dönüştürülür (gibi `int` veya `DateTime`) her zaman sabit kültürü kullanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-507">Route constraints that verify the URL and are converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture.</span></span> <span data-ttu-id="cc32f-508">Bu kısıtlamalar, URL yerelleştirilemeyen olduğunu varsayın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-508">These constraints assume that the URL is non-localizable.</span></span> <span data-ttu-id="cc32f-509">Framework tarafından sağlanan rota kısıtlamaları, rota değerleri depolanan değerleri değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-509">The framework-provided route constraints don't modify the values stored in route values.</span></span> <span data-ttu-id="cc32f-510">URL'den ayrıştırılmış tüm rota değerleri dize olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-510">All route values parsed from the URL are stored as strings.</span></span> <span data-ttu-id="cc32f-511">Örneğin, `float` rota değeri kayana dönüştürülecek kısıtlaması çalışır, ancak dönüştürülen değeri yalnızca, dönüştürülebilir bir kayan nokta doğrulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-511">For example, the `float` constraint attempts to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="cc32f-512">Normal ifadeler</span><span class="sxs-lookup"><span data-stu-id="cc32f-512">Regular expressions</span></span>

<span data-ttu-id="cc32f-513">ASP.NET Core framework ekler `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` normal ifade oluşturucusu.</span><span class="sxs-lookup"><span data-stu-id="cc32f-513">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="cc32f-514">Bkz: <xref:System.Text.RegularExpressions.RegexOptions> bu üyeleri bir açıklaması.</span><span class="sxs-lookup"><span data-stu-id="cc32f-514">See <xref:System.Text.RegularExpressions.RegexOptions> for a description of these members.</span></span>

<span data-ttu-id="cc32f-515">Normal ifadeler, sınırlayıcılar ve Yönlendirme ve C# dili tarafından kullanılan benzer belirteçleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-515">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="cc32f-516">Normal ifade belirteçleri Atlanan gerekir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-516">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="cc32f-517">Normal ifade kullanılacak `^\d{3}-\d{2}-\d{4}$` yönlendirme, deyim olmalıdır `\` (tek ters eğik çizgi) karakter dizesi olarak sağlanan `\\` (çift ters eğik çizgi) karakterleri C# kaçışiçinkaynakdosyası`\` dize kaçış karakteri (kullanmadığınız sürece [verbatim dize değişmez değerleri](/dotnet/csharp/language-reference/keywords/string)).</span><span class="sxs-lookup"><span data-stu-id="cc32f-517">To use the regular expression `^\d{3}-\d{2}-\d{4}$` in routing, the expression must have the `\` (single backslash) characters provided in the string as `\\` (double backslash) characters in the C# source file in order to escape the `\` string escape character (unless using [verbatim string literals](/dotnet/csharp/language-reference/keywords/string)).</span></span> <span data-ttu-id="cc32f-518">Yönlendirme parametresi sınırlayıcı karakter kaçış (`{`, `}`, `[`, `]`), ifadedeki karakter çift (`{{`, `}`, `[[`, `]]`).</span><span class="sxs-lookup"><span data-stu-id="cc32f-518">To escape routing parameter delimiter characters (`{`, `}`, `[`, `]`), double the characters in the expression (`{{`, `}`, `[[`, `]]`).</span></span> <span data-ttu-id="cc32f-519">Aşağıdaki tabloda, normal bir ifade ve kaçan sürümünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-519">The following table shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="cc32f-520">Normal ifade</span><span class="sxs-lookup"><span data-stu-id="cc32f-520">Regular Expression</span></span>    | <span data-ttu-id="cc32f-521">Atlanan bir normal ifade</span><span class="sxs-lookup"><span data-stu-id="cc32f-521">Escaped Regular Expression</span></span>     |
| --------------------- | ------------------------------ |
| `^\d{3}-\d{2}-\d{4}$` | `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` |
| `^[a-z]{2}$`          | `^[[a-z]]{{2}}$`               |

<span data-ttu-id="cc32f-522">Sık sık yönlendirme kullanılan normal ifadeler ile giriş işaretini Başlat (`^`) karakteri ve dizenin başlangıç konumunu eşleştirin.</span><span class="sxs-lookup"><span data-stu-id="cc32f-522">Regular expressions used in routing often start with the caret (`^`) character and match starting position of the string.</span></span> <span data-ttu-id="cc32f-523">Deyimler genellikle dolar işareti ile Bitiş (`$`) karakteri ve eşleşme dizenin sonunda.</span><span class="sxs-lookup"><span data-stu-id="cc32f-523">The expressions often end with the dollar sign (`$`) character and match end of the string.</span></span> <span data-ttu-id="cc32f-524">`^` Ve `$` karakter tüm rota parametre değeri normal ifade eşleştirmesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-524">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="cc32f-525">Olmadan `^` ve `$` karakterler, normal bir ifadeyle eşleşen genellikle istenmeyen dize içindeki herhangi bir alt dize.</span><span class="sxs-lookup"><span data-stu-id="cc32f-525">Without the `^` and `$` characters, the regular expression match any substring within the string, which is often undesirable.</span></span> <span data-ttu-id="cc32f-526">Aşağıdaki tabloda, örnekler ve neden aynı veya eşleştirilecek başarısız açıklar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-526">The following table provides examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="cc32f-527">İfade</span><span class="sxs-lookup"><span data-stu-id="cc32f-527">Expression</span></span>   | <span data-ttu-id="cc32f-528">Dize</span><span class="sxs-lookup"><span data-stu-id="cc32f-528">String</span></span>    | <span data-ttu-id="cc32f-529">Eşleştirme</span><span class="sxs-lookup"><span data-stu-id="cc32f-529">Match</span></span> | <span data-ttu-id="cc32f-530">Yorum</span><span class="sxs-lookup"><span data-stu-id="cc32f-530">Comment</span></span>               |
| ------------ | --------- | :---: |  -------------------- |
| `[a-z]{2}`   | <span data-ttu-id="cc32f-531">Merhaba</span><span class="sxs-lookup"><span data-stu-id="cc32f-531">hello</span></span>     | <span data-ttu-id="cc32f-532">Evet</span><span class="sxs-lookup"><span data-stu-id="cc32f-532">Yes</span></span>   | <span data-ttu-id="cc32f-533">alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="cc32f-533">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="cc32f-534">123abc456</span><span class="sxs-lookup"><span data-stu-id="cc32f-534">123abc456</span></span> | <span data-ttu-id="cc32f-535">Evet</span><span class="sxs-lookup"><span data-stu-id="cc32f-535">Yes</span></span>   | <span data-ttu-id="cc32f-536">alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="cc32f-536">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="cc32f-537">mz</span><span class="sxs-lookup"><span data-stu-id="cc32f-537">mz</span></span>        | <span data-ttu-id="cc32f-538">Evet</span><span class="sxs-lookup"><span data-stu-id="cc32f-538">Yes</span></span>   | <span data-ttu-id="cc32f-539">ifadeyle eşleşiyor</span><span class="sxs-lookup"><span data-stu-id="cc32f-539">Matches expression</span></span>    |
| `[a-z]{2}`   | <span data-ttu-id="cc32f-540">MZ</span><span class="sxs-lookup"><span data-stu-id="cc32f-540">MZ</span></span>        | <span data-ttu-id="cc32f-541">Evet</span><span class="sxs-lookup"><span data-stu-id="cc32f-541">Yes</span></span>   | <span data-ttu-id="cc32f-542">büyük/küçük harfe duyarlı değil</span><span class="sxs-lookup"><span data-stu-id="cc32f-542">Not case sensitive</span></span>    |
| `^[a-z]{2}$` | <span data-ttu-id="cc32f-543">Merhaba</span><span class="sxs-lookup"><span data-stu-id="cc32f-543">hello</span></span>     | <span data-ttu-id="cc32f-544">Hayır</span><span class="sxs-lookup"><span data-stu-id="cc32f-544">No</span></span>    | <span data-ttu-id="cc32f-545">bkz: `^` ve `$` yukarıda</span><span class="sxs-lookup"><span data-stu-id="cc32f-545">See `^` and `$` above</span></span> |
| `^[a-z]{2}$` | <span data-ttu-id="cc32f-546">123abc456</span><span class="sxs-lookup"><span data-stu-id="cc32f-546">123abc456</span></span> | <span data-ttu-id="cc32f-547">Hayır</span><span class="sxs-lookup"><span data-stu-id="cc32f-547">No</span></span>    | <span data-ttu-id="cc32f-548">bkz: `^` ve `$` yukarıda</span><span class="sxs-lookup"><span data-stu-id="cc32f-548">See `^` and `$` above</span></span> |

<span data-ttu-id="cc32f-549">Normal ifade söz dizimi hakkında daha fazla bilgi için bkz. [.NET Framework normal ifadelerinde](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span><span class="sxs-lookup"><span data-stu-id="cc32f-549">For more information on regular expression syntax, see [.NET Framework Regular Expressions](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>

<span data-ttu-id="cc32f-550">Olası değerler bilinen bir dizi parametre sınırlamak için normal bir ifade kullanın.</span><span class="sxs-lookup"><span data-stu-id="cc32f-550">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="cc32f-551">Örneğin, `{action:regex(^(list|get|create)$)}` yalnızca eşleşen `action` yönlendirmek için değer `list`, `get`, veya `create`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-551">For example, `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="cc32f-552">Dize kısıtlamaları sözlük geçirilen `^(list|get|create)$` eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-552">If passed into the constraints dictionary, the string `^(list|get|create)$` is equivalent.</span></span> <span data-ttu-id="cc32f-553">Bilinen kısıtlamalardan biri eşleşmiyor (hizalı şablon içinde değil) kısıtlamaları sözlükteki geçirilen kısıtlamalar da normal ifadeler şeklinde kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-553">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

## <a name="custom-route-constraints"></a><span data-ttu-id="cc32f-554">Özel rota kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="cc32f-554">Custom Route Constraints</span></span>

<span data-ttu-id="cc32f-555">Yerleşik rota kısıtlamalara ek olarak, özel rota kısıtlamalarını uygulayarak oluşturulabilir <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> arabirimi.</span><span class="sxs-lookup"><span data-stu-id="cc32f-555">In addition to the built-in route constraints, custom route constraints can be created by implementing the <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface.</span></span> <span data-ttu-id="cc32f-556"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> Arabirimi içeren tek bir yöntem `Match`, döndüren `true` kısıtlaması gerçekleştiyse ve `false` Aksi takdirde.</span><span class="sxs-lookup"><span data-stu-id="cc32f-556">The <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface contains a single method, `Match`, which returns `true` if the constraint is satisfied and `false` otherwise.</span></span>

<span data-ttu-id="cc32f-557">Özel kullanılacak <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, rota kısıtlama türü uygulama kaydedilmelidir <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> uygulamanın service kapsayıcısında.</span><span class="sxs-lookup"><span data-stu-id="cc32f-557">To use a custom <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, the route constraint type must be registered with the app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> in the app's service container.</span></span> <span data-ttu-id="cc32f-558">A <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> kısıtlama anahtarlarını haritalar rota bir sözlük <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> kısıtlamalar doğrulayan uygulamalar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-558">A <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> is a dictionary that maps route constraint keys to <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> implementations that validate those constraints.</span></span> <span data-ttu-id="cc32f-559">Bir uygulamanın <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> içinde güncelleştirilebilir `Startup.ConfigureServices` parçası olarak ya da bir [Hizmetleri. AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) çağrı yapma veya yapılandırmayı <xref:Microsoft.AspNetCore.Routing.RouteOptions> ile doğrudan `services.Configure<RouteOptions>`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-559">An app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> can be updated in `Startup.ConfigureServices` either as part of a [services.AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) call or by configuring <xref:Microsoft.AspNetCore.Routing.RouteOptions> directly with `services.Configure<RouteOptions>`.</span></span> <span data-ttu-id="cc32f-560">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="cc32f-560">For example:</span></span>

```csharp
services.AddRouting(options =>
{
    options.ConstraintMap.Add("customName", typeof(MyCustomConstraint));
});
```

<span data-ttu-id="cc32f-561">Kısıtlama sonra yolları kısıtlama türü kaydı sırasında belirtilen adı kullanarak her zamanki şekilde uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-561">The constraint can then be applied to routes in the usual manner, using the name specified when registering the constraint type.</span></span> <span data-ttu-id="cc32f-562">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="cc32f-562">For example:</span></span>

```csharp
[HttpGet("{id:customName}")]
public ActionResult<string> Get(string id)
```

::: moniker range=">= aspnetcore-2.2"

## <a name="parameter-transformer-reference"></a><span data-ttu-id="cc32f-563">Parametre transformer başvurusu</span><span class="sxs-lookup"><span data-stu-id="cc32f-563">Parameter transformer reference</span></span>

<span data-ttu-id="cc32f-564">Parametre dönüştürücüler:</span><span class="sxs-lookup"><span data-stu-id="cc32f-564">Parameter transformers:</span></span>

* <span data-ttu-id="cc32f-565">Bir bağlantı oluşturulurken yürütme bir <xref:Microsoft.AspNetCore.Routing.Route>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-565">Execute when generating a link for a <xref:Microsoft.AspNetCore.Routing.Route>.</span></span>
* <span data-ttu-id="cc32f-566">Uygulama `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-566">Implement `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`.</span></span>
* <span data-ttu-id="cc32f-567">Kullanılarak yapılandırılmış <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-567">Are configured using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>.</span></span>
* <span data-ttu-id="cc32f-568">Parametrenin rota değeri alın ve yeni bir dize değerine dönüştürün.</span><span class="sxs-lookup"><span data-stu-id="cc32f-568">Take the parameter's route value and transform it to a new string value.</span></span>
* <span data-ttu-id="cc32f-569">Oluşturulan bağlantısına dönüştürülen değer kullanılmasına neden.</span><span class="sxs-lookup"><span data-stu-id="cc32f-569">Result in using the transformed value in the generated link.</span></span>

<span data-ttu-id="cc32f-570">Örneğin, bir özel `slugify` parametresi transformer yol deseninde `blog\{article:slugify}` ile `Url.Action(new { article = "MyTestArticle" })` oluşturur `blog\my-test-article`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-570">For example, a custom `slugify` parameter transformer in route pattern `blog\{article:slugify}` with `Url.Action(new { article = "MyTestArticle" })` generates `blog\my-test-article`.</span></span>

<span data-ttu-id="cc32f-571">Yol deseninde bir parametre transformer kullanmak için yapılandırmanız ilk kullanarak <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> içinde `Startup.ConfigureServices`:</span><span class="sxs-lookup"><span data-stu-id="cc32f-571">To use a parameter transformer in a route pattern, configure it first using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> in `Startup.ConfigureServices`:</span></span>

```csharp
services.AddRouting(options =>
{
    // Replace the type and the name used to refer to it with your own
    // IOutboundParameterTransformer implementation
    options.ConstraintMap["slugify"] = typeof(SlugifyParameterTransformer);
});
```

<span data-ttu-id="cc32f-572">Parametre dönüştürücüler, burada bir uç nokta çözümler URI dönüştürmek için framework tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-572">Parameter transformers are used by the framework to transform the URI where an endpoint resolves.</span></span> <span data-ttu-id="cc32f-573">Örneğin, ASP.NET Core MVC eşleştirmek için kullanılan rota değeri dönüştürmek için parametre dönüştürücüler kullanan bir `area`, `controller`, `action`, ve `page`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-573">For example, ASP.NET Core MVC uses parameter transformers to transform the route value used to match an `area`, `controller`, `action`, and `page`.</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller:slugify=Home}/{action:slugify=Index}/{id?}");
```

<span data-ttu-id="cc32f-574">Önceki yol, bir eylem ile `SubscriptionManagementController.GetAll()` URI'si ile eşleşen `/subscription-management/get-all`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-574">With the preceding route, the action `SubscriptionManagementController.GetAll()` is matched with the URI `/subscription-management/get-all`.</span></span> <span data-ttu-id="cc32f-575">Bir parametre transformer giden bir bağlantı oluşturmak için kullanılan rota değerlerini değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="cc32f-575">A parameter transformer doesn't change the route values used to generate a link.</span></span> <span data-ttu-id="cc32f-576">Örneğin, `Url.Action("GetAll", "SubscriptionManagement")` çıkarır `/subscription-management/get-all`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-576">For example, `Url.Action("GetAll", "SubscriptionManagement")` outputs `/subscription-management/get-all`.</span></span>

<span data-ttu-id="cc32f-577">ASP.NET Core, bir parametre dönüştürücüler ile oluşturulan yolları kullanarak için API kuralları sağlar:</span><span class="sxs-lookup"><span data-stu-id="cc32f-577">ASP.NET Core provides API conventions for using a parameter transformers with generated routes:</span></span>

* <span data-ttu-id="cc32f-578">ASP.NET Core MVC sahip `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API kuralı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-578">ASP.NET Core MVC has the `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API convention.</span></span> <span data-ttu-id="cc32f-579">Bu kural, uygulamadaki tüm öznitelik rotaları belirtilen parametre transformer uygular.</span><span class="sxs-lookup"><span data-stu-id="cc32f-579">This convention applies a specified parameter transformer to all attribute routes in the app.</span></span> <span data-ttu-id="cc32f-580">Bunlar gibi parametre transformer öznitelik rotası belirteçleri dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="cc32f-580">The parameter transformer transforms attribute route tokens as they are replaced.</span></span> <span data-ttu-id="cc32f-581">Daha fazla bilgi için [belirteç değiştirme özelleştirmek için bir parametre transformer kullanma](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span><span class="sxs-lookup"><span data-stu-id="cc32f-581">For more information, see [Use a parameter transformer to customize token replacement](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span></span>
* <span data-ttu-id="cc32f-582">Razor sayfaları `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API kuralı.</span><span class="sxs-lookup"><span data-stu-id="cc32f-582">Razor Pages has the `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API convention.</span></span> <span data-ttu-id="cc32f-583">Bu kural belirtilen parametre transformer otomatik olarak keşfedildiğini Razor sayfaları için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-583">This convention applies a specified parameter transformer to all automatically discovered Razor Pages.</span></span> <span data-ttu-id="cc32f-584">Parametre dönüştürücü, klasör ve dosya adı parçaları Razor sayfaları yolların dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="cc32f-584">The parameter transformer transforms the folder and file name segments of Razor Pages routes.</span></span> <span data-ttu-id="cc32f-585">Daha fazla bilgi için [sayfa yollar özelleştirmek için bir parametre transformer kullanma](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span><span class="sxs-lookup"><span data-stu-id="cc32f-585">For more information, see [Use a parameter transformer to customize page routes](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span></span>

::: moniker-end

## <a name="url-generation-reference"></a><span data-ttu-id="cc32f-586">URL üretimi başvurusu</span><span class="sxs-lookup"><span data-stu-id="cc32f-586">URL generation reference</span></span>

<span data-ttu-id="cc32f-587">Aşağıdaki örnek, rota değerleri sözlüğü belirtilen bir rotaya bir bağlantı oluşturmak gösterilir ve <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span><span class="sxs-lookup"><span data-stu-id="cc32f-587">The following example shows how to generate a link to a route given a dictionary of route values and a <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span></span>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

<span data-ttu-id="cc32f-588"><xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> Önceki sonunda oluşturulan örnek `/package/create/123`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-588">The <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> generated at the end of the preceding sample is `/package/create/123`.</span></span> <span data-ttu-id="cc32f-589">Sözlük sağlayan `operation` ve `id` rota değerleri "İzleme paketi yol" şablonunun `package/{operation}/{id}`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-589">The dictionary supplies the `operation` and `id` route values of the "Track Package Route" template, `package/{operation}/{id}`.</span></span> <span data-ttu-id="cc32f-590">Örnek kodda Ayrıntılar için bkz [kullanım yönlendirme ara yazılım](#use-routing-middleware) bölüm veya [örnek uygulaması](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span><span class="sxs-lookup"><span data-stu-id="cc32f-590">For details, see the sample code in the [Use Routing Middleware](#use-routing-middleware) section or the [sample app](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span></span>

<span data-ttu-id="cc32f-591">İkinci parametresi <xref:Microsoft.AspNetCore.Routing.VirtualPathContext> oluşturucudur koleksiyonu *ortam değerlerini*.</span><span class="sxs-lookup"><span data-stu-id="cc32f-591">The second parameter to the <xref:Microsoft.AspNetCore.Routing.VirtualPathContext> constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="cc32f-592">Ortam değerlerini, bunların değerleri bir geliştirici, bir istek bağlamı içinde belirtmelisiniz sayısını sınırlamak kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-592">Ambient values are convenient to use because they limit the number of values a developer must specify within a request context.</span></span> <span data-ttu-id="cc32f-593">Geçerli isteğin geçerli rota değerleri için bağlantı oluşturma ortam değerleri olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-593">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="cc32f-594">Bir ASP.NET Core MVC uygulamasının `About` eylemi `HomeController`, bağlanmak için denetleyici rota değeri belirtmeniz gerekmez `Index` eylem&mdash;ortam değerini `Home` kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-594">In an ASP.NET Core MVC app's `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action&mdash;the ambient value of `Home` is used.</span></span>

<span data-ttu-id="cc32f-595">Bir parametre eşleşmeyen ortam değerleri yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-595">Ambient values that don't match a parameter are ignored.</span></span> <span data-ttu-id="cc32f-596">Ortam değerler, ortam değeri açıkça belirtilen bir değer geçersiz kıldığında da dikkate alınmaz.</span><span class="sxs-lookup"><span data-stu-id="cc32f-596">Ambient values are also ignored when an explicitly provided value overrides the ambient value.</span></span> <span data-ttu-id="cc32f-597">Eşleşen, soldan sağa doğru gerçekleşir URL.</span><span class="sxs-lookup"><span data-stu-id="cc32f-597">Matching occurs from left to right in the URL.</span></span>

<span data-ttu-id="cc32f-598">Açıkça sağlanan değerler ancak yol kesimini eşleşmiyor sorgu dizesine eklenir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-598">Values explicitly provided but that don't match a segment of the route are added to the query string.</span></span> <span data-ttu-id="cc32f-599">Rota şablonu kullanılırken sonucu aşağıdaki tabloda gösterilmiştir `{controller}/{action}/{id?}`.</span><span class="sxs-lookup"><span data-stu-id="cc32f-599">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="cc32f-600">Ortam değerleri</span><span class="sxs-lookup"><span data-stu-id="cc32f-600">Ambient Values</span></span>                     | <span data-ttu-id="cc32f-601">Açık değerler</span><span class="sxs-lookup"><span data-stu-id="cc32f-601">Explicit Values</span></span>                        | <span data-ttu-id="cc32f-602">Sonuç</span><span class="sxs-lookup"><span data-stu-id="cc32f-602">Result</span></span>                  |
| ---------------------------------- | -------------------------------------- | ----------------------- |
| <span data-ttu-id="cc32f-603">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="cc32f-603">controller = "Home"</span></span>                | <span data-ttu-id="cc32f-604">Eylem "Hakkında" =</span><span class="sxs-lookup"><span data-stu-id="cc32f-604">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="cc32f-605">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="cc32f-605">controller = "Home"</span></span>                | <span data-ttu-id="cc32f-606">Denetleyici = "Order", Eylem "Hakkında" =</span><span class="sxs-lookup"><span data-stu-id="cc32f-606">controller = "Order", action = "About"</span></span> | `/Order/About`          |
| <span data-ttu-id="cc32f-607">Denetleyici "Home", renk = = "Red"</span><span class="sxs-lookup"><span data-stu-id="cc32f-607">controller = "Home", color = "Red"</span></span> | <span data-ttu-id="cc32f-608">Eylem "Hakkında" =</span><span class="sxs-lookup"><span data-stu-id="cc32f-608">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="cc32f-609">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="cc32f-609">controller = "Home"</span></span>                | <span data-ttu-id="cc32f-610">Eylem = "Hakkında", renk = "Red"</span><span class="sxs-lookup"><span data-stu-id="cc32f-610">action = "About", color = "Red"</span></span>        | `/Home/About?color=Red` |

<span data-ttu-id="cc32f-611">Bir rota parametresi gelmiyor varsayılan bir değer varsa ve bu değeri açıkça sağlanan varsayılan değer eşleşmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="cc32f-611">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
    defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="cc32f-612">Bağlantı oluşturma için eşleşen değerleri değiştiğinde bu yol için bir bağlantı yalnızca oluşturur `controller` ve `action` sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cc32f-612">Link generation only generates a link for this route when the matching values for `controller` and `action` are provided.</span></span>

## <a name="complex-segments"></a><span data-ttu-id="cc32f-613">Karmaşık segmentleri</span><span class="sxs-lookup"><span data-stu-id="cc32f-613">Complex segments</span></span>

<span data-ttu-id="cc32f-614">Karmaşık bir segment (örneğin `[Route("/x{token}y")]`) değişmez değerlerden soldan sağa'kurmak doyumsuz olmayan bir yolla eşleşen tarafından işlenir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-614">Complex segments (for example `[Route("/x{token}y")]`) are processed by matching up literals from right to left in a non-greedy way.</span></span> <span data-ttu-id="cc32f-615">Bkz: [bu kodu](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) ilişkin ayrıntılı bir açıklaması için karmaşık segmentler eşleştirilir.</span><span class="sxs-lookup"><span data-stu-id="cc32f-615">See [this code](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) for a detailed explanation of how complex segments are matched.</span></span> <span data-ttu-id="cc32f-616">[Kod örneği](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) ASP.NET Core tarafından kullanılmaz, ancak karmaşık segmentler iyi bir açıklama sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc32f-616">The [code sample](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) is not used by ASP.NET Core, but it provides a good explanation of complex segments.</span></span>
<!-- While that code is no longer used by ASP.NET Core for complex segment matching, it provides a good match to the current algorithm. The [current code](https://github.com/aspnet/AspNetCore/blob/91514c9af7e0f4c44029b51f05a01c6fe4c96e4c/src/Http/Routing/src/Matching/DfaMatcherBuilder.cs#L227-L244) is too abstracted from matching to be useful for understanding complex segment matching.
-->

---
title: ASP.NET Core yönlendirme
author: ardalis
description: Nasıl ASP.NET Core yönlendirme işlevini gelen bir isteğin bir rota işleyiciye eşleme için sorumlu olduğunu keşfedin.
ms.author: riande
ms.custom: mvc
ms.date: 10/01/2018
uid: fundamentals/routing
ms.openlocfilehash: a014782ba503bc8bd0fdefb4cb4f382aa8fde4cd
ms.sourcegitcommit: c43a6f1fe72d7c2db4b5815fd532f2b45d964e07
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/30/2018
ms.locfileid: "50244976"
---
# <a name="routing-in-aspnet-core"></a><span data-ttu-id="158de-103">ASP.NET Core yönlendirme</span><span class="sxs-lookup"><span data-stu-id="158de-103">Routing in ASP.NET Core</span></span>

<span data-ttu-id="158de-104">Tarafından [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), ve [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="158de-104">By [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="158de-105">Yönlendirme işlevini, gelen bir istek için bir rota işleyiciye eşleme sorumludur.</span><span class="sxs-lookup"><span data-stu-id="158de-105">Routing functionality is responsible for mapping an incoming request to a route handler.</span></span> <span data-ttu-id="158de-106">Yollar uygulamada tanımlı ve uygulama başlatıldığında yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="158de-106">Routes are defined in the app and configured when the app starts.</span></span> <span data-ttu-id="158de-107">Bir rota isteğe bağlı olarak istekte bulunan URL'den değerleri ayıklayabilir ve bu değerler daha sonra istek işleme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-107">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="158de-108">Uygulamadan rota bilgilerini kullanarak, yönlendirme de rota işleyicilerine eşleyen URL üretmek için bir işlevdir.</span><span class="sxs-lookup"><span data-stu-id="158de-108">Using route information from the app, the routing functionality is also able to generate URLs that map to route handlers.</span></span> <span data-ttu-id="158de-109">Bu nedenle, yönlendirme URL'sini temel alarak bir rota işleyiciye bulabilir, veya rota işleyicisi bilgilerini temel alarak bir belirtilen rota işleyiciye karşılık gelen URL bulun.</span><span class="sxs-lookup"><span data-stu-id="158de-109">Therefore, routing can find a route handler based on a URL, or find the URL corresponding to a given route handler based on route handler information.</span></span>

<span data-ttu-id="158de-110">Çoğu uygulama, URL'leri okunaklı ve anlamlı olacak şekilde basit ve açıklayıcı bir yönlendirme düzeni seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="158de-110">Most apps should choose a basic and descriptive routing scheme so that URLs are readable and meaningful.</span></span> <span data-ttu-id="158de-111">Varsayılan geleneksel yolu `{controller=Home}/{action=Index}/{id?}`:</span><span class="sxs-lookup"><span data-stu-id="158de-111">The default conventional route `{controller=Home}/{action=Index}/{id?}`:</span></span>

* <span data-ttu-id="158de-112">Temel ve açıklayıcı bir yönlendirme düzenini destekler:</span><span class="sxs-lookup"><span data-stu-id="158de-112">Supports a basic and descriptive routing scheme:</span></span>
* <span data-ttu-id="158de-113">İyi bir başlangıç noktası tarayıcılar tarafından kullanılmak üzere tasarlanmış web uygulamaları için olan.</span><span class="sxs-lookup"><span data-stu-id="158de-113">Is a good starting point for web apps intended for use by browsers.</span></span>

<span data-ttu-id="158de-114">Özel durumlarda (örneğin, blog, e-ticaret) uygulamasının yüksek trafik alanlarına ek kısa yollar eklemek için ortak olan kullanarak [öznitelik yönlendirme](xref:mvc/controllers/routing#attribute-routing) veya Geleneksel rotaları dedicated.</span><span class="sxs-lookup"><span data-stu-id="158de-114">It's common to add additional terse routes to high traffic areas of the app in specialized situations (for example, blog, ecommerce) using [attribute routing](xref:mvc/controllers/routing#attribute-routing) or dedicated conventional routes.</span></span>

<span data-ttu-id="158de-115">Web API'leri öznitelik yönlendirme uygulamanın işlevselliğini bir kaynak kümesi olarak model için işlemleri burada HTTP fiilleri tarafından temsil edilir kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="158de-115">Web APIs should use attribute routing to model the app's functionality as a set of resources where operations are represented by HTTP verbs.</span></span> <span data-ttu-id="158de-116">Başka bir deyişle, aynı mantıksal kaynak üzerinde birçok işlemler (örneğin, GET, POST) aynı URL'yi kullanır.</span><span class="sxs-lookup"><span data-stu-id="158de-116">This means that many operations (for example, GET, POST) on the same logical resource will use the same URL.</span></span> <span data-ttu-id="158de-117">Öznitelik yönlendirmeyi dikkatli bir şekilde bir API uygulamasının URL'si alanı tasarımı için gereken denetim düzeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="158de-117">Attribute routing provides a level of control that is needed to carefully design an API's URL-space.</span></span>

<span data-ttu-id="158de-118">MVC'nin URL oluşturma desteği, uygulamayı birbirine bağlamak için URL'leri Sabit kodlama olmadan geliştirilecek okumasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="158de-118">MVC's URL generation support allows the app to be developed without hard coding the URLs to link the app together.</span></span> <span data-ttu-id="158de-119">Bu, temel bir yönlendirme yapılandırmayla başlatma ve uygulamanın şekli belirlendikten sonra yolları değiştirme sağlar.</span><span class="sxs-lookup"><span data-stu-id="158de-119">This allows for starting with a basic routing configuration, and modifying the routes after the app's shape is determined.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="158de-120">Bu belge, alt düzey ASP.NET Core yönlendirme kapsar.</span><span class="sxs-lookup"><span data-stu-id="158de-120">This document covers low-level ASP.NET Core routing.</span></span> <span data-ttu-id="158de-121">ASP.NET Core MVC yönlendirme hakkında daha fazla bilgi için bkz: <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="158de-121">For information on ASP.NET Core MVC routing, see <xref:mvc/controllers/routing>.</span></span>

<span data-ttu-id="158de-122">[Görüntüleme veya indirme örnek kodu](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([nasıl indirileceğini](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="158de-122">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="158de-123">Yönlendirme Temelleri</span><span class="sxs-lookup"><span data-stu-id="158de-123">Routing basics</span></span>

<span data-ttu-id="158de-124">Yönlendirme kullanan *yollar* (uygulamaları <xref:Microsoft.AspNetCore.Routing.IRouter>) için:</span><span class="sxs-lookup"><span data-stu-id="158de-124">Routing uses *routes* (implementations of <xref:Microsoft.AspNetCore.Routing.IRouter>) to:</span></span>

* <span data-ttu-id="158de-125">Gelen istekler harita *rota işleyicileri*.</span><span class="sxs-lookup"><span data-stu-id="158de-125">Map incoming requests to *route handlers*.</span></span>
* <span data-ttu-id="158de-126">Yanıtları kullanılan URL'leri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="158de-126">Generate URLs used in responses.</span></span>

<span data-ttu-id="158de-127">Genellikle, bir uygulamanın tek bir rota koleksiyonu vardır.</span><span class="sxs-lookup"><span data-stu-id="158de-127">Generally, an app has a single collection of routes.</span></span> <span data-ttu-id="158de-128">Rota koleksiyonu, bir istek ulaştığında sırayla işlenir.</span><span class="sxs-lookup"><span data-stu-id="158de-128">When a request arrives, the route collection is processed in order.</span></span> <span data-ttu-id="158de-129">Gelen istek, istek URL'si çağırarak eşleşen bir rota arar <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> yöntemi her kullanılabilir yolda bir rota koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="158de-129">The incoming request looks for a route that matches the request URL by calling the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each available route in the route collection.</span></span> <span data-ttu-id="158de-130">Aksine, bir yanıt yönlendirme (örneğin, yeniden yönlendirme veya bağlantıları) rota bilgilerine dayalı URL'lerini oluşturmak ve bu nedenle sabit kodlu URL'lere bakım yardımcı olan önlemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="158de-130">By contrast, a response can use routing to generate URLs (for example, for redirection or links) based on route information and thus avoid having to hard-code URLs, which helps maintainability.</span></span>

<span data-ttu-id="158de-131">Yönlendirme bağlı olduğu [ara yazılım](xref:fundamentals/middleware/index) tarafından işlem hattı <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="158de-131">Routing is connected to the [middleware](xref:fundamentals/middleware/index) pipeline by the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> class.</span></span> <span data-ttu-id="158de-132">[ASP.NET Core MVC](xref:mvc/overview) yapılandırmasına bir parçası olarak ara yazılım ardışık düzene yönlendirme ekler.</span><span class="sxs-lookup"><span data-stu-id="158de-132">[ASP.NET Core MVC](xref:mvc/overview) adds routing to the middleware pipeline as part of its configuration.</span></span> <span data-ttu-id="158de-133">Bir tek başına bileşeni olarak Yönlendirme kullanma hakkında bilgi edinmek için [kullanım yönlendirme ara yazılım](#use-routing-middleware) bölümü.</span><span class="sxs-lookup"><span data-stu-id="158de-133">To learn about using routing as a standalone component, see [Use Routing Middleware](#use-routing-middleware) section.</span></span>

### <a name="url-matching"></a><span data-ttu-id="158de-134">URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="158de-134">URL matching</span></span>

<span data-ttu-id="158de-135">URL ile eşleşen işlemdir hangi yönlendirme dağıtımları tarafından gelen bir istek için bir *işleyici*.</span><span class="sxs-lookup"><span data-stu-id="158de-135">URL matching is the process by which routing dispatches an incoming request to a *handler*.</span></span> <span data-ttu-id="158de-136">Bu işlem URL yolunda verileri temel alır, ancak istekteki herhangi bir veri dikkate alınması gereken genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="158de-136">This process is based on data in the URL path but can be extended to consider any data in the request.</span></span> <span data-ttu-id="158de-137">İşleyicileri ayırmak için istekleri gönderme olanağı, büyüklüğü ve karmaşıklığı ile bir uygulama, ölçeklendirme için anahtardır.</span><span class="sxs-lookup"><span data-stu-id="158de-137">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an app.</span></span>

<span data-ttu-id="158de-138">Gelen istekleri girin `RouterMiddleware`, çağıran <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> yöntemi dizideki her bir yol.</span><span class="sxs-lookup"><span data-stu-id="158de-138">Incoming requests enter the `RouterMiddleware`, which calls the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each route in sequence.</span></span> <span data-ttu-id="158de-139"><xref:Microsoft.AspNetCore.Routing.IRouter> Örneği seçer kullanılıp kullanılmayacağını *işlemek* ayarlayarak isteğin [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*) NULL olmayan <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span><span class="sxs-lookup"><span data-stu-id="158de-139">The <xref:Microsoft.AspNetCore.Routing.IRouter> instance chooses whether to *handle* the request by setting the [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*) to a non-null <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span></span> <span data-ttu-id="158de-140">İstek için bir işleyici bir rotayı ayarlar, işlemenin durması yönlendirmek ve işleyicisi isteği işlemek için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="158de-140">If a route sets a handler for the request, route processing stops, and the handler is invoked to process the request.</span></span> <span data-ttu-id="158de-141">Tüm yollar çalıştı ve istek için işleyici yok bulunuyorsa, ara yazılım çağırır *sonraki*, ve istek ardışık düzende sonraki ara yazılımı çağrılır.</span><span class="sxs-lookup"><span data-stu-id="158de-141">If all routes are tried and no handler is found for the request, the middleware calls *next*, and the next middleware in the request pipeline is invoked.</span></span>

<span data-ttu-id="158de-142">Birincil Giriş `RouteAsync` olduğu [RouteContext.HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*) geçerli istekle ilişkili.</span><span class="sxs-lookup"><span data-stu-id="158de-142">The primary input to `RouteAsync` is the [RouteContext.HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*) associated with the current request.</span></span> <span data-ttu-id="158de-143">`RouteContext.Handler` Ve [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*) olduğunu çıkışları bir rotayla eşleşen sonra ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="158de-143">The `RouteContext.Handler` and [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*) are outputs set after a route matches.</span></span>

<span data-ttu-id="158de-144">Bir eşleşme sırasında `RouteAsync` özelliklerini de ayarlar `RouteContext.RouteData` şimdiye kadarki gerçekleştirilen istek işleme göre uygun değerleri.</span><span class="sxs-lookup"><span data-stu-id="158de-144">A match during `RouteAsync` also sets the properties of the `RouteContext.RouteData` to appropriate values based on the request processing performed thus far.</span></span> <span data-ttu-id="158de-145">Bir rotayla eşleşen bir istek varsa `RouteContext.RouteData` hakkında önemli durum bilgilerini içeren *sonucu*.</span><span class="sxs-lookup"><span data-stu-id="158de-145">If a route matches a request, the `RouteContext.RouteData` contains important state information about the *result*.</span></span>

<span data-ttu-id="158de-146">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) sözlüğü olan *rota değerleri* route'tan üretti.</span><span class="sxs-lookup"><span data-stu-id="158de-146">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="158de-147">Bu değerler, genellikle URL belirteç oluşturma tarafından belirlenir ve kullanıcı girişi kabul etmek veya daha fazla dispatching kararlar uygulaması içinde için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-147">These values are usually determined by tokenizing the URL and can be used to accept user input or to make further dispatching decisions inside the app.</span></span>

<span data-ttu-id="158de-148">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) olan bir özellik paketi eşlenen rotaya ilgili ek veriler.</span><span class="sxs-lookup"><span data-stu-id="158de-148">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="158de-149">`DataTokens` uygulama daha sonra kararlar verebilen her yol ile ilişkilendirmeyi durumu verilerini destekleyecek şekilde sağlanan eşleşen hangi rotalar.</span><span class="sxs-lookup"><span data-stu-id="158de-149">`DataTokens` are provided to support associating state data with each route so that the app can make decisions later based on which route matched.</span></span> <span data-ttu-id="158de-150">Bu değerler Geliştirici tanımlı ve yapmak **değil** herhangi bir şekilde yönlendirme davranışını etkiler.</span><span class="sxs-lookup"><span data-stu-id="158de-150">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="158de-151">Ayrıca, değerleri, gizli `RouteData.DataTokens` aksine herhangi bir türde olabilir `RouteData.Values`, gelen dizeleri ve kolayca dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="158de-151">Additionally, values stashed in `RouteData.DataTokens` can be of any type, in contrast to `RouteData.Values`, which must be easily convertible to and from strings.</span></span>

<span data-ttu-id="158de-152">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers*) isteği başarıyla eşleşen yer alan yolları bir listesidir.</span><span class="sxs-lookup"><span data-stu-id="158de-152">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers*) is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="158de-153">Yollar başka içinde yuvalanabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-153">Routes can be nested inside of one another.</span></span> <span data-ttu-id="158de-154">`Routers` Özelliği üzerinden bir eşleşme ile sonuçlandı yolların mantıksal ağaç yolu gösterir.</span><span class="sxs-lookup"><span data-stu-id="158de-154">The `Routers` property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="158de-155">Genel olarak, listedeki ilk öğe `Routers` rota koleksiyonu ve URL üretmek için kullanılmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="158de-155">Generally, the first item in `Routers` is the route collection and should be used for URL generation.</span></span> <span data-ttu-id="158de-156">Son öğenin `Routers` eşleşen bir rota işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="158de-156">The last item in `Routers` is the route handler that matched.</span></span>

### <a name="url-generation"></a><span data-ttu-id="158de-157">URL üretimi</span><span class="sxs-lookup"><span data-stu-id="158de-157">URL generation</span></span>

<span data-ttu-id="158de-158">URL üretimi işlemdir hangi yönlendirerek, rota değerleri kümesine göre bir URL yolu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="158de-158">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="158de-159">Bu, işleyicileri ve bunlara erişim URL'leri arasında mantıksal bir ayrım sağlar.</span><span class="sxs-lookup"><span data-stu-id="158de-159">This allows for a logical separation between your handlers and the URLs that access them.</span></span>

<span data-ttu-id="158de-160">URL üretimi, benzer bir süreçtir takip eder, ancak kullanıcı veya framework kodu çağırma ile başlar <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> yöntemi rota koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="158de-160">URL generation follows a similar iterative process, but it starts with user or framework code calling into the <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> method of the route collection.</span></span> <span data-ttu-id="158de-161">Her *rota* ardından sahip kendi `GetVirtualPath` yöntemi null olmayan bir kadar sırayla çağrılır <xref:Microsoft.AspNetCore.Routing.VirtualPathData> döndürülür.</span><span class="sxs-lookup"><span data-stu-id="158de-161">Each *route* then has its `GetVirtualPath` method called in sequence until a non-null <xref:Microsoft.AspNetCore.Routing.VirtualPathData> is returned.</span></span>

<span data-ttu-id="158de-162">Birincil giriş için `GetVirtualPath` şunlardır:</span><span class="sxs-lookup"><span data-stu-id="158de-162">The primary inputs to `GetVirtualPath` are:</span></span>

* [<span data-ttu-id="158de-163">VirtualPathContext.HttpContext</span><span class="sxs-lookup"><span data-stu-id="158de-163">VirtualPathContext.HttpContext</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext*)
* [<span data-ttu-id="158de-164">VirtualPathContext.Values</span><span class="sxs-lookup"><span data-stu-id="158de-164">VirtualPathContext.Values</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*)
* [<span data-ttu-id="158de-165">VirtualPathContext.AmbientValues</span><span class="sxs-lookup"><span data-stu-id="158de-165">VirtualPathContext.AmbientValues</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*)

<span data-ttu-id="158de-166">Yollar, öncelikle tarafından sağlanan rota değerleri kullanın `Values` ve `AmbientValues` bir URL'yi oluşturmak mümkün olup olmadığını ve hangi içerecek şekilde değerleri karar vermek için.</span><span class="sxs-lookup"><span data-stu-id="158de-166">Routes primarily use the route values provided by the `Values` and `AmbientValues` to decide whether it's possible to generate a URL and what values to include.</span></span> <span data-ttu-id="158de-167">`AmbientValues` Yönlendirme sistem geçerli istekle eşleşen dizinden üretilen rota değerlerini alır.</span><span class="sxs-lookup"><span data-stu-id="158de-167">The `AmbientValues` are the set of route values that were produced from matching the current request with the routing system.</span></span> <span data-ttu-id="158de-168">Buna karşılık, `Values` geçerli işlem için istenen URL'yi oluşturmak nasıl belirten rota değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="158de-168">In contrast, `Values` are the route values that specify how to generate the desired URL for the current operation.</span></span> <span data-ttu-id="158de-169">`HttpContext` Hizmetleri ya da geçerli bağlam ile ilişkili ek veri almak bir rota ihtiyacı sağlanır.</span><span class="sxs-lookup"><span data-stu-id="158de-169">The `HttpContext` is provided in case a route needs to obtain services or additional data associated with the current context.</span></span>

> [!TIP]
> <span data-ttu-id="158de-170">Düşünün [VirtualPathContext.Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*) geçersiz kılmalar için bir dizi olarak [VirtualPathContext.AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*).</span><span class="sxs-lookup"><span data-stu-id="158de-170">Think of [VirtualPathContext.Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*) as being a set of overrides for the [VirtualPathContext.AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*).</span></span> <span data-ttu-id="158de-171">URL üretimi, rota değerleri için bağlantıları aynı yol ya da rota değerlerini kullanarak URL üretmek kolay hale getirmek için geçerli istek yeniden dener.</span><span class="sxs-lookup"><span data-stu-id="158de-171">URL generation attempts to reuse route values from the current request to make it easy to generate URLs for links using the same route or route values.</span></span>

<span data-ttu-id="158de-172">Çıkışı `GetVirtualPath` olduğu bir `VirtualPathData`.</span><span class="sxs-lookup"><span data-stu-id="158de-172">The output of `GetVirtualPath` is a `VirtualPathData`.</span></span> <span data-ttu-id="158de-173">`VirtualPathData` Paralel olan `RouteData`.</span><span class="sxs-lookup"><span data-stu-id="158de-173">`VirtualPathData` is a parallel of `RouteData`.</span></span> <span data-ttu-id="158de-174">`VirtualPathData` içeren `VirtualPath` çıkış URL'si ve rota tarafından ayarlanması bazı ek özellikler.</span><span class="sxs-lookup"><span data-stu-id="158de-174">`VirtualPathData` contains the `VirtualPath` for the output URL and some additional properties that should be set by the route.</span></span>

<span data-ttu-id="158de-175">[VirtualPathData.VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) özelliği içeren *sanal yol* rota tarafından üretilen.</span><span class="sxs-lookup"><span data-stu-id="158de-175">The [VirtualPathData.VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) property contains the *virtual path* produced by the route.</span></span> <span data-ttu-id="158de-176">Gereksinimlerinize bağlı olarak, daha fazla yolu işlem gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="158de-176">Depending on your needs, you may need to process the path further.</span></span> <span data-ttu-id="158de-177">Oluşturulan URL HTML işlemek istiyorsanız, uygulamanın taban yolu önüne ekleyin.</span><span class="sxs-lookup"><span data-stu-id="158de-177">If you want to render the generated URL in HTML, prepend the base path of the app.</span></span>

<span data-ttu-id="158de-178">[VirtualPathData.Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*) URL başarıyla oluşturuldu rota bir başvurudur.</span><span class="sxs-lookup"><span data-stu-id="158de-178">The [VirtualPathData.Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*) is a reference to the route that successfully generated the URL.</span></span>

<span data-ttu-id="158de-179">[VirtualPathData.DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) özellikleri olan URL'yi oluşturulan yol ilgili ek veri sözlüğü.</span><span class="sxs-lookup"><span data-stu-id="158de-179">The [VirtualPathData.DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) properties is a dictionary of additional data related to the route that generated the URL.</span></span> <span data-ttu-id="158de-180">Bu, paralel, [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*).</span><span class="sxs-lookup"><span data-stu-id="158de-180">This is the parallel of [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*).</span></span>

### <a name="creating-routes"></a><span data-ttu-id="158de-181">Yollar oluşturma</span><span class="sxs-lookup"><span data-stu-id="158de-181">Creating routes</span></span>

<span data-ttu-id="158de-182">Yönlendirme sağlar <xref:Microsoft.AspNetCore.Routing.Route> sınıf öğesinin standart uygulaması olarak <xref:Microsoft.AspNetCore.Routing.IRouter>.</span><span class="sxs-lookup"><span data-stu-id="158de-182">Routing provides the <xref:Microsoft.AspNetCore.Routing.Route> class as the standard implementation of <xref:Microsoft.AspNetCore.Routing.IRouter>.</span></span> <span data-ttu-id="158de-183">`Route` kullanan *rota şablonu* karşı URL yolu eşleşen desenleri tanımlamak için sözdizimi, <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> çağrılır.</span><span class="sxs-lookup"><span data-stu-id="158de-183">`Route` uses the *route template* syntax to define patterns that match against the URL path when <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> is called.</span></span> <span data-ttu-id="158de-184">`Route` bir URL'yi oluşturmak için aynı rota şablonunu kullanır, `GetVirtualPath` çağrılır.</span><span class="sxs-lookup"><span data-stu-id="158de-184">`Route` uses the same route template to generate a URL when `GetVirtualPath` is called.</span></span>

<span data-ttu-id="158de-185">Çoğu uygulama çağırarak yollar oluşturma <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> veya benzer genişletme yöntemlerini tanımlanan <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span><span class="sxs-lookup"><span data-stu-id="158de-185">Most apps create routes by calling <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> or one of the similar extension methods defined on <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span></span> <span data-ttu-id="158de-186">Bu yöntemlerin tümü, bir örneğini oluşturmak <xref:Microsoft.AspNetCore.Routing.Route> ve rota koleksiyona ekleyin.</span><span class="sxs-lookup"><span data-stu-id="158de-186">All of these methods create an instance of <xref:Microsoft.AspNetCore.Routing.Route> and add it to the route collection.</span></span>

<span data-ttu-id="158de-187">`MapRoute` bir rota işleyicisi parametre almaz.</span><span class="sxs-lookup"><span data-stu-id="158de-187">`MapRoute` doesn't take a route handler parameter.</span></span> <span data-ttu-id="158de-188">`MapRoute` yalnızca tarafından işlenen rotalar ekler <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span><span class="sxs-lookup"><span data-stu-id="158de-188">`MapRoute` only adds routes that are handled by the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span> <span data-ttu-id="158de-189">Varsayılan işleyici olduğundan bir `IRouter`, istek işlememesi isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="158de-189">Since the default handler is an `IRouter`, it may decide not to handle the request.</span></span> <span data-ttu-id="158de-190">Örneğin, yalnızca işleyen bir varsayılan işleyici eşleşen bir kullanılabilir denetleyici ve eylem istekleri gibi ASP.NET Core MVC genellikle yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="158de-190">For example, ASP.NET Core MVC is typically configured as a default handler that only handles requests that match an available controller and action.</span></span> <span data-ttu-id="158de-191">MVC için yönlendirme hakkında daha fazla bilgi için bkz: <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="158de-191">To learn more about routing to MVC, see <xref:mvc/controllers/routing>.</span></span>

<span data-ttu-id="158de-192">Aşağıdaki kod örneği, örneğidir bir `MapRoute` tipik bir ASP.NET Core MVC yönlendirme tanımı tarafından kullanılan arama:</span><span class="sxs-lookup"><span data-stu-id="158de-192">The following code example is an example of a `MapRoute` call used by a typical ASP.NET Core MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="158de-193">Bu şablon bir URL yolu gibi eşleşen `/Products/Details/17` ve rota değerlerini ayıklar `{ controller = Products, action = Details, id = 17 }`.</span><span class="sxs-lookup"><span data-stu-id="158de-193">This template matches a URL path like `/Products/Details/17` and extracts the route values `{ controller = Products, action = Details, id = 17 }`.</span></span> <span data-ttu-id="158de-194">Rota değerlerini ve URL yolunu kesimler halinde bölme ve her bir kesim ile eşleşen belirlenir *parametre yol* adını, rota şablonu.</span><span class="sxs-lookup"><span data-stu-id="158de-194">The route values are determined by splitting the URL path into segments and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="158de-195">Rota parametrelerine olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="158de-195">Route parameters are named.</span></span> <span data-ttu-id="158de-196">Parametre adı, küme ayraçları içine kapsayan tarafından tanımlı `{ ... }`.</span><span class="sxs-lookup"><span data-stu-id="158de-196">They're defined by enclosing the parameter name in braces `{ ... }`.</span></span>

<span data-ttu-id="158de-197">Yukarıdaki şablonu URL yolu da eşleşen `/` ve değerleri oluşturur `{ controller = Home, action = Index }`.</span><span class="sxs-lookup"><span data-stu-id="158de-197">The preceding template could also match the URL path `/` and would produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="158de-198">Bu durum oluşur `{controller}` ve `{action}` rota parametrelerinin varsayılan değerlere sahip olur ve `id` rota parametresinin isteğe bağlı.</span><span class="sxs-lookup"><span data-stu-id="158de-198">This occurs because the `{controller}` and `{action}` route parameters have default values and the `id` route parameter is optional.</span></span> <span data-ttu-id="158de-199">Bir eşittir `=` ardından gelen bir değer tarafından sonra rota parametresi adı parametresi için varsayılan bir değer tanımlar.</span><span class="sxs-lookup"><span data-stu-id="158de-199">An equals `=` sign followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="158de-200">Bir soru işareti `?` sonra rota parametre adı parametrenin isteğe bağlı olarak tanımlar.</span><span class="sxs-lookup"><span data-stu-id="158de-200">A question mark `?` after the route parameter name defines the parameter as optional.</span></span> <span data-ttu-id="158de-201">Rota parametrelerinin varsayılan bir değerle *her zaman* rota eşleştiğinde bir yönlendirme değeri üretir.</span><span class="sxs-lookup"><span data-stu-id="158de-201">Route parameters with a default value *always* produce a route value when the route matches.</span></span> <span data-ttu-id="158de-202">İsteğe bağlı parametreler, karşılık gelen hiçbir URL yol kesimi ise bir yönlendirme değeri üretmediği.</span><span class="sxs-lookup"><span data-stu-id="158de-202">Optional parameters don't produce a route value if there was no corresponding URL path segment.</span></span>

<span data-ttu-id="158de-203">Bkz: [rota şablonu başvurusu](#route-template-reference) rota şablonu özellikleri ve söz dizimi eksiksiz bir açıklaması.</span><span class="sxs-lookup"><span data-stu-id="158de-203">See [route-template-reference](#route-template-reference) for a thorough description of route template features and syntax.</span></span>

<span data-ttu-id="158de-204">Bu örnek içeren bir *rota kısıtlaması*:</span><span class="sxs-lookup"><span data-stu-id="158de-204">This example includes a *route constraint*:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="158de-205">Bu şablon bir URL yolu gibi eşleşen `/Products/Details/17` ama `/Products/Details/Apples`.</span><span class="sxs-lookup"><span data-stu-id="158de-205">This template matches a URL path like `/Products/Details/17` but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="158de-206">Rota parametre tanımında `{id:int}` tanımlayan bir [rota kısıtlaması](#route-constraint-reference) için `id` yol parametresi.</span><span class="sxs-lookup"><span data-stu-id="158de-206">The route parameter definition `{id:int}` defines a [route constraint](#route-constraint-reference) for the `id` route parameter.</span></span> <span data-ttu-id="158de-207">Rota kısıtlamalarını uygulamak <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> ve onları doğrulamak için rota değerlerini denetleyin.</span><span class="sxs-lookup"><span data-stu-id="158de-207">Route constraints implement <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> and inspect route values to verify them.</span></span> <span data-ttu-id="158de-208">Bu örnekte, rota değeri `id` tamsayıya dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="158de-208">In this example, the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="158de-209">Bkz: [rota kısıtlaması başvurusu](#route-constraint-reference) için framework tarafından sağlanan rota kısıtlamalarını daha ayrıntılı bir açıklaması.</span><span class="sxs-lookup"><span data-stu-id="158de-209">See [route-constraint-reference](#route-constraint-reference) for a more detailed explanation of route constraints that are provided by the framework.</span></span>

<span data-ttu-id="158de-210">Ek aşırı yüklemeleri `MapRoute` değerleri kabul edin `constraints`, `dataTokens`, ve `defaults`.</span><span class="sxs-lookup"><span data-stu-id="158de-210">Additional overloads of `MapRoute` accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="158de-211">Bu ek parametreleri `MapRoute` türü olarak tanımlanmış `object`.</span><span class="sxs-lookup"><span data-stu-id="158de-211">These additional parameters of `MapRoute` are defined as type `object`.</span></span> <span data-ttu-id="158de-212">Bu parametre normal kullanım, burada parametre adları anonim tür eşleşen özellik adlarını rota anonim olarak belirlenmiş bir nesne geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="158de-212">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="158de-213">Aşağıdaki iki örnek eşdeğer rotalar oluşturun:</span><span class="sxs-lookup"><span data-stu-id="158de-213">The following two examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

> [!TIP]
> <span data-ttu-id="158de-214">Satır içi söz dizimi kısıtlamaları ve varsayılan değerleri tanımlamak için basit yollar için kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-214">The inline syntax for defining constraints and defaults can be convenient for simple routes.</span></span> <span data-ttu-id="158de-215">Ancak, satır içi sözdizimi tarafından desteklenmeyen veri belirteçlerini gibi özellikleri vardır.</span><span class="sxs-lookup"><span data-stu-id="158de-215">However, there are features, such as data tokens, that aren't supported by inline syntax.</span></span>

<span data-ttu-id="158de-216">Aşağıdaki örnek, birkaç daha fazla senaryoyu göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="158de-216">The following example demonstrates a few more scenarios:</span></span>

```csharp
routes.MapRoute(
    name: "blog",
    template: "Blog/{*article}",
    defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="158de-217">Bu şablon bir URL yolu gibi eşleşen `/Blog/All-About-Routing/Introduction` ve değerleri ayıklar `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span><span class="sxs-lookup"><span data-stu-id="158de-217">This template matches a URL path like `/Blog/All-About-Routing/Introduction` and extracts the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="158de-218">Varsayılan rota değerleri için `controller` ve `action` olsa bile karşılık gelen hiçbir rota parametrelerinin şablonda rota tarafından üretilir.</span><span class="sxs-lookup"><span data-stu-id="158de-218">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="158de-219">Varsayılan değerleri, rota şablonu belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="158de-219">Default values can be specified in the route template.</span></span> <span data-ttu-id="158de-220">`article` Rota parametresi olarak tanımlanmış olan bir *tümünü* yıldız görünümünü tarafından `*` rota parametre adından önce.</span><span class="sxs-lookup"><span data-stu-id="158de-220">The `article` route parameter is defined as a *catch-all* by the appearance of an asterisk `*` before the route parameter name.</span></span> <span data-ttu-id="158de-221">Tümünü rota parametrelerinin, URL yolu geri kalanında yakalayın ve boş bir dize da eşleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="158de-221">Catch-all route parameters capture the remainder of the URL path and can also match the empty string.</span></span>

<span data-ttu-id="158de-222">Bu örnek, rota kısıtlamaları ve veri belirteçleri ekler:</span><span class="sxs-lookup"><span data-stu-id="158de-222">This example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="158de-223">Bu şablon bir URL yolu gibi eşleşen `/en-US/Products/5` ve değerleri ayıklar `{ controller = Products, action = Details, id = 5 }` ve veri belirteçleri `{ locale = en-US }`.</span><span class="sxs-lookup"><span data-stu-id="158de-223">This template matches a URL path like `/en-US/Products/5` and extracts the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![Yerel Windows belirteçleri](routing/_static/tokens.png)

### <a name="url-generation"></a><span data-ttu-id="158de-225">URL üretimi</span><span class="sxs-lookup"><span data-stu-id="158de-225">URL generation</span></span>

<span data-ttu-id="158de-226">`Route` Sınıfı da gerçekleştirebilirsiniz URL üretimi bir dizi rota değerleri, rota şablonu ile birleştirerek.</span><span class="sxs-lookup"><span data-stu-id="158de-226">The `Route` class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="158de-227">Bu mantıksal olarak URL yolu eşleşen ters işlemidir.</span><span class="sxs-lookup"><span data-stu-id="158de-227">This is logically the reverse process of matching the URL path.</span></span>

> [!TIP]
> <span data-ttu-id="158de-228">URL üretimi daha iyi anlamak için oluşturmak ve ardından söz konusu URL rota şablonu nasıl BC hakkında düşünmek için hangi URL'yi düşünün.</span><span class="sxs-lookup"><span data-stu-id="158de-228">To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="158de-229">Hangi değerleri üretilen?</span><span class="sxs-lookup"><span data-stu-id="158de-229">What values would be produced?</span></span> <span data-ttu-id="158de-230">Bu, URL üretimi nasıl çalıştığını kabaca eşdeğeridir `Route` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="158de-230">This is the rough equivalent of how URL generation works in the `Route` class.</span></span>

<span data-ttu-id="158de-231">Bu örnek, temel bir ASP.NET Core MVC stili rota kullanır:</span><span class="sxs-lookup"><span data-stu-id="158de-231">This example uses a basic ASP.NET Core MVC style route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="158de-232">Rota değerleri ile `{ controller = Products, action = List }`, bu yolun bir URL oluşturur `/Products/List`.</span><span class="sxs-lookup"><span data-stu-id="158de-232">With the route values `{ controller = Products, action = List }`, this route generates the URL `/Products/List`.</span></span> <span data-ttu-id="158de-233">Rota değerleri, URL yolu oluşturmak karşılık gelen rota parametrelerinin yerini alır.</span><span class="sxs-lookup"><span data-stu-id="158de-233">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="158de-234">Bu yana `id` isteğe bağlıdır parametre yol, bir değer yok sorun değil.</span><span class="sxs-lookup"><span data-stu-id="158de-234">Since `id` is an optional route parameter, it's no problem that it doesn't have a value.</span></span>

<span data-ttu-id="158de-235">Rota değerleri ile `{ controller = Home, action = Index }`, bu yolun bir URL oluşturur `/`.</span><span class="sxs-lookup"><span data-stu-id="158de-235">With the route values `{ controller = Home, action = Index }`, this route generates the URL `/`.</span></span> <span data-ttu-id="158de-236">Sağlanan yol değerleri varsayılan değerleriyle eşleşir, böylece bu değerlere karşılık gelen segmentleri güvenli bir şekilde atlanabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-236">The route values that were provided match the default values so that the segments corresponding to those values can be safely omitted.</span></span> <span data-ttu-id="158de-237">Her iki URL'leri, bu rota tanımını gidiş dönüş oluşturulan ve URL'yi oluşturmak için kullanılan aynı rota değerlerini üretir.</span><span class="sxs-lookup"><span data-stu-id="158de-237">Both URLs generated round-trip with this route definition and produce the same route values that were used to generate the URL.</span></span>

> [!TIP]
> <span data-ttu-id="158de-238">ASP.NET Core MVC kullanarak uygulama kullanması gereken <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> doğrudan yönlendirme içine çağırmak yerine URL'lerini oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="158de-238">An app using ASP.NET Core MVC should use <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="158de-239">URL üretimi hakkında daha fazla bilgi için bkz: [url üretimi başvuru](#url-generation-reference).</span><span class="sxs-lookup"><span data-stu-id="158de-239">For more information about URL generation, see [url-generation-reference](#url-generation-reference).</span></span>

## <a name="use-routing-middleware"></a><span data-ttu-id="158de-240">Yönlendirme ara yazılım kullanın</span><span class="sxs-lookup"><span data-stu-id="158de-240">Use Routing Middleware</span></span>

::: moniker range=">= aspnetcore-2.1"

<span data-ttu-id="158de-241">Başvuru [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) uygulamanın proje dosyasında.</span><span class="sxs-lookup"><span data-stu-id="158de-241">Reference the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) in the app's project file.</span></span>

::: moniker-end

::: moniker range="= aspnetcore-2.0"

<span data-ttu-id="158de-242">Başvuru [Microsoft.AspNetCore.All metapackage](xref:fundamentals/metapackage) uygulamanın proje dosyasında.</span><span class="sxs-lookup"><span data-stu-id="158de-242">Reference the [Microsoft.AspNetCore.All metapackage](xref:fundamentals/metapackage) in the app's project file.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.0"

<span data-ttu-id="158de-243">Başvuru [Microsoft.AspNetCore.Routing](https://www.nuget.org/packages/Microsoft.AspNetCore.Routing/) uygulamanın proje dosyasında.</span><span class="sxs-lookup"><span data-stu-id="158de-243">Reference the [Microsoft.AspNetCore.Routing](https://www.nuget.org/packages/Microsoft.AspNetCore.Routing/) in the app's project file.</span></span>

::: moniker-end

<span data-ttu-id="158de-244">Hizmet kapsayıcısını yönlendirme ekleme `Startup.ConfigureServices`:</span><span class="sxs-lookup"><span data-stu-id="158de-244">Add routing to the service container in `Startup.ConfigureServices`:</span></span>

::: moniker range=">= aspnetcore-2.0"

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

::: moniker-end

::: moniker range="< aspnetcore-2.0"

[!code-csharp[](routing/samples/1.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

::: moniker-end

<span data-ttu-id="158de-245">Yollar yapılandırılmalıdır `Startup.Configure` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="158de-245">Routes must be configured in the `Startup.Configure` method.</span></span> <span data-ttu-id="158de-246">Örnek uygulamayı bu API'leri kullanır:</span><span class="sxs-lookup"><span data-stu-id="158de-246">The sample app uses these APIs:</span></span>

* `RouteBuilder`
* `Build`
* <span data-ttu-id="158de-247">`MapGet` &ndash; Yalnızca HTTP GET isteklerini eşleşir.</span><span class="sxs-lookup"><span data-stu-id="158de-247">`MapGet` &ndash; Matches only HTTP GET requests.</span></span>
* `UseRouter`

::: moniker range=">= aspnetcore-2.0"

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

::: moniker-end

::: moniker range="< aspnetcore-2.0"

[!code-csharp[](routing/samples/1.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

::: moniker-end

<span data-ttu-id="158de-248">Aşağıdaki tablo, belirli bir URI'leri yanıtları gösterir.</span><span class="sxs-lookup"><span data-stu-id="158de-248">The following table shows the responses with the given URIs.</span></span>

| <span data-ttu-id="158de-249">URI</span><span class="sxs-lookup"><span data-stu-id="158de-249">URI</span></span>                  | <span data-ttu-id="158de-250">Yanıt</span><span class="sxs-lookup"><span data-stu-id="158de-250">Response</span></span>                                          |
| -------------------- | ------------------------------------------------- |
| <span data-ttu-id="158de-251">/Package/Create/3</span><span class="sxs-lookup"><span data-stu-id="158de-251">/package/create/3</span></span>    | <span data-ttu-id="158de-252">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="158de-252">Hello!</span></span> <span data-ttu-id="158de-253">Rota değerleri: [işlem oluşturun], [ID, 3]</span><span class="sxs-lookup"><span data-stu-id="158de-253">Route values: [operation, create], [id, 3]</span></span> |
| <span data-ttu-id="158de-254">/ /-3 paketi/parçası</span><span class="sxs-lookup"><span data-stu-id="158de-254">/package/track/-3</span></span>    | <span data-ttu-id="158de-255">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="158de-255">Hello!</span></span> <span data-ttu-id="158de-256">Rota değerleri: [işlem, izleme], [ID, -3]</span><span class="sxs-lookup"><span data-stu-id="158de-256">Route values: [operation, track], [id, -3]</span></span> |
| <span data-ttu-id="158de-257">/ Paket / /-3 izleme /</span><span class="sxs-lookup"><span data-stu-id="158de-257">/package/track/-3/</span></span>   | <span data-ttu-id="158de-258">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="158de-258">Hello!</span></span> <span data-ttu-id="158de-259">Rota değerleri: [işlem, izleme], [ID, -3]</span><span class="sxs-lookup"><span data-stu-id="158de-259">Route values: [operation, track], [id, -3]</span></span> |
| <span data-ttu-id="158de-260">/ Package/izleme /</span><span class="sxs-lookup"><span data-stu-id="158de-260">/package/track/</span></span>      | <span data-ttu-id="158de-261">&lt;Eşleşme, kalan&gt;</span><span class="sxs-lookup"><span data-stu-id="158de-261">&lt;Fall through, no match&gt;</span></span>                    |
| <span data-ttu-id="158de-262">/Hello/Joe Al</span><span class="sxs-lookup"><span data-stu-id="158de-262">GET /hello/Joe</span></span>       | <span data-ttu-id="158de-263">Merhaba, ALi!</span><span class="sxs-lookup"><span data-stu-id="158de-263">Hi, Joe!</span></span>                                          |
| <span data-ttu-id="158de-264">POST /hello/Joe</span><span class="sxs-lookup"><span data-stu-id="158de-264">POST /hello/Joe</span></span>      | <span data-ttu-id="158de-265">&lt;Geçiş, yalnızca eşleşen HTTP GET&gt;</span><span class="sxs-lookup"><span data-stu-id="158de-265">&lt;Fall through, matches HTTP GET only&gt;</span></span>       |
| <span data-ttu-id="158de-266">/Hello/Joe/Smith Al</span><span class="sxs-lookup"><span data-stu-id="158de-266">GET /hello/Joe/Smith</span></span> | <span data-ttu-id="158de-267">&lt;Eşleşme, kalan&gt;</span><span class="sxs-lookup"><span data-stu-id="158de-267">&lt;Fall through, no match&gt;</span></span>                    |

<span data-ttu-id="158de-268">Tek bir yol yapılandırıyorsanız, çağrı <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*> öğesinde geçen bir `IRouter` örneği.</span><span class="sxs-lookup"><span data-stu-id="158de-268">If you're configuring a single route, call <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*> passing in an `IRouter` instance.</span></span> <span data-ttu-id="158de-269">Kullanmanız gerekmez <xref:Microsoft.AspNetCore.Routing.RouteBuilder>.</span><span class="sxs-lookup"><span data-stu-id="158de-269">You won't need to use <xref:Microsoft.AspNetCore.Routing.RouteBuilder>.</span></span>

<span data-ttu-id="158de-270">Çerçeve yollarını gibi oluşturmak için genişletme yöntemleri sağlar:</span><span class="sxs-lookup"><span data-stu-id="158de-270">The framework provides a set of extension methods for creating routes, such as:</span></span>

* `MapRoute`
* `MapGet`
* `MapPost`
* `MapPut`
* `MapDelete`
* `MapVerb`

<span data-ttu-id="158de-271">Bu yöntemlerden bazıları gibi `MapGet`, gerekli bir `RequestDelegate` sağlanacak.</span><span class="sxs-lookup"><span data-stu-id="158de-271">Some of these methods, such as `MapGet`, require a `RequestDelegate` to be provided.</span></span> <span data-ttu-id="158de-272">`RequestDelegate` Olarak kullanılan *rota işleyiciye* zaman yol ile eşleşen.</span><span class="sxs-lookup"><span data-stu-id="158de-272">The `RequestDelegate` is used as the *route handler* when the route matches.</span></span> <span data-ttu-id="158de-273">Bu serideki diğer yöntemleri rota işleyiciye bir ara yazılım ardışık düzenini kullanmak için yapılandırma sağlar.</span><span class="sxs-lookup"><span data-stu-id="158de-273">Other methods in this family allow configuring a middleware pipeline for use as the route handler.</span></span> <span data-ttu-id="158de-274">Varsa *harita* değil accept yöntemi bir işleyici gibi `MapRoute`, ardından bunu <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span><span class="sxs-lookup"><span data-stu-id="158de-274">If the *Map* method doesn't accept a handler, such as `MapRoute`, then it uses the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span>

<span data-ttu-id="158de-275">`Map[Verb]` Yöntemleri kısıtlamaları HTTP fiili yöntem adı için rota sınırlamak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="158de-275">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="158de-276">Örneğin, <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> ve <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span><span class="sxs-lookup"><span data-stu-id="158de-276">For example, see <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> and <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="158de-277">Rota şablonu başvurusu</span><span class="sxs-lookup"><span data-stu-id="158de-277">Route template reference</span></span>

<span data-ttu-id="158de-278">Belirteçleri kaşlı ayraçlar içinde (`{ ... }`) tanımlamak *rota parametreleri* rotanın eşleşmesi durumunda bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="158de-278">Tokens within curly braces (`{ ... }`) define *route parameters* that are bound if the route is matched.</span></span> <span data-ttu-id="158de-279">İçindeki bir yol parçasının birden fazla rota parametresini tanımlayabilirsiniz, ancak bir değişmez değer ayrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="158de-279">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="158de-280">Örneğin, `{controller=Home}{action=Index}` arasında herhangi bir değişmez değer olduğundan geçerli bir yol değil `{controller}` ve `{action}`.</span><span class="sxs-lookup"><span data-stu-id="158de-280">For example, `{controller=Home}{action=Index}` isn't a valid route, since there's no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="158de-281">Bu rota parametrelerinin bir adı olmalıdır ve ek öznitelikler belirtmiş olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="158de-281">These route parameters must have a name and may have additional attributes specified.</span></span>

<span data-ttu-id="158de-282">Metin rota parametrelerinin dışında (örneğin, `{id}`) ve yol ayırıcısı `/` URL metin eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="158de-282">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="158de-283">Eşleşen metin büyük/küçük harfe ve URL yolunu kodu çözülmüş gösterimini göre.</span><span class="sxs-lookup"><span data-stu-id="158de-283">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="158de-284">Değişmez değer rota parametresi sınırlayıcı eşleştirilecek `{` veya `}`, karakter tekrarlayarak kaçış (`{{` veya `}}`).</span><span class="sxs-lookup"><span data-stu-id="158de-284">To match the literal route parameter delimiter `{` or  `}`, escape it by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="158de-285">İsteğe bağlı dosya uzantısına sahip bir dosya adı yakalama girişimi URL desenleri ek hususlar vardır.</span><span class="sxs-lookup"><span data-stu-id="158de-285">URL patterns that attempt to capture a filename with an optional file extension have additional considerations.</span></span> <span data-ttu-id="158de-286">Örneğin, şablonu düşünün `files/{filename}.{ext?}`.</span><span class="sxs-lookup"><span data-stu-id="158de-286">For example, consider the template `files/{filename}.{ext?}`.</span></span> <span data-ttu-id="158de-287">Her ikisi de `filename` ve `ext` var, her iki değerler doldurulur.</span><span class="sxs-lookup"><span data-stu-id="158de-287">When both `filename` and `ext` exist, both values are populated.</span></span> <span data-ttu-id="158de-288">Yalnızca `filename` URL'nin yol eşleşmeleri var olduğundan sondaki nokta `.` isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="158de-288">If only `filename` exists in the URL, the route matches because the trailing period `.` is  optional.</span></span> <span data-ttu-id="158de-289">Aşağıdaki URL'ler bu rotanın eşleşmesi:</span><span class="sxs-lookup"><span data-stu-id="158de-289">The following URLs match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile`

<span data-ttu-id="158de-290">Kullanabileceğiniz `*` URI rest'e bağlamak için bir rota parametresini öneki olarak karakter.</span><span class="sxs-lookup"><span data-stu-id="158de-290">You can use the `*` character as a prefix to a route parameter to bind to the rest of the URI.</span></span> <span data-ttu-id="158de-291">Bu adlı bir *tümünü* parametresi.</span><span class="sxs-lookup"><span data-stu-id="158de-291">This is called a *catch-all* parameter.</span></span> <span data-ttu-id="158de-292">Örneğin, `blog/{*slug}` ile başlayan herhangi bir URL ile eşleşen `/blog` ve aşağıdaki herhangi bir değer vardı (için atanan `slug` rota değeri).</span><span class="sxs-lookup"><span data-stu-id="158de-292">For example, `blog/{*slug}` matches any URI that starts with `/blog` and had any value following it (which is assigned to the `slug` route value).</span></span> <span data-ttu-id="158de-293">Genel parametreleri da boş dize eşleşebilir.</span><span class="sxs-lookup"><span data-stu-id="158de-293">Catch-all parameters can also match the empty string.</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="158de-294">Yol, yol ayırıcı dahil olmak üzere, bir URL'yi oluşturmak için kullanıldığında, yakalama-all parametresini uygun karakterleri kaçırır. (`/`) karakter.</span><span class="sxs-lookup"><span data-stu-id="158de-294">The catch-all parameter escapes the appropriate characters when the route is used to generate a URL, including path separator (`/`) characters.</span></span> <span data-ttu-id="158de-295">Örneğin, yol `foo/{*path}` rota değerleri ile `{ path = "my/path" }` oluşturur `foo/my%2Fpath`.</span><span class="sxs-lookup"><span data-stu-id="158de-295">For example, the route `foo/{*path}` with route values `{ path = "my/path" }` generates `foo/my%2Fpath`.</span></span> <span data-ttu-id="158de-296">Atlanan eğik unutmayın.</span><span class="sxs-lookup"><span data-stu-id="158de-296">Note the escaped forward slash.</span></span> <span data-ttu-id="158de-297">Gidiş dönüş yol ayırıcı karakter kullanın `**` rota parametresinin öneki.</span><span class="sxs-lookup"><span data-stu-id="158de-297">To round-trip path separator characters, use the `**` route parameter prefix.</span></span> <span data-ttu-id="158de-298">Rota `foo/{**path}` ile `{ path = "my/path" }` oluşturur `foo/my/path`.</span><span class="sxs-lookup"><span data-stu-id="158de-298">The route `foo/{**path}` with `{ path = "my/path" }` generates `foo/my/path`.</span></span>

::: moniker-end

<span data-ttu-id="158de-299">Rota parametrelerine sahip olabilir *varsayılan değerler*, belirlenen bir eşittir işaretiyle ayırarak parametre adından sonra varsayılan belirterek (`=`).</span><span class="sxs-lookup"><span data-stu-id="158de-299">Route parameters may have *default values*, designated by specifying the default after the parameter name, separated by an equals sign (`=`).</span></span> <span data-ttu-id="158de-300">Örneğin, `{controller=Home}` tanımlar `Home` için varsayılan değer olarak `controller`.</span><span class="sxs-lookup"><span data-stu-id="158de-300">For example, `{controller=Home}` defines `Home` as the default value for `controller`.</span></span> <span data-ttu-id="158de-301">Hiçbir değer parametresi için URL'de varsa varsayılan değer kullanılır.</span><span class="sxs-lookup"><span data-stu-id="158de-301">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="158de-302">Varsayılan değerler yanı sıra, rota parametrelerinin bir soru işareti eklenerek belirtilen isteğe bağlı olabilir (`?`) parametre adı, giriş olarak sonuna `id?`.</span><span class="sxs-lookup"><span data-stu-id="158de-302">In addition to default values, route parameters may be optional, specified by appending a question mark (`?`) to the end of the parameter name, as in `id?`.</span></span> <span data-ttu-id="158de-303">İsteğe bağlı değerler ve varsayılan rota parametrelerini arasındaki fark, bir rota parametresini varsayılan değeri her zaman bir değer üreten olan; yalnızca bir değer istek URL'si sağlandığında isteğe bağlı parametresi bir değer içeriyor.</span><span class="sxs-lookup"><span data-stu-id="158de-303">The difference between optional values and default route parameters is that a route parameter with a default value always produces a value; an optional parameter has a value only when a value is provided by the request URL.</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="158de-304">Rota parametrelerine URL'den bağlı rota değerle eşleşmelidir kısıtlamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-304">Route parameters may have constraints, which must match the route value bound from the URL.</span></span> <span data-ttu-id="158de-305">İki nokta ekleme (`:`) ve rota parametresi adını belirttikten sonra kısıtlama adı bir *satır içi kısıtlama* bir rota parametresini üzerinde.</span><span class="sxs-lookup"><span data-stu-id="158de-305">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="158de-306">Kısıtlama bağımsız değişkenleri gerektiriyorsa, parantez içine alınmış `( )` sonra kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="158de-306">If the constraint requires arguments, they're enclosed in parentheses `( )` after the constraint name.</span></span> <span data-ttu-id="158de-307">Başka bir iki nokta üst üste ekleyerek, birden çok satır içi kısıtlamalarını belirtilebilir (`:`) ve kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="158de-307">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span> <span data-ttu-id="158de-308">Kısıtlama adı ve bağımsız değişkenler geçirilir <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> bir örneğini oluşturmak için hizmet <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> URL işlenmesinde kullanılacak.</span><span class="sxs-lookup"><span data-stu-id="158de-308">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="158de-309">Kısıtlama Oluşturucusu Hizmetleri gerektiriyorsa, bağımlılık ekleme'nın uygulama Hizmetleri'nden çözümlenen.</span><span class="sxs-lookup"><span data-stu-id="158de-309">If the constraint constructor requires services, they're resolved from dependency injection's app services.</span></span> <span data-ttu-id="158de-310">Örneğin, rota şablonu `blog/{article:minlength(10)}` belirtir bir `minlength` kısıtlaması bağımsız değişkeniyle `10`.</span><span class="sxs-lookup"><span data-stu-id="158de-310">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="158de-311">Rota kısıtlamalarını ve kısıtlamaları framework tarafından sağlanan bir listesi hakkında daha fazla bilgi için bkz. [rota kısıtlaması başvurusu](#route-constraint-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="158de-311">For more information on route constraints and a listing of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="158de-312">Rota parametrelerine URL'den bağlı rota değerle eşleşmelidir kısıtlamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-312">Route parameters may have constraints, which must match the route value bound from the URL.</span></span> <span data-ttu-id="158de-313">İki nokta ekleme (`:`) ve rota parametresi adını belirttikten sonra kısıtlama adı bir *satır içi kısıtlama* bir rota parametresini üzerinde.</span><span class="sxs-lookup"><span data-stu-id="158de-313">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="158de-314">Kısıtlama bağımsız değişkenleri gerektiriyorsa, parantez içine alınmış `( )` sonra kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="158de-314">If the constraint requires arguments, they're enclosed in parentheses `( )` after the constraint name.</span></span> <span data-ttu-id="158de-315">Başka bir iki nokta üst üste ekleyerek, birden çok satır içi kısıtlamalarını belirtilebilir (`:`) ve kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="158de-315">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span> <span data-ttu-id="158de-316">Kısıtlama adı ve bağımsız değişkenler geçirilir <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> bir örneğini oluşturmak için hizmet <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> URL işlenmesinde kullanılacak.</span><span class="sxs-lookup"><span data-stu-id="158de-316">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="158de-317">Örneğin, rota şablonu `blog/{article:minlength(10)}` belirtir bir `minlength` kısıtlaması bağımsız değişkeniyle `10`.</span><span class="sxs-lookup"><span data-stu-id="158de-317">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="158de-318">Rota kısıtlamalarını ve kısıtlamaları framework tarafından sağlanan bir listesi hakkında daha fazla bilgi için bkz. [rota kısıtlaması başvurusu](#route-constraint-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="158de-318">For more information on route constraints and a listing of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

::: moniker-end

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="158de-319">Rota parametrelerine bağlantılar ve eşleşen eylemleri ve sayfaları için bir URI'leri oluştururken bir parametrenin değeri dönüştürme parametresi dönüştürücüler, da olabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-319">Route parameters may also have parameter transformers, which transform a parameter's value when generating links and matching actions and pages to URIs.</span></span> <span data-ttu-id="158de-320">Kısıtlamalar gibi parametre dönüştürücüler satır içi bir rota parametresini bir iki nokta üst üste ekleyerek eklenebilir (`:`) ve rota parametre adından sonra transformer adı.</span><span class="sxs-lookup"><span data-stu-id="158de-320">Like constraints, parameter transformers can be added inline to a route parameter by adding a colon (`:`) and transformer name after the route parameter name.</span></span> <span data-ttu-id="158de-321">Örneğin, rota şablonu `blog/{article:slugify}` belirtir bir `slugify` dönüştürücü.</span><span class="sxs-lookup"><span data-stu-id="158de-321">For example, the route template `blog/{article:slugify}` specifies a `slugify` transformer.</span></span>

::: moniker-end

<span data-ttu-id="158de-322">Aşağıdaki tabloda, bazı rota şablonlarının ve davranışları gösterir.</span><span class="sxs-lookup"><span data-stu-id="158de-322">The following table demonstrates some route templates and their behavior.</span></span>

| <span data-ttu-id="158de-323">Rota şablonu</span><span class="sxs-lookup"><span data-stu-id="158de-323">Route Template</span></span>                         | <span data-ttu-id="158de-324">Örnek URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="158de-324">Example Matching URL</span></span>  | <span data-ttu-id="158de-325">Notlar</span><span class="sxs-lookup"><span data-stu-id="158de-325">Notes</span></span>                                                                  |
| -------------------------------------- | --------------------- | ---------------------------------------------------------------------- |
| <span data-ttu-id="158de-326">Merhaba</span><span class="sxs-lookup"><span data-stu-id="158de-326">hello</span></span>                                  | <span data-ttu-id="158de-327">/ Merhaba</span><span class="sxs-lookup"><span data-stu-id="158de-327">/hello</span></span>                | <span data-ttu-id="158de-328">Yalnızca tek bir yol ile eşleşir `/hello`</span><span class="sxs-lookup"><span data-stu-id="158de-328">Only matches the single path `/hello`</span></span>                                  |
| <span data-ttu-id="158de-329">{Page=Home}</span><span class="sxs-lookup"><span data-stu-id="158de-329">{Page=Home}</span></span>                            | /                     | <span data-ttu-id="158de-330">Eşleşen ve ayarlar `Page` için `Home`</span><span class="sxs-lookup"><span data-stu-id="158de-330">Matches and sets `Page` to `Home`</span></span>                                      |
| <span data-ttu-id="158de-331">{Page=Home}</span><span class="sxs-lookup"><span data-stu-id="158de-331">{Page=Home}</span></span>                            | <span data-ttu-id="158de-332">/ Contact</span><span class="sxs-lookup"><span data-stu-id="158de-332">/Contact</span></span>              | <span data-ttu-id="158de-333">Eşleşen ve ayarlar `Page` için `Contact`</span><span class="sxs-lookup"><span data-stu-id="158de-333">Matches and sets `Page` to `Contact`</span></span>                                   |
| <span data-ttu-id="158de-334">{Denetleyici} / {eylem} / {id}?</span><span class="sxs-lookup"><span data-stu-id="158de-334">{controller}/{action}/{id?}</span></span>            | <span data-ttu-id="158de-335">/ Ürünler/listesi</span><span class="sxs-lookup"><span data-stu-id="158de-335">/Products/List</span></span>        | <span data-ttu-id="158de-336">Eşlendiği `Products` denetleyicisi ve `List` eylemi</span><span class="sxs-lookup"><span data-stu-id="158de-336">Maps to `Products` controller and `List`  action</span></span>                       |
| <span data-ttu-id="158de-337">{Denetleyici} / {eylem} / {id}?</span><span class="sxs-lookup"><span data-stu-id="158de-337">{controller}/{action}/{id?}</span></span>            | <span data-ttu-id="158de-338">/ Ürünler/Ayrıntılar/123</span><span class="sxs-lookup"><span data-stu-id="158de-338">/Products/Details/123</span></span> |  <span data-ttu-id="158de-339">Eşlendiği `Products` denetleyicisi ve `Details` eylem.</span><span class="sxs-lookup"><span data-stu-id="158de-339">Maps to `Products` controller and  `Details` action.</span></span>  <span data-ttu-id="158de-340">`id` 123 için ayarlayın</span><span class="sxs-lookup"><span data-stu-id="158de-340">`id` set to 123</span></span> |
| <span data-ttu-id="158de-341">{controller=Home}/{action=Index}/{id?}</span><span class="sxs-lookup"><span data-stu-id="158de-341">{controller=Home}/{action=Index}/{id?}</span></span> | /                     |  <span data-ttu-id="158de-342">Eşlendiği `Home` denetleyicisi ve `Index` yöntemi `id` göz ardı edilir.</span><span class="sxs-lookup"><span data-stu-id="158de-342">Maps to `Home` controller and `Index`  method; `id` is ignored.</span></span>       |

<span data-ttu-id="158de-343">Şablon kullanarak genel yönlendirme en basit yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="158de-343">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="158de-344">Kısıtlamaları ve varsayılan rota şablonu dışında da belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="158de-344">Constraints and defaults can also be specified outside the route template.</span></span>

> [!TIP]
> <span data-ttu-id="158de-345">Etkinleştirme [günlüğü](xref:fundamentals/logging/index) görmek için nasıl yönlendirme uygulamalarında gibi yerleşik `Route`, eşleşen istekleri.</span><span class="sxs-lookup"><span data-stu-id="158de-345">Enable [Logging](xref:fundamentals/logging/index) to see how the built in routing implementations, such as `Route`, match requests.</span></span>

## <a name="reserved-routing-names"></a><span data-ttu-id="158de-346">Yönlendirme ayrılmış adlar</span><span class="sxs-lookup"><span data-stu-id="158de-346">Reserved routing names</span></span>

<span data-ttu-id="158de-347">Aşağıdaki anahtar sözcükler ayrılmış adları ve rota adları veya parametre kullanılamaz:</span><span class="sxs-lookup"><span data-stu-id="158de-347">The following keywords are reserved names and can't be used as route names or parameters:</span></span>

* `action`
* `area`
* `controller`
* `handler`
* `page`

## <a name="route-constraint-reference"></a><span data-ttu-id="158de-348">Rota kısıtlaması başvurusu</span><span class="sxs-lookup"><span data-stu-id="158de-348">Route constraint reference</span></span>

<span data-ttu-id="158de-349">Rota kısıtlamalarını yürütme bir `Route` eşleşen gelen URL söz dizimini ve rota değerlerini ve URL yolunu simgeleştirilmiş.</span><span class="sxs-lookup"><span data-stu-id="158de-349">Route constraints execute when a `Route` has matched the syntax of the incoming URL and tokenized the URL path into route values.</span></span> <span data-ttu-id="158de-350">Rota kısıtlamalarını genellikle rota şablonu ile ilişkili yol değişkenlerinizin ve Evet olun/yok veya yüklememe değer kabul edilebilir bir karardır.</span><span class="sxs-lookup"><span data-stu-id="158de-350">Route constraints generally inspect the route value associated via the route template and make a yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="158de-351">Bazı rota kısıtlamalarını isteğin yönlendirildiği olup olmadığını göz önünde bulundurun için rota değeri dışındaki verileri kullanın.</span><span class="sxs-lookup"><span data-stu-id="158de-351">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="158de-352">Örneğin, <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> kabul edebilir veya kendi HTTP fiiline bağlı bir isteği reddetmek.</span><span class="sxs-lookup"><span data-stu-id="158de-352">For example, the <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> can accept or reject a request based on its HTTP verb.</span></span>

> [!WARNING]
> <span data-ttu-id="158de-353">Kısıtlamaları kullanmaktan kaçının **giriş doğrulama** çünkü bunu geçersiz giriş yapılması sonuçlanır bir *404 - Bulunamadı* yanıt yerine bir *400 - bozuk istek* ile bir uygun bir hata iletisi.</span><span class="sxs-lookup"><span data-stu-id="158de-353">Avoid using constraints for **input validation** because doing so means that invalid input results in a *404 - Not Found* response instead of a *400 - Bad Request* with an appropriate error message.</span></span> <span data-ttu-id="158de-354">Rota kısıtlamalarını alışkın olduğunuz **belirsizliğinin ortadan kaldırılmasını** arasında belirli bir rota için girişler değil doğrulamak için benzer yollar.</span><span class="sxs-lookup"><span data-stu-id="158de-354">Route constraints are used to **disambiguate** between similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="158de-355">Aşağıdaki tabloda, bazı rota kısıtlamalarını ve bunların beklenen bir davranış gösterir.</span><span class="sxs-lookup"><span data-stu-id="158de-355">The following table demonstrates some route constraints and their expected behavior.</span></span>

| <span data-ttu-id="158de-356">kısıtlama</span><span class="sxs-lookup"><span data-stu-id="158de-356">constraint</span></span> | <span data-ttu-id="158de-357">Örnek</span><span class="sxs-lookup"><span data-stu-id="158de-357">Example</span></span> | <span data-ttu-id="158de-358">Örnek eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="158de-358">Example Matches</span></span> | <span data-ttu-id="158de-359">Notlar</span><span class="sxs-lookup"><span data-stu-id="158de-359">Notes</span></span> |
| ---------- | ------- | --------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="158de-360">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="158de-360">`123456789`, `-123456789`</span></span>  | <span data-ttu-id="158de-361">Herhangi bir tamsayı ile eşleşir</span><span class="sxs-lookup"><span data-stu-id="158de-361">Matches any integer</span></span> |
| `bool` | `{active:bool}` | <span data-ttu-id="158de-362">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="158de-362">`true`, `FALSE`</span></span> | <span data-ttu-id="158de-363">Eşleşme `true` veya `false` (büyük-küçük harf duyarsız)</span><span class="sxs-lookup"><span data-stu-id="158de-363">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="158de-364">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="158de-364">`2016-12-31`, `2016-12-31 7:32pm`</span></span>  | <span data-ttu-id="158de-365">Geçerli bir eşleşen `DateTime` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="158de-365">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="158de-366">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="158de-366">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="158de-367">Geçerli bir eşleşen `decimal` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="158de-367">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double` | `{weight:double}` | <span data-ttu-id="158de-368">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="158de-368">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="158de-369">Geçerli bir eşleşen `double` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="158de-369">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float` | `{weight:float}` | <span data-ttu-id="158de-370">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="158de-370">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="158de-371">Geçerli bir eşleşen `float` değeri (uyarı sabit kültür - bakın)</span><span class="sxs-lookup"><span data-stu-id="158de-371">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid` | `{id:guid}` | <span data-ttu-id="158de-372">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="158de-372">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="158de-373">Geçerli bir eşleşen `Guid` değeri</span><span class="sxs-lookup"><span data-stu-id="158de-373">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="158de-374">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="158de-374">`123456789`, `-123456789`</span></span> | <span data-ttu-id="158de-375">Geçerli bir eşleşen `long` değeri</span><span class="sxs-lookup"><span data-stu-id="158de-375">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="158de-376">Dize en az 4 karakter olmalıdır</span><span class="sxs-lookup"><span data-stu-id="158de-376">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="158de-377">Dize en fazla 8 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="158de-377">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="158de-378">Dize tam olarak 12 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="158de-378">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="158de-379">Dize en az 8, en fazla 16 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="158de-379">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="158de-380">En az 18 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="158de-380">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` | `91` | <span data-ttu-id="158de-381">En fazla 120 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="158de-381">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="158de-382">En az 18 ancak en fazla 120 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="158de-382">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="158de-383">Dize, bir veya daha fazla alfabetik karakter oluşmalıdır (`a`-`z`, büyük küçük harf duyarsız)</span><span class="sxs-lookup"><span data-stu-id="158de-383">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="158de-384">Dize, normal ifadeyle eşleşmesi gerekir (bkz. normal bir ifadeyi tanımlama hakkında ipuçları)</span><span class="sxs-lookup"><span data-stu-id="158de-384">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required` | `{name:required}` | `Rick` |  <span data-ttu-id="158de-385">Parametresi olmayan değer URL oluşturma sırasında mevcut olduğunu uygulamak için kullanılan</span><span class="sxs-lookup"><span data-stu-id="158de-385">Used to enforce that a non-parameter value is present during URL generation</span></span> |

<span data-ttu-id="158de-386">Birden çok, tek bir parametre için virgülle ayrılmış kısıtlamalar uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="158de-386">Multiple, colon-delimited constraints can be applied to a single parameter.</span></span> <span data-ttu-id="158de-387">Örneğin, aşağıdaki kısıtlama parametresi için 1 veya daha büyük bir tamsayı değeri kısıtlar:</span><span class="sxs-lookup"><span data-stu-id="158de-387">For example, the following constraint restricts a parameter to an integer value of 1 or greater:</span></span>

```csharp
[Route("users/{id:int:min(1)}")]
public User GetUserById(int id) { }
```

> [!WARNING]
> <span data-ttu-id="158de-388">Rota kısıtlamalarını URL'yi doğrulayın ve CLR türüne dönüştürülür (gibi `int` veya `DateTime`) her zaman sabit kültürü kullanır.</span><span class="sxs-lookup"><span data-stu-id="158de-388">Route constraints that verify the URL and are converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture.</span></span> <span data-ttu-id="158de-389">Bu kısıtlamalar, URL yerelleştirilemeyen olduğunu varsayın.</span><span class="sxs-lookup"><span data-stu-id="158de-389">These constraints assume that the URL is non-localizable.</span></span> <span data-ttu-id="158de-390">Framework tarafından sağlanan rota kısıtlamaları, rota değerleri depolanan değerleri değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="158de-390">The framework-provided route constraints don't modify the values stored in route values.</span></span> <span data-ttu-id="158de-391">URL'den ayrıştırılmış tüm rota değerleri dize olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="158de-391">All route values parsed from the URL are stored as strings.</span></span> <span data-ttu-id="158de-392">Örneğin, `float` rota değeri kayana dönüştürülecek kısıtlaması çalışır, ancak dönüştürülen değeri yalnızca, dönüştürülebilir bir kayan nokta doğrulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="158de-392">For example, the `float` constraint attempts to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="158de-393">Normal ifadeler</span><span class="sxs-lookup"><span data-stu-id="158de-393">Regular expressions</span></span>

<span data-ttu-id="158de-394">ASP.NET Core framework ekler `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` normal ifade oluşturucusu.</span><span class="sxs-lookup"><span data-stu-id="158de-394">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="158de-395">Bkz: <xref:System.Text.RegularExpressions.RegexOptions> bu üyeleri bir açıklaması.</span><span class="sxs-lookup"><span data-stu-id="158de-395">See <xref:System.Text.RegularExpressions.RegexOptions> for a description of these members.</span></span>

<span data-ttu-id="158de-396">Normal ifadeler, sınırlayıcılar ve Yönlendirme ve C# dili tarafından kullanılan benzer belirteçleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="158de-396">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="158de-397">Normal ifade belirteçleri Atlanan gerekir.</span><span class="sxs-lookup"><span data-stu-id="158de-397">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="158de-398">Normal ifade kullanmanızı `^\d{3}-\d{2}-\d{4}$` yönlendirme, deyim olmalıdır `\` olarak yazdığınız karakterler `\\` atlamak için C# kaynak dosyadaki `\` dize kaçış karakteri (kullanmadığınız sürece [verbatim dizesi değişmez değerler](/dotnet/csharp/language-reference/keywords/string).</span><span class="sxs-lookup"><span data-stu-id="158de-398">To use the regular expression `^\d{3}-\d{2}-\d{4}$` in Routing, the expression must have the `\` characters typed in as `\\` in the C# source file to escape the `\` string escape character (unless using [verbatim string literals](/dotnet/csharp/language-reference/keywords/string).</span></span> <span data-ttu-id="158de-399">`{`, `}`, `[`, Ve `]` karakter yönlendirme parametresi sınırlayıcı karakter kaçış katlayarak konulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="158de-399">The `{`, `}`, `[`, and `]` characters must be escaped by doubling them to escape the Routing parameter delimiter characters.</span></span> <span data-ttu-id="158de-400">Aşağıdaki tabloda, normal bir ifade ve kaçan sürümünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="158de-400">The table below shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="158de-401">İfade</span><span class="sxs-lookup"><span data-stu-id="158de-401">Expression</span></span>            | <span data-ttu-id="158de-402">Kaçış</span><span class="sxs-lookup"><span data-stu-id="158de-402">Escaped</span></span>                        |
| --------------------- | ------------------------------ |
| `^\d{3}-\d{2}-\d{4}$` | `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` |
| `^[a-z]{2}$`          | `^[[a-z]]{{2}}$`               |

<span data-ttu-id="158de-403">Sık sık yönlendirme kullanılan normal ifadeler ile başlayıp `^` karakter (eşleşme dizenin konumdan başlayarak) ve bitiş ile `$` karakter (eşleşme dizenin konumunu biten).</span><span class="sxs-lookup"><span data-stu-id="158de-403">Regular expressions used in routing often start with the `^` character (match starting position of the string) and end with the `$` character (match ending position of the string).</span></span> <span data-ttu-id="158de-404">`^` Ve `$` karakter tüm rota parametre değeri normal ifade eşleştirmesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="158de-404">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="158de-405">Olmadan `^` ve `$` karakterler, normal bir ifadeyle eşleşen genellikle istenmeyen dize içindeki herhangi bir alt dize.</span><span class="sxs-lookup"><span data-stu-id="158de-405">Without the `^` and `$` characters, the regular expression match any substring within the string, which is often undesirable.</span></span> <span data-ttu-id="158de-406">Aşağıdaki tablo bazı örnekler gösterilmektedir ve neden aynı veya eşleştirilecek başarısız açıklar.</span><span class="sxs-lookup"><span data-stu-id="158de-406">The table below shows some examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="158de-407">İfade</span><span class="sxs-lookup"><span data-stu-id="158de-407">Expression</span></span>   | <span data-ttu-id="158de-408">Dize</span><span class="sxs-lookup"><span data-stu-id="158de-408">String</span></span>    | <span data-ttu-id="158de-409">Eşleştirme</span><span class="sxs-lookup"><span data-stu-id="158de-409">Match</span></span> | <span data-ttu-id="158de-410">Yorum</span><span class="sxs-lookup"><span data-stu-id="158de-410">Comment</span></span>               |
| ------------ | --------- |  ---- |  -------------------- |
| `[a-z]{2}`   | <span data-ttu-id="158de-411">Merhaba</span><span class="sxs-lookup"><span data-stu-id="158de-411">hello</span></span>     | <span data-ttu-id="158de-412">Evet</span><span class="sxs-lookup"><span data-stu-id="158de-412">Yes</span></span>   | <span data-ttu-id="158de-413">alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="158de-413">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="158de-414">123abc456</span><span class="sxs-lookup"><span data-stu-id="158de-414">123abc456</span></span> | <span data-ttu-id="158de-415">Evet</span><span class="sxs-lookup"><span data-stu-id="158de-415">Yes</span></span>   | <span data-ttu-id="158de-416">alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="158de-416">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="158de-417">mz</span><span class="sxs-lookup"><span data-stu-id="158de-417">mz</span></span>        | <span data-ttu-id="158de-418">Evet</span><span class="sxs-lookup"><span data-stu-id="158de-418">Yes</span></span>   | <span data-ttu-id="158de-419">ifadeyle eşleşiyor</span><span class="sxs-lookup"><span data-stu-id="158de-419">Matches expression</span></span>    |
| `[a-z]{2}`   | <span data-ttu-id="158de-420">MZ</span><span class="sxs-lookup"><span data-stu-id="158de-420">MZ</span></span>        | <span data-ttu-id="158de-421">Evet</span><span class="sxs-lookup"><span data-stu-id="158de-421">Yes</span></span>   | <span data-ttu-id="158de-422">büyük/küçük harfe duyarlı değil</span><span class="sxs-lookup"><span data-stu-id="158de-422">Not case sensitive</span></span>    |
| `^[a-z]{2}$` |  <span data-ttu-id="158de-423">Merhaba</span><span class="sxs-lookup"><span data-stu-id="158de-423">hello</span></span>    | <span data-ttu-id="158de-424">Hayır</span><span class="sxs-lookup"><span data-stu-id="158de-424">No</span></span>    | <span data-ttu-id="158de-425">bkz: `^` ve `$` yukarıda</span><span class="sxs-lookup"><span data-stu-id="158de-425">See `^` and `$` above</span></span> |
| `^[a-z]{2}$` | <span data-ttu-id="158de-426">123abc456</span><span class="sxs-lookup"><span data-stu-id="158de-426">123abc456</span></span> | <span data-ttu-id="158de-427">Hayır</span><span class="sxs-lookup"><span data-stu-id="158de-427">No</span></span>    | <span data-ttu-id="158de-428">bkz: `^` ve `$` yukarıda</span><span class="sxs-lookup"><span data-stu-id="158de-428">See `^` and `$` above</span></span> |

<span data-ttu-id="158de-429">Normal ifade söz dizimi hakkında daha fazla bilgi için bkz. [.NET Framework normal ifadelerinde](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span><span class="sxs-lookup"><span data-stu-id="158de-429">For more information on regular expression syntax, see [.NET Framework Regular Expressions](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>

<span data-ttu-id="158de-430">Olası değerler bilinen bir dizi parametre sınırlamak için normal bir ifade kullanın.</span><span class="sxs-lookup"><span data-stu-id="158de-430">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="158de-431">Örneğin, `{action:regex(^(list|get|create)$)}` yalnızca eşleşen `action` yönlendirmek için değer `list`, `get`, veya `create`.</span><span class="sxs-lookup"><span data-stu-id="158de-431">For example, `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="158de-432">Dize kısıtlamaları sözlük geçirilen `^(list|get|create)$` eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="158de-432">If passed into the constraints dictionary, the string `^(list|get|create)$` is equivalent.</span></span> <span data-ttu-id="158de-433">Bilinen kısıtlamalardan biri eşleşmiyor (hizalı şablon içinde değil) kısıtlamaları sözlükteki geçirilen kısıtlamalar da normal ifadeler şeklinde kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="158de-433">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

::: moniker range=">= aspnetcore-2.2"

## <a name="parameter-transformer-reference"></a><span data-ttu-id="158de-434">Parametre transformer başvurusu</span><span class="sxs-lookup"><span data-stu-id="158de-434">Parameter transformer reference</span></span>

<span data-ttu-id="158de-435">Parametre dönüştürücüler:</span><span class="sxs-lookup"><span data-stu-id="158de-435">Parameter transformers:</span></span>

* <span data-ttu-id="158de-436">Bir bağlantı oluşturulurken yürütme bir `Route`.</span><span class="sxs-lookup"><span data-stu-id="158de-436">Execute when generating a link for a `Route`.</span></span>
* <span data-ttu-id="158de-437">Uygulama `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`.</span><span class="sxs-lookup"><span data-stu-id="158de-437">Implement `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`.</span></span>
* <span data-ttu-id="158de-438">Kullanılarak yapılandırılmış <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>.</span><span class="sxs-lookup"><span data-stu-id="158de-438">Are configured using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>.</span></span>
* <span data-ttu-id="158de-439">Parametrenin rota değeri alın ve yeni bir dize değerine dönüştürün.</span><span class="sxs-lookup"><span data-stu-id="158de-439">Take the parameter's route value and transform it to a new string value.</span></span>
* <span data-ttu-id="158de-440">Oluşturulan bağlantısına dönüştürülen değer kullanılır.</span><span class="sxs-lookup"><span data-stu-id="158de-440">The transformed value is used in the generated link.</span></span>

<span data-ttu-id="158de-441">Örneğin, bir özel `slugify` parametresi transformer yol deseninde `blog\{article:slugify}` ile `Url.Action(new { article = "MyTestArticle" })` oluşturur `blog\my-test-article`.</span><span class="sxs-lookup"><span data-stu-id="158de-441">For example, a custom `slugify` parameter transformer in route pattern `blog\{article:slugify}` with `Url.Action(new { article = "MyTestArticle" })` generates `blog\my-test-article`.</span></span>

<span data-ttu-id="158de-442">Parametre dönüştürücüler çerçevelerine bir uç nokta çözümler yapılacağı URI dönüştürmek için de kullanılır.</span><span class="sxs-lookup"><span data-stu-id="158de-442">Parameter transformers are also used by frameworks to transform the URI to which an endpoint resolves.</span></span> <span data-ttu-id="158de-443">Örneğin, ASP.NET Core MVC eşleştirmek için kullanılan rota değeri dönüştürmek için parametre dönüştürücüler kullanan bir `area`, `controller`, `action`, ve `page`.</span><span class="sxs-lookup"><span data-stu-id="158de-443">For example, ASP.NET Core MVC uses parameter transformers to transform the route value used to match an `area`, `controller`, `action`, and `page`.</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home:slugify}/{action=Index:slugify}/{id?}");
```

<span data-ttu-id="158de-444">Önceki yol, bir eylem ile `SubscriptionManagementController.GetAll()` URI'si ile eşleşen `/subscription-management/get-all`.</span><span class="sxs-lookup"><span data-stu-id="158de-444">With the preceding route, the action `SubscriptionManagementController.GetAll()` is matched with the URI `/subscription-management/get-all`.</span></span> <span data-ttu-id="158de-445">Bir parametre transformer giden bir bağlantı oluşturmak için kullanılan rota değerlerini değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="158de-445">A parameter transformer doesn't change the route values used to generate a link.</span></span> <span data-ttu-id="158de-446">`Url.Action("GetAll", "SubscriptionManagement")` çıkaran `/subscription-management/get-all`.</span><span class="sxs-lookup"><span data-stu-id="158de-446">`Url.Action("GetAll", "SubscriptionManagement")` outputs `/subscription-management/get-all`.</span></span>

<span data-ttu-id="158de-447">ASP.NET Core, bir parametre dönüştürücüler ile oluşturulan yolları kullanarak için API kuralları sağlar:</span><span class="sxs-lookup"><span data-stu-id="158de-447">ASP.NET Core provides API conventions for using a parameter transformers with generated routes:</span></span>

* <span data-ttu-id="158de-448">ASP.NET Core MVC sahip `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API kuralı.</span><span class="sxs-lookup"><span data-stu-id="158de-448">ASP.NET Core MVC has the `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API convention.</span></span> <span data-ttu-id="158de-449">Bu kural, uygulamadaki tüm öznitelik rotaları belirtilen parametre transformer uygular.</span><span class="sxs-lookup"><span data-stu-id="158de-449">This convention applies a specified parameter transformer to all attribute routes in the app.</span></span> <span data-ttu-id="158de-450">Bunlar gibi parametre transformer öznitelik rotası belirteçleri dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="158de-450">The parameter transformer transforms attribute route tokens as they are replaced.</span></span> <span data-ttu-id="158de-451">Daha fazla bilgi için [belirteç değiştirme özelleştirmek için bir parametre transformer kullanma](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span><span class="sxs-lookup"><span data-stu-id="158de-451">For more information, see [Use a parameter transformer to customize token replacement](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span></span>
* <span data-ttu-id="158de-452">Razor sayfaları `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API kuralı.</span><span class="sxs-lookup"><span data-stu-id="158de-452">Razor pages has the `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API convention.</span></span> <span data-ttu-id="158de-453">Bu kural belirtilen parametre transformer otomatik olarak keşfedildiğini Razor sayfaları için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="158de-453">This convention applies a specified parameter transformer to all automatically discovered Razor pages.</span></span> <span data-ttu-id="158de-454">Parametre dönüştürücü, klasör ve dosya adı parçaları Razor sayfası yolların dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="158de-454">The parameter transformer transforms the folder and file name segments of Razor page routes.</span></span> <span data-ttu-id="158de-455">Daha fazla bilgi için [sayfa yollar özelleştirmek için bir parametre transformer kullanma](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span><span class="sxs-lookup"><span data-stu-id="158de-455">For more information, see [Use a parameter transformer to customize page routes](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span></span>

::: moniker-end

## <a name="url-generation-reference"></a><span data-ttu-id="158de-456">URL üretimi başvurusu</span><span class="sxs-lookup"><span data-stu-id="158de-456">URL generation reference</span></span>

<span data-ttu-id="158de-457">Aşağıdaki örnek, rota değerleri sözlüğü belirtilen bir rotaya bir bağlantı oluşturmak gösterilir ve <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span><span class="sxs-lookup"><span data-stu-id="158de-457">The following example shows how to generate a link to a route given a dictionary of route values and a <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span></span>

::: moniker range=">= aspnetcore-2.0"

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

::: moniker-end

::: moniker range="< aspnetcore-2.0"

[!code-csharp[](routing/samples/1.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

::: moniker-end

<span data-ttu-id="158de-458">`VirtualPath` Önceki sonunda oluşturulan örnek `/package/create/123`.</span><span class="sxs-lookup"><span data-stu-id="158de-458">The `VirtualPath` generated at the end of the preceding sample is `/package/create/123`.</span></span> <span data-ttu-id="158de-459">Sözlük sağlayan `operation` ve `id` rota değerleri "İzleme paketi yol" şablonunun `package/{operation}/{id}`.</span><span class="sxs-lookup"><span data-stu-id="158de-459">The dictionary supplies the `operation` and `id` route values of the "Track Package Route" template, `package/{operation}/{id}`.</span></span> <span data-ttu-id="158de-460">Örnek kodda Ayrıntılar için bkz [kullanım yönlendirme ara yazılım](#use-routing-middleware) bölüm veya [örnek uygulaması](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span><span class="sxs-lookup"><span data-stu-id="158de-460">For details, see the sample code in the [Use Routing Middleware](#use-routing-middleware) section or the [sample app](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span></span>

<span data-ttu-id="158de-461">İkinci parametresi `VirtualPathContext` oluşturucudur koleksiyonu *ortam değerlerini*.</span><span class="sxs-lookup"><span data-stu-id="158de-461">The second parameter to the `VirtualPathContext` constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="158de-462">Ortam değerleri, belirli bir istek bağlamı içinde bir geliştirici belirtmelisiniz değerlerin sayısını sınırlayarak kolaylık sağlar.</span><span class="sxs-lookup"><span data-stu-id="158de-462">Ambient values provide convenience by limiting the number of values a developer must specify within a certain request context.</span></span> <span data-ttu-id="158de-463">Geçerli isteğin geçerli rota değerleri için bağlantı oluşturma ortam değerleri olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="158de-463">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="158de-464">Bir ASP.NET Core MVC uygulaması açıksa `About` eylemi `HomeController`, bağlanmak için denetleyici rota değeri belirtmeniz gerekmez `Index` eylem&mdash;ortam değerini `Home` kullanılır.</span><span class="sxs-lookup"><span data-stu-id="158de-464">In an ASP.NET Core MVC app if you are in the `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action&mdash;the ambient value of `Home` is used.</span></span>

<span data-ttu-id="158de-465">Bir parametre eşleşmeyen ortam değerleri yoksayılır ve ortam değerleri açıkça belirtilen bir değer, soldan sağa doğru giden geçersiz kıldığında da yoksayılır URL.</span><span class="sxs-lookup"><span data-stu-id="158de-465">Ambient values that don't match a parameter are ignored, and ambient values are also ignored when an explicitly provided value overrides it, going from left to right in the URL.</span></span>

<span data-ttu-id="158de-466">Açıkça sağlanan ancak, herhangi bir şey eşleşmeyen değerler sorgu dizesine eklenir.</span><span class="sxs-lookup"><span data-stu-id="158de-466">Values that are explicitly provided but which don't match anything are added to the query string.</span></span> <span data-ttu-id="158de-467">Rota şablonu kullanılırken sonucu aşağıdaki tabloda gösterilmiştir `{controller}/{action}/{id?}`.</span><span class="sxs-lookup"><span data-stu-id="158de-467">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="158de-468">Ortam değerleri</span><span class="sxs-lookup"><span data-stu-id="158de-468">Ambient Values</span></span>                | <span data-ttu-id="158de-469">Açık değerler</span><span class="sxs-lookup"><span data-stu-id="158de-469">Explicit Values</span></span>                   | <span data-ttu-id="158de-470">Sonuç</span><span class="sxs-lookup"><span data-stu-id="158de-470">Result</span></span>                  |
| ----------------------------- | --------------------------------- | ----------------------- |
| <span data-ttu-id="158de-471">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="158de-471">controller="Home"</span></span>             | <span data-ttu-id="158de-472">Eylem "Hakkında" =</span><span class="sxs-lookup"><span data-stu-id="158de-472">action="About"</span></span>                    | `/Home/About`           |
| <span data-ttu-id="158de-473">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="158de-473">controller="Home"</span></span>             | <span data-ttu-id="158de-474">Denetleyici = "Order", Eylem "Hakkında" =</span><span class="sxs-lookup"><span data-stu-id="158de-474">controller="Order",action="About"</span></span> | `/Order/About`          |
| <span data-ttu-id="158de-475">Denetleyici "Home", renk = = "Red"</span><span class="sxs-lookup"><span data-stu-id="158de-475">controller="Home",color="Red"</span></span> | <span data-ttu-id="158de-476">Eylem "Hakkında" =</span><span class="sxs-lookup"><span data-stu-id="158de-476">action="About"</span></span>                    | `/Home/About`           |
| <span data-ttu-id="158de-477">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="158de-477">controller="Home"</span></span>             | <span data-ttu-id="158de-478">Eylem = "Hakkında", renk = "Red"</span><span class="sxs-lookup"><span data-stu-id="158de-478">action="About",color="Red"</span></span>        | `/Home/About?color=Red` |

<span data-ttu-id="158de-479">Bir rota parametresi gelmiyor varsayılan bir değer varsa ve bu değeri açıkça sağlanan varsayılan değer eşleşmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="158de-479">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
    defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="158de-480">Denetleyici ve eylem için eşleşen değerler sağlandığında bağlama oluşturmayı yalnızca bu yol için bir bağlantı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="158de-480">Link generation only generates a link for this route when the matching values for controller and action are provided.</span></span>

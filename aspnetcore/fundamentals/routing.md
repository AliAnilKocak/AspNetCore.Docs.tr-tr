---
title: ASP.NET Core yönlendirme
author: rick-anderson
description: İstek URI 'Lerini uç nokta seçiclerine eşleyerek ve gelen istekleri uç noktalara gönderen ASP.NET Core yönlendirmenin nasıl sorumlu olduğunu öğrenin.
monikerRange: '>= aspnetcore-2.1'
ms.author: riande
ms.custom: mvc
ms.date: 09/24/2019
uid: fundamentals/routing
ms.openlocfilehash: 8b4da4e1e262ec82225413d0338b3492d0b5e152
ms.sourcegitcommit: 032113208bb55ecfb2faeb6d3e9ea44eea827950
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/31/2019
ms.locfileid: "73190509"
---
# <a name="routing-in-aspnet-core"></a><span data-ttu-id="07405-103">ASP.NET Core yönlendirme</span><span class="sxs-lookup"><span data-stu-id="07405-103">Routing in ASP.NET Core</span></span>

<span data-ttu-id="07405-104">[Ryan şimdi ak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/)ve [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="07405-104">By [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

::: moniker range=">= aspnetcore-3.0"

<span data-ttu-id="07405-105">Yönlendirme, istek URI 'Lerini uç noktalarla eşleştirmekten ve gelen istekleri bu uç noktalara gönderen sorumludur.</span><span class="sxs-lookup"><span data-stu-id="07405-105">Routing is responsible for mapping request URIs to endpoints and dispatching incoming requests to those endpoints.</span></span> <span data-ttu-id="07405-106">Yollar uygulamada tanımlanır ve uygulama başlatıldığında yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-106">Routes are defined in the app and configured when the app starts.</span></span> <span data-ttu-id="07405-107">Yol, isteğe bağlı olarak istekte bulunan URL 'den değerleri ayıklayabilir ve bu değerler, istek işleme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-107">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="07405-108">Uygulamadan yönlendirme bilgilerini kullanarak, yönlendirme, uç noktalarıyla eşlenen URL 'Ler de oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-108">Using route information from the app, routing is also able to generate URLs that map to endpoints.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="07405-109">Bu belge, alt düzey ASP.NET Core yönlendirmeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="07405-109">This document covers low-level ASP.NET Core routing.</span></span> <span data-ttu-id="07405-110">ASP.NET Core MVC yönlendirme hakkında daha fazla bilgi için bkz. <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="07405-110">For information on ASP.NET Core MVC routing, see <xref:mvc/controllers/routing>.</span></span> <span data-ttu-id="07405-111">Razor Pages 'de yönlendirme kuralları hakkında bilgi için bkz. <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="07405-111">For information on routing conventions in Razor Pages, see <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="07405-112">[Örnek kodu görüntüleme veya indirme](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([nasıl indirileceği](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="07405-112">[View or download sample code](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="07405-113">Yönlendirme temelleri</span><span class="sxs-lookup"><span data-stu-id="07405-113">Routing basics</span></span>

<span data-ttu-id="07405-114">Çoğu uygulama, URL 'Lerin okunabilir ve anlamlı olması için temel ve açıklayıcı bir yönlendirme şeması seçmelidir.</span><span class="sxs-lookup"><span data-stu-id="07405-114">Most apps should choose a basic and descriptive routing scheme so that URLs are readable and meaningful.</span></span> <span data-ttu-id="07405-115">Varsayılan geleneksel yol `{controller=Home}/{action=Index}/{id?}`:</span><span class="sxs-lookup"><span data-stu-id="07405-115">The default conventional route `{controller=Home}/{action=Index}/{id?}`:</span></span>

* <span data-ttu-id="07405-116">Temel ve açıklayıcı bir yönlendirme düzenini destekler.</span><span class="sxs-lookup"><span data-stu-id="07405-116">Supports a basic and descriptive routing scheme.</span></span>
* <span data-ttu-id="07405-117">, UI tabanlı uygulamalar için kullanışlı bir başlangıç noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-117">Is a useful starting point for UI-based apps.</span></span>

<span data-ttu-id="07405-118">Geliştiriciler, [öznitelik yönlendirme](xref:mvc/controllers/routing#attribute-routing) veya adanmış geleneksel yollar kullanarak özel durumlarda (örneğin, blog ve e-ticaret uç noktaları) bir uygulamanın yüksek trafik bölümlerine daha fazla terse yolu ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-118">Developers commonly add additional terse routes to high-traffic areas of an app in specialized situations (for example, blog and ecommerce endpoints) using [attribute routing](xref:mvc/controllers/routing#attribute-routing) or dedicated conventional routes.</span></span>

<span data-ttu-id="07405-119">Web API 'Leri, uygulamanın işlevselliğini HTTP fiilleri tarafından temsil edilen bir kaynak kümesi olarak modellemek için öznitelik yönlendirmeyi kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-119">Web APIs should use attribute routing to model the app's functionality as a set of resources where operations are represented by HTTP verbs.</span></span> <span data-ttu-id="07405-120">Bu, aynı mantıksal kaynaktaki birçok işlemin (örneğin, GET, POST) aynı URL 'YI kullanacağı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="07405-120">This means that many operations (for example, GET, POST) on the same logical resource will use the same URL.</span></span> <span data-ttu-id="07405-121">Öznitelik yönlendirme, bir API 'nin Genel uç nokta yerleşimini dikkatle tasarlamak için gereken bir denetim düzeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-121">Attribute routing provides a level of control that's needed to carefully design an API's public endpoint layout.</span></span>

<span data-ttu-id="07405-122">Razor Pages uygulamalar, bir uygulamanın *Sayfalar* klasöründe adlandırılmış kaynaklara hizmeti sağlamak için varsayılan geleneksel yönlendirmeyi kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-122">Razor Pages apps use default conventional routing to serve named resources in the *Pages* folder of an app.</span></span> <span data-ttu-id="07405-123">Razor Pages yönlendirme davranışını özelleştirmenizi sağlayan ek kurallar mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="07405-123">Additional conventions are available that allow you to customize Razor Pages routing behavior.</span></span> <span data-ttu-id="07405-124">Daha fazla bilgi için bkz. <xref:razor-pages/index> ve <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="07405-124">For more information, see <xref:razor-pages/index> and <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="07405-125">URL oluşturma desteği, uygulamanın, uygulamayı birbirine bağlamak için sabit kodlama URL 'Leri olmadan geliştirilebilmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="07405-125">URL generation support allows the app to be developed without hard-coding URLs to link the app together.</span></span> <span data-ttu-id="07405-126">Bu destek, temel bir yönlendirme yapılandırmasıyla başlayıp uygulamanın kaynak düzeni belirlendikten sonra yolların değiştirilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-126">This support allows for starting with a basic routing configuration and modifying the routes after the app's resource layout is determined.</span></span>

<span data-ttu-id="07405-127">Yönlendirme, bir uygulamadaki mantıksal uç noktaları temsil etmek için *uç noktaları* (`Endpoint`) kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-127">Routing uses *endpoints* (`Endpoint`) to represent logical endpoints in an app.</span></span>

<span data-ttu-id="07405-128">Bir uç nokta, istekleri işlemek için bir temsilci ve rastgele meta veri koleksiyonunu tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-128">An endpoint defines a delegate to process requests and a collection of arbitrary metadata.</span></span> <span data-ttu-id="07405-129">Meta veriler, her uç noktaya eklenen ilkelere ve yapılandırmaya göre çapraz kesme sorunları uygulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-129">The metadata is used to implement cross-cutting concerns based on policies and configuration attached to each endpoint.</span></span>

<span data-ttu-id="07405-130">Yönlendirme sistemi aşağıdaki özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="07405-130">The routing system has the following characteristics:</span></span>

* <span data-ttu-id="07405-131">Yol şablonu sözdizimi, simgeleştirilmiş yol parametrelerine sahip yolları tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-131">Route template syntax is used to define routes with tokenized route parameters.</span></span>
* <span data-ttu-id="07405-132">Geleneksel stil ve öznitelik stili uç nokta yapılandırmasına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="07405-132">Conventional-style and attribute-style endpoint configuration is permitted.</span></span>
* <span data-ttu-id="07405-133"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, bir URL parametresinin belirli bir uç nokta kısıtlaması için geçerli bir değer içerip içermediğini belirlemekte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-133"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> is used to determine whether a URL parameter contains a valid value for a given endpoint constraint.</span></span>
* <span data-ttu-id="07405-134">MVC/Razor Pages gibi uygulama modelleri, yönlendirme senaryolarının öngörülebilir bir uygulaması olan tüm uç noktalarını kaydeder.</span><span class="sxs-lookup"><span data-stu-id="07405-134">App models, such as MVC/Razor Pages, register all of their endpoints, which have a predictable implementation of routing scenarios.</span></span>
* <span data-ttu-id="07405-135">Yönlendirme gerçekleştirme, yönlendirme kararlarını, ara yazılım ardışık düzeninde istediğiniz yere getirir.</span><span class="sxs-lookup"><span data-stu-id="07405-135">The routing implementation makes routing decisions wherever desired in the middleware pipeline.</span></span>
* <span data-ttu-id="07405-136">Bir yönlendirme ara yazılımı, belirli bir istek URI 'SI için yönlendirme ara yazılımı uç noktası kararının sonucunu inceleyebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-136">Middleware that appears after a Routing Middleware can inspect the result of the Routing Middleware's endpoint decision for a given request URI.</span></span>
* <span data-ttu-id="07405-137">Uygulamadaki tüm uç noktaları, ara yazılım ardışık düzeninde herhangi bir yerde listelemek mümkündür.</span><span class="sxs-lookup"><span data-stu-id="07405-137">It's possible to enumerate all of the endpoints in the app anywhere in the middleware pipeline.</span></span>
* <span data-ttu-id="07405-138">Bir uygulama, uç nokta bilgilerine göre URL 'Ler oluşturmak için (örneğin, yeniden yönlendirme veya bağlantılar için) yönlendirmeyi kullanabilir ve bu sayede bakım yapılmasına yardımcı olan sabit kodlanmış URL 'Lerden kaçınabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07405-138">An app can use routing to generate URLs (for example, for redirection or links) based on endpoint information and thus avoid hard-coded URLs, which helps maintainability.</span></span>
* <span data-ttu-id="07405-139">URL oluşturma, rastgele genişletilebilirliği destekleyen adreslere dayalıdır:</span><span class="sxs-lookup"><span data-stu-id="07405-139">URL generation is based on addresses, which support arbitrary extensibility:</span></span>

  * <span data-ttu-id="07405-140">Bağlantı Oluşturucu API 'SI (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>), [bağımlılık ekleme (dı)](xref:fundamentals/dependency-injection) kullanılarak URL 'ler oluşturmak için her yerde çözülebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-140">The Link Generator API (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>) can be resolved anywhere using [dependency injection (DI)](xref:fundamentals/dependency-injection) to generate URLs.</span></span>
  * <span data-ttu-id="07405-141">Bağlantı Oluşturucu API 'sinin DI aracılığıyla kullanılamadığı durumlarda <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> URL 'Leri derlemek için yöntemler sunar.</span><span class="sxs-lookup"><span data-stu-id="07405-141">Where the Link Generator API isn't available via DI, <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> offers methods to build URLs.</span></span>

> [!NOTE]
> <span data-ttu-id="07405-142">Uç nokta bağlama, MVC/Razor Pages eylemleri ve sayfalarıyla sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-142">Endpoint linking is limited to MVC/Razor Pages actions and pages.</span></span> <span data-ttu-id="07405-143">Uç nokta bağlama yeteneklerinin genişletmeleri, gelecek sürümlerde planlanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="07405-143">The expansions of endpoint-linking capabilities is planned for future releases.</span></span>

<span data-ttu-id="07405-144">Yönlendirme, <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> sınıfı tarafından, [Ara yazılım](xref:fundamentals/middleware/index) ardışık düzenine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-144">Routing is connected to the [middleware](xref:fundamentals/middleware/index) pipeline by the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> class.</span></span> <span data-ttu-id="07405-145">[ASP.NET Core MVC](xref:mvc/overview) , yapılandırma kapsamında bir ara yazılım ardışık düzenine yönlendirme ekler ve MVC ve Razor Pages uygulamalarında yönlendirmeyi işler.</span><span class="sxs-lookup"><span data-stu-id="07405-145">[ASP.NET Core MVC](xref:mvc/overview) adds routing to the middleware pipeline as part of its configuration and handles routing in MVC and Razor Pages apps.</span></span> <span data-ttu-id="07405-146">Tek başına bileşen olarak yönlendirmeyi nasıl kullanacağınızı öğrenmek için [yönlendirme ara yazılımı kullanma](#use-routing-middleware) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-146">To learn how to use routing as a standalone component, see the [Use Routing Middleware](#use-routing-middleware) section.</span></span>

### <a name="url-matching"></a><span data-ttu-id="07405-147">URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="07405-147">URL matching</span></span>

<span data-ttu-id="07405-148">URL eşleştirme, yönlendirmenin bir *uç noktaya*gelen isteği gönderdiği işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-148">URL matching is the process by which routing dispatches an incoming request to an *endpoint*.</span></span> <span data-ttu-id="07405-149">Bu işlem, URL yolundaki verileri temel alır, ancak istekteki verileri göz önünde bulundurmanız için genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-149">This process is based on data in the URL path but can be extended to consider any data in the request.</span></span> <span data-ttu-id="07405-150">Ayrı işleyicilere istek gönderme özelliği, bir uygulamanın boyutunu ve karmaşıklığını ölçeklendirmeye yönelik anahtardır.</span><span class="sxs-lookup"><span data-stu-id="07405-150">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an app.</span></span>

<span data-ttu-id="07405-151">Bir yönlendirme ara yazılımı yürütüldüğünde, bir uç nokta (`Endpoint`) ayarlar ve değerleri <xref:Microsoft.AspNetCore.Http.HttpContext>bir özelliğe yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="07405-151">When a Routing Middleware executes, it sets an endpoint (`Endpoint`) and route values to a feature on the <xref:Microsoft.AspNetCore.Http.HttpContext>.</span></span> <span data-ttu-id="07405-152">Geçerli istek için:</span><span class="sxs-lookup"><span data-stu-id="07405-152">For the current request:</span></span>

* <span data-ttu-id="07405-153">Çağırma `HttpContext.GetEndpoint` bitiş noktasını alır.</span><span class="sxs-lookup"><span data-stu-id="07405-153">Calling `HttpContext.GetEndpoint` gets the endpoint.</span></span>
* <span data-ttu-id="07405-154">`HttpRequest.RouteValues` yol değerlerinin koleksiyonunu alır.</span><span class="sxs-lookup"><span data-stu-id="07405-154">`HttpRequest.RouteValues` gets the collection of route values.</span></span>

<span data-ttu-id="07405-155">Yönlendirme ara yazılımı ile çalışan ara yazılım, uç noktayı görebilir ve işlem yapabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-155">Middleware running after the Routing Middleware can see the endpoint and take action.</span></span> <span data-ttu-id="07405-156">Örneğin, bir yetkilendirme ara yazılımı, bir yetkilendirme ilkesi için bitiş noktasının meta veri koleksiyonunu sorgulanamıyor.</span><span class="sxs-lookup"><span data-stu-id="07405-156">For example, an Authorization Middleware can interrogate the endpoint's metadata collection for an authorization policy.</span></span> <span data-ttu-id="07405-157">İstek işleme ardışık düzeninde bulunan tüm ara yazılım yürütüldükten sonra, seçilen uç noktanın temsilcisi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="07405-157">After all of the middleware in the request processing pipeline is executed, the selected endpoint's delegate is invoked.</span></span>

<span data-ttu-id="07405-158">Uç nokta yönlendirmesinde yönlendirme sistemi tüm gönderme kararlarından sorumludur.</span><span class="sxs-lookup"><span data-stu-id="07405-158">The routing system in endpoint routing is responsible for all dispatching decisions.</span></span> <span data-ttu-id="07405-159">Ara yazılım, seçili uç noktaya göre ilkeler uyguladığı için, yönlendirme sisteminde güvenlik ilkelerinin dağıtımını etkileyebilecek veya uygulamanın uygulanmasını etkileyebilecek herhangi bir kararın olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="07405-159">Since the middleware applies policies based on the selected endpoint, it's important that any decision that can affect dispatching or the application of security policies is made inside the routing system.</span></span>

<span data-ttu-id="07405-160">Uç nokta temsilcisi yürütüldüğünde, [Routecontext. RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) özellikleri, bu nedenle yapılan istek işlemeye bağlı olarak uygun değerlere ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-160">When the endpoint delegate is executed, the properties of [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) are set to appropriate values based on the request processing performed thus far.</span></span>

<span data-ttu-id="07405-161">[RouteData. Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) , rotada oluşturulan *yol değerlerinin* bir sözlüğüdür.</span><span class="sxs-lookup"><span data-stu-id="07405-161">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="07405-162">Bu değerler genellikle URL 'YI simgeleştirerek belirlenir ve Kullanıcı girişini kabul etmek ya da uygulama içinde daha fazla kararlar almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-162">These values are usually determined by tokenizing the URL and can be used to accept user input or to make further dispatching decisions inside the app.</span></span>

<span data-ttu-id="07405-163">[RouteData. DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) , eşleşen rotayla ilgili ek verilerin bir özellik çantadır.</span><span class="sxs-lookup"><span data-stu-id="07405-163">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="07405-164"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*>, uygulamanın hangi yolun eşleştiğini temel alarak kararlar verebilmesi için durum verilerinin her bir rota ile ilişkilendirilmesini desteklemek amacıyla sağlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-164"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*> are provided to support associating state data with each route so that the app can make decisions based on which route matched.</span></span> <span data-ttu-id="07405-165">Bu değerler, geliştirici tarafından tanımlanır ve yönlendirme davranışını herhangi bir **şekilde etkilemez.**</span><span class="sxs-lookup"><span data-stu-id="07405-165">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="07405-166">Ayrıca, [RouteData. DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) içinde bulunan değerler her türlü türden olabilir. Bu, [veri](xref:Microsoft.AspNetCore.Routing.RouteData.Values)dizeleri arasında dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-166">Additionally, values stashed in [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) can be of any type, in contrast to [RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values), which must be convertible to and from strings.</span></span>

<span data-ttu-id="07405-167">[RouteData. yönlendiriciler](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) , isteği başarıyla eşleştirirken geçen yolların bir listesidir.</span><span class="sxs-lookup"><span data-stu-id="07405-167">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="07405-168">Yollar bir diğerinin içinde iç içe olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-168">Routes can be nested inside of one another.</span></span> <span data-ttu-id="07405-169"><xref:Microsoft.AspNetCore.Routing.RouteData.Routers> özelliği, bir eşleşme ile sonuçlanan yolların mantıksal ağacı aracılığıyla yolu yansıtır.</span><span class="sxs-lookup"><span data-stu-id="07405-169">The <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="07405-170">Genellikle, <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> ilk öğe yol koleksiyonudur ve URL oluşturma için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-170">Generally, the first item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route collection and should be used for URL generation.</span></span> <span data-ttu-id="07405-171"><xref:Microsoft.AspNetCore.Routing.RouteData.Routers> son öğe, eşleşen yol işleyicisidir.</span><span class="sxs-lookup"><span data-stu-id="07405-171">The last item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route handler that matched.</span></span>

<a name="lg"></a>

### <a name="url-generation-with-linkgenerator"></a><span data-ttu-id="07405-172">LinkGenerator ile URL oluşturma</span><span class="sxs-lookup"><span data-stu-id="07405-172">URL generation with LinkGenerator</span></span>

<span data-ttu-id="07405-173">URL oluşturma, yönlendirmenin bir yol değerleri kümesine göre bir URL yolu oluşturabileceği işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-173">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="07405-174">Bu, uç noktalarınız ve bunlara erişen URL 'Ler arasında mantıksal bir ayrım sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-174">This allows for a logical separation between your endpoints and the URLs that access them.</span></span>

<span data-ttu-id="07405-175">Uç nokta yönlendirme bağlantı Oluşturucu API 'sini (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>) içerir.</span><span class="sxs-lookup"><span data-stu-id="07405-175">Endpoint routing includes the Link Generator API (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>).</span></span> <span data-ttu-id="07405-176"><xref:Microsoft.AspNetCore.Routing.LinkGenerator>, DI 'dan alınabilecek bir tek hizmettir.</span><span class="sxs-lookup"><span data-stu-id="07405-176"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> is a singleton service that can be retrieved from DI.</span></span> <span data-ttu-id="07405-177">API, yürütülen bir istek bağlamı dışında kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-177">The API can be used outside of the context of an executing request.</span></span> <span data-ttu-id="07405-178">MVC 'nin [Etiket Yardımcıları](xref:mvc/views/tag-helpers/intro), HTML Yardımcıları ve [eylem sonuçları](xref:mvc/controllers/actions)gibi <xref:Microsoft.AspNetCore.Mvc.IUrlHelper>kullanan <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> ve senaryoları, bağlantı oluşturma yetenekleri sağlamak için bağlantı oluşturucuyu kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-178">MVC's <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> and scenarios that rely on <xref:Microsoft.AspNetCore.Mvc.IUrlHelper>, such as [Tag Helpers](xref:mvc/views/tag-helpers/intro), HTML Helpers, and [Action Results](xref:mvc/controllers/actions), use the link generator to provide link generating capabilities.</span></span>

<span data-ttu-id="07405-179">Bağlantı Oluşturucu, bir *Adres* ve *Adres şemaları*kavramıyla desteklenir.</span><span class="sxs-lookup"><span data-stu-id="07405-179">The link generator is backed by the concept of an *address* and *address schemes*.</span></span> <span data-ttu-id="07405-180">Adres şeması, bağlantı oluşturma için göz önünde bulundurmanız gereken uç noktaları belirlemenin bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="07405-180">An address scheme is a way of determining the endpoints that should be considered for link generation.</span></span> <span data-ttu-id="07405-181">Örneğin, çok sayıda kullanıcının yol adı ve yol değerleri senaryoları, MVC/Razor Pages tarafından tanıdık bir adres düzeni olarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="07405-181">For example, the route name and route values scenarios many users are familiar with from MVC/Razor Pages are implemented as an address scheme.</span></span>

<span data-ttu-id="07405-182">Bağlantı Oluşturucu, aşağıdaki genişletme yöntemleri aracılığıyla MVC/Razor Pages eylemlerine ve sayfalarına bağlanabilir:</span><span class="sxs-lookup"><span data-stu-id="07405-182">The link generator can link to MVC/Razor Pages actions and pages via the following extension methods:</span></span>

* <xref:Microsoft.AspNetCore.Routing.ControllerLinkGeneratorExtensions.GetPathByAction*>
* <xref:Microsoft.AspNetCore.Routing.ControllerLinkGeneratorExtensions.GetUriByAction*>
* <xref:Microsoft.AspNetCore.Routing.PageLinkGeneratorExtensions.GetPathByPage*>
* <xref:Microsoft.AspNetCore.Routing.PageLinkGeneratorExtensions.GetUriByPage*>

<span data-ttu-id="07405-183">Bu yöntemlerin aşırı yüklemesi `HttpContext`içeren bağımsız değişkenleri kabul eder.</span><span class="sxs-lookup"><span data-stu-id="07405-183">An overload of these methods accepts arguments that include the `HttpContext`.</span></span> <span data-ttu-id="07405-184">Bu yöntemler `Url.Action` ve `Url.Page` işlevsel olarak eşdeğerdir ancak ek esneklik ve seçenekler sunar.</span><span class="sxs-lookup"><span data-stu-id="07405-184">These methods are functionally equivalent to `Url.Action` and `Url.Page` but offer additional flexibility and options.</span></span>

<span data-ttu-id="07405-185">`GetPath*` yöntemleri, `Url.Action` ve `Url.Page`, mutlak bir yol içeren bir URI oluşturmak için en çok benzerdir.</span><span class="sxs-lookup"><span data-stu-id="07405-185">The `GetPath*` methods are most similar to `Url.Action` and `Url.Page` in that they generate a URI containing an absolute path.</span></span> <span data-ttu-id="07405-186">`GetUri*` Yöntemler her zaman bir düzen ve konak içeren mutlak bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-186">The `GetUri*` methods always generate an absolute URI containing a scheme and host.</span></span> <span data-ttu-id="07405-187">Bir `HttpContext` kabul eden yöntemler, yürütülmekte olan istek bağlamında bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-187">The methods that accept an `HttpContext` generate a URI in the context of the executing request.</span></span> <span data-ttu-id="07405-188">Ortam yolu değerleri, URL taban yolu, şeması ve yürütülen istekten ana bilgisayar, geçersiz kılınmadıkça kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-188">The ambient route values, URL base path, scheme, and host from the executing request are used unless overridden.</span></span>

<span data-ttu-id="07405-189"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> bir adresle çağrılır.</span><span class="sxs-lookup"><span data-stu-id="07405-189"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> is called with an address.</span></span> <span data-ttu-id="07405-190">URI oluşturma iki adımda gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="07405-190">Generating a URI occurs in two steps:</span></span>

1. <span data-ttu-id="07405-191">Adres, adresle eşleşen bir uç nokta listesine bağlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-191">An address is bound to a list of endpoints that match the address.</span></span>
1. <span data-ttu-id="07405-192">Her uç noktanın `RoutePattern`, sağlanan değerlerle eşleşen bir rota deseninin bulunana kadar değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="07405-192">Each endpoint's `RoutePattern` is evaluated until a route pattern that matches the supplied values is found.</span></span> <span data-ttu-id="07405-193">Elde edilen çıktı, bağlantı oluşturucuya sağlanan diğer URI parçalarıyla birleştirilir ve döndürülür.</span><span class="sxs-lookup"><span data-stu-id="07405-193">The resulting output is combined with the other URI parts supplied to the link generator and returned.</span></span>

<span data-ttu-id="07405-194"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> tarafından sunulan yöntemler, herhangi bir tür adresin standart bağlantı oluşturma özelliklerini destekler.</span><span class="sxs-lookup"><span data-stu-id="07405-194">The methods provided by <xref:Microsoft.AspNetCore.Routing.LinkGenerator> support standard link generation capabilities for any type of address.</span></span> <span data-ttu-id="07405-195">Bağlantı oluşturucuyu kullanmanın en kolay yolu, belirli bir adres türü için işlem gerçekleştiren genişletme yöntemlerine yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="07405-195">The most convenient way to use the link generator is through extension methods that perform operations for a specific address type.</span></span>

| <span data-ttu-id="07405-196">Genişletme yöntemi</span><span class="sxs-lookup"><span data-stu-id="07405-196">Extension Method</span></span> | <span data-ttu-id="07405-197">Açıklama</span><span class="sxs-lookup"><span data-stu-id="07405-197">Description</span></span> |
| ---------------- | ----------- |
| <xref:Microsoft.AspNetCore.Routing.LinkGenerator.GetPathByAddress*> | <span data-ttu-id="07405-198">Belirtilen değerleri temel alarak mutlak bir yola sahip bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-198">Generates a URI with an absolute path based on the provided values.</span></span> |
| <xref:Microsoft.AspNetCore.Routing.LinkGenerator.GetUriByAddress*> | <span data-ttu-id="07405-199">Belirtilen değerleri temel alarak mutlak bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-199">Generates an absolute URI based on the provided values.</span></span>             |

> [!WARNING]
> <span data-ttu-id="07405-200"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> yöntemlerinin çağrılmasının aşağıdaki etkilerine dikkat edin:</span><span class="sxs-lookup"><span data-stu-id="07405-200">Pay attention to the following implications of calling <xref:Microsoft.AspNetCore.Routing.LinkGenerator> methods:</span></span>
>
> * <span data-ttu-id="07405-201">Gelen isteklerin `Host` üstbilgisini doğrulayan bir uygulama yapılandırmasında `GetUri*` uzantısı yöntemlerini dikkatle kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-201">Use `GetUri*` extension methods with caution in an app configuration that doesn't validate the `Host` header of incoming requests.</span></span> <span data-ttu-id="07405-202">Gelen isteklerin `Host` üstbilgisi doğrulandıktan sonra, güvenilir olmayan istek girişi, bir görünüm/sayfada URI 'Ler halinde istemciye geri gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-202">If the `Host` header of incoming requests isn't validated, untrusted request input can be sent back to the client in URIs in a view/page.</span></span> <span data-ttu-id="07405-203">Tüm üretim uygulamalarının, `Host` üst bilgisini bilinen geçerli değerlere karşı doğrulamak için kendi sunucusunu yapılandırmasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="07405-203">We recommend that all production apps configure their server to validate the `Host` header against known valid values.</span></span>
>
> * <span data-ttu-id="07405-204">`Map` veya `MapWhen`birlikte ara yazılım ile birlikte <xref:Microsoft.AspNetCore.Routing.LinkGenerator> kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-204">Use <xref:Microsoft.AspNetCore.Routing.LinkGenerator> with caution in middleware in combination with `Map` or `MapWhen`.</span></span> <span data-ttu-id="07405-205">`Map*`, yürütülen isteğin temel yolunu değiştirir ve bu da bağlantı oluşturma çıktısını etkiler.</span><span class="sxs-lookup"><span data-stu-id="07405-205">`Map*` changes the base path of the executing request, which affects the output of link generation.</span></span> <span data-ttu-id="07405-206">Tüm <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API 'Leri temel yol belirtmeye izin verir.</span><span class="sxs-lookup"><span data-stu-id="07405-206">All of the <xref:Microsoft.AspNetCore.Routing.LinkGenerator> APIs allow specifying a base path.</span></span> <span data-ttu-id="07405-207">`Map*`bağlantı oluşturmada etkilerini geri almak için her zaman boş bir temel yol belirtin.</span><span class="sxs-lookup"><span data-stu-id="07405-207">Always specify an empty base path to undo `Map*`'s affect on link generation.</span></span>

## <a name="differences-from-earlier-versions-of-routing"></a><span data-ttu-id="07405-208">Yönlendirmenin önceki sürümlerinden farklılıklar</span><span class="sxs-lookup"><span data-stu-id="07405-208">Differences from earlier versions of routing</span></span>

<span data-ttu-id="07405-209">ASP.NET Core 2,2 ' den önceki yönlendirmenin uç nokta yönlendirme ve sürümleri arasında birkaç fark vardır:</span><span class="sxs-lookup"><span data-stu-id="07405-209">A few differences exist between endpoint routing and versions of routing earlier than in ASP.NET Core 2.2:</span></span>

* <span data-ttu-id="07405-210">Uç nokta yönlendirme sistemi, <xref:Microsoft.AspNetCore.Routing.Route>devralma dahil <xref:Microsoft.AspNetCore.Routing.IRouter>tabanlı genişletilebilirliği desteklemez.</span><span class="sxs-lookup"><span data-stu-id="07405-210">The endpoint routing system doesn't support <xref:Microsoft.AspNetCore.Routing.IRouter>-based extensibility, including inheriting from <xref:Microsoft.AspNetCore.Routing.Route>.</span></span>

* <span data-ttu-id="07405-211">Uç nokta yönlendirme [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim)desteklemez.</span><span class="sxs-lookup"><span data-stu-id="07405-211">Endpoint routing doesn't support [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim).</span></span> <span data-ttu-id="07405-212">Uyumluluk Shim 'yi kullanmaya devam etmek için 2,1 [Uyumluluk sürümünü](xref:mvc/compatibility-version) (`.SetCompatibilityVersion(CompatibilityVersion.Version_2_1)`) kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-212">Use the 2.1 [compatibility version](xref:mvc/compatibility-version) (`.SetCompatibilityVersion(CompatibilityVersion.Version_2_1)`) to continue using the compatibility shim.</span></span>

* <span data-ttu-id="07405-213">Uç nokta yönlendirmesinde, geleneksel yollar kullanılırken oluşturulan URI 'lerin büyük küçük harfleri için farklı davranış vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-213">Endpoint Routing has different behavior for the casing of generated URIs when using conventional routes.</span></span>

  <span data-ttu-id="07405-214">Aşağıdaki varsayılan yol şablonunu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="07405-214">Consider the following default route template:</span></span>

  ```csharp
  app.UseMvc(routes =>
  {
      routes.MapRoute("default", "{controller=Home}/{action=Index}/{id?}");
  });
  ```

  <span data-ttu-id="07405-215">Aşağıdaki rotayı kullanarak bir eyleme bağlantı oluşturduğunuzu varsayalım:</span><span class="sxs-lookup"><span data-stu-id="07405-215">Suppose you generate a link to an action using the following route:</span></span>

  ```csharp
  var link = Url.Action("ReadPost", "blog", new { id = 17, });
  ```

  <span data-ttu-id="07405-216"><xref:Microsoft.AspNetCore.Routing.IRouter>tabanlı yönlendirme ile bu kod, `/blog/ReadPost/17`URI 'sini oluşturur ve bu da, belirtilen yol değerinin büyük küçük harflerini üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-216">With <xref:Microsoft.AspNetCore.Routing.IRouter>-based routing, this code generates a URI of `/blog/ReadPost/17`, which respects the casing of the provided route value.</span></span> <span data-ttu-id="07405-217">ASP.NET Core 2,2 veya sonraki bir sürümde uç nokta yönlendirme `/Blog/ReadPost/17` ("blog" büyük harfli) oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-217">Endpoint routing in ASP.NET Core 2.2 or later produces `/Blog/ReadPost/17` ("Blog" is capitalized).</span></span> <span data-ttu-id="07405-218">Endpoint Routing, bu davranışı küresel olarak özelleştirmek veya URL eşleme için farklı kurallar uygulamak üzere kullanılabilecek `IOutboundParameterTransformer` arabirimini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-218">Endpoint routing provides the `IOutboundParameterTransformer` interface that can be used to customize this behavior globally or to apply different conventions for mapping URLs.</span></span>

  <span data-ttu-id="07405-219">Daha fazla bilgi için bkz. [Parameter transformatör başvurusu](#parameter-transformer-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="07405-219">For more information, see the [Parameter transformer reference](#parameter-transformer-reference) section.</span></span>

* <span data-ttu-id="07405-220">Standart yollarla MVC/Razor Pages tarafından kullanılan bağlantı oluşturma, mevcut olmayan bir denetleyiciye/eyleme veya sayfaya bağlantı kurmaya çalışırken farklı şekilde davranır.</span><span class="sxs-lookup"><span data-stu-id="07405-220">Link Generation used by MVC/Razor Pages with conventional routes behaves differently when attempting to link to an controller/action or page that doesn't exist.</span></span>

  <span data-ttu-id="07405-221">Aşağıdaki varsayılan yol şablonunu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="07405-221">Consider the following default route template:</span></span>

  ```csharp
  app.UseMvc(routes =>
  {
      routes.MapRoute("default", "{controller=Home}/{action=Index}/{id?}");
  });
  ```

  <span data-ttu-id="07405-222">Aşağıdaki ile varsayılan şablonu kullanarak bir eyleme bağlantı oluşturduğunuzu varsayalım:</span><span class="sxs-lookup"><span data-stu-id="07405-222">Suppose you generate a link to an action using the default template with the following:</span></span>

  ```csharp
  var link = Url.Action("ReadPost", "Blog", new { id = 17, });
  ```

  <span data-ttu-id="07405-223">`IRouter`tabanlı yönlendirme sayesinde, `BlogController` var olmasa veya bir `ReadPost` Action yöntemine sahip olmasa bile sonuç daima `/Blog/ReadPost/17`.</span><span class="sxs-lookup"><span data-stu-id="07405-223">With `IRouter`-based routing, the result is always `/Blog/ReadPost/17`, even if the `BlogController` doesn't exist or doesn't have a `ReadPost` action method.</span></span> <span data-ttu-id="07405-224">Beklenen şekilde, işlem yöntemi varsa ASP.NET Core 2,2 veya sonraki bir sürümde uç nokta yönlendirmesi `/Blog/ReadPost/17` üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-224">As expected, endpoint routing in ASP.NET Core 2.2 or later produces `/Blog/ReadPost/17` if the action method exists.</span></span> <span data-ttu-id="07405-225">*Ancak, uç nokta yönlendirme, eylem yoksa boş bir dize oluşturur.*</span><span class="sxs-lookup"><span data-stu-id="07405-225">*However, endpoint routing produces an empty string if the action doesn't exist.*</span></span> <span data-ttu-id="07405-226">Kavramsal olarak, uç nokta yönlendirme, eylem mevcut değilse uç noktanın var olduğunu varsaymaz.</span><span class="sxs-lookup"><span data-stu-id="07405-226">Conceptually, endpoint routing doesn't assume that the endpoint exists if the action doesn't exist.</span></span>

* <span data-ttu-id="07405-227">Bağlantı oluşturma *çevresel değeri ınvalidation algoritması* , uç nokta yönlendirme ile kullanıldığında farklı davranır.</span><span class="sxs-lookup"><span data-stu-id="07405-227">The link generation *ambient value invalidation algorithm* behaves differently when used with endpoint routing.</span></span>

  <span data-ttu-id="07405-228">*Çevresel değer ınvalidation* , şu anda yürütülmekte olan isteğin (çevresel değerler) hangi rota değerlerinin bağlantı oluşturma işlemlerinde kullanılabileceğini belirleyen algoritmadır.</span><span class="sxs-lookup"><span data-stu-id="07405-228">*Ambient value invalidation* is the algorithm that decides which route values from the currently executing request (the ambient values) can be used in link generation operations.</span></span> <span data-ttu-id="07405-229">Geleneksel yönlendirme, farklı bir eyleme bağlanılırken ek yol değerlerini her zaman geçersiz kıldı.</span><span class="sxs-lookup"><span data-stu-id="07405-229">Conventional routing always invalidated extra route values when linking to a different action.</span></span> <span data-ttu-id="07405-230">ASP.NET Core 2,2 sürümünden önce öznitelik yönlendirmesinde bu davranış yoktu.</span><span class="sxs-lookup"><span data-stu-id="07405-230">Attribute routing didn't have this behavior prior to the release of ASP.NET Core 2.2.</span></span> <span data-ttu-id="07405-231">ASP.NET Core 'nin önceki sürümlerinde, aynı yol parametresi adlarını kullanan başka bir eyleme bağlantılar, bağlantı oluşturma hatalarıyla sonuçlandı.</span><span class="sxs-lookup"><span data-stu-id="07405-231">In earlier versions of ASP.NET Core, links to another action that use the same route parameter names resulted in link generation errors.</span></span> <span data-ttu-id="07405-232">ASP.NET Core 2,2 veya sonraki sürümlerde, yönlendirme biçimlerinin her ikisi de başka bir eyleme bağlanırken değerleri geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="07405-232">In ASP.NET Core 2.2 or later, both forms of routing invalidate values when linking to another action.</span></span>

  <span data-ttu-id="07405-233">ASP.NET Core 2,1 veya önceki sürümlerde aşağıdaki örneği göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="07405-233">Consider the following example in ASP.NET Core 2.1 or earlier.</span></span> <span data-ttu-id="07405-234">Başka bir eyleme (veya başka bir sayfaya) bağlanırken, yol değerleri istenmeyen yollarla yeniden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-234">When linking to another action (or another page), route values can be reused in undesirable ways.</span></span>

  <span data-ttu-id="07405-235">*/Pages/Store/Product.exe*:</span><span class="sxs-lookup"><span data-stu-id="07405-235">In */Pages/Store/Product.cshtml*:</span></span>

  ```cshtml
  @page "{id}"
  @Url.Page("/Login")
  ```

  <span data-ttu-id="07405-236">*/Pages/Login.exe*içinde:</span><span class="sxs-lookup"><span data-stu-id="07405-236">In */Pages/Login.cshtml*:</span></span>

  ```cshtml
  @page "{id?}"
  ```

  <span data-ttu-id="07405-237">URI, ASP.NET Core 2,1 veya önceki sürümlerde `/Store/Product/18`, `@Url.Page("/Login")` tarafından Store/Info sayfasında oluşturulan bağlantı `/Login/18`.</span><span class="sxs-lookup"><span data-stu-id="07405-237">If the URI is `/Store/Product/18` in ASP.NET Core 2.1 or earlier, the link generated on the Store/Info page by `@Url.Page("/Login")` is `/Login/18`.</span></span> <span data-ttu-id="07405-238">18 ' in `id` değeri, bağlantı hedefi uygulamanın tamamen farklı bir parçası olsa bile yeniden kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-238">The `id` value of 18 is reused, even though the link destination is different part of the app entirely.</span></span> <span data-ttu-id="07405-239">`/Login` sayfasının bağlamındaki `id` yol değeri büyük olasılıkla bir depolama ürün KIMLIĞI değeri değil, bir kullanıcı KIMLIĞI değeridir.</span><span class="sxs-lookup"><span data-stu-id="07405-239">The `id` route value in the context of the `/Login` page is probably a user ID value, not a store product ID value.</span></span>

  <span data-ttu-id="07405-240">ASP.NET Core 2,2 veya sonraki bir sürümü ile Endpoint Routing, sonuç `/Login`.</span><span class="sxs-lookup"><span data-stu-id="07405-240">In endpoint routing with ASP.NET Core 2.2 or later, the result is `/Login`.</span></span> <span data-ttu-id="07405-241">Bağlantılı hedef farklı bir eylem veya sayfa olduğunda çevresel değerler yeniden kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="07405-241">Ambient values aren't reused when the linked destination is a different action or page.</span></span>

* <span data-ttu-id="07405-242">Gidiş dönüşü yol parametresi sözdizimi: çift yıldız (`**`) catch-all parametre sözdizimi kullanılırken eğik çizgiler kodlanmaz.</span><span class="sxs-lookup"><span data-stu-id="07405-242">Round-tripping route parameter syntax: Forward slashes aren't encoded when using a double-asterisk (`**`) catch-all parameter syntax.</span></span>

  <span data-ttu-id="07405-243">Bağlantı oluşturma sırasında, yönlendirme sistemi, eğik çizgiler dışında bir çift yıldız (`**`) catch-all parametresinde (örneğin, `{**myparametername}`) yakalanan değeri kodlar.</span><span class="sxs-lookup"><span data-stu-id="07405-243">During link generation, the routing system encodes the value captured in a double-asterisk (`**`) catch-all parameter (for example, `{**myparametername}`) except the forward slashes.</span></span> <span data-ttu-id="07405-244">Çift yıldız yakalama, ASP.NET Core 2,2 veya sonraki sürümlerde `IRouter`tabanlı yönlendirme ile desteklenir.</span><span class="sxs-lookup"><span data-stu-id="07405-244">The double-asterisk catch-all is supported with `IRouter`-based routing in ASP.NET Core 2.2 or later.</span></span>

  <span data-ttu-id="07405-245">ASP.NET Core (`{*myparametername}`) önceki sürümlerindeki tek yıldız catch-all parametre sözdizimi desteklenmeye devam eder ve eğik çizgi kodlandı.</span><span class="sxs-lookup"><span data-stu-id="07405-245">The single asterisk catch-all parameter syntax in prior versions of ASP.NET Core (`{*myparametername}`) remains supported, and forward slashes are encoded.</span></span>

  | <span data-ttu-id="07405-246">Yolu</span><span class="sxs-lookup"><span data-stu-id="07405-246">Route</span></span>              | <span data-ttu-id="07405-247">İle oluşturulan bağlantı</span><span class="sxs-lookup"><span data-stu-id="07405-247">Link generated with</span></span><br>`Url.Action(new { category = "admin/products" })`&hellip; |
  | ------------------ | --------------------------------------------------------------------- |
  | `/search/{*page}`  | <span data-ttu-id="07405-248">`/search/admin%2Fproducts` (eğik çizgi kodlanmış)</span><span class="sxs-lookup"><span data-stu-id="07405-248">`/search/admin%2Fproducts` (the forward slash is encoded)</span></span>             |
  | `/search/{**page}` | `/search/admin/products`                                              |

### <a name="middleware-example"></a><span data-ttu-id="07405-249">Ara yazılım örneği</span><span class="sxs-lookup"><span data-stu-id="07405-249">Middleware example</span></span>

<span data-ttu-id="07405-250">Aşağıdaki örnekte, bir ara yazılım, mağaza ürünlerini listeleyen bir eylem yöntemine bağlantı oluşturmak için <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API 'sini kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-250">In the following example, a middleware uses the <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API to create link to an action method that lists store products.</span></span> <span data-ttu-id="07405-251">Ekleme tarafından bir sınıfa olan ve `GenerateLink` çağıran bağlantı Oluşturucuyu kullanmak, bir uygulamadaki herhangi bir sınıfta kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-251">Using the link generator by injecting it into a class and calling `GenerateLink` is available to any class in an app.</span></span>

```csharp
using Microsoft.AspNetCore.Routing;

public class ProductsLinkMiddleware
{
    private readonly LinkGenerator _linkGenerator;

    public ProductsLinkMiddleware(RequestDelegate next, LinkGenerator linkGenerator)
    {
        _linkGenerator = linkGenerator;
    }

    public async Task InvokeAsync(HttpContext httpContext)
    {
        var url = _linkGenerator.GetPathByAction("ListProducts", "Store");

        httpContext.Response.ContentType = "text/plain";

        await httpContext.Response.WriteAsync($"Go to {url} to see our products.");
    }
}
```

### <a name="create-routes"></a><span data-ttu-id="07405-252">Rotalar oluştur</span><span class="sxs-lookup"><span data-stu-id="07405-252">Create routes</span></span>

<span data-ttu-id="07405-253">Çoğu uygulama, <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>tanımlanan benzer uzantı yöntemlerinden birini veya <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> çağırarak yollar oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-253">Most apps create routes by calling <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> or one of the similar extension methods defined on <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span></span> <span data-ttu-id="07405-254"><xref:Microsoft.AspNetCore.Routing.IRouteBuilder> uzantısı yöntemlerinden herhangi biri bir <xref:Microsoft.AspNetCore.Routing.Route> örneği oluşturur ve bunu yol koleksiyonuna ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-254">Any of the <xref:Microsoft.AspNetCore.Routing.IRouteBuilder> extension methods create an instance of <xref:Microsoft.AspNetCore.Routing.Route> and add it to the route collection.</span></span>

<span data-ttu-id="07405-255"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> yol işleyicisi parametresini kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="07405-255"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> doesn't accept a route handler parameter.</span></span> <span data-ttu-id="07405-256"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*>, yalnızca <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>tarafından işlenen rotaları ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-256"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> only adds routes that are handled by the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span> <span data-ttu-id="07405-257">MVC 'de yönlendirme hakkında daha fazla bilgi için bkz. <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="07405-257">To learn more about routing in MVC, see <xref:mvc/controllers/routing>.</span></span>

<span data-ttu-id="07405-258">Aşağıdaki kod örneği, tipik bir ASP.NET Core MVC yol tanımı tarafından kullanılan <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> çağrısının bir örneğidir:</span><span class="sxs-lookup"><span data-stu-id="07405-258">The following code example is an example of a <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> call used by a typical ASP.NET Core MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="07405-259">Bu şablon bir URL yoluyla eşleşir ve yol değerlerini ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-259">This template matches a URL path and extracts the route values.</span></span> <span data-ttu-id="07405-260">Örneğin, yol `/Products/Details/17` şu yol değerlerini üretir: `{ controller = Products, action = Details, id = 17 }`.</span><span class="sxs-lookup"><span data-stu-id="07405-260">For example, the path `/Products/Details/17` generates the following route values: `{ controller = Products, action = Details, id = 17 }`.</span></span>

<span data-ttu-id="07405-261">Rota değerleri, URL yolunun kesimlere bölünüyor ve rota şablonundaki *yol parametresi* adı ile her bir segmenti eşleştirerek belirlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-261">Route values are determined by splitting the URL path into segments and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="07405-262">Yol parametreleri olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-262">Route parameters are named.</span></span> <span data-ttu-id="07405-263">Küme ayraçları içinde parametre adı eklenerek tanımlanan parametreler `{ ... }`.</span><span class="sxs-lookup"><span data-stu-id="07405-263">The parameters defined by enclosing the parameter name in braces `{ ... }`.</span></span>

<span data-ttu-id="07405-264">Yukarıdaki şablon, URL yolu `/` de eşleştirebilir ve `{ controller = Home, action = Index }`değerler üretecektir.</span><span class="sxs-lookup"><span data-stu-id="07405-264">The preceding template could also match the URL path `/` and produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="07405-265">Bu, `{controller}` ve `{action}` yol parametrelerinin varsayılan değerleri olduğu ve `id` Route parametresinin isteğe bağlı olduğu için oluşur.</span><span class="sxs-lookup"><span data-stu-id="07405-265">This occurs because the `{controller}` and `{action}` route parameters have default values and the `id` route parameter is optional.</span></span> <span data-ttu-id="07405-266">Eşittir işareti (`=`), yol parametresi adı parametre için varsayılan bir değer tanımladıktan sonra bir değer izler.</span><span class="sxs-lookup"><span data-stu-id="07405-266">An equals sign (`=`) followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="07405-267">Yol parametre adından sonra bir soru işareti (`?`) isteğe bağlı bir parametre tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-267">A question mark (`?`) after the route parameter name defines an optional parameter.</span></span>

<span data-ttu-id="07405-268">Yol parametreleri varsayılan değer ile *her zaman* rota değeri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-268">Route parameters with a default value *always* produce a route value when the route matches.</span></span> <span data-ttu-id="07405-269">Karşılık gelen bir URL yol kesimi yoksa isteğe bağlı parametreler yol değeri oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="07405-269">Optional parameters don't produce a route value if there was no corresponding URL path segment.</span></span> <span data-ttu-id="07405-270">Yol şablonu senaryolarının ve sözdiziminin kapsamlı bir açıklaması için [yol şablonu başvurusu](#route-template-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-270">See the [Route template reference](#route-template-reference) section for a thorough description of route template scenarios and syntax.</span></span>

<span data-ttu-id="07405-271">Aşağıdaki örnekte, yol parametresi tanımı `{id:int}` `id` Route parametresi için bir [yol kısıtlaması](#route-constraint-reference) tanımlıyor:</span><span class="sxs-lookup"><span data-stu-id="07405-271">In the following example, the route parameter definition `{id:int}` defines a [route constraint](#route-constraint-reference) for the `id` route parameter:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="07405-272">Bu şablon `/Products/Details/17` gibi bir URL yoluyla eşleşir ancak `/Products/Details/Apples`.</span><span class="sxs-lookup"><span data-stu-id="07405-272">This template matches a URL path like `/Products/Details/17` but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="07405-273">Yol kısıtlamaları <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> uygular ve yol değerlerini inceleyerek onları doğrular.</span><span class="sxs-lookup"><span data-stu-id="07405-273">Route constraints implement <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> and inspect route values to verify them.</span></span> <span data-ttu-id="07405-274">Bu örnekte, yol değeri `id` bir tamsayıya dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-274">In this example, the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="07405-275">Framework tarafından sunulan yol kısıtlamalarının açıklaması için bkz. [route-Constraint-Reference](#route-constraint-reference) .</span><span class="sxs-lookup"><span data-stu-id="07405-275">See [route-constraint-reference](#route-constraint-reference) for an explanation of route constraints provided by the framework.</span></span>

<span data-ttu-id="07405-276"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> ek aşırı yüklemeleri `constraints`, `dataTokens`ve `defaults`için değer kabul eder.</span><span class="sxs-lookup"><span data-stu-id="07405-276">Additional overloads of <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="07405-277">Bu parametrelerin tipik kullanımı, anonim türdeki özellik adlarının yol parametre adlarıyla eşleşen anonim olarak yazılmış bir nesneyi geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="07405-277">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="07405-278">Aşağıdaki <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> örnekleri eşdeğer yollar oluşturur:</span><span class="sxs-lookup"><span data-stu-id="07405-278">The following <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

> [!TIP]
> <span data-ttu-id="07405-279">Kısıtlamaları ve Varsayılanları tanımlamaya yönelik satır içi sözdizimi basit yollar için kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-279">The inline syntax for defining constraints and defaults can be convenient for simple routes.</span></span> <span data-ttu-id="07405-280">Ancak, satır içi sözdizimi tarafından desteklenmeyen veri belirteçleri gibi senaryolar vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-280">However, there are scenarios, such as data tokens, that aren't supported by inline syntax.</span></span>

<span data-ttu-id="07405-281">Aşağıdaki örnek birkaç ek senaryoyu göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="07405-281">The following example demonstrates a few additional scenarios:</span></span>

```csharp
routes.MapRoute(
    name: "blog",
    template: "Blog/{**article}",
    defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="07405-282">Önceki şablon `/Blog/All-About-Routing/Introduction` gibi bir URL yoluyla eşleşir ve `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`değerleri ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-282">The preceding template matches a URL path like `/Blog/All-About-Routing/Introduction` and extracts the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="07405-283">`controller` ve `action` için varsayılan yol değerleri, şablonda karşılık gelen hiçbir yol parametresi olmasa bile yol tarafından üretilir.</span><span class="sxs-lookup"><span data-stu-id="07405-283">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="07405-284">Varsayılan değerler yol şablonunda belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-284">Default values can be specified in the route template.</span></span> <span data-ttu-id="07405-285">`article` Route parametresi, yol parametre adından önce bir çift yıldız işareti (`**`) görünümüne göre *catch-all* olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-285">The `article` route parameter is defined as a *catch-all* by the appearance of an double asterisk (`**`) before the route parameter name.</span></span> <span data-ttu-id="07405-286">Catch-all yol parametreleri, URL yolunun kalanını yakalar ve boş dizeyle de aynı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-286">Catch-all route parameters capture the remainder of the URL path and can also match the empty string.</span></span>

<span data-ttu-id="07405-287">Aşağıdaki örnek yol kısıtlamalarını ve veri belirteçlerini ekler:</span><span class="sxs-lookup"><span data-stu-id="07405-287">The following example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="07405-288">Önceki şablon `/en-US/Products/5` gibi bir URL yoluyla eşleşir ve `{ controller = Products, action = Details, id = 5 }` ve veri belirteçleri `{ locale = en-US }`değerleri ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-288">The preceding template matches a URL path like `/en-US/Products/5` and extracts the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![Yereller Windows belirteçleri](routing/_static/tokens.png)

### <a name="route-class-url-generation"></a><span data-ttu-id="07405-290">Yol sınıfı URL 'SI oluşturma</span><span class="sxs-lookup"><span data-stu-id="07405-290">Route class URL generation</span></span>

<span data-ttu-id="07405-291"><xref:Microsoft.AspNetCore.Routing.Route> sınıfı, yol değerlerini bir kümesini rota şablonuyla birleştirerek URL oluşturmayı da gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-291">The <xref:Microsoft.AspNetCore.Routing.Route> class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="07405-292">Bu, URL yolunu eşleştirmenin mantıksal bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-292">This is logically the reverse process of matching the URL path.</span></span>

> [!TIP]
> <span data-ttu-id="07405-293">URL oluşturmayı daha iyi anlamak için, oluşturmak istediğiniz URL 'YI düşünün ve sonra bir yönlendirme şablonunun bu URL ile nasıl eşleşeceğini düşünün.</span><span class="sxs-lookup"><span data-stu-id="07405-293">To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="07405-294">Hangi değerler üretilemidir?</span><span class="sxs-lookup"><span data-stu-id="07405-294">What values would be produced?</span></span> <span data-ttu-id="07405-295">Bu, URL oluşturma 'nın <xref:Microsoft.AspNetCore.Routing.Route> sınıfında nasıl çalıştığına ilişkin kaba bir eştir.</span><span class="sxs-lookup"><span data-stu-id="07405-295">This is the rough equivalent of how URL generation works in the <xref:Microsoft.AspNetCore.Routing.Route> class.</span></span>

<span data-ttu-id="07405-296">Aşağıdaki örnek genel ASP.NET Core MVC varsayılan yolunu kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-296">The following example uses a general ASP.NET Core MVC default route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="07405-297">Yol değerleri `{ controller = Products, action = List }`, `/Products/List` URL 'SI oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-297">With the route values `{ controller = Products, action = List }`, the URL `/Products/List` is generated.</span></span> <span data-ttu-id="07405-298">Yol değerleri, URL yolunu biçimlendirmek için karşılık gelen yol parametrelerinin yerine kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-298">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="07405-299">`id`, isteğe bağlı bir yol parametresi olduğundan, `id`için bir değer olmadan URL başarıyla oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-299">Since `id` is an optional route parameter, the URL is successfully generated without a value for `id`.</span></span>

<span data-ttu-id="07405-300">Yol değerleri `{ controller = Home, action = Index }`, `/` URL 'SI oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-300">With the route values `{ controller = Home, action = Index }`, the URL `/` is generated.</span></span> <span data-ttu-id="07405-301">Belirtilen yol değerleri varsayılan değerlerle eşleşir ve varsayılan değerlere karşılık gelen segmentler güvenle atlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-301">The provided route values match the default values, and the segments corresponding to the default values are safely omitted.</span></span>

<span data-ttu-id="07405-302">Her iki URL de aşağıdaki yol tanımıyla (`/Home/Index` ve `/`) bir gidiş dönüş, URL oluşturmak için kullanılan rota değerlerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-302">Both URLs generated round-trip with the following route definition (`/Home/Index` and `/`) produce the same route values that were used to generate the URL.</span></span>

> [!NOTE]
> <span data-ttu-id="07405-303">ASP.NET Core MVC kullanan bir uygulama doğrudan yönlendirmeye çağırmak yerine URL oluşturmak için <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-303">An app using ASP.NET Core MVC should use <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="07405-304">URL oluşturma hakkında daha fazla bilgi için [URL oluşturma başvurusu](#url-generation-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-304">For more information on URL generation, see the [Url generation reference](#url-generation-reference) section.</span></span>

## <a name="use-routing-middleware"></a><span data-ttu-id="07405-305">Yönlendirme ara yazılımı kullanma</span><span class="sxs-lookup"><span data-stu-id="07405-305">Use Routing Middleware</span></span>

<span data-ttu-id="07405-306">Uygulamanın proje dosyasındaki [Microsoft. AspNetCore. app metapackage](xref:fundamentals/metapackage-app) öğesine başvurun.</span><span class="sxs-lookup"><span data-stu-id="07405-306">Reference the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) in the app's project file.</span></span>

<span data-ttu-id="07405-307">`Startup.ConfigureServices`' de hizmet kapsayıcısına yönlendirme ekleyin:</span><span class="sxs-lookup"><span data-stu-id="07405-307">Add routing to the service container in `Startup.ConfigureServices`:</span></span>

[!code-csharp[](routing/samples/3.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

<span data-ttu-id="07405-308">Yolların `Startup.Configure` yönteminde yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-308">Routes must be configured in the `Startup.Configure` method.</span></span> <span data-ttu-id="07405-309">Örnek uygulama aşağıdaki API 'Leri kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-309">The sample app uses the following APIs:</span></span>

* <xref:Microsoft.AspNetCore.Routing.RouteBuilder>
* <span data-ttu-id="07405-310"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; yalnızca HTTP GET istekleriyle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-310"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; Matches only HTTP GET requests.</span></span>
* <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*>

[!code-csharp[](routing/samples/3.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

<span data-ttu-id="07405-311">Aşağıdaki tabloda verilen URI 'Ler ile ilgili yanıtlar gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-311">The following table shows the responses with the given URIs.</span></span>

| <span data-ttu-id="07405-312">URI</span><span class="sxs-lookup"><span data-stu-id="07405-312">URI</span></span>                    | <span data-ttu-id="07405-313">Yanıtıyla</span><span class="sxs-lookup"><span data-stu-id="07405-313">Response</span></span>                                          |
| ---------------------- | ------------------------------------------------- |
| `/package/create/3`    | <span data-ttu-id="07405-314">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-314">Hello!</span></span> <span data-ttu-id="07405-315">Rota değerleri: [işlem, oluşturma], [kimlik, 3]</span><span class="sxs-lookup"><span data-stu-id="07405-315">Route values: [operation, create], [id, 3]</span></span> |
| `/package/track/-3`    | <span data-ttu-id="07405-316">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-316">Hello!</span></span> <span data-ttu-id="07405-317">Rota değerleri: [işlem, izleme], [kimlik,-3]</span><span class="sxs-lookup"><span data-stu-id="07405-317">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/-3/`   | <span data-ttu-id="07405-318">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-318">Hello!</span></span> <span data-ttu-id="07405-319">Rota değerleri: [işlem, izleme], [kimlik,-3]</span><span class="sxs-lookup"><span data-stu-id="07405-319">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/`      | <span data-ttu-id="07405-320">İstek, eşleşme olmadan üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-320">The request falls through, no match.</span></span>              |
| `GET /hello/Joe`       | <span data-ttu-id="07405-321">Merhaba, ali!</span><span class="sxs-lookup"><span data-stu-id="07405-321">Hi, Joe!</span></span>                                          |
| `POST /hello/Joe`      | <span data-ttu-id="07405-322">İstek üzerinden geçer, yalnızca HTTP GET ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-322">The request falls through, matches HTTP GET only.</span></span> |
| `GET /hello/Joe/Smith` | <span data-ttu-id="07405-323">İstek, eşleşme olmadan üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-323">The request falls through, no match.</span></span>              |

<span data-ttu-id="07405-324">Çerçeve, yollar oluşturmak için bir genişletme yöntemleri kümesi sağlar (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span><span class="sxs-lookup"><span data-stu-id="07405-324">The framework provides a set of extension methods for creating routes (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span></span>

* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareVerb*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>

<span data-ttu-id="07405-325">`Map[Verb]` yöntemleri, yöntem adındaki HTTP fiili ile rotayı sınırlandırmak için kısıtlamaları kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-325">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="07405-326">Örneğin, bkz. <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> ve <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span><span class="sxs-lookup"><span data-stu-id="07405-326">For example, see <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> and <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="07405-327">Rota şablonu başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-327">Route template reference</span></span>

<span data-ttu-id="07405-328">Küme ayraçları içindeki belirteçler (`{ ... }`), yol eşleştirildiği takdirde bağlanan *Rota parametrelerini* tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-328">Tokens within curly braces (`{ ... }`) define *route parameters* that are bound if the route is matched.</span></span> <span data-ttu-id="07405-329">Bir yol segmentinde birden fazla yol parametresi tanımlayabilirsiniz, ancak bunların bir değişmez değer ile ayrılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-329">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="07405-330">Örneğin, `{controller}` ve `{action}`arasında değişmez değer olmadığından `{controller=Home}{action=Index}` geçerli bir yol değil.</span><span class="sxs-lookup"><span data-stu-id="07405-330">For example, `{controller=Home}{action=Index}` isn't a valid route, since there's no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="07405-331">Bu rota parametrelerinin bir adı olmalı ve ek öznitelikler belirtilmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-331">These route parameters must have a name and may have additional attributes specified.</span></span>

<span data-ttu-id="07405-332">Yol parametreleri dışında (örneğin, `{id}`) ve yol ayırıcı `/` URL içindeki metinle eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-332">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="07405-333">Metin eşleştirme, büyük/küçük harfe duyarsızdır ve URL yolunun kodu çözülmüş gösterimine göre yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-333">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="07405-334">Değişmez değer yol parametresi sınırlayıcısından (`{` veya `}`) eşleştirmek için, karakteri (`{{` veya `}}`) tekrarlayarak sınırlayıcıdan kaçış.</span><span class="sxs-lookup"><span data-stu-id="07405-334">To match a literal route parameter delimiter (`{` or `}`), escape the delimiter by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="07405-335">İsteğe bağlı bir dosya uzantısına sahip bir dosya adı yakalamaya deneyen URL desenlerinin ek konuları vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-335">URL patterns that attempt to capture a file name with an optional file extension have additional considerations.</span></span> <span data-ttu-id="07405-336">Örneğin, `files/{filename}.{ext?}`şablonu düşünün.</span><span class="sxs-lookup"><span data-stu-id="07405-336">For example, consider the template `files/{filename}.{ext?}`.</span></span> <span data-ttu-id="07405-337">`filename` ve `ext` değerlerinin her ikisi de varsa, her iki değer de doldurulur.</span><span class="sxs-lookup"><span data-stu-id="07405-337">When values for both `filename` and `ext` exist, both values are populated.</span></span> <span data-ttu-id="07405-338">URL 'de yalnızca `filename` için bir değer varsa, bitiş dönemi (`.`) isteğe bağlı olduğundan yol eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-338">If only a value for `filename` exists in the URL, the route matches because the trailing period (`.`) is  optional.</span></span> <span data-ttu-id="07405-339">Aşağıdaki URL 'Ler bu rota ile eşleşiyor:</span><span class="sxs-lookup"><span data-stu-id="07405-339">The following URLs match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile`

<span data-ttu-id="07405-340">URI 'nin geri kalanına bağlamak için bir yol parametresinin öneki olarak bir yıldız işareti (`*`) veya çift yıldız işareti (`**`) kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07405-340">You can use an asterisk (`*`) or double asterisk (`**`) as a prefix to a route parameter to bind to the rest of the URI.</span></span> <span data-ttu-id="07405-341">Bunlara *catch-all* parametreleri denir.</span><span class="sxs-lookup"><span data-stu-id="07405-341">These are called a *catch-all* parameters.</span></span> <span data-ttu-id="07405-342">Örneğin, `blog/{**slug}` `/blog` ile başlayan ve ondan sonraki bir değere sahip olan `slug` yol değerine atanan tüm URI ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-342">For example, `blog/{**slug}` matches any URI that starts with `/blog` and has any value following it, which is assigned to the `slug` route value.</span></span> <span data-ttu-id="07405-343">Catch-all parametreleri boş dizeyle de aynı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-343">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="07405-344">Yol ayırıcısı (`/`) karakterleri de dahil olmak üzere bir URL oluşturmak için bir yol kullanıldığında, catch-all parametresi uygun karakterleri çıkar.</span><span class="sxs-lookup"><span data-stu-id="07405-344">The catch-all parameter escapes the appropriate characters when the route is used to generate a URL, including path separator (`/`) characters.</span></span> <span data-ttu-id="07405-345">Örneğin yol `foo/{*path}` rota değerleriyle `{ path = "my/path" }` `foo/my%2Fpath`üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-345">For example, the route `foo/{*path}` with route values `{ path = "my/path" }` generates `foo/my%2Fpath`.</span></span> <span data-ttu-id="07405-346">Atlanan eğik çizgiye göz önünde edin.</span><span class="sxs-lookup"><span data-stu-id="07405-346">Note the escaped forward slash.</span></span> <span data-ttu-id="07405-347">Yol ayırıcı karakterlerini geri döndürmek için `**` Route parametresi önekini kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-347">To round-trip path separator characters, use the `**` route parameter prefix.</span></span> <span data-ttu-id="07405-348">`{ path = "my/path" }` ile yol `foo/{**path}` `foo/my/path`üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-348">The route `foo/{**path}` with `{ path = "my/path" }` generates `foo/my/path`.</span></span>

<span data-ttu-id="07405-349">Yol parametrelerinin, parametre adından sonra varsayılan değer belirtilerek bir eşittir işareti (`=`) ile ayrıldıktan sonra belirlenen *varsayılan değerleri* olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-349">Route parameters may have *default values* designated by specifying the default value after the parameter name separated by an equals sign (`=`).</span></span> <span data-ttu-id="07405-350">Örneğin, `Home` `controller`için varsayılan değer olarak `{controller=Home}` tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-350">For example, `{controller=Home}` defines `Home` as the default value for `controller`.</span></span> <span data-ttu-id="07405-351">Parametresi için URL 'de hiçbir değer yoksa varsayılan değer kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-351">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="07405-352">Yol parametreleri, `id?`gibi parametre adının sonuna bir soru işareti (`?`) eklenerek isteğe bağlı olarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-352">Route parameters are made optional by appending a question mark (`?`) to the end of the parameter name, as in `id?`.</span></span> <span data-ttu-id="07405-353">İsteğe bağlı değerler ve varsayılan yol parametreleri arasındaki fark, varsayılan değere sahip bir yol parametresinin her zaman bir değer ürettiğinden&mdash;isteğe bağlı bir parametre yalnızca istek URL 'SI tarafından bir değer sağlandığında bir değere sahip olur.</span><span class="sxs-lookup"><span data-stu-id="07405-353">The difference between optional values and default route parameters is that a route parameter with a default value always produces a value&mdash;an optional parameter has a value only when a value is provided by the request URL.</span></span>

<span data-ttu-id="07405-354">Rota parametrelerinin URL 'den bağlanan rota değeriyle eşleşmesi gereken kısıtlamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-354">Route parameters may have constraints that must match the route value bound from the URL.</span></span> <span data-ttu-id="07405-355">Yol parametre adından sonra bir iki nokta üst üste (`:`) ve kısıtlama adının eklenmesi, bir yol parametresi üzerinde bir *satır içi kısıtlamayı* belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-355">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="07405-356">Kısıtlama bağımsız değişkenler gerektiriyorsa, kısıtlama adından sonra parantez (`(...)`) içine alınır.</span><span class="sxs-lookup"><span data-stu-id="07405-356">If the constraint requires arguments, they're enclosed in parentheses (`(...)`) after the constraint name.</span></span> <span data-ttu-id="07405-357">Birden çok satır içi kısıtlama, başka bir iki nokta (`:`) ve kısıtlama adı eklenerek belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-357">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span>

<span data-ttu-id="07405-358">Kısıtlama adı ve bağımsız değişkenler, URL işlemede kullanılacak bir <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> örneği oluşturmak için <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> hizmetine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="07405-358">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="07405-359">Örneğin, yol şablonu `blog/{article:minlength(10)}`, `10`bağımsız değişkeniyle bir `minlength` kısıtlaması belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-359">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="07405-360">Yol kısıtlamaları ve Framework tarafından sunulan kısıtlamaların bir listesi hakkında daha fazla bilgi için, [route kısıtlama başvurusu](#route-constraint-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-360">For more information on route constraints and a list of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

<span data-ttu-id="07405-361">Yol parametrelerinde Ayrıca, bağlantı oluştururken ve URL 'Ler ile eşleşen eylemler ve sayfalar için bir parametrenin değerini dönüştüren parametre dönüştürücüler bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-361">Route parameters may also have parameter transformers, which transform a parameter's value when generating links and matching actions and pages to URLs.</span></span> <span data-ttu-id="07405-362">LIKE kısıtlamaları, yol parametre adından sonra iki nokta üst üste (`:`) ve transformatör adı eklenerek, parametre dönüştürücüleri bir rota parametresine eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-362">Like constraints, parameter transformers can be added inline to a route parameter by adding a colon (`:`) and transformer name after the route parameter name.</span></span> <span data-ttu-id="07405-363">Örneğin, yol şablonu `blog/{article:slugify}` bir `slugify` transformatörü belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-363">For example, the route template `blog/{article:slugify}` specifies a `slugify` transformer.</span></span> <span data-ttu-id="07405-364">Parametre dönüştürücüler hakkında daha fazla bilgi için bkz. [Parameter transformatör başvurusu](#parameter-transformer-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="07405-364">For more information on parameter transformers, see the [Parameter transformer reference](#parameter-transformer-reference) section.</span></span>

<span data-ttu-id="07405-365">Aşağıdaki tabloda örnek yol şablonları ve bunların davranışları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-365">The following table demonstrates example route templates and their behavior.</span></span>

| <span data-ttu-id="07405-366">Rota şablonu</span><span class="sxs-lookup"><span data-stu-id="07405-366">Route Template</span></span>                           | <span data-ttu-id="07405-367">Örnek eşleşen URI</span><span class="sxs-lookup"><span data-stu-id="07405-367">Example Matching URI</span></span>    | <span data-ttu-id="07405-368">İstek URI 'SI&hellip;</span><span class="sxs-lookup"><span data-stu-id="07405-368">The request URI&hellip;</span></span>                                                    |
| ---------------------------------------- | ----------------------- | -------------------------------------------------------------------------- |
| `hello`                                  | `/hello`                | <span data-ttu-id="07405-369">Yalnızca `/hello`tek yol ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-369">Only matches the single path `/hello`.</span></span>                                     |
| `{Page=Home}`                            | `/`                     | <span data-ttu-id="07405-370">`Home``Page` eşleşir ve ayarlar.</span><span class="sxs-lookup"><span data-stu-id="07405-370">Matches and sets `Page` to `Home`.</span></span>                                         |
| `{Page=Home}`                            | `/Contact`              | <span data-ttu-id="07405-371">`Contact``Page` eşleşir ve ayarlar.</span><span class="sxs-lookup"><span data-stu-id="07405-371">Matches and sets `Page` to `Contact`.</span></span>                                      |
| `{controller}/{action}/{id?}`            | `/Products/List`        | <span data-ttu-id="07405-372">`Products` denetleyicisi ve `List` eylemiyle eşlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-372">Maps to the `Products` controller and `List` action.</span></span>                       |
| `{controller}/{action}/{id?}`            | `/Products/Details/123` | <span data-ttu-id="07405-373">`Products` denetleyicisi ve `Details` eylemine eşlenir (`id` 123 olarak ayarlanır).</span><span class="sxs-lookup"><span data-stu-id="07405-373">Maps to the `Products` controller and  `Details` action (`id` set to 123).</span></span> |
| `{controller=Home}/{action=Index}/{id?}` | `/`                     | <span data-ttu-id="07405-374">`Home` denetleyicisi ve `Index` yöntemiyle eşlenir (`id` yok sayılır).</span><span class="sxs-lookup"><span data-stu-id="07405-374">Maps to the `Home` controller and `Index` method (`id` is ignored).</span></span>        |

<span data-ttu-id="07405-375">Bir şablon kullanmak genellikle yönlendirmeye en basit yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="07405-375">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="07405-376">Kısıtlamalar ve varsayılanlar, yol şablonu dışında da belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-376">Constraints and defaults can also be specified outside the route template.</span></span>

> [!TIP]
> <span data-ttu-id="07405-377"><xref:Microsoft.AspNetCore.Routing.Route>, istekleri eşleştirme gibi yerleşik yönlendirme uygulamalarının nasıl yapıldığını görmek için [günlük kaydını](xref:fundamentals/logging/index) etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="07405-377">Enable [Logging](xref:fundamentals/logging/index) to see how the built-in routing implementations, such as <xref:Microsoft.AspNetCore.Routing.Route>, match requests.</span></span>

## <a name="reserved-routing-names"></a><span data-ttu-id="07405-378">Ayrılmış yönlendirme adları</span><span class="sxs-lookup"><span data-stu-id="07405-378">Reserved routing names</span></span>

<span data-ttu-id="07405-379">Aşağıdaki anahtar sözcükler ayrılmış isimlerdir ve yol adları veya parametreler olarak kullanılamaz:</span><span class="sxs-lookup"><span data-stu-id="07405-379">The following keywords are reserved names and can't be used as route names or parameters:</span></span>

* `action`
* `area`
* `controller`
* `handler`
* `page`

## <a name="route-constraint-reference"></a><span data-ttu-id="07405-380">Yol kısıtlama başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-380">Route constraint reference</span></span>

<span data-ttu-id="07405-381">Yol kısıtlamaları, gelen URL 'de bir eşleşme meydana geldiğinde ve URL yolu yol değerlerinde simgeleştirilir yürütülür.</span><span class="sxs-lookup"><span data-stu-id="07405-381">Route constraints execute when a match has occurred to the incoming URL and the URL path is tokenized into route values.</span></span> <span data-ttu-id="07405-382">Rota kısıtlamaları genellikle yol şablonu aracılığıyla ilişkili rota değerini inceler ve değerin kabul edilebilir olup olmadığı konusunda bir Evet/Hayır kararı getirir.</span><span class="sxs-lookup"><span data-stu-id="07405-382">Route constraints generally inspect the route value associated via the route template and make a yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="07405-383">Bazı rota kısıtlamaları, isteğin yönlendirilip yönlendirilmeyeceğini göz önünde bulundurmanız için yol değeri dışındaki verileri kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-383">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="07405-384">Örneğin <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint>, HTTP fiiline bağlı olarak bir isteği kabul edebilir veya reddedebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-384">For example, the <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> can accept or reject a request based on its HTTP verb.</span></span> <span data-ttu-id="07405-385">Kısıtlamalar, yönlendirme isteklerinde ve bağlantı oluşturmada kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-385">Constraints are used in routing requests and link generation.</span></span>

> [!WARNING]
> <span data-ttu-id="07405-386">**Giriş doğrulaması**için kısıtlamaları kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="07405-386">Don't use constraints for **input validation**.</span></span> <span data-ttu-id="07405-387">**Giriş doğrulaması**için kısıtlamalar kullanılıyorsa, doğru bir hata iletisine sahip *400-Bad isteği* yerine *404-* olmayan bir Yanıt ile geçersiz giriş oluşur.</span><span class="sxs-lookup"><span data-stu-id="07405-387">If constraints are used for **input validation**, invalid input results in a *404 - Not Found* response instead of a *400 - Bad Request* with an appropriate error message.</span></span> <span data-ttu-id="07405-388">Yol kısıtlamaları, belirli bir rota için girdileri doğrulamak üzere değil, benzer yolların **belirsizliğini ortadan** kaldırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-388">Route constraints are used to **disambiguate** similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="07405-389">Aşağıdaki tabloda örnek yol kısıtlamaları ve bunların beklenen davranışları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-389">The following table demonstrates example route constraints and their expected behavior.</span></span>

| <span data-ttu-id="07405-390">kısıtlama</span><span class="sxs-lookup"><span data-stu-id="07405-390">constraint</span></span> | <span data-ttu-id="07405-391">Örnek</span><span class="sxs-lookup"><span data-stu-id="07405-391">Example</span></span> | <span data-ttu-id="07405-392">Örnek eşleşmeler</span><span class="sxs-lookup"><span data-stu-id="07405-392">Example Matches</span></span> | <span data-ttu-id="07405-393">Notlar</span><span class="sxs-lookup"><span data-stu-id="07405-393">Notes</span></span> |
| ---------- | ------- | --------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="07405-394">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="07405-394">`123456789`, `-123456789`</span></span> | <span data-ttu-id="07405-395">Herhangi bir tamsayıyla eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-395">Matches any integer</span></span> |
| `bool` | `{active:bool}` | <span data-ttu-id="07405-396">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="07405-396">`true`, `FALSE`</span></span> | <span data-ttu-id="07405-397">`true` veya `false` eşleşir (büyük/küçük harfe duyarsız)</span><span class="sxs-lookup"><span data-stu-id="07405-397">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="07405-398">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="07405-398">`2016-12-31`, `2016-12-31 7:32pm`</span></span> | <span data-ttu-id="07405-399">Geçerli bir `DateTime` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-399">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="07405-400">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="07405-400">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="07405-401">Geçerli bir `decimal` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-401">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double` | `{weight:double}` | <span data-ttu-id="07405-402">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="07405-402">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="07405-403">Geçerli bir `double` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-403">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float` | `{weight:float}` | <span data-ttu-id="07405-404">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="07405-404">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="07405-405">Geçerli bir `float` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-405">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid` | `{id:guid}` | <span data-ttu-id="07405-406">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="07405-406">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="07405-407">Geçerli bir `Guid` değeriyle eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-407">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="07405-408">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="07405-408">`123456789`, `-123456789`</span></span> | <span data-ttu-id="07405-409">Geçerli bir `long` değeriyle eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-409">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="07405-410">Dize en az 4 karakter olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-410">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="07405-411">Dize 8 karakterden uzun olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-411">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="07405-412">Dize tam olarak 12 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-412">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="07405-413">Dize en az 8 ve en fazla 16 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-413">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="07405-414">Tamsayı değeri en az 18 olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-414">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` | `91` | <span data-ttu-id="07405-415">Tamsayı değeri 120 ' ten fazla olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-415">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="07405-416">Tamsayı değeri en az 18 olmalı ancak 120 ' ten fazla olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-416">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="07405-417">Dize bir veya daha fazla alfabetik karakterden oluşmalıdır (`a`-`z`, büyük/küçük harfe duyarsız)</span><span class="sxs-lookup"><span data-stu-id="07405-417">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="07405-418">Dize, normal ifadeyle eşleşmelidir (normal ifade tanımlama hakkında ipuçlarına bakın)</span><span class="sxs-lookup"><span data-stu-id="07405-418">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required` | `{name:required}` | `Rick` | <span data-ttu-id="07405-419">URL oluşturma sırasında parametre olmayan bir değerin mevcut olduğunu zorlamak için kullanılır</span><span class="sxs-lookup"><span data-stu-id="07405-419">Used to enforce that a non-parameter value is present during URL generation</span></span> |

<span data-ttu-id="07405-420">Birden çok, iki nokta üst üste sınırlı kısıtlama tek bir parametreye uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-420">Multiple, colon-delimited constraints can be applied to a single parameter.</span></span> <span data-ttu-id="07405-421">Örneğin, aşağıdaki kısıtlama bir parametreyi 1 veya daha büyük bir tamsayı değeriyle kısıtlar:</span><span class="sxs-lookup"><span data-stu-id="07405-421">For example, the following constraint restricts a parameter to an integer value of 1 or greater:</span></span>

```csharp
[Route("users/{id:int:min(1)}")]
public User GetUserById(int id) { }
```

> [!WARNING]
> <span data-ttu-id="07405-422">URL 'YI doğrulayan ve bir CLR türüne (`int` veya `DateTime`) dönüştürülen yol kısıtlamaları her zaman sabit kültürü kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-422">Route constraints that verify the URL and are converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture.</span></span> <span data-ttu-id="07405-423">Bu kısıtlamalar, URL 'nin yerelleştirilemeyen olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="07405-423">These constraints assume that the URL is non-localizable.</span></span> <span data-ttu-id="07405-424">Framework tarafından sunulan yol kısıtlamaları, yol değerlerinde depolanan değerleri değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="07405-424">The framework-provided route constraints don't modify the values stored in route values.</span></span> <span data-ttu-id="07405-425">URL 'den Ayrıştırılan tüm rota değerleri dizeler olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="07405-425">All route values parsed from the URL are stored as strings.</span></span> <span data-ttu-id="07405-426">Örneğin, `float` kısıtlaması yol değerini bir float öğesine dönüştürmeye çalışır, ancak dönüştürülen değer yalnızca bir float öğesine dönüştürülebileceğini doğrulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-426">For example, the `float` constraint attempts to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="07405-427">Normal ifadeler</span><span class="sxs-lookup"><span data-stu-id="07405-427">Regular expressions</span></span>

<span data-ttu-id="07405-428">ASP.NET Core Framework, normal ifade oluşturucusuna `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-428">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="07405-429">Bu üyelerin açıklaması için bkz. <xref:System.Text.RegularExpressions.RegexOptions>.</span><span class="sxs-lookup"><span data-stu-id="07405-429">See <xref:System.Text.RegularExpressions.RegexOptions> for a description of these members.</span></span>

<span data-ttu-id="07405-430">Normal ifadeler, C# yönlendirme ve dil tarafından kullanılanlarla aynı sınırlayıcıları ve belirteçleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-430">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="07405-431">Normal ifade belirteçlerinin atlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-431">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="07405-432">`^\d{3}-\d{2}-\d{4}$` normal ifade ' i yönlendirmede kullanmak için, ifadede, C# kaynak `\` dosyadaki `\\` (çift ters eğik çizgi) karakter olarak belirtilen `\` (tek ters eğik çizgi) karakterlere sahip olması gerekir. karakter (tam [dize sabit değerleri](/dotnet/csharp/language-reference/keywords/string)kullanmadıkça).</span><span class="sxs-lookup"><span data-stu-id="07405-432">To use the regular expression `^\d{3}-\d{2}-\d{4}$` in routing, the expression must have the `\` (single backslash) characters provided in the string as `\\` (double backslash) characters in the C# source file in order to escape the `\` string escape character (unless using [verbatim string literals](/dotnet/csharp/language-reference/keywords/string)).</span></span> <span data-ttu-id="07405-433">Yönlendirme parametresi sınırlayıcı karakterlerini (`{`, `}`, `[`, `]`) atlamak için, ifadedeki karakterleri çift (`{{`, `}`, `[[`, `]]`).</span><span class="sxs-lookup"><span data-stu-id="07405-433">To escape routing parameter delimiter characters (`{`, `}`, `[`, `]`), double the characters in the expression (`{{`, `}`, `[[`, `]]`).</span></span> <span data-ttu-id="07405-434">Aşağıdaki tabloda, bir normal ifade ve kaçan sürümü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-434">The following table shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="07405-435">Normal ifade</span><span class="sxs-lookup"><span data-stu-id="07405-435">Regular Expression</span></span>    | <span data-ttu-id="07405-436">Kaçan normal Ifade</span><span class="sxs-lookup"><span data-stu-id="07405-436">Escaped Regular Expression</span></span>     |
| --------------------- | ------------------------------ |
| `^\d{3}-\d{2}-\d{4}$` | `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` |
| `^[a-z]{2}$`          | `^[[a-z]]{{2}}$`               |

<span data-ttu-id="07405-437">Yönlendirmelerde kullanılan normal ifadeler, genellikle şapka işareti (`^`) karakteriyle başlar ve dizenin başlangıç konumuyla eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-437">Regular expressions used in routing often start with the caret (`^`) character and match starting position of the string.</span></span> <span data-ttu-id="07405-438">İfadeler genellikle dolar işareti (`$`) karakteriyle biter ve dizenin sonuyla eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-438">The expressions often end with the dollar sign (`$`) character and match end of the string.</span></span> <span data-ttu-id="07405-439">`^` ve `$` karakterler, normal ifadenin tüm yol parametresi değeri ile eşleştiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="07405-439">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="07405-440">`^` ve `$` karakterleri olmadan normal ifade, dize içindeki herhangi bir alt dizeden eşleşir ve bu genellikle istenmeyen bir ifadedir.</span><span class="sxs-lookup"><span data-stu-id="07405-440">Without the `^` and `$` characters, the regular expression match any substring within the string, which is often undesirable.</span></span> <span data-ttu-id="07405-441">Aşağıdaki tabloda örnekler verilmektedir ve bunların eşleşmesinin neden eşleşmediği veya eşleşmemesi açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="07405-441">The following table provides examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="07405-442">İfade</span><span class="sxs-lookup"><span data-stu-id="07405-442">Expression</span></span>   | <span data-ttu-id="07405-443">Dize</span><span class="sxs-lookup"><span data-stu-id="07405-443">String</span></span>    | <span data-ttu-id="07405-444">Eşleştirme</span><span class="sxs-lookup"><span data-stu-id="07405-444">Match</span></span> | <span data-ttu-id="07405-445">Yorum</span><span class="sxs-lookup"><span data-stu-id="07405-445">Comment</span></span>               |
| ------------ | --------- | :---: |  -------------------- |
| `[a-z]{2}`   | <span data-ttu-id="07405-446">herkese</span><span class="sxs-lookup"><span data-stu-id="07405-446">hello</span></span>     | <span data-ttu-id="07405-447">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-447">Yes</span></span>   | <span data-ttu-id="07405-448">Alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="07405-448">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="07405-449">123abc456</span><span class="sxs-lookup"><span data-stu-id="07405-449">123abc456</span></span> | <span data-ttu-id="07405-450">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-450">Yes</span></span>   | <span data-ttu-id="07405-451">Alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="07405-451">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="07405-452">MZ</span><span class="sxs-lookup"><span data-stu-id="07405-452">mz</span></span>        | <span data-ttu-id="07405-453">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-453">Yes</span></span>   | <span data-ttu-id="07405-454">Eşleşen ifadesi</span><span class="sxs-lookup"><span data-stu-id="07405-454">Matches expression</span></span>    |
| `[a-z]{2}`   | <span data-ttu-id="07405-455">MZ</span><span class="sxs-lookup"><span data-stu-id="07405-455">MZ</span></span>        | <span data-ttu-id="07405-456">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-456">Yes</span></span>   | <span data-ttu-id="07405-457">Büyük/küçük harfe duyarlı değil</span><span class="sxs-lookup"><span data-stu-id="07405-457">Not case sensitive</span></span>    |
| `^[a-z]{2}$` | <span data-ttu-id="07405-458">herkese</span><span class="sxs-lookup"><span data-stu-id="07405-458">hello</span></span>     | <span data-ttu-id="07405-459">Hayır</span><span class="sxs-lookup"><span data-stu-id="07405-459">No</span></span>    | <span data-ttu-id="07405-460">Yukarıdaki `^` ve `$` bakın</span><span class="sxs-lookup"><span data-stu-id="07405-460">See `^` and `$` above</span></span> |
| `^[a-z]{2}$` | <span data-ttu-id="07405-461">123abc456</span><span class="sxs-lookup"><span data-stu-id="07405-461">123abc456</span></span> | <span data-ttu-id="07405-462">Hayır</span><span class="sxs-lookup"><span data-stu-id="07405-462">No</span></span>    | <span data-ttu-id="07405-463">Yukarıdaki `^` ve `$` bakın</span><span class="sxs-lookup"><span data-stu-id="07405-463">See `^` and `$` above</span></span> |

<span data-ttu-id="07405-464">Normal ifade sözdizimi hakkında daha fazla bilgi için bkz. [.NET Framework normal ifadeler](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span><span class="sxs-lookup"><span data-stu-id="07405-464">For more information on regular expression syntax, see [.NET Framework Regular Expressions](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>

<span data-ttu-id="07405-465">Bir parametreyi bilinen olası değerler kümesiyle kısıtlamak için, normal bir ifade kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-465">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="07405-466">Örneğin `{action:regex(^(list|get|create)$)}`, yalnızca `action` Route değeri `list`, `get`veya `create`ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-466">For example, `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="07405-467">Kısıtlama sözlüğüne geçirilirse dize `^(list|get|create)$` eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="07405-467">If passed into the constraints dictionary, the string `^(list|get|create)$` is equivalent.</span></span> <span data-ttu-id="07405-468">Bilinen kısıtlamalardan biriyle eşleşmeyen kısıtlama sözlüğüne (bir şablon içinde satır içi değil) geçirilen kısıtlamalar da normal ifadeler olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="07405-468">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

## <a name="custom-route-constraints"></a><span data-ttu-id="07405-469">Özel yol kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="07405-469">Custom Route Constraints</span></span>

<span data-ttu-id="07405-470">Yerleşik yol kısıtlamalarına ek olarak, <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> arabirimi uygulayarak özel yol kısıtlamaları oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-470">In addition to the built-in route constraints, custom route constraints can be created by implementing the <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface.</span></span> <span data-ttu-id="07405-471"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> arabirimi, kısıtlama karşılandıysanız `true` döndüren `Match`tek bir yöntem içerir ve aksi takdirde `false`.</span><span class="sxs-lookup"><span data-stu-id="07405-471">The <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface contains a single method, `Match`, which returns `true` if the constraint is satisfied and `false` otherwise.</span></span>

<span data-ttu-id="07405-472">Özel bir <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>kullanmak için, yol kısıtlama türü uygulamanın hizmet kapsayıcısında uygulamanın <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> kayıtlı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-472">To use a custom <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, the route constraint type must be registered with the app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> in the app's service container.</span></span> <span data-ttu-id="07405-473"><xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>, yol kısıtlama anahtarlarını bu kısıtlamaları doğrulayan <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> uygulamalarla eşleyen bir sözlüktür.</span><span class="sxs-lookup"><span data-stu-id="07405-473">A <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> is a dictionary that maps route constraint keys to <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> implementations that validate those constraints.</span></span> <span data-ttu-id="07405-474">Bir uygulamanın <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>, bir hizmetin parçası olarak `Startup.ConfigureServices` güncelleştirilebilen olabilir [. AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) çağrısı veya <xref:Microsoft.AspNetCore.Routing.RouteOptions> doğrudan `services.Configure<RouteOptions>`ile yapılandırma.</span><span class="sxs-lookup"><span data-stu-id="07405-474">An app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> can be updated in `Startup.ConfigureServices` either as part of a [services.AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) call or by configuring <xref:Microsoft.AspNetCore.Routing.RouteOptions> directly with `services.Configure<RouteOptions>`.</span></span> <span data-ttu-id="07405-475">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="07405-475">For example:</span></span>

```csharp
services.AddRouting(options =>
{
    options.ConstraintMap.Add("customName", typeof(MyCustomConstraint));
});
```

<span data-ttu-id="07405-476">Kısıtlama daha sonra, kısıtlama türü kaydedilirken belirtilen ad kullanılarak yollara her zamanki şekilde uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-476">The constraint can then be applied to routes in the usual manner, using the name specified when registering the constraint type.</span></span> <span data-ttu-id="07405-477">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="07405-477">For example:</span></span>

```csharp
[HttpGet("{id:customName}")]
public ActionResult<string> Get(string id)
```

## <a name="parameter-transformer-reference"></a><span data-ttu-id="07405-478">Parametre transformatörü başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-478">Parameter transformer reference</span></span>

<span data-ttu-id="07405-479">Parametre dönüştürücüler:</span><span class="sxs-lookup"><span data-stu-id="07405-479">Parameter transformers:</span></span>

* <span data-ttu-id="07405-480"><xref:Microsoft.AspNetCore.Routing.Route>için bağlantı oluştururken yürütün.</span><span class="sxs-lookup"><span data-stu-id="07405-480">Execute when generating a link for a <xref:Microsoft.AspNetCore.Routing.Route>.</span></span>
* <span data-ttu-id="07405-481">`Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`uygulayın.</span><span class="sxs-lookup"><span data-stu-id="07405-481">Implement `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`.</span></span>
* <span data-ttu-id="07405-482"><xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>kullanılarak yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-482">Are configured using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>.</span></span>
* <span data-ttu-id="07405-483">Parametrenin yol değerini alın ve yeni bir dize değerine dönüştürün.</span><span class="sxs-lookup"><span data-stu-id="07405-483">Take the parameter's route value and transform it to a new string value.</span></span>
* <span data-ttu-id="07405-484">Oluşturulan bağlantıda Dönüştürülmüş değerin kullanılmasına neden olacak.</span><span class="sxs-lookup"><span data-stu-id="07405-484">Result in using the transformed value in the generated link.</span></span>

<span data-ttu-id="07405-485">Örneğin, `Url.Action(new { article = "MyTestArticle" })` ile `blog\{article:slugify}` yol düzeninde özel `slugify` parametresi transformatörü `blog\my-test-article`üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-485">For example, a custom `slugify` parameter transformer in route pattern `blog\{article:slugify}` with `Url.Action(new { article = "MyTestArticle" })` generates `blog\my-test-article`.</span></span>

<span data-ttu-id="07405-486">Bir parametre transformatörü bir yol düzeninde kullanmak için, önce `Startup.ConfigureServices`<xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> kullanarak yapılandırın:</span><span class="sxs-lookup"><span data-stu-id="07405-486">To use a parameter transformer in a route pattern, configure it first using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> in `Startup.ConfigureServices`:</span></span>

```csharp
services.AddRouting(options =>
{
    // Replace the type and the name used to refer to it with your own
    // IOutboundParameterTransformer implementation
    options.ConstraintMap["slugify"] = typeof(SlugifyParameterTransformer);
});
```

<span data-ttu-id="07405-487">Parametre dönüştürücüler, bir uç noktanın çözümlediği URI 'yi dönüştürmek için çerçevesi tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-487">Parameter transformers are used by the framework to transform the URI where an endpoint resolves.</span></span> <span data-ttu-id="07405-488">Örneğin, ASP.NET Core MVC, `area`, `controller`, `action`ve `page`eşleşecek şekilde kullanılan rota değerini dönüştürmek için parametre dönüştürücüler kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-488">For example, ASP.NET Core MVC uses parameter transformers to transform the route value used to match an `area`, `controller`, `action`, and `page`.</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller:slugify=Home}/{action:slugify=Index}/{id?}");
```

<span data-ttu-id="07405-489">Önceki yol ile eylem `SubscriptionManagementController.GetAll()`, URI `/subscription-management/get-all`ile eşleştirilir.</span><span class="sxs-lookup"><span data-stu-id="07405-489">With the preceding route, the action `SubscriptionManagementController.GetAll()` is matched with the URI `/subscription-management/get-all`.</span></span> <span data-ttu-id="07405-490">Bir parametre transformatörü bir bağlantı oluşturmak için kullanılan rota değerlerini değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="07405-490">A parameter transformer doesn't change the route values used to generate a link.</span></span> <span data-ttu-id="07405-491">Örneğin, `Url.Action("GetAll", "SubscriptionManagement")` çıkışları `/subscription-management/get-all`.</span><span class="sxs-lookup"><span data-stu-id="07405-491">For example, `Url.Action("GetAll", "SubscriptionManagement")` outputs `/subscription-management/get-all`.</span></span>

<span data-ttu-id="07405-492">ASP.NET Core, oluşturulan yollarla bir parametre dönüştürücüler kullanmak için API kuralları sağlar:</span><span class="sxs-lookup"><span data-stu-id="07405-492">ASP.NET Core provides API conventions for using a parameter transformers with generated routes:</span></span>

* <span data-ttu-id="07405-493">ASP.NET Core MVC 'nin `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API kuralı vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-493">ASP.NET Core MVC has the `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API convention.</span></span> <span data-ttu-id="07405-494">Bu kural, uygulamadaki tüm öznitelik yollarına belirtilen bir parametre transformatörü uygular.</span><span class="sxs-lookup"><span data-stu-id="07405-494">This convention applies a specified parameter transformer to all attribute routes in the app.</span></span> <span data-ttu-id="07405-495">Parametre transformatörü, öznitelik yol belirteçlerini değiştirildiklerinde dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="07405-495">The parameter transformer transforms attribute route tokens as they are replaced.</span></span> <span data-ttu-id="07405-496">Daha fazla bilgi için bkz. [belirteç değişimini özelleştirmek için bir parametre transformatörü kullanma](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span><span class="sxs-lookup"><span data-stu-id="07405-496">For more information, see [Use a parameter transformer to customize token replacement](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span></span>
* <span data-ttu-id="07405-497">Razor Pages `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API kuralına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="07405-497">Razor Pages has the `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API convention.</span></span> <span data-ttu-id="07405-498">Bu kural, belirtilen bir parametre transformatörü otomatik olarak keşfedilen Razor Pages uygular.</span><span class="sxs-lookup"><span data-stu-id="07405-498">This convention applies a specified parameter transformer to all automatically discovered Razor Pages.</span></span> <span data-ttu-id="07405-499">Parametre transformatörü Razor Pages yolların klasör ve dosya adı segmentlerini dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="07405-499">The parameter transformer transforms the folder and file name segments of Razor Pages routes.</span></span> <span data-ttu-id="07405-500">Daha fazla bilgi için bkz. [sayfa yollarını özelleştirmek için bir parametre transformatörü kullanma](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span><span class="sxs-lookup"><span data-stu-id="07405-500">For more information, see [Use a parameter transformer to customize page routes](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span></span>

## <a name="url-generation-reference"></a><span data-ttu-id="07405-501">URL oluşturma başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-501">URL generation reference</span></span>

<span data-ttu-id="07405-502">Aşağıdaki örnek, yol değerlerinin bir sözlüğü ve bir <xref:Microsoft.AspNetCore.Routing.RouteCollection>için bir yol bağlantısının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="07405-502">The following example shows how to generate a link to a route given a dictionary of route values and a <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span></span>

[!code-csharp[](routing/samples/3.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

<span data-ttu-id="07405-503">Yukarıdaki örnek sonunda oluşturulan <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> `/package/create/123`.</span><span class="sxs-lookup"><span data-stu-id="07405-503">The <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> generated at the end of the preceding sample is `/package/create/123`.</span></span> <span data-ttu-id="07405-504">Sözlük, "paket yolunu Izle" şablonunun `package/{operation}/{id}``operation` ve `id` yol değerlerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-504">The dictionary supplies the `operation` and `id` route values of the "Track Package Route" template, `package/{operation}/{id}`.</span></span> <span data-ttu-id="07405-505">Ayrıntılar için, [yönlendirme ara yazılımı kullanma](#use-routing-middleware) bölümünde veya [örnek uygulamada](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples)örnek koda bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-505">For details, see the sample code in the [Use Routing Middleware](#use-routing-middleware) section or the [sample app](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span></span>

<span data-ttu-id="07405-506"><xref:Microsoft.AspNetCore.Routing.VirtualPathContext> oluşturucusunun ikinci parametresi bir *ortam değerleri*koleksiyonudur.</span><span class="sxs-lookup"><span data-stu-id="07405-506">The second parameter to the <xref:Microsoft.AspNetCore.Routing.VirtualPathContext> constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="07405-507">Ortam değerleri, bir geliştiricinin bir istek bağlamı içinde belirtmesi gereken değer sayısını sınırlandırdığından kullanım için uygundur.</span><span class="sxs-lookup"><span data-stu-id="07405-507">Ambient values are convenient to use because they limit the number of values a developer must specify within a request context.</span></span> <span data-ttu-id="07405-508">Geçerli isteğin geçerli yol değerleri, bağlantı oluşturma için çevresel değerler olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="07405-508">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="07405-509">ASP.NET Core MVC uygulamasının `HomeController``About` eyleminde,&mdash;ortam değeri `Home` `Index` eyleme bağlamak için denetleyici yolu değerini belirtmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="07405-509">In an ASP.NET Core MVC app's `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action&mdash;the ambient value of `Home` is used.</span></span>

<span data-ttu-id="07405-510">Bir parametreyle eşleşmeyen çevresel değerler yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="07405-510">Ambient values that don't match a parameter are ignored.</span></span> <span data-ttu-id="07405-511">Ayrıca, açıkça sağlanmış bir değer çevresel değeri geçersiz kıldığında çevresel değerler de yoksayılır.</span><span class="sxs-lookup"><span data-stu-id="07405-511">Ambient values are also ignored when an explicitly provided value overrides the ambient value.</span></span> <span data-ttu-id="07405-512">Eşleştirme, URL 'de soldan sağa doğru gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-512">Matching occurs from left to right in the URL.</span></span>

<span data-ttu-id="07405-513">Açık olarak sağlanmış ancak yolun bir segmentiyle eşleşmeyen değerler sorgu dizesine eklenir.</span><span class="sxs-lookup"><span data-stu-id="07405-513">Values explicitly provided but that don't match a segment of the route are added to the query string.</span></span> <span data-ttu-id="07405-514">Aşağıdaki tabloda `{controller}/{action}/{id?}`yol şablonu kullanılırken sonuç gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-514">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="07405-515">Çevresel değerler</span><span class="sxs-lookup"><span data-stu-id="07405-515">Ambient Values</span></span>                     | <span data-ttu-id="07405-516">Açık değerler</span><span class="sxs-lookup"><span data-stu-id="07405-516">Explicit Values</span></span>                        | <span data-ttu-id="07405-517">Sonuç</span><span class="sxs-lookup"><span data-stu-id="07405-517">Result</span></span>                  |
| ---------------------------------- | -------------------------------------- | ----------------------- |
| <span data-ttu-id="07405-518">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-518">controller = "Home"</span></span>                | <span data-ttu-id="07405-519">Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-519">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="07405-520">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-520">controller = "Home"</span></span>                | <span data-ttu-id="07405-521">denetleyici = "Order", Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-521">controller = "Order", action = "About"</span></span> | `/Order/About`          |
| <span data-ttu-id="07405-522">denetleyici = "giriş", renk = "kırmızı"</span><span class="sxs-lookup"><span data-stu-id="07405-522">controller = "Home", color = "Red"</span></span> | <span data-ttu-id="07405-523">Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-523">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="07405-524">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-524">controller = "Home"</span></span>                | <span data-ttu-id="07405-525">Action = "hakkında", color = "Red"</span><span class="sxs-lookup"><span data-stu-id="07405-525">action = "About", color = "Red"</span></span>        | `/Home/About?color=Red` |

<span data-ttu-id="07405-526">Bir rotada bir parametreye karşılık gelen bir varsayılan değer varsa ve bu değer açıkça sağlanmışsa, varsayılan değerle eşleşmelidir:</span><span class="sxs-lookup"><span data-stu-id="07405-526">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
    defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="07405-527">Bağlantı oluşturma yalnızca `controller` ve `action` için eşleşen değerler sağlandığında bu yol için bir bağlantı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-527">Link generation only generates a link for this route when the matching values for `controller` and `action` are provided.</span></span>

## <a name="complex-segments"></a><span data-ttu-id="07405-528">Karmaşık segmentler</span><span class="sxs-lookup"><span data-stu-id="07405-528">Complex segments</span></span>

<span data-ttu-id="07405-529">Karmaşık segmentler (örneğin `[Route("/x{token}y")]`), sabit değerli olmayan değişmez değerler ile sağdan sola eşleştirilirken işlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-529">Complex segments (for example `[Route("/x{token}y")]`) are processed by matching up literals from right to left in a non-greedy way.</span></span> <span data-ttu-id="07405-530">Karmaşık segmentlerin nasıl eşleştirileceği hakkında ayrıntılı bir açıklama için [bu koda](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-530">See [this code](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) for a detailed explanation of how complex segments are matched.</span></span> <span data-ttu-id="07405-531">[Kod örneği](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) ASP.NET Core tarafından kullanılmaz, ancak karmaşık segmentler hakkında iyi bir açıklama sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-531">The [code sample](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) is not used by ASP.NET Core, but it provides a good explanation of complex segments.</span></span>
<!-- While that code is no longer used by ASP.NET Core for complex segment matching, it provides a good match to the current algorithm. The [current code](https://github.com/aspnet/AspNetCore/blob/91514c9af7e0f4c44029b51f05a01c6fe4c96e4c/src/Http/Routing/src/Matching/DfaMatcherBuilder.cs#L227-L244) is too abstracted from matching to be useful for understanding complex segment matching.
-->

## <a name="configuring-endpoint-metadata"></a><span data-ttu-id="07405-532">Uç nokta meta verilerini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="07405-532">Configuring endpoint metadata</span></span>

<span data-ttu-id="07405-533">Aşağıdaki bağlantılar, uç nokta meta verilerini yapılandırma hakkında bilgi sağlar:</span><span class="sxs-lookup"><span data-stu-id="07405-533">The following links provide information on configuring endpoint metadata:</span></span>

* [<span data-ttu-id="07405-534">Uç nokta yönlendirme ile CORS 'yi etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="07405-534">Enable Cors with endpoint routing</span></span>](xref:security/cors#enable-cors-with-endpoint-routing)
* <span data-ttu-id="07405-535">Özel bir `[MinimumAgeAuthorize]` özniteliği kullanan [ıauthorizationpolicyprovider örneği](https://github.com/aspnet/AspNetCore/tree/release/3.0/src/Security/samples/CustomPolicyProvider)</span><span class="sxs-lookup"><span data-stu-id="07405-535">[IAuthorizationPolicyProvider sample](https://github.com/aspnet/AspNetCore/tree/release/3.0/src/Security/samples/CustomPolicyProvider) using a custom `[MinimumAgeAuthorize]` attribute</span></span>
* <span data-ttu-id="07405-536">[[Yetkilendir] özniteliğiyle test kimlik doğrulaması](xref:security/authentication/identity#test-identity)</span><span class="sxs-lookup"><span data-stu-id="07405-536">[Test authentication with the [Authorize] attribute](xref:security/authentication/identity#test-identity)</span></span>
* <xref:Microsoft.AspNetCore.Builder.AuthorizationEndpointConventionBuilderExtensions.RequireAuthorization*>
* <span data-ttu-id="07405-537">[[Yetkilendir] özniteliğiyle düzeni seçme](xref:security/authorization/limitingidentitybyscheme#selecting-the-scheme-with-the-authorize-attribute)</span><span class="sxs-lookup"><span data-stu-id="07405-537">[Selecting the scheme with the [Authorize] attribute](xref:security/authorization/limitingidentitybyscheme#selecting-the-scheme-with-the-authorize-attribute)</span></span>
* <span data-ttu-id="07405-538">[[Yetkilendir] özniteliği kullanılarak ilkeler uygulanıyor](xref:security/authorization/policies#applying-policies-to-mvc-controllers)</span><span class="sxs-lookup"><span data-stu-id="07405-538">[Applying policies using the [Authorize] attribute](xref:security/authorization/policies#applying-policies-to-mvc-controllers)</span></span>
* <xref:security/authorization/roles>

<a name="hostmatch"></a>

## <a name="host-matching-in-routes-with-requirehost"></a><span data-ttu-id="07405-539">RequireHost ile yollarla eşleşen ana bilgisayar</span><span class="sxs-lookup"><span data-stu-id="07405-539">Host matching in routes with RequireHost</span></span>

<span data-ttu-id="07405-540">`RequireHost`, belirtilen Konağı gerektiren rotaya bir kısıtlama uygular.</span><span class="sxs-lookup"><span data-stu-id="07405-540">`RequireHost` applies a constraint to the route which requires the specified host.</span></span> <span data-ttu-id="07405-541">`RequireHost` veya `[Host]` parametresi şu olabilir:</span><span class="sxs-lookup"><span data-stu-id="07405-541">The `RequireHost` or `[Host]` parameter can be:</span></span>

* <span data-ttu-id="07405-542">Ana bilgisayar: `www.domain.com` (herhangi bir bağlantı noktasıyla `www.domain.com` eşleşir)</span><span class="sxs-lookup"><span data-stu-id="07405-542">Host: `www.domain.com` (matches `www.domain.com` with any port)</span></span>
* <span data-ttu-id="07405-543">Joker karakterle ana bilgisayar: `*.domain.com` (herhangi bir bağlantı noktasında `www.domain.com`, `subdomain.domain.com`veya `www.subdomain.domain.com` eşleşir)</span><span class="sxs-lookup"><span data-stu-id="07405-543">Host with wildcard: `*.domain.com` (matches `www.domain.com`, `subdomain.domain.com`, or `www.subdomain.domain.com` on any port)</span></span>
* <span data-ttu-id="07405-544">Bağlantı noktası: `*:5000` (herhangi bir konakla bağlantı noktası 5000 ile eşleşir)</span><span class="sxs-lookup"><span data-stu-id="07405-544">Port: `*:5000` (matches port 5000 with any host)</span></span>
* <span data-ttu-id="07405-545">Konak ve bağlantı noktası: `www.domain.com:5000`, `*.domain.com:5000` (ana bilgisayar ve bağlantı noktasıyla eşleşir)</span><span class="sxs-lookup"><span data-stu-id="07405-545">Host and port: `www.domain.com:5000`, `*.domain.com:5000` (matches host and port)</span></span>

<span data-ttu-id="07405-546">`RequireHost` veya `[Host]`kullanılarak birden çok parametre belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-546">Multiple parameters can be specified using `RequireHost` or `[Host]`.</span></span> <span data-ttu-id="07405-547">Kısıtlama, parametrelerden herhangi biri için geçerli olan konaklara göre eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-547">The constraint will match hosts valid for any of the parameters.</span></span> <span data-ttu-id="07405-548">Örneğin, `[Host("domain.com", "*.domain.com")]` `domain.com`, `www.domain.com`veya `subdomain.domain.com`eşleştirecektir.</span><span class="sxs-lookup"><span data-stu-id="07405-548">For example, `[Host("domain.com", "*.domain.com")]` will match `domain.com`, `www.domain.com`, or `subdomain.domain.com`.</span></span>

<span data-ttu-id="07405-549">Aşağıdaki kod, rotada belirtilen ana bilgisayarı gerektirmek için `RequireHost` kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-549">The following code uses `RequireHost` to require the specified host on the route:</span></span>

```csharp
public void Configure(IApplicationBuilder app)
{
    app.UseRouting();

    app.UseEndpoints(endpoints =>
    {
        endpoints.MapGet("/", context => context.Response.WriteAsync("Hi Contoso!"))
            .RequireHost("contoso.com");
        endpoints.MapGet("/", context => context.Response.WriteAsync("Hi AdventureWorks!"))
            .RequireHost("adventure-works.com");
        endpoints.MapHealthChecks("/healthz").RequireHost("*:8080");
    });
}
```

<span data-ttu-id="07405-550">Aşağıdaki kod, denetleyicide belirtilen Konağı gerektirmek için `[Host]` özniteliğini kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-550">The following code uses the `[Host]` attribute to require the specified host on the controller:</span></span>

```csharp
[Host("contoso.com", "adventure-works.com")]
public class HomeController : Controller
{
    private readonly ILogger<HomeController> _logger;

    public HomeController(ILogger<HomeController> logger)
    {
        _logger = logger;
    }

    public IActionResult Index()
    {
        return View();
    }

    [Host("example.com:8080")]
    public IActionResult Privacy()
    {
        return View();
    }

}
```

<span data-ttu-id="07405-551">`[Host]` özniteliği hem denetleyici hem de eylem yöntemine uygulandığında:</span><span class="sxs-lookup"><span data-stu-id="07405-551">When the `[Host]` attribute is applied to both the controller and action method:</span></span>

* <span data-ttu-id="07405-552">Eylem üzerindeki özniteliği kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-552">The attribute on the action is used.</span></span>
* <span data-ttu-id="07405-553">Denetleyici özniteliği yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="07405-553">The controller attribute is ignored.</span></span>

::: moniker-end

::: moniker range="= aspnetcore-2.2"

<span data-ttu-id="07405-554">Yönlendirme, istek URI 'Lerini uç noktalarla eşleştirmekten ve gelen istekleri bu uç noktalara gönderen sorumludur.</span><span class="sxs-lookup"><span data-stu-id="07405-554">Routing is responsible for mapping request URIs to endpoints and dispatching incoming requests to those endpoints.</span></span> <span data-ttu-id="07405-555">Yollar uygulamada tanımlanır ve uygulama başlatıldığında yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-555">Routes are defined in the app and configured when the app starts.</span></span> <span data-ttu-id="07405-556">Yol, isteğe bağlı olarak istekte bulunan URL 'den değerleri ayıklayabilir ve bu değerler, istek işleme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-556">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="07405-557">Uygulamadan yönlendirme bilgilerini kullanarak, yönlendirme, uç noktalarıyla eşlenen URL 'Ler de oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-557">Using route information from the app, routing is also able to generate URLs that map to endpoints.</span></span>

<span data-ttu-id="07405-558">ASP.NET Core 2,2 ' de en son yönlendirme senaryolarını kullanmak için `Startup.ConfigureServices`MVC Hizmetleri kaydının [Uyumluluk sürümünü](xref:mvc/compatibility-version) belirtin:</span><span class="sxs-lookup"><span data-stu-id="07405-558">To use the latest routing scenarios in ASP.NET Core 2.2, specify the [compatibility version](xref:mvc/compatibility-version) to the MVC services registration in `Startup.ConfigureServices`:</span></span>

```csharp
services.AddMvc()
    .SetCompatibilityVersion(CompatibilityVersion.Version_2_2);
```

<span data-ttu-id="07405-559"><xref:Microsoft.AspNetCore.Mvc.MvcOptions.EnableEndpointRouting> seçeneği, yönlendirmenin, ASP.NET Core 2,1 veya önceki bir sürümünün uç nokta tabanlı mantık veya <xref:Microsoft.AspNetCore.Routing.IRouter>tabanlı mantığını dahili olarak kullanması gerektiğini belirler.</span><span class="sxs-lookup"><span data-stu-id="07405-559">The <xref:Microsoft.AspNetCore.Mvc.MvcOptions.EnableEndpointRouting> option determines if routing should internally use endpoint-based logic or the <xref:Microsoft.AspNetCore.Routing.IRouter>-based logic of ASP.NET Core 2.1 or earlier.</span></span> <span data-ttu-id="07405-560">Uyumluluk sürümü 2,2 veya üzeri bir değere ayarlandığında, varsayılan değer `true`olur.</span><span class="sxs-lookup"><span data-stu-id="07405-560">When the compatibility version is set to 2.2 or later, the default value is `true`.</span></span> <span data-ttu-id="07405-561">Önceki yönlendirme mantığını kullanmak için değeri `false` olarak ayarlayın:</span><span class="sxs-lookup"><span data-stu-id="07405-561">Set the value to `false` to use the prior routing logic:</span></span>

```csharp
// Use the routing logic of ASP.NET Core 2.1 or earlier:
services.AddMvc(options => options.EnableEndpointRouting = false)
    .SetCompatibilityVersion(CompatibilityVersion.Version_2_2);
```

<span data-ttu-id="07405-562"><xref:Microsoft.AspNetCore.Routing.IRouter>tabanlı yönlendirme hakkında daha fazla bilgi için [Bu konunun ASP.NET Core 2,1 sürümüne](/aspnet/core/fundamentals/routing?view=aspnetcore-2.1)bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-562">For more information on <xref:Microsoft.AspNetCore.Routing.IRouter>-based routing, see the [ASP.NET Core 2.1 version of this topic](/aspnet/core/fundamentals/routing?view=aspnetcore-2.1).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="07405-563">Bu belge, alt düzey ASP.NET Core yönlendirmeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="07405-563">This document covers low-level ASP.NET Core routing.</span></span> <span data-ttu-id="07405-564">ASP.NET Core MVC yönlendirme hakkında daha fazla bilgi için bkz. <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="07405-564">For information on ASP.NET Core MVC routing, see <xref:mvc/controllers/routing>.</span></span> <span data-ttu-id="07405-565">Razor Pages 'de yönlendirme kuralları hakkında bilgi için bkz. <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="07405-565">For information on routing conventions in Razor Pages, see <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="07405-566">[Örnek kodu görüntüleme veya indirme](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([nasıl indirileceği](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="07405-566">[View or download sample code](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="07405-567">Yönlendirme temelleri</span><span class="sxs-lookup"><span data-stu-id="07405-567">Routing basics</span></span>

<span data-ttu-id="07405-568">Çoğu uygulama, URL 'Lerin okunabilir ve anlamlı olması için temel ve açıklayıcı bir yönlendirme şeması seçmelidir.</span><span class="sxs-lookup"><span data-stu-id="07405-568">Most apps should choose a basic and descriptive routing scheme so that URLs are readable and meaningful.</span></span> <span data-ttu-id="07405-569">Varsayılan geleneksel yol `{controller=Home}/{action=Index}/{id?}`:</span><span class="sxs-lookup"><span data-stu-id="07405-569">The default conventional route `{controller=Home}/{action=Index}/{id?}`:</span></span>

* <span data-ttu-id="07405-570">Temel ve açıklayıcı bir yönlendirme düzenini destekler.</span><span class="sxs-lookup"><span data-stu-id="07405-570">Supports a basic and descriptive routing scheme.</span></span>
* <span data-ttu-id="07405-571">, UI tabanlı uygulamalar için kullanışlı bir başlangıç noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-571">Is a useful starting point for UI-based apps.</span></span>

<span data-ttu-id="07405-572">Geliştiriciler, [öznitelik yönlendirme](xref:mvc/controllers/routing#attribute-routing) veya adanmış geleneksel yollar kullanarak özel durumlarda (örneğin, blog ve e-ticaret uç noktaları) bir uygulamanın yüksek trafik bölümlerine daha fazla terse yolu ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-572">Developers commonly add additional terse routes to high-traffic areas of an app in specialized situations (for example, blog and ecommerce endpoints) using [attribute routing](xref:mvc/controllers/routing#attribute-routing) or dedicated conventional routes.</span></span>

<span data-ttu-id="07405-573">Web API 'Leri, uygulamanın işlevselliğini HTTP fiilleri tarafından temsil edilen bir kaynak kümesi olarak modellemek için öznitelik yönlendirmeyi kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-573">Web APIs should use attribute routing to model the app's functionality as a set of resources where operations are represented by HTTP verbs.</span></span> <span data-ttu-id="07405-574">Bu, aynı mantıksal kaynaktaki birçok işlemin (örneğin, GET, POST) aynı URL 'YI kullanacağı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="07405-574">This means that many operations (for example, GET, POST) on the same logical resource will use the same URL.</span></span> <span data-ttu-id="07405-575">Öznitelik yönlendirme, bir API 'nin Genel uç nokta yerleşimini dikkatle tasarlamak için gereken bir denetim düzeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-575">Attribute routing provides a level of control that's needed to carefully design an API's public endpoint layout.</span></span>

<span data-ttu-id="07405-576">Razor Pages uygulamalar, bir uygulamanın *Sayfalar* klasöründe adlandırılmış kaynaklara hizmeti sağlamak için varsayılan geleneksel yönlendirmeyi kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-576">Razor Pages apps use default conventional routing to serve named resources in the *Pages* folder of an app.</span></span> <span data-ttu-id="07405-577">Razor Pages yönlendirme davranışını özelleştirmenizi sağlayan ek kurallar mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="07405-577">Additional conventions are available that allow you to customize Razor Pages routing behavior.</span></span> <span data-ttu-id="07405-578">Daha fazla bilgi için bkz. <xref:razor-pages/index> ve <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="07405-578">For more information, see <xref:razor-pages/index> and <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="07405-579">URL oluşturma desteği, uygulamanın, uygulamayı birbirine bağlamak için sabit kodlama URL 'Leri olmadan geliştirilebilmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="07405-579">URL generation support allows the app to be developed without hard-coding URLs to link the app together.</span></span> <span data-ttu-id="07405-580">Bu destek, temel bir yönlendirme yapılandırmasıyla başlayıp uygulamanın kaynak düzeni belirlendikten sonra yolların değiştirilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-580">This support allows for starting with a basic routing configuration and modifying the routes after the app's resource layout is determined.</span></span>

<span data-ttu-id="07405-581">Yönlendirme, bir uygulamadaki mantıksal uç noktaları temsil etmek için *uç noktaları* (`Endpoint`) kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-581">Routing uses *endpoints* (`Endpoint`) to represent logical endpoints in an app.</span></span>

<span data-ttu-id="07405-582">Bir uç nokta, istekleri işlemek için bir temsilci ve rastgele meta veri koleksiyonunu tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-582">An endpoint defines a delegate to process requests and a collection of arbitrary metadata.</span></span> <span data-ttu-id="07405-583">Meta veriler, her bir uç noktaya eklenen ilkelere ve yapılandırmaya bağlı olarak çapraz kesme sorunları uygulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-583">The metadata is used implement cross-cutting concerns based on policies and configuration attached to each endpoint.</span></span>

<span data-ttu-id="07405-584">Yönlendirme sistemi aşağıdaki özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="07405-584">The routing system has the following characteristics:</span></span>

* <span data-ttu-id="07405-585">Yol şablonu sözdizimi, simgeleştirilmiş yol parametrelerine sahip yolları tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-585">Route template syntax is used to define routes with tokenized route parameters.</span></span>
* <span data-ttu-id="07405-586">Geleneksel stil ve öznitelik stili uç nokta yapılandırmasına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="07405-586">Conventional-style and attribute-style endpoint configuration is permitted.</span></span>
* <span data-ttu-id="07405-587"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, bir URL parametresinin belirli bir uç nokta kısıtlaması için geçerli bir değer içerip içermediğini belirlemekte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-587"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> is used to determine whether a URL parameter contains a valid value for a given endpoint constraint.</span></span>
* <span data-ttu-id="07405-588">MVC/Razor Pages gibi uygulama modelleri, yönlendirme senaryolarının öngörülebilir bir uygulaması olan tüm uç noktalarını kaydeder.</span><span class="sxs-lookup"><span data-stu-id="07405-588">App models, such as MVC/Razor Pages, register all of their endpoints, which have a predictable implementation of routing scenarios.</span></span>
* <span data-ttu-id="07405-589">Yönlendirme gerçekleştirme, yönlendirme kararlarını, ara yazılım ardışık düzeninde istediğiniz yere getirir.</span><span class="sxs-lookup"><span data-stu-id="07405-589">The routing implementation makes routing decisions wherever desired in the middleware pipeline.</span></span>
* <span data-ttu-id="07405-590">Bir yönlendirme ara yazılımı, belirli bir istek URI 'SI için yönlendirme ara yazılımı uç noktası kararının sonucunu inceleyebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-590">Middleware that appears after a Routing Middleware can inspect the result of the Routing Middleware's endpoint decision for a given request URI.</span></span>
* <span data-ttu-id="07405-591">Uygulamadaki tüm uç noktaları, ara yazılım ardışık düzeninde herhangi bir yerde listelemek mümkündür.</span><span class="sxs-lookup"><span data-stu-id="07405-591">It's possible to enumerate all of the endpoints in the app anywhere in the middleware pipeline.</span></span>
* <span data-ttu-id="07405-592">Bir uygulama, uç nokta bilgilerine göre URL 'Ler oluşturmak için (örneğin, yeniden yönlendirme veya bağlantılar için) yönlendirmeyi kullanabilir ve bu sayede bakım yapılmasına yardımcı olan sabit kodlanmış URL 'Lerden kaçınabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07405-592">An app can use routing to generate URLs (for example, for redirection or links) based on endpoint information and thus avoid hard-coded URLs, which helps maintainability.</span></span>
* <span data-ttu-id="07405-593">URL oluşturma, rastgele genişletilebilirliği destekleyen adreslere dayalıdır:</span><span class="sxs-lookup"><span data-stu-id="07405-593">URL generation is based on addresses, which support arbitrary extensibility:</span></span>

  * <span data-ttu-id="07405-594">Bağlantı Oluşturucu API 'SI (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>), [bağımlılık ekleme (dı)](xref:fundamentals/dependency-injection) kullanılarak URL 'ler oluşturmak için her yerde çözülebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-594">The Link Generator API (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>) can be resolved anywhere using [dependency injection (DI)](xref:fundamentals/dependency-injection) to generate URLs.</span></span>
  * <span data-ttu-id="07405-595">Bağlantı Oluşturucu API 'sinin DI aracılığıyla kullanılamadığı durumlarda <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> URL 'Leri derlemek için yöntemler sunar.</span><span class="sxs-lookup"><span data-stu-id="07405-595">Where the Link Generator API isn't available via DI, <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> offers methods to build URLs.</span></span>

> [!NOTE]
> <span data-ttu-id="07405-596">ASP.NET Core 2,2 ' de uç nokta yönlendirme yayını ile, uç nokta bağlama MVC/Razor Pages eylemleri ve sayfaları ile sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-596">With the release of endpoint routing in ASP.NET Core 2.2, endpoint linking is limited to MVC/Razor Pages actions and pages.</span></span> <span data-ttu-id="07405-597">Uç nokta bağlama yeteneklerinin genişletmeleri, gelecek sürümlerde planlanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="07405-597">The expansions of endpoint-linking capabilities is planned for future releases.</span></span>

<span data-ttu-id="07405-598">Yönlendirme, <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> sınıfı tarafından, [Ara yazılım](xref:fundamentals/middleware/index) ardışık düzenine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-598">Routing is connected to the [middleware](xref:fundamentals/middleware/index) pipeline by the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> class.</span></span> <span data-ttu-id="07405-599">[ASP.NET Core MVC](xref:mvc/overview) , yapılandırma kapsamında bir ara yazılım ardışık düzenine yönlendirme ekler ve MVC ve Razor Pages uygulamalarında yönlendirmeyi işler.</span><span class="sxs-lookup"><span data-stu-id="07405-599">[ASP.NET Core MVC](xref:mvc/overview) adds routing to the middleware pipeline as part of its configuration and handles routing in MVC and Razor Pages apps.</span></span> <span data-ttu-id="07405-600">Tek başına bileşen olarak yönlendirmeyi nasıl kullanacağınızı öğrenmek için [yönlendirme ara yazılımı kullanma](#use-routing-middleware) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-600">To learn how to use routing as a standalone component, see the [Use Routing Middleware](#use-routing-middleware) section.</span></span>

### <a name="url-matching"></a><span data-ttu-id="07405-601">URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="07405-601">URL matching</span></span>

<span data-ttu-id="07405-602">URL eşleştirme, yönlendirmenin bir *uç noktaya*gelen isteği gönderdiği işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-602">URL matching is the process by which routing dispatches an incoming request to an *endpoint*.</span></span> <span data-ttu-id="07405-603">Bu işlem, URL yolundaki verileri temel alır, ancak istekteki verileri göz önünde bulundurmanız için genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-603">This process is based on data in the URL path but can be extended to consider any data in the request.</span></span> <span data-ttu-id="07405-604">Ayrı işleyicilere istek gönderme özelliği, bir uygulamanın boyutunu ve karmaşıklığını ölçeklendirmeye yönelik anahtardır.</span><span class="sxs-lookup"><span data-stu-id="07405-604">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an app.</span></span>

<span data-ttu-id="07405-605">Uç nokta yönlendirmesinde yönlendirme sistemi tüm gönderme kararlarından sorumludur.</span><span class="sxs-lookup"><span data-stu-id="07405-605">The routing system in endpoint routing is responsible for all dispatching decisions.</span></span> <span data-ttu-id="07405-606">Ara yazılım, seçili uç noktaya göre ilkeler uyguladığı için, yönlendirme sisteminde güvenlik ilkelerinin dağıtımını etkileyebilecek veya uygulamanın uygulanmasını etkileyebilecek herhangi bir kararın olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="07405-606">Since the middleware applies policies based on the selected endpoint, it's important that any decision that can affect dispatching or the application of security policies is made inside the routing system.</span></span>

<span data-ttu-id="07405-607">Uç nokta temsilcisi yürütüldüğünde, [Routecontext. RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) özellikleri, bu nedenle yapılan istek işlemeye bağlı olarak uygun değerlere ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-607">When the endpoint delegate is executed, the properties of [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) are set to appropriate values based on the request processing performed thus far.</span></span>

<span data-ttu-id="07405-608">[RouteData. Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) , rotada oluşturulan *yol değerlerinin* bir sözlüğüdür.</span><span class="sxs-lookup"><span data-stu-id="07405-608">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="07405-609">Bu değerler genellikle URL 'YI simgeleştirerek belirlenir ve Kullanıcı girişini kabul etmek ya da uygulama içinde daha fazla kararlar almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-609">These values are usually determined by tokenizing the URL and can be used to accept user input or to make further dispatching decisions inside the app.</span></span>

<span data-ttu-id="07405-610">[RouteData. DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) , eşleşen rotayla ilgili ek verilerin bir özellik çantadır.</span><span class="sxs-lookup"><span data-stu-id="07405-610">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="07405-611"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*>, uygulamanın hangi yolun eşleştiğini temel alarak kararlar verebilmesi için durum verilerinin her bir rota ile ilişkilendirilmesini desteklemek amacıyla sağlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-611"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*> are provided to support associating state data with each route so that the app can make decisions based on which route matched.</span></span> <span data-ttu-id="07405-612">Bu değerler, geliştirici tarafından tanımlanır ve yönlendirme davranışını herhangi bir **şekilde etkilemez.**</span><span class="sxs-lookup"><span data-stu-id="07405-612">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="07405-613">Ayrıca, [RouteData. DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) içinde bulunan değerler her türlü türden olabilir. Bu, [veri](xref:Microsoft.AspNetCore.Routing.RouteData.Values)dizeleri arasında dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-613">Additionally, values stashed in [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) can be of any type, in contrast to [RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values), which must be convertible to and from strings.</span></span>

<span data-ttu-id="07405-614">[RouteData. yönlendiriciler](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) , isteği başarıyla eşleştirirken geçen yolların bir listesidir.</span><span class="sxs-lookup"><span data-stu-id="07405-614">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="07405-615">Yollar bir diğerinin içinde iç içe olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-615">Routes can be nested inside of one another.</span></span> <span data-ttu-id="07405-616"><xref:Microsoft.AspNetCore.Routing.RouteData.Routers> özelliği, bir eşleşme ile sonuçlanan yolların mantıksal ağacı aracılığıyla yolu yansıtır.</span><span class="sxs-lookup"><span data-stu-id="07405-616">The <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="07405-617">Genellikle, <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> ilk öğe yol koleksiyonudur ve URL oluşturma için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-617">Generally, the first item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route collection and should be used for URL generation.</span></span> <span data-ttu-id="07405-618"><xref:Microsoft.AspNetCore.Routing.RouteData.Routers> son öğe, eşleşen yol işleyicisidir.</span><span class="sxs-lookup"><span data-stu-id="07405-618">The last item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route handler that matched.</span></span>

<a name="lg"></a>

### <a name="url-generation-with-linkgenerator"></a><span data-ttu-id="07405-619">LinkGenerator ile URL oluşturma</span><span class="sxs-lookup"><span data-stu-id="07405-619">URL generation with LinkGenerator</span></span>

<span data-ttu-id="07405-620">URL oluşturma, yönlendirmenin bir yol değerleri kümesine göre bir URL yolu oluşturabileceği işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-620">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="07405-621">Bu, uç noktalarınız ve bunlara erişen URL 'Ler arasında mantıksal bir ayrım sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-621">This allows for a logical separation between your endpoints and the URLs that access them.</span></span>

<span data-ttu-id="07405-622">Uç nokta yönlendirme bağlantı Oluşturucu API 'sini (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>) içerir.</span><span class="sxs-lookup"><span data-stu-id="07405-622">Endpoint routing includes the Link Generator API (<xref:Microsoft.AspNetCore.Routing.LinkGenerator>).</span></span> <span data-ttu-id="07405-623"><xref:Microsoft.AspNetCore.Routing.LinkGenerator>, DI 'dan alınabilecek bir tek hizmettir.</span><span class="sxs-lookup"><span data-stu-id="07405-623"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> is a singleton service that can be retrieved from DI.</span></span> <span data-ttu-id="07405-624">API, yürütülen bir istek bağlamı dışında kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-624">The API can be used outside of the context of an executing request.</span></span> <span data-ttu-id="07405-625">MVC 'nin [Etiket Yardımcıları](xref:mvc/views/tag-helpers/intro), HTML Yardımcıları ve [eylem sonuçları](xref:mvc/controllers/actions)gibi <xref:Microsoft.AspNetCore.Mvc.IUrlHelper>kullanan <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> ve senaryoları, bağlantı oluşturma yetenekleri sağlamak için bağlantı oluşturucuyu kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-625">MVC's <xref:Microsoft.AspNetCore.Mvc.IUrlHelper> and scenarios that rely on <xref:Microsoft.AspNetCore.Mvc.IUrlHelper>, such as [Tag Helpers](xref:mvc/views/tag-helpers/intro), HTML Helpers, and [Action Results](xref:mvc/controllers/actions), use the link generator to provide link generating capabilities.</span></span>

<span data-ttu-id="07405-626">Bağlantı Oluşturucu, bir *Adres* ve *Adres şemaları*kavramıyla desteklenir.</span><span class="sxs-lookup"><span data-stu-id="07405-626">The link generator is backed by the concept of an *address* and *address schemes*.</span></span> <span data-ttu-id="07405-627">Adres şeması, bağlantı oluşturma için göz önünde bulundurmanız gereken uç noktaları belirlemenin bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="07405-627">An address scheme is a way of determining the endpoints that should be considered for link generation.</span></span> <span data-ttu-id="07405-628">Örneğin, çok sayıda kullanıcının yol adı ve yol değerleri senaryoları, MVC/Razor Pages tarafından tanıdık bir adres düzeni olarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="07405-628">For example, the route name and route values scenarios many users are familiar with from MVC/Razor Pages are implemented as an address scheme.</span></span>

<span data-ttu-id="07405-629">Bağlantı Oluşturucu, aşağıdaki genişletme yöntemleri aracılığıyla MVC/Razor Pages eylemlerine ve sayfalarına bağlanabilir:</span><span class="sxs-lookup"><span data-stu-id="07405-629">The link generator can link to MVC/Razor Pages actions and pages via the following extension methods:</span></span>

* <xref:Microsoft.AspNetCore.Routing.ControllerLinkGeneratorExtensions.GetPathByAction*>
* <xref:Microsoft.AspNetCore.Routing.ControllerLinkGeneratorExtensions.GetUriByAction*>
* <xref:Microsoft.AspNetCore.Routing.PageLinkGeneratorExtensions.GetPathByPage*>
* <xref:Microsoft.AspNetCore.Routing.PageLinkGeneratorExtensions.GetUriByPage*>

<span data-ttu-id="07405-630">Bu yöntemlerin aşırı yüklemesi `HttpContext`içeren bağımsız değişkenleri kabul eder.</span><span class="sxs-lookup"><span data-stu-id="07405-630">An overload of these methods accepts arguments that include the `HttpContext`.</span></span> <span data-ttu-id="07405-631">Bu yöntemler `Url.Action` ve `Url.Page` işlevsel olarak eşdeğerdir ancak ek esneklik ve seçenekler sunar.</span><span class="sxs-lookup"><span data-stu-id="07405-631">These methods are functionally equivalent to `Url.Action` and `Url.Page` but offer additional flexibility and options.</span></span>

<span data-ttu-id="07405-632">`GetPath*` yöntemleri, `Url.Action` ve `Url.Page`, mutlak bir yol içeren bir URI oluşturmak için en çok benzerdir.</span><span class="sxs-lookup"><span data-stu-id="07405-632">The `GetPath*` methods are most similar to `Url.Action` and `Url.Page` in that they generate a URI containing an absolute path.</span></span> <span data-ttu-id="07405-633">`GetUri*` Yöntemler her zaman bir düzen ve konak içeren mutlak bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-633">The `GetUri*` methods always generate an absolute URI containing a scheme and host.</span></span> <span data-ttu-id="07405-634">Bir `HttpContext` kabul eden yöntemler, yürütülmekte olan istek bağlamında bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-634">The methods that accept an `HttpContext` generate a URI in the context of the executing request.</span></span> <span data-ttu-id="07405-635">Ortam yolu değerleri, URL taban yolu, şeması ve yürütülen istekten ana bilgisayar, geçersiz kılınmadıkça kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-635">The ambient route values, URL base path, scheme, and host from the executing request are used unless overridden.</span></span>

<span data-ttu-id="07405-636"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> bir adresle çağrılır.</span><span class="sxs-lookup"><span data-stu-id="07405-636"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> is called with an address.</span></span> <span data-ttu-id="07405-637">URI oluşturma iki adımda gerçekleşir:</span><span class="sxs-lookup"><span data-stu-id="07405-637">Generating a URI occurs in two steps:</span></span>

1. <span data-ttu-id="07405-638">Adres, adresle eşleşen bir uç nokta listesine bağlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-638">An address is bound to a list of endpoints that match the address.</span></span>
1. <span data-ttu-id="07405-639">Her uç noktanın `RoutePattern`, sağlanan değerlerle eşleşen bir rota deseninin bulunana kadar değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="07405-639">Each endpoint's `RoutePattern` is evaluated until a route pattern that matches the supplied values is found.</span></span> <span data-ttu-id="07405-640">Elde edilen çıktı, bağlantı oluşturucuya sağlanan diğer URI parçalarıyla birleştirilir ve döndürülür.</span><span class="sxs-lookup"><span data-stu-id="07405-640">The resulting output is combined with the other URI parts supplied to the link generator and returned.</span></span>

<span data-ttu-id="07405-641"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> tarafından sunulan yöntemler, herhangi bir tür adresin standart bağlantı oluşturma özelliklerini destekler.</span><span class="sxs-lookup"><span data-stu-id="07405-641">The methods provided by <xref:Microsoft.AspNetCore.Routing.LinkGenerator> support standard link generation capabilities for any type of address.</span></span> <span data-ttu-id="07405-642">Bağlantı oluşturucuyu kullanmanın en kolay yolu, belirli bir adres türü için işlem gerçekleştiren genişletme yöntemlerine yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="07405-642">The most convenient way to use the link generator is through extension methods that perform operations for a specific address type.</span></span>

| <span data-ttu-id="07405-643">Genişletme yöntemi</span><span class="sxs-lookup"><span data-stu-id="07405-643">Extension Method</span></span>   | <span data-ttu-id="07405-644">Açıklama</span><span class="sxs-lookup"><span data-stu-id="07405-644">Description</span></span>                                                         |
| ------------------ | ------------------------------------------------------------------- |
| <xref:Microsoft.AspNetCore.Routing.LinkGenerator.GetPathByAddress*> | <span data-ttu-id="07405-645">Belirtilen değerleri temel alarak mutlak bir yola sahip bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-645">Generates a URI with an absolute path based on the provided values.</span></span> |
| <xref:Microsoft.AspNetCore.Routing.LinkGenerator.GetUriByAddress*> | <span data-ttu-id="07405-646">Belirtilen değerleri temel alarak mutlak bir URI oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-646">Generates an absolute URI based on the provided values.</span></span>             |

> [!WARNING]
> <span data-ttu-id="07405-647"><xref:Microsoft.AspNetCore.Routing.LinkGenerator> yöntemlerinin çağrılmasının aşağıdaki etkilerine dikkat edin:</span><span class="sxs-lookup"><span data-stu-id="07405-647">Pay attention to the following implications of calling <xref:Microsoft.AspNetCore.Routing.LinkGenerator> methods:</span></span>
>
> * <span data-ttu-id="07405-648">Gelen isteklerin `Host` üstbilgisini doğrulayan bir uygulama yapılandırmasında `GetUri*` uzantısı yöntemlerini dikkatle kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-648">Use `GetUri*` extension methods with caution in an app configuration that doesn't validate the `Host` header of incoming requests.</span></span> <span data-ttu-id="07405-649">Gelen isteklerin `Host` üstbilgisi doğrulandıktan sonra, güvenilir olmayan istek girişi, bir görünüm/sayfada URI 'Ler halinde istemciye geri gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-649">If the `Host` header of incoming requests isn't validated, untrusted request input can be sent back to the client in URIs in a view/page.</span></span> <span data-ttu-id="07405-650">Tüm üretim uygulamalarının, `Host` üst bilgisini bilinen geçerli değerlere karşı doğrulamak için kendi sunucusunu yapılandırmasını öneririz.</span><span class="sxs-lookup"><span data-stu-id="07405-650">We recommend that all production apps configure their server to validate the `Host` header against known valid values.</span></span>
>
> * <span data-ttu-id="07405-651">`Map` veya `MapWhen`birlikte ara yazılım ile birlikte <xref:Microsoft.AspNetCore.Routing.LinkGenerator> kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-651">Use <xref:Microsoft.AspNetCore.Routing.LinkGenerator> with caution in middleware in combination with `Map` or `MapWhen`.</span></span> <span data-ttu-id="07405-652">`Map*`, yürütülen isteğin temel yolunu değiştirir ve bu da bağlantı oluşturma çıktısını etkiler.</span><span class="sxs-lookup"><span data-stu-id="07405-652">`Map*` changes the base path of the executing request, which affects the output of link generation.</span></span> <span data-ttu-id="07405-653">Tüm <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API 'Leri temel yol belirtmeye izin verir.</span><span class="sxs-lookup"><span data-stu-id="07405-653">All of the <xref:Microsoft.AspNetCore.Routing.LinkGenerator> APIs allow specifying a base path.</span></span> <span data-ttu-id="07405-654">`Map*`bağlantı oluşturmada etkilerini geri almak için her zaman boş bir temel yol belirtin.</span><span class="sxs-lookup"><span data-stu-id="07405-654">Always specify an empty base path to undo `Map*`'s affect on link generation.</span></span>

## <a name="differences-from-earlier-versions-of-routing"></a><span data-ttu-id="07405-655">Yönlendirmenin önceki sürümlerinden farklılıklar</span><span class="sxs-lookup"><span data-stu-id="07405-655">Differences from earlier versions of routing</span></span>

<span data-ttu-id="07405-656">ASP.NET Core 2,2 veya üzeri ve daha önceki yönlendirme sürümlerindeki ASP.NET Core uç nokta yönlendirmesi arasında birkaç fark vardır:</span><span class="sxs-lookup"><span data-stu-id="07405-656">A few differences exist between endpoint routing in ASP.NET Core 2.2 or later and earlier versions of routing in ASP.NET Core:</span></span>

* <span data-ttu-id="07405-657">Uç nokta yönlendirme sistemi, <xref:Microsoft.AspNetCore.Routing.Route>devralma dahil <xref:Microsoft.AspNetCore.Routing.IRouter>tabanlı genişletilebilirliği desteklemez.</span><span class="sxs-lookup"><span data-stu-id="07405-657">The endpoint routing system doesn't support <xref:Microsoft.AspNetCore.Routing.IRouter>-based extensibility, including inheriting from <xref:Microsoft.AspNetCore.Routing.Route>.</span></span>

* <span data-ttu-id="07405-658">Uç nokta yönlendirme [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim)desteklemez.</span><span class="sxs-lookup"><span data-stu-id="07405-658">Endpoint routing doesn't support [WebApiCompatShim](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.WebApiCompatShim).</span></span> <span data-ttu-id="07405-659">Uyumluluk Shim 'yi kullanmaya devam etmek için 2,1 [Uyumluluk sürümünü](xref:mvc/compatibility-version) (`.SetCompatibilityVersion(CompatibilityVersion.Version_2_1)`) kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-659">Use the 2.1 [compatibility version](xref:mvc/compatibility-version) (`.SetCompatibilityVersion(CompatibilityVersion.Version_2_1)`) to continue using the compatibility shim.</span></span>

* <span data-ttu-id="07405-660">Uç nokta yönlendirmesinde, geleneksel yollar kullanılırken oluşturulan URI 'lerin büyük küçük harfleri için farklı davranış vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-660">Endpoint Routing has different behavior for the casing of generated URIs when using conventional routes.</span></span>

  <span data-ttu-id="07405-661">Aşağıdaki varsayılan yol şablonunu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="07405-661">Consider the following default route template:</span></span>

  ```csharp
  app.UseMvc(routes =>
  {
      routes.MapRoute("default", "{controller=Home}/{action=Index}/{id?}");
  });
  ```

  <span data-ttu-id="07405-662">Aşağıdaki rotayı kullanarak bir eyleme bağlantı oluşturduğunuzu varsayalım:</span><span class="sxs-lookup"><span data-stu-id="07405-662">Suppose you generate a link to an action using the following route:</span></span>

  ```csharp
  var link = Url.Action("ReadPost", "blog", new { id = 17, });
  ```

  <span data-ttu-id="07405-663"><xref:Microsoft.AspNetCore.Routing.IRouter>tabanlı yönlendirme ile bu kod, `/blog/ReadPost/17`URI 'sini oluşturur ve bu da, belirtilen yol değerinin büyük küçük harflerini üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-663">With <xref:Microsoft.AspNetCore.Routing.IRouter>-based routing, this code generates a URI of `/blog/ReadPost/17`, which respects the casing of the provided route value.</span></span> <span data-ttu-id="07405-664">ASP.NET Core 2,2 veya sonraki bir sürümde uç nokta yönlendirme `/Blog/ReadPost/17` ("blog" büyük harfli) oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-664">Endpoint routing in ASP.NET Core 2.2 or later produces `/Blog/ReadPost/17` ("Blog" is capitalized).</span></span> <span data-ttu-id="07405-665">Endpoint Routing, bu davranışı küresel olarak özelleştirmek veya URL eşleme için farklı kurallar uygulamak üzere kullanılabilecek `IOutboundParameterTransformer` arabirimini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-665">Endpoint routing provides the `IOutboundParameterTransformer` interface that can be used to customize this behavior globally or to apply different conventions for mapping URLs.</span></span>

  <span data-ttu-id="07405-666">Daha fazla bilgi için bkz. [Parameter transformatör başvurusu](#parameter-transformer-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="07405-666">For more information, see the [Parameter transformer reference](#parameter-transformer-reference) section.</span></span>

* <span data-ttu-id="07405-667">Standart yollarla MVC/Razor Pages tarafından kullanılan bağlantı oluşturma, mevcut olmayan bir denetleyiciye/eyleme veya sayfaya bağlantı kurmaya çalışırken farklı şekilde davranır.</span><span class="sxs-lookup"><span data-stu-id="07405-667">Link Generation used by MVC/Razor Pages with conventional routes behaves differently when attempting to link to an controller/action or page that doesn't exist.</span></span>

  <span data-ttu-id="07405-668">Aşağıdaki varsayılan yol şablonunu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="07405-668">Consider the following default route template:</span></span>

  ```csharp
  app.UseMvc(routes =>
  {
      routes.MapRoute("default", "{controller=Home}/{action=Index}/{id?}");
  });
  ```

  <span data-ttu-id="07405-669">Aşağıdaki ile varsayılan şablonu kullanarak bir eyleme bağlantı oluşturduğunuzu varsayalım:</span><span class="sxs-lookup"><span data-stu-id="07405-669">Suppose you generate a link to an action using the default template with the following:</span></span>

  ```csharp
  var link = Url.Action("ReadPost", "Blog", new { id = 17, });
  ```

  <span data-ttu-id="07405-670">`IRouter`tabanlı yönlendirme sayesinde, `BlogController` var olmasa veya bir `ReadPost` Action yöntemine sahip olmasa bile sonuç daima `/Blog/ReadPost/17`.</span><span class="sxs-lookup"><span data-stu-id="07405-670">With `IRouter`-based routing, the result is always `/Blog/ReadPost/17`, even if the `BlogController` doesn't exist or doesn't have a `ReadPost` action method.</span></span> <span data-ttu-id="07405-671">Beklenen şekilde, işlem yöntemi varsa ASP.NET Core 2,2 veya sonraki bir sürümde uç nokta yönlendirmesi `/Blog/ReadPost/17` üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-671">As expected, endpoint routing in ASP.NET Core 2.2 or later produces `/Blog/ReadPost/17` if the action method exists.</span></span> <span data-ttu-id="07405-672">*Ancak, uç nokta yönlendirme, eylem yoksa boş bir dize oluşturur.*</span><span class="sxs-lookup"><span data-stu-id="07405-672">*However, endpoint routing produces an empty string if the action doesn't exist.*</span></span> <span data-ttu-id="07405-673">Kavramsal olarak, uç nokta yönlendirme, eylem mevcut değilse uç noktanın var olduğunu varsaymaz.</span><span class="sxs-lookup"><span data-stu-id="07405-673">Conceptually, endpoint routing doesn't assume that the endpoint exists if the action doesn't exist.</span></span>

* <span data-ttu-id="07405-674">Bağlantı oluşturma *çevresel değeri ınvalidation algoritması* , uç nokta yönlendirme ile kullanıldığında farklı davranır.</span><span class="sxs-lookup"><span data-stu-id="07405-674">The link generation *ambient value invalidation algorithm* behaves differently when used with endpoint routing.</span></span>

  <span data-ttu-id="07405-675">*Çevresel değer ınvalidation* , şu anda yürütülmekte olan isteğin (çevresel değerler) hangi rota değerlerinin bağlantı oluşturma işlemlerinde kullanılabileceğini belirleyen algoritmadır.</span><span class="sxs-lookup"><span data-stu-id="07405-675">*Ambient value invalidation* is the algorithm that decides which route values from the currently executing request (the ambient values) can be used in link generation operations.</span></span> <span data-ttu-id="07405-676">Geleneksel yönlendirme, farklı bir eyleme bağlanılırken ek yol değerlerini her zaman geçersiz kıldı.</span><span class="sxs-lookup"><span data-stu-id="07405-676">Conventional routing always invalidated extra route values when linking to a different action.</span></span> <span data-ttu-id="07405-677">ASP.NET Core 2,2 sürümünden önce öznitelik yönlendirmesinde bu davranış yoktu.</span><span class="sxs-lookup"><span data-stu-id="07405-677">Attribute routing didn't have this behavior prior to the release of ASP.NET Core 2.2.</span></span> <span data-ttu-id="07405-678">ASP.NET Core 'nin önceki sürümlerinde, aynı yol parametresi adlarını kullanan başka bir eyleme bağlantılar, bağlantı oluşturma hatalarıyla sonuçlandı.</span><span class="sxs-lookup"><span data-stu-id="07405-678">In earlier versions of ASP.NET Core, links to another action that use the same route parameter names resulted in link generation errors.</span></span> <span data-ttu-id="07405-679">ASP.NET Core 2,2 veya sonraki sürümlerde, yönlendirme biçimlerinin her ikisi de başka bir eyleme bağlanırken değerleri geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="07405-679">In ASP.NET Core 2.2 or later, both forms of routing invalidate values when linking to another action.</span></span>

  <span data-ttu-id="07405-680">ASP.NET Core 2,1 veya önceki sürümlerde aşağıdaki örneği göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="07405-680">Consider the following example in ASP.NET Core 2.1 or earlier.</span></span> <span data-ttu-id="07405-681">Başka bir eyleme (veya başka bir sayfaya) bağlanırken, yol değerleri istenmeyen yollarla yeniden kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-681">When linking to another action (or another page), route values can be reused in undesirable ways.</span></span>

  <span data-ttu-id="07405-682">*/Pages/Store/Product.exe*:</span><span class="sxs-lookup"><span data-stu-id="07405-682">In */Pages/Store/Product.cshtml*:</span></span>

  ```cshtml
  @page "{id}"
  @Url.Page("/Login")
  ```

  <span data-ttu-id="07405-683">*/Pages/Login.exe*içinde:</span><span class="sxs-lookup"><span data-stu-id="07405-683">In */Pages/Login.cshtml*:</span></span>

  ```cshtml
  @page "{id?}"
  ```

  <span data-ttu-id="07405-684">URI, ASP.NET Core 2,1 veya önceki sürümlerde `/Store/Product/18`, `@Url.Page("/Login")` tarafından Store/Info sayfasında oluşturulan bağlantı `/Login/18`.</span><span class="sxs-lookup"><span data-stu-id="07405-684">If the URI is `/Store/Product/18` in ASP.NET Core 2.1 or earlier, the link generated on the Store/Info page by `@Url.Page("/Login")` is `/Login/18`.</span></span> <span data-ttu-id="07405-685">18 ' in `id` değeri, bağlantı hedefi uygulamanın tamamen farklı bir parçası olsa bile yeniden kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-685">The `id` value of 18 is reused, even though the link destination is different part of the app entirely.</span></span> <span data-ttu-id="07405-686">`/Login` sayfasının bağlamındaki `id` yol değeri büyük olasılıkla bir depolama ürün KIMLIĞI değeri değil, bir kullanıcı KIMLIĞI değeridir.</span><span class="sxs-lookup"><span data-stu-id="07405-686">The `id` route value in the context of the `/Login` page is probably a user ID value, not a store product ID value.</span></span>

  <span data-ttu-id="07405-687">ASP.NET Core 2,2 veya sonraki bir sürümü ile Endpoint Routing, sonuç `/Login`.</span><span class="sxs-lookup"><span data-stu-id="07405-687">In endpoint routing with ASP.NET Core 2.2 or later, the result is `/Login`.</span></span> <span data-ttu-id="07405-688">Bağlantılı hedef farklı bir eylem veya sayfa olduğunda çevresel değerler yeniden kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="07405-688">Ambient values aren't reused when the linked destination is a different action or page.</span></span>

* <span data-ttu-id="07405-689">Gidiş dönüşü yol parametresi sözdizimi: çift yıldız (`**`) catch-all parametre sözdizimi kullanılırken eğik çizgiler kodlanmaz.</span><span class="sxs-lookup"><span data-stu-id="07405-689">Round-tripping route parameter syntax: Forward slashes aren't encoded when using a double-asterisk (`**`) catch-all parameter syntax.</span></span>

  <span data-ttu-id="07405-690">Bağlantı oluşturma sırasında, yönlendirme sistemi, eğik çizgiler dışında bir çift yıldız (`**`) catch-all parametresinde (örneğin, `{**myparametername}`) yakalanan değeri kodlar.</span><span class="sxs-lookup"><span data-stu-id="07405-690">During link generation, the routing system encodes the value captured in a double-asterisk (`**`) catch-all parameter (for example, `{**myparametername}`) except the forward slashes.</span></span> <span data-ttu-id="07405-691">Çift yıldız yakalama, ASP.NET Core 2,2 veya sonraki sürümlerde `IRouter`tabanlı yönlendirme ile desteklenir.</span><span class="sxs-lookup"><span data-stu-id="07405-691">The double-asterisk catch-all is supported with `IRouter`-based routing in ASP.NET Core 2.2 or later.</span></span>

  <span data-ttu-id="07405-692">ASP.NET Core (`{*myparametername}`) önceki sürümlerindeki tek yıldız catch-all parametre sözdizimi desteklenmeye devam eder ve eğik çizgi kodlandı.</span><span class="sxs-lookup"><span data-stu-id="07405-692">The single asterisk catch-all parameter syntax in prior versions of ASP.NET Core (`{*myparametername}`) remains supported, and forward slashes are encoded.</span></span>

  | <span data-ttu-id="07405-693">Yolu</span><span class="sxs-lookup"><span data-stu-id="07405-693">Route</span></span>              | <span data-ttu-id="07405-694">İle oluşturulan bağlantı</span><span class="sxs-lookup"><span data-stu-id="07405-694">Link generated with</span></span><br>`Url.Action(new { category = "admin/products" })`&hellip; |
  | ------------------ | --------------------------------------------------------------------- |
  | `/search/{*page}`  | <span data-ttu-id="07405-695">`/search/admin%2Fproducts` (eğik çizgi kodlanmış)</span><span class="sxs-lookup"><span data-stu-id="07405-695">`/search/admin%2Fproducts` (the forward slash is encoded)</span></span>             |
  | `/search/{**page}` | `/search/admin/products`                                              |

### <a name="middleware-example"></a><span data-ttu-id="07405-696">Ara yazılım örneği</span><span class="sxs-lookup"><span data-stu-id="07405-696">Middleware example</span></span>

<span data-ttu-id="07405-697">Aşağıdaki örnekte, bir ara yazılım, mağaza ürünlerini listeleyen bir eylem yöntemine bağlantı oluşturmak için <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API 'sini kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-697">In the following example, a middleware uses the <xref:Microsoft.AspNetCore.Routing.LinkGenerator> API to create link to an action method that lists store products.</span></span> <span data-ttu-id="07405-698">Ekleme tarafından bir sınıfa olan ve `GenerateLink` çağıran bağlantı Oluşturucuyu kullanmak, bir uygulamadaki herhangi bir sınıfta kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-698">Using the link generator by injecting it into a class and calling `GenerateLink` is available to any class in an app.</span></span>

```csharp
using Microsoft.AspNetCore.Routing;

public class ProductsLinkMiddleware
{
    private readonly LinkGenerator _linkGenerator;

    public ProductsLinkMiddleware(RequestDelegate next, LinkGenerator linkGenerator)
    {
        _linkGenerator = linkGenerator;
    }

    public async Task InvokeAsync(HttpContext httpContext)
    {
        var url = _linkGenerator.GetPathByAction("ListProducts", "Store");

        httpContext.Response.ContentType = "text/plain";

        await httpContext.Response.WriteAsync($"Go to {url} to see our products.");
    }
}
```

### <a name="create-routes"></a><span data-ttu-id="07405-699">Rotalar oluştur</span><span class="sxs-lookup"><span data-stu-id="07405-699">Create routes</span></span>

<span data-ttu-id="07405-700">Çoğu uygulama, <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>tanımlanan benzer uzantı yöntemlerinden birini veya <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> çağırarak yollar oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-700">Most apps create routes by calling <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> or one of the similar extension methods defined on <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span></span> <span data-ttu-id="07405-701"><xref:Microsoft.AspNetCore.Routing.IRouteBuilder> uzantısı yöntemlerinden herhangi biri bir <xref:Microsoft.AspNetCore.Routing.Route> örneği oluşturur ve bunu yol koleksiyonuna ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-701">Any of the <xref:Microsoft.AspNetCore.Routing.IRouteBuilder> extension methods create an instance of <xref:Microsoft.AspNetCore.Routing.Route> and add it to the route collection.</span></span>

<span data-ttu-id="07405-702"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> yol işleyicisi parametresini kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="07405-702"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> doesn't accept a route handler parameter.</span></span> <span data-ttu-id="07405-703"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*>, yalnızca <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>tarafından işlenen rotaları ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-703"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> only adds routes that are handled by the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span> <span data-ttu-id="07405-704">MVC 'de yönlendirme hakkında daha fazla bilgi için bkz. <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="07405-704">To learn more about routing in MVC, see <xref:mvc/controllers/routing>.</span></span>

<span data-ttu-id="07405-705">Aşağıdaki kod örneği, tipik bir ASP.NET Core MVC yol tanımı tarafından kullanılan <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> çağrısının bir örneğidir:</span><span class="sxs-lookup"><span data-stu-id="07405-705">The following code example is an example of a <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> call used by a typical ASP.NET Core MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="07405-706">Bu şablon bir URL yoluyla eşleşir ve yol değerlerini ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-706">This template matches a URL path and extracts the route values.</span></span> <span data-ttu-id="07405-707">Örneğin, yol `/Products/Details/17` şu yol değerlerini üretir: `{ controller = Products, action = Details, id = 17 }`.</span><span class="sxs-lookup"><span data-stu-id="07405-707">For example, the path `/Products/Details/17` generates the following route values: `{ controller = Products, action = Details, id = 17 }`.</span></span>

<span data-ttu-id="07405-708">Rota değerleri, URL yolunun kesimlere bölünüyor ve rota şablonundaki *yol parametresi* adı ile her bir segmenti eşleştirerek belirlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-708">Route values are determined by splitting the URL path into segments and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="07405-709">Yol parametreleri olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-709">Route parameters are named.</span></span> <span data-ttu-id="07405-710">Küme ayraçları içinde parametre adı eklenerek tanımlanan parametreler `{ ... }`.</span><span class="sxs-lookup"><span data-stu-id="07405-710">The parameters defined by enclosing the parameter name in braces `{ ... }`.</span></span>

<span data-ttu-id="07405-711">Yukarıdaki şablon, URL yolu `/` de eşleştirebilir ve `{ controller = Home, action = Index }`değerler üretecektir.</span><span class="sxs-lookup"><span data-stu-id="07405-711">The preceding template could also match the URL path `/` and produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="07405-712">Bu, `{controller}` ve `{action}` yol parametrelerinin varsayılan değerleri olduğu ve `id` Route parametresinin isteğe bağlı olduğu için oluşur.</span><span class="sxs-lookup"><span data-stu-id="07405-712">This occurs because the `{controller}` and `{action}` route parameters have default values and the `id` route parameter is optional.</span></span> <span data-ttu-id="07405-713">Eşittir işareti (`=`), yol parametresi adı parametre için varsayılan bir değer tanımladıktan sonra bir değer izler.</span><span class="sxs-lookup"><span data-stu-id="07405-713">An equals sign (`=`) followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="07405-714">Yol parametre adından sonra bir soru işareti (`?`) isteğe bağlı bir parametre tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-714">A question mark (`?`) after the route parameter name defines an optional parameter.</span></span>

<span data-ttu-id="07405-715">Yol parametreleri varsayılan değer ile *her zaman* rota değeri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-715">Route parameters with a default value *always* produce a route value when the route matches.</span></span> <span data-ttu-id="07405-716">Karşılık gelen bir URL yol kesimi yoksa isteğe bağlı parametreler yol değeri oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="07405-716">Optional parameters don't produce a route value if there was no corresponding URL path segment.</span></span> <span data-ttu-id="07405-717">Yol şablonu senaryolarının ve sözdiziminin kapsamlı bir açıklaması için [yol şablonu başvurusu](#route-template-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-717">See the [Route template reference](#route-template-reference) section for a thorough description of route template scenarios and syntax.</span></span>

<span data-ttu-id="07405-718">Aşağıdaki örnekte, yol parametresi tanımı `{id:int}` `id` Route parametresi için bir [yol kısıtlaması](#route-constraint-reference) tanımlıyor:</span><span class="sxs-lookup"><span data-stu-id="07405-718">In the following example, the route parameter definition `{id:int}` defines a [route constraint](#route-constraint-reference) for the `id` route parameter:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="07405-719">Bu şablon `/Products/Details/17` gibi bir URL yoluyla eşleşir ancak `/Products/Details/Apples`.</span><span class="sxs-lookup"><span data-stu-id="07405-719">This template matches a URL path like `/Products/Details/17` but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="07405-720">Yol kısıtlamaları <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> uygular ve yol değerlerini inceleyerek onları doğrular.</span><span class="sxs-lookup"><span data-stu-id="07405-720">Route constraints implement <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> and inspect route values to verify them.</span></span> <span data-ttu-id="07405-721">Bu örnekte, yol değeri `id` bir tamsayıya dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-721">In this example, the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="07405-722">Framework tarafından sunulan yol kısıtlamalarının açıklaması için bkz. [route-Constraint-Reference](#route-constraint-reference) .</span><span class="sxs-lookup"><span data-stu-id="07405-722">See [route-constraint-reference](#route-constraint-reference) for an explanation of route constraints provided by the framework.</span></span>

<span data-ttu-id="07405-723"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> ek aşırı yüklemeleri `constraints`, `dataTokens`ve `defaults`için değer kabul eder.</span><span class="sxs-lookup"><span data-stu-id="07405-723">Additional overloads of <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="07405-724">Bu parametrelerin tipik kullanımı, anonim türdeki özellik adlarının yol parametre adlarıyla eşleşen anonim olarak yazılmış bir nesneyi geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="07405-724">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="07405-725">Aşağıdaki <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> örnekleri eşdeğer yollar oluşturur:</span><span class="sxs-lookup"><span data-stu-id="07405-725">The following <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

> [!TIP]
> <span data-ttu-id="07405-726">Kısıtlamaları ve Varsayılanları tanımlamaya yönelik satır içi sözdizimi basit yollar için kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-726">The inline syntax for defining constraints and defaults can be convenient for simple routes.</span></span> <span data-ttu-id="07405-727">Ancak, satır içi sözdizimi tarafından desteklenmeyen veri belirteçleri gibi senaryolar vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-727">However, there are scenarios, such as data tokens, that aren't supported by inline syntax.</span></span>

<span data-ttu-id="07405-728">Aşağıdaki örnek birkaç ek senaryoyu göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="07405-728">The following example demonstrates a few additional scenarios:</span></span>

```csharp
routes.MapRoute(
    name: "blog",
    template: "Blog/{**article}",
    defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="07405-729">Önceki şablon `/Blog/All-About-Routing/Introduction` gibi bir URL yoluyla eşleşir ve `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`değerleri ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-729">The preceding template matches a URL path like `/Blog/All-About-Routing/Introduction` and extracts the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="07405-730">`controller` ve `action` için varsayılan yol değerleri, şablonda karşılık gelen hiçbir yol parametresi olmasa bile yol tarafından üretilir.</span><span class="sxs-lookup"><span data-stu-id="07405-730">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="07405-731">Varsayılan değerler yol şablonunda belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-731">Default values can be specified in the route template.</span></span> <span data-ttu-id="07405-732">`article` Route parametresi, yol parametre adından önce bir çift yıldız işareti (`**`) görünümüne göre *catch-all* olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-732">The `article` route parameter is defined as a *catch-all* by the appearance of an double asterisk (`**`) before the route parameter name.</span></span> <span data-ttu-id="07405-733">Catch-all yol parametreleri, URL yolunun kalanını yakalar ve boş dizeyle de aynı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-733">Catch-all route parameters capture the remainder of the URL path and can also match the empty string.</span></span>

<span data-ttu-id="07405-734">Aşağıdaki örnek yol kısıtlamalarını ve veri belirteçlerini ekler:</span><span class="sxs-lookup"><span data-stu-id="07405-734">The following example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="07405-735">Önceki şablon `/en-US/Products/5` gibi bir URL yoluyla eşleşir ve `{ controller = Products, action = Details, id = 5 }` ve veri belirteçleri `{ locale = en-US }`değerleri ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-735">The preceding template matches a URL path like `/en-US/Products/5` and extracts the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![Yereller Windows belirteçleri](routing/_static/tokens.png)

### <a name="route-class-url-generation"></a><span data-ttu-id="07405-737">Yol sınıfı URL 'SI oluşturma</span><span class="sxs-lookup"><span data-stu-id="07405-737">Route class URL generation</span></span>

<span data-ttu-id="07405-738"><xref:Microsoft.AspNetCore.Routing.Route> sınıfı, yol değerlerini bir kümesini rota şablonuyla birleştirerek URL oluşturmayı da gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-738">The <xref:Microsoft.AspNetCore.Routing.Route> class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="07405-739">Bu, URL yolunu eşleştirmenin mantıksal bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-739">This is logically the reverse process of matching the URL path.</span></span>

> [!TIP]
> <span data-ttu-id="07405-740">URL oluşturmayı daha iyi anlamak için, oluşturmak istediğiniz URL 'YI düşünün ve sonra bir yönlendirme şablonunun bu URL ile nasıl eşleşeceğini düşünün.</span><span class="sxs-lookup"><span data-stu-id="07405-740">To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="07405-741">Hangi değerler üretilemidir?</span><span class="sxs-lookup"><span data-stu-id="07405-741">What values would be produced?</span></span> <span data-ttu-id="07405-742">Bu, URL oluşturma 'nın <xref:Microsoft.AspNetCore.Routing.Route> sınıfında nasıl çalıştığına ilişkin kaba bir eştir.</span><span class="sxs-lookup"><span data-stu-id="07405-742">This is the rough equivalent of how URL generation works in the <xref:Microsoft.AspNetCore.Routing.Route> class.</span></span>

<span data-ttu-id="07405-743">Aşağıdaki örnek genel ASP.NET Core MVC varsayılan yolunu kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-743">The following example uses a general ASP.NET Core MVC default route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="07405-744">Yol değerleri `{ controller = Products, action = List }`, `/Products/List` URL 'SI oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-744">With the route values `{ controller = Products, action = List }`, the URL `/Products/List` is generated.</span></span> <span data-ttu-id="07405-745">Yol değerleri, URL yolunu biçimlendirmek için karşılık gelen yol parametrelerinin yerine kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-745">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="07405-746">`id`, isteğe bağlı bir yol parametresi olduğundan, `id`için bir değer olmadan URL başarıyla oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-746">Since `id` is an optional route parameter, the URL is successfully generated without a value for `id`.</span></span>

<span data-ttu-id="07405-747">Yol değerleri `{ controller = Home, action = Index }`, `/` URL 'SI oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-747">With the route values `{ controller = Home, action = Index }`, the URL `/` is generated.</span></span> <span data-ttu-id="07405-748">Belirtilen yol değerleri varsayılan değerlerle eşleşir ve varsayılan değerlere karşılık gelen segmentler güvenle atlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-748">The provided route values match the default values, and the segments corresponding to the default values are safely omitted.</span></span>

<span data-ttu-id="07405-749">Her iki URL de aşağıdaki yol tanımıyla (`/Home/Index` ve `/`) bir gidiş dönüş, URL oluşturmak için kullanılan rota değerlerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-749">Both URLs generated round-trip with the following route definition (`/Home/Index` and `/`) produce the same route values that were used to generate the URL.</span></span>

> [!NOTE]
> <span data-ttu-id="07405-750">ASP.NET Core MVC kullanan bir uygulama doğrudan yönlendirmeye çağırmak yerine URL oluşturmak için <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-750">An app using ASP.NET Core MVC should use <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="07405-751">URL oluşturma hakkında daha fazla bilgi için [URL oluşturma başvurusu](#url-generation-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-751">For more information on URL generation, see the [Url generation reference](#url-generation-reference) section.</span></span>

## <a name="use-routing-middleware"></a><span data-ttu-id="07405-752">Yönlendirme ara yazılımı kullanma</span><span class="sxs-lookup"><span data-stu-id="07405-752">Use Routing Middleware</span></span>

<span data-ttu-id="07405-753">Uygulamanın proje dosyasındaki [Microsoft. AspNetCore. app metapackage](xref:fundamentals/metapackage-app) öğesine başvurun.</span><span class="sxs-lookup"><span data-stu-id="07405-753">Reference the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) in the app's project file.</span></span>

<span data-ttu-id="07405-754">`Startup.ConfigureServices`' de hizmet kapsayıcısına yönlendirme ekleyin:</span><span class="sxs-lookup"><span data-stu-id="07405-754">Add routing to the service container in `Startup.ConfigureServices`:</span></span>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

<span data-ttu-id="07405-755">Yolların `Startup.Configure` yönteminde yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-755">Routes must be configured in the `Startup.Configure` method.</span></span> <span data-ttu-id="07405-756">Örnek uygulama aşağıdaki API 'Leri kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-756">The sample app uses the following APIs:</span></span>

* <xref:Microsoft.AspNetCore.Routing.RouteBuilder>
* <span data-ttu-id="07405-757"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; yalnızca HTTP GET istekleriyle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-757"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; Matches only HTTP GET requests.</span></span>
* <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

<span data-ttu-id="07405-758">Aşağıdaki tabloda verilen URI 'Ler ile ilgili yanıtlar gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-758">The following table shows the responses with the given URIs.</span></span>

| <span data-ttu-id="07405-759">URI</span><span class="sxs-lookup"><span data-stu-id="07405-759">URI</span></span>                    | <span data-ttu-id="07405-760">Yanıtıyla</span><span class="sxs-lookup"><span data-stu-id="07405-760">Response</span></span>                                          |
| ---------------------- | ------------------------------------------------- |
| `/package/create/3`    | <span data-ttu-id="07405-761">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-761">Hello!</span></span> <span data-ttu-id="07405-762">Rota değerleri: [işlem, oluşturma], [kimlik, 3]</span><span class="sxs-lookup"><span data-stu-id="07405-762">Route values: [operation, create], [id, 3]</span></span> |
| `/package/track/-3`    | <span data-ttu-id="07405-763">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-763">Hello!</span></span> <span data-ttu-id="07405-764">Rota değerleri: [işlem, izleme], [kimlik,-3]</span><span class="sxs-lookup"><span data-stu-id="07405-764">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/-3/`   | <span data-ttu-id="07405-765">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-765">Hello!</span></span> <span data-ttu-id="07405-766">Rota değerleri: [işlem, izleme], [kimlik,-3]</span><span class="sxs-lookup"><span data-stu-id="07405-766">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/`      | <span data-ttu-id="07405-767">İstek, eşleşme olmadan üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-767">The request falls through, no match.</span></span>              |
| `GET /hello/Joe`       | <span data-ttu-id="07405-768">Merhaba, ali!</span><span class="sxs-lookup"><span data-stu-id="07405-768">Hi, Joe!</span></span>                                          |
| `POST /hello/Joe`      | <span data-ttu-id="07405-769">İstek üzerinden geçer, yalnızca HTTP GET ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-769">The request falls through, matches HTTP GET only.</span></span> |
| `GET /hello/Joe/Smith` | <span data-ttu-id="07405-770">İstek, eşleşme olmadan üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-770">The request falls through, no match.</span></span>              |

<span data-ttu-id="07405-771">Çerçeve, yollar oluşturmak için bir genişletme yöntemleri kümesi sağlar (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span><span class="sxs-lookup"><span data-stu-id="07405-771">The framework provides a set of extension methods for creating routes (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span></span>

* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareVerb*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>

<span data-ttu-id="07405-772">`Map[Verb]` yöntemleri, yöntem adındaki HTTP fiili ile rotayı sınırlandırmak için kısıtlamaları kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-772">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="07405-773">Örneğin, bkz. <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> ve <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span><span class="sxs-lookup"><span data-stu-id="07405-773">For example, see <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> and <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="07405-774">Rota şablonu başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-774">Route template reference</span></span>

<span data-ttu-id="07405-775">Küme ayraçları içindeki belirteçler (`{ ... }`), yol eşleştirildiği takdirde bağlanan *Rota parametrelerini* tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-775">Tokens within curly braces (`{ ... }`) define *route parameters* that are bound if the route is matched.</span></span> <span data-ttu-id="07405-776">Bir yol segmentinde birden fazla yol parametresi tanımlayabilirsiniz, ancak bunların bir değişmez değer ile ayrılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-776">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="07405-777">Örneğin, `{controller}` ve `{action}`arasında değişmez değer olmadığından `{controller=Home}{action=Index}` geçerli bir yol değil.</span><span class="sxs-lookup"><span data-stu-id="07405-777">For example, `{controller=Home}{action=Index}` isn't a valid route, since there's no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="07405-778">Bu rota parametrelerinin bir adı olmalı ve ek öznitelikler belirtilmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-778">These route parameters must have a name and may have additional attributes specified.</span></span>

<span data-ttu-id="07405-779">Yol parametreleri dışında (örneğin, `{id}`) ve yol ayırıcı `/` URL içindeki metinle eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-779">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="07405-780">Metin eşleştirme, büyük/küçük harfe duyarsızdır ve URL yolunun kodu çözülmüş gösterimine göre yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-780">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="07405-781">Değişmez değer yol parametresi sınırlayıcısından (`{` veya `}`) eşleştirmek için, karakteri (`{{` veya `}}`) tekrarlayarak sınırlayıcıdan kaçış.</span><span class="sxs-lookup"><span data-stu-id="07405-781">To match a literal route parameter delimiter (`{` or `}`), escape the delimiter by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="07405-782">İsteğe bağlı bir dosya uzantısına sahip bir dosya adı yakalamaya deneyen URL desenlerinin ek konuları vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-782">URL patterns that attempt to capture a file name with an optional file extension have additional considerations.</span></span> <span data-ttu-id="07405-783">Örneğin, `files/{filename}.{ext?}`şablonu düşünün.</span><span class="sxs-lookup"><span data-stu-id="07405-783">For example, consider the template `files/{filename}.{ext?}`.</span></span> <span data-ttu-id="07405-784">`filename` ve `ext` değerlerinin her ikisi de varsa, her iki değer de doldurulur.</span><span class="sxs-lookup"><span data-stu-id="07405-784">When values for both `filename` and `ext` exist, both values are populated.</span></span> <span data-ttu-id="07405-785">URL 'de yalnızca `filename` için bir değer varsa, bitiş dönemi (`.`) isteğe bağlı olduğundan yol eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-785">If only a value for `filename` exists in the URL, the route matches because the trailing period (`.`) is  optional.</span></span> <span data-ttu-id="07405-786">Aşağıdaki URL 'Ler bu rota ile eşleşiyor:</span><span class="sxs-lookup"><span data-stu-id="07405-786">The following URLs match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile`

<span data-ttu-id="07405-787">URI 'nin geri kalanına bağlamak için bir yol parametresinin öneki olarak bir yıldız işareti (`*`) veya çift yıldız işareti (`**`) kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07405-787">You can use an asterisk (`*`) or double asterisk (`**`) as a prefix to a route parameter to bind to the rest of the URI.</span></span> <span data-ttu-id="07405-788">Bunlara *catch-all* parametreleri denir.</span><span class="sxs-lookup"><span data-stu-id="07405-788">These are called a *catch-all* parameters.</span></span> <span data-ttu-id="07405-789">Örneğin, `blog/{**slug}` `/blog` ile başlayan ve ondan sonraki bir değere sahip olan `slug` yol değerine atanan tüm URI ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-789">For example, `blog/{**slug}` matches any URI that starts with `/blog` and has any value following it, which is assigned to the `slug` route value.</span></span> <span data-ttu-id="07405-790">Catch-all parametreleri boş dizeyle de aynı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-790">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="07405-791">Yol ayırıcısı (`/`) karakterleri de dahil olmak üzere bir URL oluşturmak için bir yol kullanıldığında, catch-all parametresi uygun karakterleri çıkar.</span><span class="sxs-lookup"><span data-stu-id="07405-791">The catch-all parameter escapes the appropriate characters when the route is used to generate a URL, including path separator (`/`) characters.</span></span> <span data-ttu-id="07405-792">Örneğin yol `foo/{*path}` rota değerleriyle `{ path = "my/path" }` `foo/my%2Fpath`üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-792">For example, the route `foo/{*path}` with route values `{ path = "my/path" }` generates `foo/my%2Fpath`.</span></span> <span data-ttu-id="07405-793">Atlanan eğik çizgiye göz önünde edin.</span><span class="sxs-lookup"><span data-stu-id="07405-793">Note the escaped forward slash.</span></span> <span data-ttu-id="07405-794">Yol ayırıcı karakterlerini geri döndürmek için `**` Route parametresi önekini kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-794">To round-trip path separator characters, use the `**` route parameter prefix.</span></span> <span data-ttu-id="07405-795">`{ path = "my/path" }` ile yol `foo/{**path}` `foo/my/path`üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-795">The route `foo/{**path}` with `{ path = "my/path" }` generates `foo/my/path`.</span></span>

<span data-ttu-id="07405-796">Yol parametrelerinin, parametre adından sonra varsayılan değer belirtilerek bir eşittir işareti (`=`) ile ayrıldıktan sonra belirlenen *varsayılan değerleri* olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-796">Route parameters may have *default values* designated by specifying the default value after the parameter name separated by an equals sign (`=`).</span></span> <span data-ttu-id="07405-797">Örneğin, `Home` `controller`için varsayılan değer olarak `{controller=Home}` tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-797">For example, `{controller=Home}` defines `Home` as the default value for `controller`.</span></span> <span data-ttu-id="07405-798">Parametresi için URL 'de hiçbir değer yoksa varsayılan değer kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-798">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="07405-799">Yol parametreleri, `id?`gibi parametre adının sonuna bir soru işareti (`?`) eklenerek isteğe bağlı olarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-799">Route parameters are made optional by appending a question mark (`?`) to the end of the parameter name, as in `id?`.</span></span> <span data-ttu-id="07405-800">İsteğe bağlı değerler ve varsayılan yol parametreleri arasındaki fark, varsayılan değere sahip bir yol parametresinin her zaman bir değer ürettiğinden&mdash;isteğe bağlı bir parametre yalnızca istek URL 'SI tarafından bir değer sağlandığında bir değere sahip olur.</span><span class="sxs-lookup"><span data-stu-id="07405-800">The difference between optional values and default route parameters is that a route parameter with a default value always produces a value&mdash;an optional parameter has a value only when a value is provided by the request URL.</span></span>

<span data-ttu-id="07405-801">Rota parametrelerinin URL 'den bağlanan rota değeriyle eşleşmesi gereken kısıtlamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-801">Route parameters may have constraints that must match the route value bound from the URL.</span></span> <span data-ttu-id="07405-802">Yol parametre adından sonra bir iki nokta üst üste (`:`) ve kısıtlama adının eklenmesi, bir yol parametresi üzerinde bir *satır içi kısıtlamayı* belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-802">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="07405-803">Kısıtlama bağımsız değişkenler gerektiriyorsa, kısıtlama adından sonra parantez (`(...)`) içine alınır.</span><span class="sxs-lookup"><span data-stu-id="07405-803">If the constraint requires arguments, they're enclosed in parentheses (`(...)`) after the constraint name.</span></span> <span data-ttu-id="07405-804">Birden çok satır içi kısıtlama, başka bir iki nokta (`:`) ve kısıtlama adı eklenerek belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-804">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span>

<span data-ttu-id="07405-805">Kısıtlama adı ve bağımsız değişkenler, URL işlemede kullanılacak bir <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> örneği oluşturmak için <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> hizmetine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="07405-805">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="07405-806">Örneğin, yol şablonu `blog/{article:minlength(10)}`, `10`bağımsız değişkeniyle bir `minlength` kısıtlaması belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-806">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="07405-807">Yol kısıtlamaları ve Framework tarafından sunulan kısıtlamaların bir listesi hakkında daha fazla bilgi için, [route kısıtlama başvurusu](#route-constraint-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-807">For more information on route constraints and a list of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

<span data-ttu-id="07405-808">Yol parametrelerinde Ayrıca, bağlantı oluştururken ve URL 'Ler ile eşleşen eylemler ve sayfalar için bir parametrenin değerini dönüştüren parametre dönüştürücüler bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-808">Route parameters may also have parameter transformers, which transform a parameter's value when generating links and matching actions and pages to URLs.</span></span> <span data-ttu-id="07405-809">LIKE kısıtlamaları, yol parametre adından sonra iki nokta üst üste (`:`) ve transformatör adı eklenerek, parametre dönüştürücüleri bir rota parametresine eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-809">Like constraints, parameter transformers can be added inline to a route parameter by adding a colon (`:`) and transformer name after the route parameter name.</span></span> <span data-ttu-id="07405-810">Örneğin, yol şablonu `blog/{article:slugify}` bir `slugify` transformatörü belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-810">For example, the route template `blog/{article:slugify}` specifies a `slugify` transformer.</span></span> <span data-ttu-id="07405-811">Parametre dönüştürücüler hakkında daha fazla bilgi için bkz. [Parameter transformatör başvurusu](#parameter-transformer-reference) bölümü.</span><span class="sxs-lookup"><span data-stu-id="07405-811">For more information on parameter transformers, see the [Parameter transformer reference](#parameter-transformer-reference) section.</span></span>

<span data-ttu-id="07405-812">Aşağıdaki tabloda örnek yol şablonları ve bunların davranışları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-812">The following table demonstrates example route templates and their behavior.</span></span>

| <span data-ttu-id="07405-813">Rota şablonu</span><span class="sxs-lookup"><span data-stu-id="07405-813">Route Template</span></span>                           | <span data-ttu-id="07405-814">Örnek eşleşen URI</span><span class="sxs-lookup"><span data-stu-id="07405-814">Example Matching URI</span></span>    | <span data-ttu-id="07405-815">İstek URI 'SI&hellip;</span><span class="sxs-lookup"><span data-stu-id="07405-815">The request URI&hellip;</span></span>                                                    |
| ---------------------------------------- | ----------------------- | -------------------------------------------------------------------------- |
| `hello`                                  | `/hello`                | <span data-ttu-id="07405-816">Yalnızca `/hello`tek yol ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-816">Only matches the single path `/hello`.</span></span>                                     |
| `{Page=Home}`                            | `/`                     | <span data-ttu-id="07405-817">`Home``Page` eşleşir ve ayarlar.</span><span class="sxs-lookup"><span data-stu-id="07405-817">Matches and sets `Page` to `Home`.</span></span>                                         |
| `{Page=Home}`                            | `/Contact`              | <span data-ttu-id="07405-818">`Contact``Page` eşleşir ve ayarlar.</span><span class="sxs-lookup"><span data-stu-id="07405-818">Matches and sets `Page` to `Contact`.</span></span>                                      |
| `{controller}/{action}/{id?}`            | `/Products/List`        | <span data-ttu-id="07405-819">`Products` denetleyicisi ve `List` eylemiyle eşlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-819">Maps to the `Products` controller and `List` action.</span></span>                       |
| `{controller}/{action}/{id?}`            | `/Products/Details/123` | <span data-ttu-id="07405-820">`Products` denetleyicisi ve `Details` eylemine eşlenir (`id` 123 olarak ayarlanır).</span><span class="sxs-lookup"><span data-stu-id="07405-820">Maps to the `Products` controller and  `Details` action (`id` set to 123).</span></span> |
| `{controller=Home}/{action=Index}/{id?}` | `/`                     | <span data-ttu-id="07405-821">`Home` denetleyicisi ve `Index` yöntemiyle eşlenir (`id` yok sayılır).</span><span class="sxs-lookup"><span data-stu-id="07405-821">Maps to the `Home` controller and `Index` method (`id` is ignored).</span></span>        |

<span data-ttu-id="07405-822">Bir şablon kullanmak genellikle yönlendirmeye en basit yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="07405-822">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="07405-823">Kısıtlamalar ve varsayılanlar, yol şablonu dışında da belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-823">Constraints and defaults can also be specified outside the route template.</span></span>

> [!TIP]
> <span data-ttu-id="07405-824"><xref:Microsoft.AspNetCore.Routing.Route>, istekleri eşleştirme gibi yerleşik yönlendirme uygulamalarının nasıl yapıldığını görmek için [günlük kaydını](xref:fundamentals/logging/index) etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="07405-824">Enable [Logging](xref:fundamentals/logging/index) to see how the built-in routing implementations, such as <xref:Microsoft.AspNetCore.Routing.Route>, match requests.</span></span>

## <a name="reserved-routing-names"></a><span data-ttu-id="07405-825">Ayrılmış yönlendirme adları</span><span class="sxs-lookup"><span data-stu-id="07405-825">Reserved routing names</span></span>

<span data-ttu-id="07405-826">Aşağıdaki anahtar sözcükler ayrılmış isimlerdir ve yol adları veya parametreler olarak kullanılamaz:</span><span class="sxs-lookup"><span data-stu-id="07405-826">The following keywords are reserved names and can't be used as route names or parameters:</span></span>

* `action`
* `area`
* `controller`
* `handler`
* `page`

## <a name="route-constraint-reference"></a><span data-ttu-id="07405-827">Yol kısıtlama başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-827">Route constraint reference</span></span>

<span data-ttu-id="07405-828">Yol kısıtlamaları, gelen URL 'de bir eşleşme meydana geldiğinde ve URL yolu yol değerlerinde simgeleştirilir yürütülür.</span><span class="sxs-lookup"><span data-stu-id="07405-828">Route constraints execute when a match has occurred to the incoming URL and the URL path is tokenized into route values.</span></span> <span data-ttu-id="07405-829">Rota kısıtlamaları genellikle yol şablonu aracılığıyla ilişkili rota değerini inceler ve değerin kabul edilebilir olup olmadığı konusunda bir Evet/Hayır kararı getirir.</span><span class="sxs-lookup"><span data-stu-id="07405-829">Route constraints generally inspect the route value associated via the route template and make a yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="07405-830">Bazı rota kısıtlamaları, isteğin yönlendirilip yönlendirilmeyeceğini göz önünde bulundurmanız için yol değeri dışındaki verileri kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-830">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="07405-831">Örneğin <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint>, HTTP fiiline bağlı olarak bir isteği kabul edebilir veya reddedebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-831">For example, the <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> can accept or reject a request based on its HTTP verb.</span></span> <span data-ttu-id="07405-832">Kısıtlamalar, yönlendirme isteklerinde ve bağlantı oluşturmada kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-832">Constraints are used in routing requests and link generation.</span></span>

> [!WARNING]
> <span data-ttu-id="07405-833">**Giriş doğrulaması**için kısıtlamaları kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="07405-833">Don't use constraints for **input validation**.</span></span> <span data-ttu-id="07405-834">**Giriş doğrulaması**için kısıtlamalar kullanılıyorsa, doğru bir hata iletisine sahip *400-Bad isteği* yerine *404-* olmayan bir Yanıt ile geçersiz giriş oluşur.</span><span class="sxs-lookup"><span data-stu-id="07405-834">If constraints are used for **input validation**, invalid input results in a *404 - Not Found* response instead of a *400 - Bad Request* with an appropriate error message.</span></span> <span data-ttu-id="07405-835">Yol kısıtlamaları, belirli bir rota için girdileri doğrulamak üzere değil, benzer yolların **belirsizliğini ortadan** kaldırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-835">Route constraints are used to **disambiguate** similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="07405-836">Aşağıdaki tabloda örnek yol kısıtlamaları ve bunların beklenen davranışları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-836">The following table demonstrates example route constraints and their expected behavior.</span></span>

| <span data-ttu-id="07405-837">kısıtlama</span><span class="sxs-lookup"><span data-stu-id="07405-837">constraint</span></span> | <span data-ttu-id="07405-838">Örnek</span><span class="sxs-lookup"><span data-stu-id="07405-838">Example</span></span> | <span data-ttu-id="07405-839">Örnek eşleşmeler</span><span class="sxs-lookup"><span data-stu-id="07405-839">Example Matches</span></span> | <span data-ttu-id="07405-840">Notlar</span><span class="sxs-lookup"><span data-stu-id="07405-840">Notes</span></span> |
| ---------- | ------- | --------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="07405-841">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="07405-841">`123456789`, `-123456789`</span></span> | <span data-ttu-id="07405-842">Herhangi bir tamsayıyla eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-842">Matches any integer</span></span> |
| `bool` | `{active:bool}` | <span data-ttu-id="07405-843">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="07405-843">`true`, `FALSE`</span></span> | <span data-ttu-id="07405-844">`true` veya `false` eşleşir (büyük/küçük harfe duyarsız)</span><span class="sxs-lookup"><span data-stu-id="07405-844">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="07405-845">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="07405-845">`2016-12-31`, `2016-12-31 7:32pm`</span></span> | <span data-ttu-id="07405-846">Geçerli bir `DateTime` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-846">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="07405-847">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="07405-847">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="07405-848">Geçerli bir `decimal` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-848">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double` | `{weight:double}` | <span data-ttu-id="07405-849">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="07405-849">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="07405-850">Geçerli bir `double` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-850">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float` | `{weight:float}` | <span data-ttu-id="07405-851">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="07405-851">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="07405-852">Geçerli bir `float` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-852">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid` | `{id:guid}` | <span data-ttu-id="07405-853">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="07405-853">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="07405-854">Geçerli bir `Guid` değeriyle eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-854">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="07405-855">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="07405-855">`123456789`, `-123456789`</span></span> | <span data-ttu-id="07405-856">Geçerli bir `long` değeriyle eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-856">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="07405-857">Dize en az 4 karakter olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-857">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="07405-858">Dize 8 karakterden uzun olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-858">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="07405-859">Dize tam olarak 12 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-859">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="07405-860">Dize en az 8 ve en fazla 16 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-860">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="07405-861">Tamsayı değeri en az 18 olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-861">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` | `91` | <span data-ttu-id="07405-862">Tamsayı değeri 120 ' ten fazla olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-862">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="07405-863">Tamsayı değeri en az 18 olmalı ancak 120 ' ten fazla olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-863">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="07405-864">Dize bir veya daha fazla alfabetik karakterden oluşmalıdır (`a`-`z`, büyük/küçük harfe duyarsız)</span><span class="sxs-lookup"><span data-stu-id="07405-864">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="07405-865">Dize, normal ifadeyle eşleşmelidir (normal ifade tanımlama hakkında ipuçlarına bakın)</span><span class="sxs-lookup"><span data-stu-id="07405-865">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required` | `{name:required}` | `Rick` | <span data-ttu-id="07405-866">URL oluşturma sırasında parametre olmayan bir değerin mevcut olduğunu zorlamak için kullanılır</span><span class="sxs-lookup"><span data-stu-id="07405-866">Used to enforce that a non-parameter value is present during URL generation</span></span> |

<span data-ttu-id="07405-867">Birden çok, iki nokta üst üste sınırlı kısıtlama tek bir parametreye uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-867">Multiple, colon-delimited constraints can be applied to a single parameter.</span></span> <span data-ttu-id="07405-868">Örneğin, aşağıdaki kısıtlama bir parametreyi 1 veya daha büyük bir tamsayı değeriyle kısıtlar:</span><span class="sxs-lookup"><span data-stu-id="07405-868">For example, the following constraint restricts a parameter to an integer value of 1 or greater:</span></span>

```csharp
[Route("users/{id:int:min(1)}")]
public User GetUserById(int id) { }
```

> [!WARNING]
> <span data-ttu-id="07405-869">URL 'YI doğrulayan ve bir CLR türüne (`int` veya `DateTime`) dönüştürülen yol kısıtlamaları her zaman sabit kültürü kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-869">Route constraints that verify the URL and are converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture.</span></span> <span data-ttu-id="07405-870">Bu kısıtlamalar, URL 'nin yerelleştirilemeyen olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="07405-870">These constraints assume that the URL is non-localizable.</span></span> <span data-ttu-id="07405-871">Framework tarafından sunulan yol kısıtlamaları, yol değerlerinde depolanan değerleri değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="07405-871">The framework-provided route constraints don't modify the values stored in route values.</span></span> <span data-ttu-id="07405-872">URL 'den Ayrıştırılan tüm rota değerleri dizeler olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="07405-872">All route values parsed from the URL are stored as strings.</span></span> <span data-ttu-id="07405-873">Örneğin, `float` kısıtlaması yol değerini bir float öğesine dönüştürmeye çalışır, ancak dönüştürülen değer yalnızca bir float öğesine dönüştürülebileceğini doğrulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-873">For example, the `float` constraint attempts to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="07405-874">Normal ifadeler</span><span class="sxs-lookup"><span data-stu-id="07405-874">Regular expressions</span></span>

<span data-ttu-id="07405-875">ASP.NET Core Framework, normal ifade oluşturucusuna `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-875">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="07405-876">Bu üyelerin açıklaması için bkz. <xref:System.Text.RegularExpressions.RegexOptions>.</span><span class="sxs-lookup"><span data-stu-id="07405-876">See <xref:System.Text.RegularExpressions.RegexOptions> for a description of these members.</span></span>

<span data-ttu-id="07405-877">Normal ifadeler, C# yönlendirme ve dil tarafından kullanılanlarla aynı sınırlayıcıları ve belirteçleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-877">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="07405-878">Normal ifade belirteçlerinin atlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-878">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="07405-879">`^\d{3}-\d{2}-\d{4}$` normal ifade ' i yönlendirmede kullanmak için, ifadede, C# kaynak `\` dosyadaki `\\` (çift ters eğik çizgi) karakter olarak belirtilen `\` (tek ters eğik çizgi) karakterlere sahip olması gerekir. karakter (tam [dize sabit değerleri](/dotnet/csharp/language-reference/keywords/string)kullanmadıkça).</span><span class="sxs-lookup"><span data-stu-id="07405-879">To use the regular expression `^\d{3}-\d{2}-\d{4}$` in routing, the expression must have the `\` (single backslash) characters provided in the string as `\\` (double backslash) characters in the C# source file in order to escape the `\` string escape character (unless using [verbatim string literals](/dotnet/csharp/language-reference/keywords/string)).</span></span> <span data-ttu-id="07405-880">Yönlendirme parametresi sınırlayıcı karakterlerini (`{`, `}`, `[`, `]`) atlamak için, ifadedeki karakterleri çift (`{{`, `}`, `[[`, `]]`).</span><span class="sxs-lookup"><span data-stu-id="07405-880">To escape routing parameter delimiter characters (`{`, `}`, `[`, `]`), double the characters in the expression (`{{`, `}`, `[[`, `]]`).</span></span> <span data-ttu-id="07405-881">Aşağıdaki tabloda, bir normal ifade ve kaçan sürümü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-881">The following table shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="07405-882">Normal ifade</span><span class="sxs-lookup"><span data-stu-id="07405-882">Regular Expression</span></span>    | <span data-ttu-id="07405-883">Kaçan normal Ifade</span><span class="sxs-lookup"><span data-stu-id="07405-883">Escaped Regular Expression</span></span>     |
| --------------------- | ------------------------------ |
| `^\d{3}-\d{2}-\d{4}$` | `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` |
| `^[a-z]{2}$`          | `^[[a-z]]{{2}}$`               |

<span data-ttu-id="07405-884">Yönlendirmelerde kullanılan normal ifadeler, genellikle şapka işareti (`^`) karakteriyle başlar ve dizenin başlangıç konumuyla eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-884">Regular expressions used in routing often start with the caret (`^`) character and match starting position of the string.</span></span> <span data-ttu-id="07405-885">İfadeler genellikle dolar işareti (`$`) karakteriyle biter ve dizenin sonuyla eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-885">The expressions often end with the dollar sign (`$`) character and match end of the string.</span></span> <span data-ttu-id="07405-886">`^` ve `$` karakterler, normal ifadenin tüm yol parametresi değeri ile eşleştiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="07405-886">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="07405-887">`^` ve `$` karakterleri olmadan normal ifade, dize içindeki herhangi bir alt dizeden eşleşir ve bu genellikle istenmeyen bir ifadedir.</span><span class="sxs-lookup"><span data-stu-id="07405-887">Without the `^` and `$` characters, the regular expression match any substring within the string, which is often undesirable.</span></span> <span data-ttu-id="07405-888">Aşağıdaki tabloda örnekler verilmektedir ve bunların eşleşmesinin neden eşleşmediği veya eşleşmemesi açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="07405-888">The following table provides examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="07405-889">İfade</span><span class="sxs-lookup"><span data-stu-id="07405-889">Expression</span></span>   | <span data-ttu-id="07405-890">Dize</span><span class="sxs-lookup"><span data-stu-id="07405-890">String</span></span>    | <span data-ttu-id="07405-891">Eşleştirme</span><span class="sxs-lookup"><span data-stu-id="07405-891">Match</span></span> | <span data-ttu-id="07405-892">Yorum</span><span class="sxs-lookup"><span data-stu-id="07405-892">Comment</span></span>               |
| ------------ | --------- | :---: |  -------------------- |
| `[a-z]{2}`   | <span data-ttu-id="07405-893">herkese</span><span class="sxs-lookup"><span data-stu-id="07405-893">hello</span></span>     | <span data-ttu-id="07405-894">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-894">Yes</span></span>   | <span data-ttu-id="07405-895">Alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="07405-895">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="07405-896">123abc456</span><span class="sxs-lookup"><span data-stu-id="07405-896">123abc456</span></span> | <span data-ttu-id="07405-897">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-897">Yes</span></span>   | <span data-ttu-id="07405-898">Alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="07405-898">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="07405-899">MZ</span><span class="sxs-lookup"><span data-stu-id="07405-899">mz</span></span>        | <span data-ttu-id="07405-900">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-900">Yes</span></span>   | <span data-ttu-id="07405-901">Eşleşen ifadesi</span><span class="sxs-lookup"><span data-stu-id="07405-901">Matches expression</span></span>    |
| `[a-z]{2}`   | <span data-ttu-id="07405-902">MZ</span><span class="sxs-lookup"><span data-stu-id="07405-902">MZ</span></span>        | <span data-ttu-id="07405-903">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-903">Yes</span></span>   | <span data-ttu-id="07405-904">Büyük/küçük harfe duyarlı değil</span><span class="sxs-lookup"><span data-stu-id="07405-904">Not case sensitive</span></span>    |
| `^[a-z]{2}$` | <span data-ttu-id="07405-905">herkese</span><span class="sxs-lookup"><span data-stu-id="07405-905">hello</span></span>     | <span data-ttu-id="07405-906">Hayır</span><span class="sxs-lookup"><span data-stu-id="07405-906">No</span></span>    | <span data-ttu-id="07405-907">Yukarıdaki `^` ve `$` bakın</span><span class="sxs-lookup"><span data-stu-id="07405-907">See `^` and `$` above</span></span> |
| `^[a-z]{2}$` | <span data-ttu-id="07405-908">123abc456</span><span class="sxs-lookup"><span data-stu-id="07405-908">123abc456</span></span> | <span data-ttu-id="07405-909">Hayır</span><span class="sxs-lookup"><span data-stu-id="07405-909">No</span></span>    | <span data-ttu-id="07405-910">Yukarıdaki `^` ve `$` bakın</span><span class="sxs-lookup"><span data-stu-id="07405-910">See `^` and `$` above</span></span> |

<span data-ttu-id="07405-911">Normal ifade sözdizimi hakkında daha fazla bilgi için bkz. [.NET Framework normal ifadeler](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span><span class="sxs-lookup"><span data-stu-id="07405-911">For more information on regular expression syntax, see [.NET Framework Regular Expressions](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>

<span data-ttu-id="07405-912">Bir parametreyi bilinen olası değerler kümesiyle kısıtlamak için, normal bir ifade kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-912">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="07405-913">Örneğin `{action:regex(^(list|get|create)$)}`, yalnızca `action` Route değeri `list`, `get`veya `create`ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-913">For example, `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="07405-914">Kısıtlama sözlüğüne geçirilirse dize `^(list|get|create)$` eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="07405-914">If passed into the constraints dictionary, the string `^(list|get|create)$` is equivalent.</span></span> <span data-ttu-id="07405-915">Bilinen kısıtlamalardan biriyle eşleşmeyen kısıtlama sözlüğüne (bir şablon içinde satır içi değil) geçirilen kısıtlamalar da normal ifadeler olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="07405-915">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

## <a name="custom-route-constraints"></a><span data-ttu-id="07405-916">Özel yol kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="07405-916">Custom Route Constraints</span></span>

<span data-ttu-id="07405-917">Yerleşik yol kısıtlamalarına ek olarak, <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> arabirimi uygulayarak özel yol kısıtlamaları oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-917">In addition to the built-in route constraints, custom route constraints can be created by implementing the <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface.</span></span> <span data-ttu-id="07405-918"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> arabirimi, kısıtlama karşılandıysanız `true` döndüren `Match`tek bir yöntem içerir ve aksi takdirde `false`.</span><span class="sxs-lookup"><span data-stu-id="07405-918">The <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface contains a single method, `Match`, which returns `true` if the constraint is satisfied and `false` otherwise.</span></span>

<span data-ttu-id="07405-919">Özel bir <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>kullanmak için, yol kısıtlama türü uygulamanın hizmet kapsayıcısında uygulamanın <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> kayıtlı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-919">To use a custom <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, the route constraint type must be registered with the app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> in the app's service container.</span></span> <span data-ttu-id="07405-920"><xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>, yol kısıtlama anahtarlarını bu kısıtlamaları doğrulayan <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> uygulamalarla eşleyen bir sözlüktür.</span><span class="sxs-lookup"><span data-stu-id="07405-920">A <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> is a dictionary that maps route constraint keys to <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> implementations that validate those constraints.</span></span> <span data-ttu-id="07405-921">Bir uygulamanın <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>, bir hizmetin parçası olarak `Startup.ConfigureServices` güncelleştirilebilen olabilir [. AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) çağrısı veya <xref:Microsoft.AspNetCore.Routing.RouteOptions> doğrudan `services.Configure<RouteOptions>`ile yapılandırma.</span><span class="sxs-lookup"><span data-stu-id="07405-921">An app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> can be updated in `Startup.ConfigureServices` either as part of a [services.AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) call or by configuring <xref:Microsoft.AspNetCore.Routing.RouteOptions> directly with `services.Configure<RouteOptions>`.</span></span> <span data-ttu-id="07405-922">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="07405-922">For example:</span></span>

```csharp
services.AddRouting(options =>
{
    options.ConstraintMap.Add("customName", typeof(MyCustomConstraint));
});
```

<span data-ttu-id="07405-923">Kısıtlama daha sonra, kısıtlama türü kaydedilirken belirtilen ad kullanılarak yollara her zamanki şekilde uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-923">The constraint can then be applied to routes in the usual manner, using the name specified when registering the constraint type.</span></span> <span data-ttu-id="07405-924">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="07405-924">For example:</span></span>

```csharp
[HttpGet("{id:customName}")]
public ActionResult<string> Get(string id)
```

## <a name="parameter-transformer-reference"></a><span data-ttu-id="07405-925">Parametre transformatörü başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-925">Parameter transformer reference</span></span>

<span data-ttu-id="07405-926">Parametre dönüştürücüler:</span><span class="sxs-lookup"><span data-stu-id="07405-926">Parameter transformers:</span></span>

* <span data-ttu-id="07405-927"><xref:Microsoft.AspNetCore.Routing.Route>için bağlantı oluştururken yürütün.</span><span class="sxs-lookup"><span data-stu-id="07405-927">Execute when generating a link for a <xref:Microsoft.AspNetCore.Routing.Route>.</span></span>
* <span data-ttu-id="07405-928">`Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`uygulayın.</span><span class="sxs-lookup"><span data-stu-id="07405-928">Implement `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`.</span></span>
* <span data-ttu-id="07405-929"><xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>kullanılarak yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-929">Are configured using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>.</span></span>
* <span data-ttu-id="07405-930">Parametrenin yol değerini alın ve yeni bir dize değerine dönüştürün.</span><span class="sxs-lookup"><span data-stu-id="07405-930">Take the parameter's route value and transform it to a new string value.</span></span>
* <span data-ttu-id="07405-931">Oluşturulan bağlantıda Dönüştürülmüş değerin kullanılmasına neden olacak.</span><span class="sxs-lookup"><span data-stu-id="07405-931">Result in using the transformed value in the generated link.</span></span>

<span data-ttu-id="07405-932">Örneğin, `Url.Action(new { article = "MyTestArticle" })` ile `blog\{article:slugify}` yol düzeninde özel `slugify` parametresi transformatörü `blog\my-test-article`üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-932">For example, a custom `slugify` parameter transformer in route pattern `blog\{article:slugify}` with `Url.Action(new { article = "MyTestArticle" })` generates `blog\my-test-article`.</span></span>

<span data-ttu-id="07405-933">Bir parametre transformatörü bir yol düzeninde kullanmak için, önce `Startup.ConfigureServices`<xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> kullanarak yapılandırın:</span><span class="sxs-lookup"><span data-stu-id="07405-933">To use a parameter transformer in a route pattern, configure it first using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> in `Startup.ConfigureServices`:</span></span>

```csharp
services.AddRouting(options =>
{
    // Replace the type and the name used to refer to it with your own
    // IOutboundParameterTransformer implementation
    options.ConstraintMap["slugify"] = typeof(SlugifyParameterTransformer);
});
```

<span data-ttu-id="07405-934">Parametre dönüştürücüler, bir uç noktanın çözümlediği URI 'yi dönüştürmek için çerçevesi tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-934">Parameter transformers are used by the framework to transform the URI where an endpoint resolves.</span></span> <span data-ttu-id="07405-935">Örneğin, ASP.NET Core MVC, `area`, `controller`, `action`ve `page`eşleşecek şekilde kullanılan rota değerini dönüştürmek için parametre dönüştürücüler kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-935">For example, ASP.NET Core MVC uses parameter transformers to transform the route value used to match an `area`, `controller`, `action`, and `page`.</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller:slugify=Home}/{action:slugify=Index}/{id?}");
```

<span data-ttu-id="07405-936">Önceki yol ile eylem `SubscriptionManagementController.GetAll()`, URI `/subscription-management/get-all`ile eşleştirilir.</span><span class="sxs-lookup"><span data-stu-id="07405-936">With the preceding route, the action `SubscriptionManagementController.GetAll()` is matched with the URI `/subscription-management/get-all`.</span></span> <span data-ttu-id="07405-937">Bir parametre transformatörü bir bağlantı oluşturmak için kullanılan rota değerlerini değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="07405-937">A parameter transformer doesn't change the route values used to generate a link.</span></span> <span data-ttu-id="07405-938">Örneğin, `Url.Action("GetAll", "SubscriptionManagement")` çıkışları `/subscription-management/get-all`.</span><span class="sxs-lookup"><span data-stu-id="07405-938">For example, `Url.Action("GetAll", "SubscriptionManagement")` outputs `/subscription-management/get-all`.</span></span>

<span data-ttu-id="07405-939">ASP.NET Core, oluşturulan yollarla bir parametre dönüştürücüler kullanmak için API kuralları sağlar:</span><span class="sxs-lookup"><span data-stu-id="07405-939">ASP.NET Core provides API conventions for using a parameter transformers with generated routes:</span></span>

* <span data-ttu-id="07405-940">ASP.NET Core MVC 'nin `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API kuralı vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-940">ASP.NET Core MVC has the `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API convention.</span></span> <span data-ttu-id="07405-941">Bu kural, uygulamadaki tüm öznitelik yollarına belirtilen bir parametre transformatörü uygular.</span><span class="sxs-lookup"><span data-stu-id="07405-941">This convention applies a specified parameter transformer to all attribute routes in the app.</span></span> <span data-ttu-id="07405-942">Parametre transformatörü, öznitelik yol belirteçlerini değiştirildiklerinde dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="07405-942">The parameter transformer transforms attribute route tokens as they are replaced.</span></span> <span data-ttu-id="07405-943">Daha fazla bilgi için bkz. [belirteç değişimini özelleştirmek için bir parametre transformatörü kullanma](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span><span class="sxs-lookup"><span data-stu-id="07405-943">For more information, see [Use a parameter transformer to customize token replacement](/aspnet/core/mvc/controllers/routing#use-a-parameter-transformer-to-customize-token-replacement).</span></span>
* <span data-ttu-id="07405-944">Razor Pages `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API kuralına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="07405-944">Razor Pages has the `Microsoft.AspNetCore.Mvc.ApplicationModels.PageRouteTransformerConvention` API convention.</span></span> <span data-ttu-id="07405-945">Bu kural, belirtilen bir parametre transformatörü otomatik olarak keşfedilen Razor Pages uygular.</span><span class="sxs-lookup"><span data-stu-id="07405-945">This convention applies a specified parameter transformer to all automatically discovered Razor Pages.</span></span> <span data-ttu-id="07405-946">Parametre transformatörü Razor Pages yolların klasör ve dosya adı segmentlerini dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="07405-946">The parameter transformer transforms the folder and file name segments of Razor Pages routes.</span></span> <span data-ttu-id="07405-947">Daha fazla bilgi için bkz. [sayfa yollarını özelleştirmek için bir parametre transformatörü kullanma](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span><span class="sxs-lookup"><span data-stu-id="07405-947">For more information, see [Use a parameter transformer to customize page routes](/aspnet/core/razor-pages/razor-pages-conventions#use-a-parameter-transformer-to-customize-page-routes).</span></span>

## <a name="url-generation-reference"></a><span data-ttu-id="07405-948">URL oluşturma başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-948">URL generation reference</span></span>

<span data-ttu-id="07405-949">Aşağıdaki örnek, yol değerlerinin bir sözlüğü ve bir <xref:Microsoft.AspNetCore.Routing.RouteCollection>için bir yol bağlantısının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="07405-949">The following example shows how to generate a link to a route given a dictionary of route values and a <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span></span>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

<span data-ttu-id="07405-950">Yukarıdaki örnek sonunda oluşturulan <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> `/package/create/123`.</span><span class="sxs-lookup"><span data-stu-id="07405-950">The <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> generated at the end of the preceding sample is `/package/create/123`.</span></span> <span data-ttu-id="07405-951">Sözlük, "paket yolunu Izle" şablonunun `package/{operation}/{id}``operation` ve `id` yol değerlerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-951">The dictionary supplies the `operation` and `id` route values of the "Track Package Route" template, `package/{operation}/{id}`.</span></span> <span data-ttu-id="07405-952">Ayrıntılar için, [yönlendirme ara yazılımı kullanma](#use-routing-middleware) bölümünde veya [örnek uygulamada](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples)örnek koda bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-952">For details, see the sample code in the [Use Routing Middleware](#use-routing-middleware) section or the [sample app](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span></span>

<span data-ttu-id="07405-953"><xref:Microsoft.AspNetCore.Routing.VirtualPathContext> oluşturucusunun ikinci parametresi bir *ortam değerleri*koleksiyonudur.</span><span class="sxs-lookup"><span data-stu-id="07405-953">The second parameter to the <xref:Microsoft.AspNetCore.Routing.VirtualPathContext> constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="07405-954">Ortam değerleri, bir geliştiricinin bir istek bağlamı içinde belirtmesi gereken değer sayısını sınırlandırdığından kullanım için uygundur.</span><span class="sxs-lookup"><span data-stu-id="07405-954">Ambient values are convenient to use because they limit the number of values a developer must specify within a request context.</span></span> <span data-ttu-id="07405-955">Geçerli isteğin geçerli yol değerleri, bağlantı oluşturma için çevresel değerler olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="07405-955">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="07405-956">ASP.NET Core MVC uygulamasının `HomeController``About` eyleminde,&mdash;ortam değeri `Home` `Index` eyleme bağlamak için denetleyici yolu değerini belirtmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="07405-956">In an ASP.NET Core MVC app's `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action&mdash;the ambient value of `Home` is used.</span></span>

<span data-ttu-id="07405-957">Bir parametreyle eşleşmeyen çevresel değerler yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="07405-957">Ambient values that don't match a parameter are ignored.</span></span> <span data-ttu-id="07405-958">Ayrıca, açıkça sağlanmış bir değer çevresel değeri geçersiz kıldığında çevresel değerler de yoksayılır.</span><span class="sxs-lookup"><span data-stu-id="07405-958">Ambient values are also ignored when an explicitly provided value overrides the ambient value.</span></span> <span data-ttu-id="07405-959">Eşleştirme, URL 'de soldan sağa doğru gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-959">Matching occurs from left to right in the URL.</span></span>

<span data-ttu-id="07405-960">Açık olarak sağlanmış ancak yolun bir segmentiyle eşleşmeyen değerler sorgu dizesine eklenir.</span><span class="sxs-lookup"><span data-stu-id="07405-960">Values explicitly provided but that don't match a segment of the route are added to the query string.</span></span> <span data-ttu-id="07405-961">Aşağıdaki tabloda `{controller}/{action}/{id?}`yol şablonu kullanılırken sonuç gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-961">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="07405-962">Çevresel değerler</span><span class="sxs-lookup"><span data-stu-id="07405-962">Ambient Values</span></span>                     | <span data-ttu-id="07405-963">Açık değerler</span><span class="sxs-lookup"><span data-stu-id="07405-963">Explicit Values</span></span>                        | <span data-ttu-id="07405-964">Sonuç</span><span class="sxs-lookup"><span data-stu-id="07405-964">Result</span></span>                  |
| ---------------------------------- | -------------------------------------- | ----------------------- |
| <span data-ttu-id="07405-965">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-965">controller = "Home"</span></span>                | <span data-ttu-id="07405-966">Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-966">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="07405-967">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-967">controller = "Home"</span></span>                | <span data-ttu-id="07405-968">denetleyici = "Order", Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-968">controller = "Order", action = "About"</span></span> | `/Order/About`          |
| <span data-ttu-id="07405-969">denetleyici = "giriş", renk = "kırmızı"</span><span class="sxs-lookup"><span data-stu-id="07405-969">controller = "Home", color = "Red"</span></span> | <span data-ttu-id="07405-970">Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-970">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="07405-971">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-971">controller = "Home"</span></span>                | <span data-ttu-id="07405-972">Action = "hakkında", color = "Red"</span><span class="sxs-lookup"><span data-stu-id="07405-972">action = "About", color = "Red"</span></span>        | `/Home/About?color=Red` |

<span data-ttu-id="07405-973">Bir rotada bir parametreye karşılık gelen bir varsayılan değer varsa ve bu değer açıkça sağlanmışsa, varsayılan değerle eşleşmelidir:</span><span class="sxs-lookup"><span data-stu-id="07405-973">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
    defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="07405-974">Bağlantı oluşturma yalnızca `controller` ve `action` için eşleşen değerler sağlandığında bu yol için bir bağlantı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-974">Link generation only generates a link for this route when the matching values for `controller` and `action` are provided.</span></span>

## <a name="complex-segments"></a><span data-ttu-id="07405-975">Karmaşık segmentler</span><span class="sxs-lookup"><span data-stu-id="07405-975">Complex segments</span></span>

<span data-ttu-id="07405-976">Karmaşık segmentler (örneğin `[Route("/x{token}y")]`), sabit değerli olmayan değişmez değerler ile sağdan sola eşleştirilirken işlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-976">Complex segments (for example `[Route("/x{token}y")]`) are processed by matching up literals from right to left in a non-greedy way.</span></span> <span data-ttu-id="07405-977">Karmaşık segmentlerin nasıl eşleştirileceği hakkında ayrıntılı bir açıklama için [bu koda](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-977">See [this code](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) for a detailed explanation of how complex segments are matched.</span></span> <span data-ttu-id="07405-978">[Kod örneği](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) ASP.NET Core tarafından kullanılmaz, ancak karmaşık segmentler hakkında iyi bir açıklama sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-978">The [code sample](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) is not used by ASP.NET Core, but it provides a good explanation of complex segments.</span></span>
<!-- While that code is no longer used by ASP.NET Core for complex segment matching, it provides a good match to the current algorithm. The [current code](https://github.com/aspnet/AspNetCore/blob/91514c9af7e0f4c44029b51f05a01c6fe4c96e4c/src/Http/Routing/src/Matching/DfaMatcherBuilder.cs#L227-L244) is too abstracted from matching to be useful for understanding complex segment matching.
-->

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="07405-979">Yönlendirme, istek URI 'Lerini rota işleyicileriyle eşleştirmekten ve gelen istekleri gönderen sorumludur.</span><span class="sxs-lookup"><span data-stu-id="07405-979">Routing is responsible for mapping request URIs to route handlers and dispatching an incoming requests.</span></span> <span data-ttu-id="07405-980">Yollar uygulamada tanımlanır ve uygulama başlatıldığında yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-980">Routes are defined in the app and configured when the app starts.</span></span> <span data-ttu-id="07405-981">Yol, isteğe bağlı olarak istekte bulunan URL 'den değerleri ayıklayabilir ve bu değerler, istek işleme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-981">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="07405-982">Uygulamadan yapılandırılan yollar kullanıldığında, yönlendirme, yol işleyicileriyle eşlenen URL 'Ler oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-982">Using configured routes from the app, routing is able to generate URLs that map to route handlers.</span></span>

<span data-ttu-id="07405-983">ASP.NET Core 2,1 ' de en son yönlendirme senaryolarını kullanmak için `Startup.ConfigureServices`MVC Hizmetleri kaydının [Uyumluluk sürümünü](xref:mvc/compatibility-version) belirtin:</span><span class="sxs-lookup"><span data-stu-id="07405-983">To use the latest routing scenarios in ASP.NET Core 2.1, specify the [compatibility version](xref:mvc/compatibility-version) to the MVC services registration in `Startup.ConfigureServices`:</span></span>

```csharp
services.AddMvc()
    .SetCompatibilityVersion(CompatibilityVersion.Version_2_1);
```

> [!IMPORTANT]
> <span data-ttu-id="07405-984">Bu belge, alt düzey ASP.NET Core yönlendirmeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="07405-984">This document covers low-level ASP.NET Core routing.</span></span> <span data-ttu-id="07405-985">ASP.NET Core MVC yönlendirme hakkında daha fazla bilgi için bkz. <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="07405-985">For information on ASP.NET Core MVC routing, see <xref:mvc/controllers/routing>.</span></span> <span data-ttu-id="07405-986">Razor Pages 'de yönlendirme kuralları hakkında bilgi için bkz. <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="07405-986">For information on routing conventions in Razor Pages, see <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="07405-987">[Örnek kodu görüntüleme veya indirme](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([nasıl indirileceği](xref:index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="07405-987">[View or download sample code](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([how to download](xref:index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="07405-988">Yönlendirme temelleri</span><span class="sxs-lookup"><span data-stu-id="07405-988">Routing basics</span></span>

<span data-ttu-id="07405-989">Çoğu uygulama, URL 'Lerin okunabilir ve anlamlı olması için temel ve açıklayıcı bir yönlendirme şeması seçmelidir.</span><span class="sxs-lookup"><span data-stu-id="07405-989">Most apps should choose a basic and descriptive routing scheme so that URLs are readable and meaningful.</span></span> <span data-ttu-id="07405-990">Varsayılan geleneksel yol `{controller=Home}/{action=Index}/{id?}`:</span><span class="sxs-lookup"><span data-stu-id="07405-990">The default conventional route `{controller=Home}/{action=Index}/{id?}`:</span></span>

* <span data-ttu-id="07405-991">Temel ve açıklayıcı bir yönlendirme düzenini destekler.</span><span class="sxs-lookup"><span data-stu-id="07405-991">Supports a basic and descriptive routing scheme.</span></span>
* <span data-ttu-id="07405-992">, UI tabanlı uygulamalar için kullanışlı bir başlangıç noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-992">Is a useful starting point for UI-based apps.</span></span>

<span data-ttu-id="07405-993">Geliştiriciler, [öznitelik yönlendirme](xref:mvc/controllers/routing#attribute-routing) veya adanmış geleneksel yollar kullanarak özel durumlarda (örneğin, blog ve e-ticaret uç noktaları) bir uygulamanın yüksek trafik bölümlerine daha fazla terse yolu ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-993">Developers commonly add additional terse routes to high-traffic areas of an app in specialized situations (for example, blog and ecommerce endpoints) using [attribute routing](xref:mvc/controllers/routing#attribute-routing) or dedicated conventional routes.</span></span>

<span data-ttu-id="07405-994">Web API 'Leri, uygulamanın işlevselliğini HTTP fiilleri tarafından temsil edilen bir kaynak kümesi olarak modellemek için öznitelik yönlendirmeyi kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-994">Web APIs should use attribute routing to model the app's functionality as a set of resources where operations are represented by HTTP verbs.</span></span> <span data-ttu-id="07405-995">Bu, aynı mantıksal kaynaktaki birçok işlemin (örneğin, GET, POST) aynı URL 'YI kullanacağı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="07405-995">This means that many operations (for example, GET, POST) on the same logical resource will use the same URL.</span></span> <span data-ttu-id="07405-996">Öznitelik yönlendirme, bir API 'nin Genel uç nokta yerleşimini dikkatle tasarlamak için gereken bir denetim düzeyi sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-996">Attribute routing provides a level of control that's needed to carefully design an API's public endpoint layout.</span></span>

<span data-ttu-id="07405-997">Razor Pages uygulamalar, bir uygulamanın *Sayfalar* klasöründe adlandırılmış kaynaklara hizmeti sağlamak için varsayılan geleneksel yönlendirmeyi kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-997">Razor Pages apps use default conventional routing to serve named resources in the *Pages* folder of an app.</span></span> <span data-ttu-id="07405-998">Razor Pages yönlendirme davranışını özelleştirmenizi sağlayan ek kurallar mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="07405-998">Additional conventions are available that allow you to customize Razor Pages routing behavior.</span></span> <span data-ttu-id="07405-999">Daha fazla bilgi için bkz. <xref:razor-pages/index> ve <xref:razor-pages/razor-pages-conventions>.</span><span class="sxs-lookup"><span data-stu-id="07405-999">For more information, see <xref:razor-pages/index> and <xref:razor-pages/razor-pages-conventions>.</span></span>

<span data-ttu-id="07405-1000">URL oluşturma desteği, uygulamanın, uygulamayı birbirine bağlamak için sabit kodlama URL 'Leri olmadan geliştirilebilmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="07405-1000">URL generation support allows the app to be developed without hard-coding URLs to link the app together.</span></span> <span data-ttu-id="07405-1001">Bu destek, temel bir yönlendirme yapılandırmasıyla başlayıp uygulamanın kaynak düzeni belirlendikten sonra yolların değiştirilmesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1001">This support allows for starting with a basic routing configuration and modifying the routes after the app's resource layout is determined.</span></span>

<span data-ttu-id="07405-1002">Yönlendirme, *yolları* kullanır (<xref:Microsoft.AspNetCore.Routing.IRouter>uygulamalar):</span><span class="sxs-lookup"><span data-stu-id="07405-1002">Routing uses *routes* (implementations of <xref:Microsoft.AspNetCore.Routing.IRouter>) to:</span></span>

* <span data-ttu-id="07405-1003">Gelen istekleri *Rota işleyicilerine*eşleyin.</span><span class="sxs-lookup"><span data-stu-id="07405-1003">Map incoming requests to *route handlers*.</span></span>
* <span data-ttu-id="07405-1004">Yanıtlarda kullanılan URL 'Leri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="07405-1004">Generate the URLs used in responses.</span></span>

<span data-ttu-id="07405-1005">Varsayılan olarak, bir uygulama tek bir yollar koleksiyonuna sahiptir.</span><span class="sxs-lookup"><span data-stu-id="07405-1005">By default, an app has a single collection of routes.</span></span> <span data-ttu-id="07405-1006">Bir istek geldiğinde koleksiyondaki yollar, koleksiyonda var olan sırada işlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-1006">When a request arrives, the routes in the collection are processed in the order that they exist in the collection.</span></span> <span data-ttu-id="07405-1007">Çerçeve, koleksiyondaki her bir rotada <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> yöntemini çağırarak, gelen istek URL 'sini koleksiyondaki bir yola eşleştirmeye çalışır.</span><span class="sxs-lookup"><span data-stu-id="07405-1007">The framework attempts to match an incoming request URL to a route in the collection by calling the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each route in the collection.</span></span> <span data-ttu-id="07405-1008">Yanıt, yönlendirme bilgilerine göre URL (örneğin, yeniden yönlendirme veya bağlantılar için) oluşturmak için yönlendirmeyi kullanabilir ve bu sayede bakım yapılmasına yardımcı olan sabit kodlanmış URL 'Lerden kaçınabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07405-1008">A response can use routing to generate URLs (for example, for redirection or links) based on route information and thus avoid hard-coded URLs, which helps maintainability.</span></span>

<span data-ttu-id="07405-1009">Yönlendirme sistemi aşağıdaki özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="07405-1009">The routing system has the following characteristics:</span></span>

* <span data-ttu-id="07405-1010">Yol şablonu sözdizimi, simgeleştirilmiş yol parametrelerine sahip yolları tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1010">Route template syntax is used to define routes with tokenized route parameters.</span></span>
* <span data-ttu-id="07405-1011">Geleneksel stil ve öznitelik stili uç nokta yapılandırmasına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1011">Conventional-style and attribute-style endpoint configuration is permitted.</span></span>
* <span data-ttu-id="07405-1012"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, bir URL parametresinin belirli bir uç nokta kısıtlaması için geçerli bir değer içerip içermediğini belirlemekte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1012"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> is used to determine whether a URL parameter contains a valid value for a given endpoint constraint.</span></span>
* <span data-ttu-id="07405-1013">MVC/Razor Pages gibi uygulama modelleri, yönlendirme senaryolarının öngörülebilir bir uygulaması olan tüm yollarını kaydeder.</span><span class="sxs-lookup"><span data-stu-id="07405-1013">App models, such as MVC/Razor Pages, register all of their routes, which have a predictable implementation of routing scenarios.</span></span>
* <span data-ttu-id="07405-1014">Yanıt, yönlendirme bilgilerine göre URL (örneğin, yeniden yönlendirme veya bağlantılar için) oluşturmak için yönlendirmeyi kullanabilir ve bu sayede bakım yapılmasına yardımcı olan sabit kodlanmış URL 'Lerden kaçınabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07405-1014">A response can use routing to generate URLs (for example, for redirection or links) based on route information and thus avoid hard-coded URLs, which helps maintainability.</span></span>
* <span data-ttu-id="07405-1015">URL oluşturma, rastgele genişletilebilirliği destekleyen yollara dayalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1015">URL generation is based on routes, which support arbitrary extensibility.</span></span> <span data-ttu-id="07405-1016"><xref:Microsoft.AspNetCore.Mvc.IUrlHelper>, URL 'Leri derlemek için yöntemler sunar.</span><span class="sxs-lookup"><span data-stu-id="07405-1016"><xref:Microsoft.AspNetCore.Mvc.IUrlHelper> offers methods to build URLs.</span></span>

<span data-ttu-id="07405-1017">Yönlendirme, <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> sınıfı tarafından, [Ara yazılım](xref:fundamentals/middleware/index) ardışık düzenine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1017">Routing is connected to the [middleware](xref:fundamentals/middleware/index) pipeline by the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> class.</span></span> <span data-ttu-id="07405-1018">[ASP.NET Core MVC](xref:mvc/overview) , yapılandırma kapsamında bir ara yazılım ardışık düzenine yönlendirme ekler ve MVC ve Razor Pages uygulamalarında yönlendirmeyi işler.</span><span class="sxs-lookup"><span data-stu-id="07405-1018">[ASP.NET Core MVC](xref:mvc/overview) adds routing to the middleware pipeline as part of its configuration and handles routing in MVC and Razor Pages apps.</span></span> <span data-ttu-id="07405-1019">Tek başına bileşen olarak yönlendirmeyi nasıl kullanacağınızı öğrenmek için [yönlendirme ara yazılımı kullanma](#use-routing-middleware) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-1019">To learn how to use routing as a standalone component, see the [Use Routing Middleware](#use-routing-middleware) section.</span></span>

### <a name="url-matching"></a><span data-ttu-id="07405-1020">URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="07405-1020">URL matching</span></span>

<span data-ttu-id="07405-1021">URL eşleştirme, yönlendirmenin bir *işleyiciye*gelen istek gönderdiğine yönelik işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-1021">URL matching is the process by which routing dispatches an incoming request to a *handler*.</span></span> <span data-ttu-id="07405-1022">Bu işlem, URL yolundaki verileri temel alır, ancak istekteki verileri göz önünde bulundurmanız için genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1022">This process is based on data in the URL path but can be extended to consider any data in the request.</span></span> <span data-ttu-id="07405-1023">Ayrı işleyicilere istek gönderme özelliği, bir uygulamanın boyutunu ve karmaşıklığını ölçeklendirmeye yönelik anahtardır.</span><span class="sxs-lookup"><span data-stu-id="07405-1023">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an app.</span></span>

<span data-ttu-id="07405-1024">Gelen istekler, sırayla her bir rotada <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> yöntemini çağıran <xref:Microsoft.AspNetCore.Builder.RouterMiddleware>girer.</span><span class="sxs-lookup"><span data-stu-id="07405-1024">Incoming requests enter the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware>, which calls the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each route in sequence.</span></span> <span data-ttu-id="07405-1025"><xref:Microsoft.AspNetCore.Routing.IRouter> örneği, [Routecontext. Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*) değerini null olmayan bir <xref:Microsoft.AspNetCore.Http.RequestDelegate>ayarlayarak isteğin *işleneceğini* belirler.</span><span class="sxs-lookup"><span data-stu-id="07405-1025">The <xref:Microsoft.AspNetCore.Routing.IRouter> instance chooses whether to *handle* the request by setting the [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*) to a non-null <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span></span> <span data-ttu-id="07405-1026">Bir yol istek için bir işleyici ayarlarsa, yol işleme duraklar ve işleyici isteği işlemek için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1026">If a route sets a handler for the request, route processing stops, and the handler is invoked to process the request.</span></span> <span data-ttu-id="07405-1027">İsteği işlemek için yol işleyicisi bulunmazsa, ara yazılım istek ardışık düzeninde sonraki bir ara yazılım için isteği kapatır.</span><span class="sxs-lookup"><span data-stu-id="07405-1027">If no route handler is found to process the request, the middleware hands the request off to the next middleware in the request pipeline.</span></span>

<span data-ttu-id="07405-1028"><xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> birincil giriş, geçerli istekle ilişkili [Routecontext. HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*) ' dir.</span><span class="sxs-lookup"><span data-stu-id="07405-1028">The primary input to <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> is the [RouteContext.HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*) associated with the current request.</span></span> <span data-ttu-id="07405-1029">[Routecontext. Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler) ve [Routecontext. RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*) , bir yol eşleştirdikten sonra çıkış olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1029">The [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler) and [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*) are outputs set after a route is matched.</span></span>

<span data-ttu-id="07405-1030"><xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> çağıran bir eşleşme de [Routecontext. RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) özelliklerinin özelliklerini, bu nedenle yapılan istek işlemeye bağlı olarak uygun değerlere ayarlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1030">A match that calls <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> also sets the properties of the [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData) to appropriate values based on the request processing performed thus far.</span></span>

<span data-ttu-id="07405-1031">[RouteData. Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) , rotada oluşturulan *yol değerlerinin* bir sözlüğüdür.</span><span class="sxs-lookup"><span data-stu-id="07405-1031">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="07405-1032">Bu değerler genellikle URL 'YI simgeleştirerek belirlenir ve Kullanıcı girişini kabul etmek ya da uygulama içinde daha fazla kararlar almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1032">These values are usually determined by tokenizing the URL and can be used to accept user input or to make further dispatching decisions inside the app.</span></span>

<span data-ttu-id="07405-1033">[RouteData. DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) , eşleşen rotayla ilgili ek verilerin bir özellik çantadır.</span><span class="sxs-lookup"><span data-stu-id="07405-1033">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="07405-1034"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*>, uygulamanın hangi yolun eşleştiğini temel alarak kararlar verebilmesi için durum verilerinin her bir rota ile ilişkilendirilmesini desteklemek amacıyla sağlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1034"><xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*> are provided to support associating state data with each route so that the app can make decisions based on which route matched.</span></span> <span data-ttu-id="07405-1035">Bu değerler, geliştirici tarafından tanımlanır ve yönlendirme davranışını herhangi bir **şekilde etkilemez.**</span><span class="sxs-lookup"><span data-stu-id="07405-1035">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="07405-1036">Ayrıca, [RouteData. DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) içinde bulunan değerler her türlü türden olabilir. Bu, [veri](xref:Microsoft.AspNetCore.Routing.RouteData.Values)dizeleri arasında dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1036">Additionally, values stashed in [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) can be of any type, in contrast to [RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values), which must be convertible to and from strings.</span></span>

<span data-ttu-id="07405-1037">[RouteData. yönlendiriciler](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) , isteği başarıyla eşleştirirken geçen yolların bir listesidir.</span><span class="sxs-lookup"><span data-stu-id="07405-1037">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers) is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="07405-1038">Yollar bir diğerinin içinde iç içe olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1038">Routes can be nested inside of one another.</span></span> <span data-ttu-id="07405-1039"><xref:Microsoft.AspNetCore.Routing.RouteData.Routers> özelliği, bir eşleşme ile sonuçlanan yolların mantıksal ağacı aracılığıyla yolu yansıtır.</span><span class="sxs-lookup"><span data-stu-id="07405-1039">The <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="07405-1040">Genellikle, <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> ilk öğe yol koleksiyonudur ve URL oluşturma için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1040">Generally, the first item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route collection and should be used for URL generation.</span></span> <span data-ttu-id="07405-1041"><xref:Microsoft.AspNetCore.Routing.RouteData.Routers> son öğe, eşleşen yol işleyicisidir.</span><span class="sxs-lookup"><span data-stu-id="07405-1041">The last item in <xref:Microsoft.AspNetCore.Routing.RouteData.Routers> is the route handler that matched.</span></span>

<a name="lg"></a>

### <a name="url-generation"></a><span data-ttu-id="07405-1042">URL oluşturma</span><span class="sxs-lookup"><span data-stu-id="07405-1042">URL generation</span></span>

<span data-ttu-id="07405-1043">URL oluşturma, yönlendirmenin bir yol değerleri kümesine göre bir URL yolu oluşturabileceği işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-1043">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="07405-1044">Bu, yönlendirme işleyicileri ve bunlara erişen URL 'Ler arasındaki mantıksal bir ayrım sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1044">This allows for a logical separation between route handlers and the URLs that access them.</span></span>

<span data-ttu-id="07405-1045">URL oluşturma benzer bir yinelemeli işlem izler, ancak yol koleksiyonunun <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> metoduna çağıran kullanıcı veya çerçeve kodu ile başlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1045">URL generation follows a similar iterative process, but it starts with user or framework code calling into the <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> method of the route collection.</span></span> <span data-ttu-id="07405-1046">Her *rotada* null olmayan bir <xref:Microsoft.AspNetCore.Routing.VirtualPathData> döndürülene kadar <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> yöntemi sırayla çağırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1046">Each *route* has its <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> method called in sequence until a non-null <xref:Microsoft.AspNetCore.Routing.VirtualPathData> is returned.</span></span>

<span data-ttu-id="07405-1047"><xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> birincil girişleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="07405-1047">The primary inputs to <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> are:</span></span>

* [<span data-ttu-id="07405-1048">VirtualPathContext. HttpContext</span><span class="sxs-lookup"><span data-stu-id="07405-1048">VirtualPathContext.HttpContext</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext)
* [<span data-ttu-id="07405-1049">VirtualPathContext. Values</span><span class="sxs-lookup"><span data-stu-id="07405-1049">VirtualPathContext.Values</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values)
* [<span data-ttu-id="07405-1050">VirtualPathContext. AmbientValues</span><span class="sxs-lookup"><span data-stu-id="07405-1050">VirtualPathContext.AmbientValues</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues)

<span data-ttu-id="07405-1051">Rotalar öncelikle <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values> ve <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues> tarafından sunulan yol değerlerini kullanarak bir URL oluşturma ve hangi değerlerin dahil edileceğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="07405-1051">Routes primarily use the route values provided by <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values> and <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues> to decide whether it's possible to generate a URL and what values to include.</span></span> <span data-ttu-id="07405-1052"><xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues>, geçerli istekle eşleşmeden üretilmiş olan rota değerleri kümesidir.</span><span class="sxs-lookup"><span data-stu-id="07405-1052">The <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues> are the set of route values that were produced from matching the current request.</span></span> <span data-ttu-id="07405-1053">Buna karşılık <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values>, geçerli işlem için istenen URL 'nin nasıl oluşturulacağını belirten rota değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="07405-1053">In contrast, <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values> are the route values that specify how to generate the desired URL for the current operation.</span></span> <span data-ttu-id="07405-1054"><xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext>, bir yolun geçerli bağlamla ilişkili hizmetleri veya ek verileri alması durumunda sağlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1054">The <xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext> is provided in case a route should obtain services or additional data associated with the current context.</span></span>

> [!TIP]
> <span data-ttu-id="07405-1055">Virtualpathcontext [. Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*) öğesini [Virtualpathcontext. AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*)için bir geçersiz kılma kümesi olarak düşünün.</span><span class="sxs-lookup"><span data-stu-id="07405-1055">Think of [VirtualPathContext.Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*) as a set of overrides for the [VirtualPathContext.AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*).</span></span> <span data-ttu-id="07405-1056">URL oluşturma, aynı rota veya yol değerlerini kullanan bağlantılar için URL 'Ler oluşturmak üzere geçerli istekten yol değerlerini yeniden kullanmayı dener.</span><span class="sxs-lookup"><span data-stu-id="07405-1056">URL generation attempts to reuse route values from the current request to generate URLs for links using the same route or route values.</span></span>

<span data-ttu-id="07405-1057"><xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> çıkışı bir <xref:Microsoft.AspNetCore.Routing.VirtualPathData>.</span><span class="sxs-lookup"><span data-stu-id="07405-1057">The output of <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> is a <xref:Microsoft.AspNetCore.Routing.VirtualPathData>.</span></span> <span data-ttu-id="07405-1058"><xref:Microsoft.AspNetCore.Routing.VirtualPathData>, <xref:Microsoft.AspNetCore.Routing.RouteData>paraleldir.</span><span class="sxs-lookup"><span data-stu-id="07405-1058"><xref:Microsoft.AspNetCore.Routing.VirtualPathData> is a parallel of <xref:Microsoft.AspNetCore.Routing.RouteData>.</span></span> <span data-ttu-id="07405-1059"><xref:Microsoft.AspNetCore.Routing.VirtualPathData>, çıkış URL 'SI için <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> ve yol tarafından ayarlanması gereken bazı ek özellikleri içerir.</span><span class="sxs-lookup"><span data-stu-id="07405-1059"><xref:Microsoft.AspNetCore.Routing.VirtualPathData> contains the <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> for the output URL and some additional properties that should be set by the route.</span></span>

<span data-ttu-id="07405-1060">[VirtualPathData. VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) özelliği, yol tarafından üretilen *sanal yolu* içerir.</span><span class="sxs-lookup"><span data-stu-id="07405-1060">The [VirtualPathData.VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) property contains the *virtual path* produced by the route.</span></span> <span data-ttu-id="07405-1061">Gereksinimlerinize bağlı olarak, yolu daha fazla işlem yapmanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1061">Depending on your needs, you may need to process the path further.</span></span> <span data-ttu-id="07405-1062">Oluşturulan URL 'YI HTML 'de işlemek istiyorsanız, uygulamanın temel yolunu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="07405-1062">If you want to render the generated URL in HTML, prepend the base path of the app.</span></span>

<span data-ttu-id="07405-1063">[VirtualPathData. Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*) , URL 'yi başarıyla oluşturmuş olan yola bir başvurudur.</span><span class="sxs-lookup"><span data-stu-id="07405-1063">The [VirtualPathData.Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*) is a reference to the route that successfully generated the URL.</span></span>

<span data-ttu-id="07405-1064">[VirtualPathData. DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) özellikleri, URL 'yi oluşturan rotayla ilgili ek verilerin bir sözlüğüdür.</span><span class="sxs-lookup"><span data-stu-id="07405-1064">The [VirtualPathData.DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) properties is a dictionary of additional data related to the route that generated the URL.</span></span> <span data-ttu-id="07405-1065">Bu, [RouteData. Datatoken](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*)'ların paraleldir.</span><span class="sxs-lookup"><span data-stu-id="07405-1065">This is the parallel of [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*).</span></span>

### <a name="create-routes"></a><span data-ttu-id="07405-1066">Rotalar oluştur</span><span class="sxs-lookup"><span data-stu-id="07405-1066">Create routes</span></span>

<span data-ttu-id="07405-1067">Yönlendirme, <xref:Microsoft.AspNetCore.Routing.IRouter>standart uygulama olarak <xref:Microsoft.AspNetCore.Routing.Route> sınıfını sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1067">Routing provides the <xref:Microsoft.AspNetCore.Routing.Route> class as the standard implementation of <xref:Microsoft.AspNetCore.Routing.IRouter>.</span></span> <span data-ttu-id="07405-1068"><xref:Microsoft.AspNetCore.Routing.Route>, <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> çağrıldığında URL yoluyla eşleştirilecek desenleri tanımlamak için *yol şablonu* sözdizimini kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1068"><xref:Microsoft.AspNetCore.Routing.Route> uses the *route template* syntax to define patterns to match against the URL path when <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> is called.</span></span> <span data-ttu-id="07405-1069"><xref:Microsoft.AspNetCore.Routing.Route>, <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> çağrıldığında bir URL oluşturmak için aynı yol şablonunu kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1069"><xref:Microsoft.AspNetCore.Routing.Route> uses the same route template to generate a URL when <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> is called.</span></span>

<span data-ttu-id="07405-1070">Çoğu uygulama, <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>tanımlanan benzer uzantı yöntemlerinden birini veya <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> çağırarak yollar oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-1070">Most apps create routes by calling <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> or one of the similar extension methods defined on <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span></span> <span data-ttu-id="07405-1071"><xref:Microsoft.AspNetCore.Routing.IRouteBuilder> uzantısı yöntemlerinden herhangi biri bir <xref:Microsoft.AspNetCore.Routing.Route> örneği oluşturur ve bunu yol koleksiyonuna ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-1071">Any of the <xref:Microsoft.AspNetCore.Routing.IRouteBuilder> extension methods create an instance of <xref:Microsoft.AspNetCore.Routing.Route> and add it to the route collection.</span></span>

<span data-ttu-id="07405-1072"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> yol işleyicisi parametresini kabul etmez.</span><span class="sxs-lookup"><span data-stu-id="07405-1072"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> doesn't accept a route handler parameter.</span></span> <span data-ttu-id="07405-1073"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*>, yalnızca <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>tarafından işlenen rotaları ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-1073"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> only adds routes that are handled by the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span> <span data-ttu-id="07405-1074">Varsayılan işleyici bir `IRouter`ve işleyici isteği işleyemeyebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1074">The default handler is an `IRouter`, and the handler might not handle the request.</span></span> <span data-ttu-id="07405-1075">Örneğin, ASP.NET Core MVC genellikle yalnızca kullanılabilir bir denetleyici ve eylemle eşleşen istekleri işleyen varsayılan bir işleyici olarak yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1075">For example, ASP.NET Core MVC is typically configured as a default handler that only handles requests that match an available controller and action.</span></span> <span data-ttu-id="07405-1076">MVC 'de yönlendirme hakkında daha fazla bilgi için bkz. <xref:mvc/controllers/routing>.</span><span class="sxs-lookup"><span data-stu-id="07405-1076">To learn more about routing in MVC, see <xref:mvc/controllers/routing>.</span></span>

<span data-ttu-id="07405-1077">Aşağıdaki kod örneği, tipik bir ASP.NET Core MVC yol tanımı tarafından kullanılan <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> çağrısının bir örneğidir:</span><span class="sxs-lookup"><span data-stu-id="07405-1077">The following code example is an example of a <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> call used by a typical ASP.NET Core MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="07405-1078">Bu şablon bir URL yoluyla eşleşir ve yol değerlerini ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-1078">This template matches a URL path and extracts the route values.</span></span> <span data-ttu-id="07405-1079">Örneğin, yol `/Products/Details/17` şu yol değerlerini üretir: `{ controller = Products, action = Details, id = 17 }`.</span><span class="sxs-lookup"><span data-stu-id="07405-1079">For example, the path `/Products/Details/17` generates the following route values: `{ controller = Products, action = Details, id = 17 }`.</span></span>

<span data-ttu-id="07405-1080">Rota değerleri, URL yolunun kesimlere bölünüyor ve rota şablonundaki *yol parametresi* adı ile her bir segmenti eşleştirerek belirlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-1080">Route values are determined by splitting the URL path into segments and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="07405-1081">Yol parametreleri olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1081">Route parameters are named.</span></span> <span data-ttu-id="07405-1082">Küme ayraçları içinde parametre adı eklenerek tanımlanan parametreler `{ ... }`.</span><span class="sxs-lookup"><span data-stu-id="07405-1082">The parameters defined by enclosing the parameter name in braces `{ ... }`.</span></span>

<span data-ttu-id="07405-1083">Yukarıdaki şablon, URL yolu `/` de eşleştirebilir ve `{ controller = Home, action = Index }`değerler üretecektir.</span><span class="sxs-lookup"><span data-stu-id="07405-1083">The preceding template could also match the URL path `/` and produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="07405-1084">Bu, `{controller}` ve `{action}` yol parametrelerinin varsayılan değerleri olduğu ve `id` Route parametresinin isteğe bağlı olduğu için oluşur.</span><span class="sxs-lookup"><span data-stu-id="07405-1084">This occurs because the `{controller}` and `{action}` route parameters have default values and the `id` route parameter is optional.</span></span> <span data-ttu-id="07405-1085">Eşittir işareti (`=`), yol parametresi adı parametre için varsayılan bir değer tanımladıktan sonra bir değer izler.</span><span class="sxs-lookup"><span data-stu-id="07405-1085">An equals sign (`=`) followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="07405-1086">Yol parametre adından sonra bir soru işareti (`?`) isteğe bağlı bir parametre tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1086">A question mark (`?`) after the route parameter name defines an optional parameter.</span></span>

<span data-ttu-id="07405-1087">Yol parametreleri varsayılan değer ile *her zaman* rota değeri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-1087">Route parameters with a default value *always* produce a route value when the route matches.</span></span> <span data-ttu-id="07405-1088">Karşılık gelen bir URL yol kesimi yoksa isteğe bağlı parametreler yol değeri oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="07405-1088">Optional parameters don't produce a route value if there was no corresponding URL path segment.</span></span> <span data-ttu-id="07405-1089">Yol şablonu senaryolarının ve sözdiziminin kapsamlı bir açıklaması için [yol şablonu başvurusu](#route-template-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-1089">See the [Route template reference](#route-template-reference) section for a thorough description of route template scenarios and syntax.</span></span>

<span data-ttu-id="07405-1090">Aşağıdaki örnekte, yol parametresi tanımı `{id:int}` `id` Route parametresi için bir [yol kısıtlaması](#route-constraint-reference) tanımlıyor:</span><span class="sxs-lookup"><span data-stu-id="07405-1090">In the following example, the route parameter definition `{id:int}` defines a [route constraint](#route-constraint-reference) for the `id` route parameter:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="07405-1091">Bu şablon `/Products/Details/17` gibi bir URL yoluyla eşleşir ancak `/Products/Details/Apples`.</span><span class="sxs-lookup"><span data-stu-id="07405-1091">This template matches a URL path like `/Products/Details/17` but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="07405-1092">Yol kısıtlamaları <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> uygular ve yol değerlerini inceleyerek onları doğrular.</span><span class="sxs-lookup"><span data-stu-id="07405-1092">Route constraints implement <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> and inspect route values to verify them.</span></span> <span data-ttu-id="07405-1093">Bu örnekte, yol değeri `id` bir tamsayıya dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1093">In this example, the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="07405-1094">Framework tarafından sunulan yol kısıtlamalarının açıklaması için bkz. [route-Constraint-Reference](#route-constraint-reference) .</span><span class="sxs-lookup"><span data-stu-id="07405-1094">See [route-constraint-reference](#route-constraint-reference) for an explanation of route constraints provided by the framework.</span></span>

<span data-ttu-id="07405-1095"><xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> ek aşırı yüklemeleri `constraints`, `dataTokens`ve `defaults`için değer kabul eder.</span><span class="sxs-lookup"><span data-stu-id="07405-1095">Additional overloads of <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="07405-1096">Bu parametrelerin tipik kullanımı, anonim türdeki özellik adlarının yol parametre adlarıyla eşleşen anonim olarak yazılmış bir nesneyi geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="07405-1096">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="07405-1097">Aşağıdaki <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> örnekleri eşdeğer yollar oluşturur:</span><span class="sxs-lookup"><span data-stu-id="07405-1097">The following <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

> [!TIP]
> <span data-ttu-id="07405-1098">Kısıtlamaları ve Varsayılanları tanımlamaya yönelik satır içi sözdizimi basit yollar için kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1098">The inline syntax for defining constraints and defaults can be convenient for simple routes.</span></span> <span data-ttu-id="07405-1099">Ancak, satır içi sözdizimi tarafından desteklenmeyen veri belirteçleri gibi senaryolar vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-1099">However, there are scenarios, such as data tokens, that aren't supported by inline syntax.</span></span>

<span data-ttu-id="07405-1100">Aşağıdaki örnek birkaç ek senaryoyu göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="07405-1100">The following example demonstrates a few additional scenarios:</span></span>

```csharp
routes.MapRoute(
    name: "blog",
    template: "Blog/{*article}",
    defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="07405-1101">Önceki şablon `/Blog/All-About-Routing/Introduction` gibi bir URL yoluyla eşleşir ve `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`değerleri ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-1101">The preceding template matches a URL path like `/Blog/All-About-Routing/Introduction` and extracts the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="07405-1102">`controller` ve `action` için varsayılan yol değerleri, şablonda karşılık gelen hiçbir yol parametresi olmasa bile yol tarafından üretilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1102">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="07405-1103">Varsayılan değerler yol şablonunda belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1103">Default values can be specified in the route template.</span></span> <span data-ttu-id="07405-1104">`article` Route parametresi, yol parametre adından önce bir yıldız işareti (`*`) görünümüne göre *catch-all* olarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1104">The `article` route parameter is defined as a *catch-all* by the appearance of an asterisk (`*`) before the route parameter name.</span></span> <span data-ttu-id="07405-1105">Catch-all yol parametreleri, URL yolunun kalanını yakalar ve boş dizeyle de aynı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1105">Catch-all route parameters capture the remainder of the URL path and can also match the empty string.</span></span>

<span data-ttu-id="07405-1106">Aşağıdaki örnek yol kısıtlamalarını ve veri belirteçlerini ekler:</span><span class="sxs-lookup"><span data-stu-id="07405-1106">The following example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="07405-1107">Önceki şablon `/en-US/Products/5` gibi bir URL yoluyla eşleşir ve `{ controller = Products, action = Details, id = 5 }` ve veri belirteçleri `{ locale = en-US }`değerleri ayıklar.</span><span class="sxs-lookup"><span data-stu-id="07405-1107">The preceding template matches a URL path like `/en-US/Products/5` and extracts the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![Yereller Windows belirteçleri](routing/_static/tokens.png)

### <a name="route-class-url-generation"></a><span data-ttu-id="07405-1109">Yol sınıfı URL 'SI oluşturma</span><span class="sxs-lookup"><span data-stu-id="07405-1109">Route class URL generation</span></span>

<span data-ttu-id="07405-1110"><xref:Microsoft.AspNetCore.Routing.Route> sınıfı, yol değerlerini bir kümesini rota şablonuyla birleştirerek URL oluşturmayı da gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1110">The <xref:Microsoft.AspNetCore.Routing.Route> class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="07405-1111">Bu, URL yolunu eşleştirmenin mantıksal bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="07405-1111">This is logically the reverse process of matching the URL path.</span></span>

> [!TIP]
> <span data-ttu-id="07405-1112">URL oluşturmayı daha iyi anlamak için, oluşturmak istediğiniz URL 'YI düşünün ve sonra bir yönlendirme şablonunun bu URL ile nasıl eşleşeceğini düşünün.</span><span class="sxs-lookup"><span data-stu-id="07405-1112">To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="07405-1113">Hangi değerler üretilemidir?</span><span class="sxs-lookup"><span data-stu-id="07405-1113">What values would be produced?</span></span> <span data-ttu-id="07405-1114">Bu, URL oluşturma 'nın <xref:Microsoft.AspNetCore.Routing.Route> sınıfında nasıl çalıştığına ilişkin kaba bir eştir.</span><span class="sxs-lookup"><span data-stu-id="07405-1114">This is the rough equivalent of how URL generation works in the <xref:Microsoft.AspNetCore.Routing.Route> class.</span></span>

<span data-ttu-id="07405-1115">Aşağıdaki örnek genel ASP.NET Core MVC varsayılan yolunu kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-1115">The following example uses a general ASP.NET Core MVC default route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="07405-1116">Yol değerleri `{ controller = Products, action = List }`, `/Products/List` URL 'SI oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-1116">With the route values `{ controller = Products, action = List }`, the URL `/Products/List` is generated.</span></span> <span data-ttu-id="07405-1117">Yol değerleri, URL yolunu biçimlendirmek için karşılık gelen yol parametrelerinin yerine kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1117">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="07405-1118">`id`, isteğe bağlı bir yol parametresi olduğundan, `id`için bir değer olmadan URL başarıyla oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-1118">Since `id` is an optional route parameter, the URL is successfully generated without a value for `id`.</span></span>

<span data-ttu-id="07405-1119">Yol değerleri `{ controller = Home, action = Index }`, `/` URL 'SI oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="07405-1119">With the route values `{ controller = Home, action = Index }`, the URL `/` is generated.</span></span> <span data-ttu-id="07405-1120">Belirtilen yol değerleri varsayılan değerlerle eşleşir ve varsayılan değerlere karşılık gelen segmentler güvenle atlanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1120">The provided route values match the default values, and the segments corresponding to the default values are safely omitted.</span></span>

<span data-ttu-id="07405-1121">Her iki URL de aşağıdaki yol tanımıyla (`/Home/Index` ve `/`) bir gidiş dönüş, URL oluşturmak için kullanılan rota değerlerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-1121">Both URLs generated round-trip with the following route definition (`/Home/Index` and `/`) produce the same route values that were used to generate the URL.</span></span>

> [!NOTE]
> <span data-ttu-id="07405-1122">ASP.NET Core MVC kullanan bir uygulama doğrudan yönlendirmeye çağırmak yerine URL oluşturmak için <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> kullanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1122">An app using ASP.NET Core MVC should use <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="07405-1123">URL oluşturma hakkında daha fazla bilgi için [URL oluşturma başvurusu](#url-generation-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-1123">For more information on URL generation, see the [Url generation reference](#url-generation-reference) section.</span></span>

## <a name="use-routing-middleware"></a><span data-ttu-id="07405-1124">Yönlendirme ara yazılımı kullanma</span><span class="sxs-lookup"><span data-stu-id="07405-1124">Use Routing Middleware</span></span>

<span data-ttu-id="07405-1125">Uygulamanın proje dosyasındaki [Microsoft. AspNetCore. app metapackage](xref:fundamentals/metapackage-app) öğesine başvurun.</span><span class="sxs-lookup"><span data-stu-id="07405-1125">Reference the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) in the app's project file.</span></span>

<span data-ttu-id="07405-1126">`Startup.ConfigureServices`' de hizmet kapsayıcısına yönlendirme ekleyin:</span><span class="sxs-lookup"><span data-stu-id="07405-1126">Add routing to the service container in `Startup.ConfigureServices`:</span></span>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

<span data-ttu-id="07405-1127">Yolların `Startup.Configure` yönteminde yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-1127">Routes must be configured in the `Startup.Configure` method.</span></span> <span data-ttu-id="07405-1128">Örnek uygulama aşağıdaki API 'Leri kullanır:</span><span class="sxs-lookup"><span data-stu-id="07405-1128">The sample app uses the following APIs:</span></span>

* <xref:Microsoft.AspNetCore.Routing.RouteBuilder>
* <span data-ttu-id="07405-1129"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; yalnızca HTTP GET istekleriyle eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1129"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> &ndash; Matches only HTTP GET requests.</span></span>
* <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

<span data-ttu-id="07405-1130">Aşağıdaki tabloda verilen URI 'Ler ile ilgili yanıtlar gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-1130">The following table shows the responses with the given URIs.</span></span>

| <span data-ttu-id="07405-1131">URI</span><span class="sxs-lookup"><span data-stu-id="07405-1131">URI</span></span>                    | <span data-ttu-id="07405-1132">Yanıtıyla</span><span class="sxs-lookup"><span data-stu-id="07405-1132">Response</span></span>                                          |
| ---------------------- | ------------------------------------------------- |
| `/package/create/3`    | <span data-ttu-id="07405-1133">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-1133">Hello!</span></span> <span data-ttu-id="07405-1134">Rota değerleri: [işlem, oluşturma], [kimlik, 3]</span><span class="sxs-lookup"><span data-stu-id="07405-1134">Route values: [operation, create], [id, 3]</span></span> |
| `/package/track/-3`    | <span data-ttu-id="07405-1135">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-1135">Hello!</span></span> <span data-ttu-id="07405-1136">Rota değerleri: [işlem, izleme], [kimlik,-3]</span><span class="sxs-lookup"><span data-stu-id="07405-1136">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/-3/`   | <span data-ttu-id="07405-1137">Herkese!</span><span class="sxs-lookup"><span data-stu-id="07405-1137">Hello!</span></span> <span data-ttu-id="07405-1138">Rota değerleri: [işlem, izleme], [kimlik,-3]</span><span class="sxs-lookup"><span data-stu-id="07405-1138">Route values: [operation, track], [id, -3]</span></span> |
| `/package/track/`      | <span data-ttu-id="07405-1139">İstek, eşleşme olmadan üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1139">The request falls through, no match.</span></span>              |
| `GET /hello/Joe`       | <span data-ttu-id="07405-1140">Merhaba, ali!</span><span class="sxs-lookup"><span data-stu-id="07405-1140">Hi, Joe!</span></span>                                          |
| `POST /hello/Joe`      | <span data-ttu-id="07405-1141">İstek üzerinden geçer, yalnızca HTTP GET ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1141">The request falls through, matches HTTP GET only.</span></span> |
| `GET /hello/Joe/Smith` | <span data-ttu-id="07405-1142">İstek, eşleşme olmadan üzerinden yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1142">The request falls through, no match.</span></span>              |

<span data-ttu-id="07405-1143">Tek bir yol yapılandırıyorsanız, bir `IRouter` örneğinde geçen <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*> çağırın.</span><span class="sxs-lookup"><span data-stu-id="07405-1143">If you're configuring a single route, call <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*> passing in an `IRouter` instance.</span></span> <span data-ttu-id="07405-1144"><xref:Microsoft.AspNetCore.Routing.RouteBuilder>kullanmanız gerekmez.</span><span class="sxs-lookup"><span data-stu-id="07405-1144">You won't need to use <xref:Microsoft.AspNetCore.Routing.RouteBuilder>.</span></span>

<span data-ttu-id="07405-1145">Çerçeve, yollar oluşturmak için bir genişletme yöntemleri kümesi sağlar (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span><span class="sxs-lookup"><span data-stu-id="07405-1145">The framework provides a set of extension methods for creating routes (<xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions>):</span></span>

* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareDelete*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareGet*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewarePut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapMiddlewareVerb*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPost*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapPut*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>
* <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>

<span data-ttu-id="07405-1146"><xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>gibi listelenen yöntemlerin bazıları <xref:Microsoft.AspNetCore.Http.RequestDelegate>gerektirir.</span><span class="sxs-lookup"><span data-stu-id="07405-1146">Some of listed methods, such as <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*>, require a <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span></span> <span data-ttu-id="07405-1147">Yol eşleştiğinde *yol işleyicisi* olarak <xref:Microsoft.AspNetCore.Http.RequestDelegate> kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1147">The <xref:Microsoft.AspNetCore.Http.RequestDelegate> is used as the *route handler* when the route matches.</span></span> <span data-ttu-id="07405-1148">Bu ailedeki diğer yöntemler, yönlendirme işleyicisi olarak kullanılmak üzere bir ara yazılım ardışık düzeni yapılandırmaya olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1148">Other methods in this family allow configuring a middleware pipeline for use as the route handler.</span></span> <span data-ttu-id="07405-1149">`Map*` yöntemi <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>gibi bir işleyiciyi kabul etmez <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1149">If the `Map*` method doesn't accept a handler, such as <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapRoute*>, it uses the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span>

<span data-ttu-id="07405-1150">`Map[Verb]` yöntemleri, yöntem adındaki HTTP fiili ile rotayı sınırlandırmak için kısıtlamaları kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1150">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="07405-1151">Örneğin, bkz. <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> ve <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span><span class="sxs-lookup"><span data-stu-id="07405-1151">For example, see <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> and <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="07405-1152">Rota şablonu başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-1152">Route template reference</span></span>

<span data-ttu-id="07405-1153">Küme ayraçları içindeki belirteçler (`{ ... }`), yol eşleştirildiği takdirde bağlanan *Rota parametrelerini* tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1153">Tokens within curly braces (`{ ... }`) define *route parameters* that are bound if the route is matched.</span></span> <span data-ttu-id="07405-1154">Bir yol segmentinde birden fazla yol parametresi tanımlayabilirsiniz, ancak bunların bir değişmez değer ile ayrılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-1154">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="07405-1155">Örneğin, `{controller}` ve `{action}`arasında değişmez değer olmadığından `{controller=Home}{action=Index}` geçerli bir yol değil.</span><span class="sxs-lookup"><span data-stu-id="07405-1155">For example, `{controller=Home}{action=Index}` isn't a valid route, since there's no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="07405-1156">Bu rota parametrelerinin bir adı olmalı ve ek öznitelikler belirtilmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1156">These route parameters must have a name and may have additional attributes specified.</span></span>

<span data-ttu-id="07405-1157">Yol parametreleri dışında (örneğin, `{id}`) ve yol ayırıcı `/` URL içindeki metinle eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="07405-1157">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="07405-1158">Metin eşleştirme, büyük/küçük harfe duyarsızdır ve URL yolunun kodu çözülmüş gösterimine göre yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1158">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="07405-1159">Değişmez değer yol parametresi sınırlayıcısından (`{` veya `}`) eşleştirmek için, karakteri (`{{` veya `}}`) tekrarlayarak sınırlayıcıdan kaçış.</span><span class="sxs-lookup"><span data-stu-id="07405-1159">To match a literal route parameter delimiter (`{` or `}`), escape the delimiter by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="07405-1160">İsteğe bağlı bir dosya uzantısına sahip bir dosya adı yakalamaya deneyen URL desenlerinin ek konuları vardır.</span><span class="sxs-lookup"><span data-stu-id="07405-1160">URL patterns that attempt to capture a file name with an optional file extension have additional considerations.</span></span> <span data-ttu-id="07405-1161">Örneğin, `files/{filename}.{ext?}`şablonu düşünün.</span><span class="sxs-lookup"><span data-stu-id="07405-1161">For example, consider the template `files/{filename}.{ext?}`.</span></span> <span data-ttu-id="07405-1162">`filename` ve `ext` değerlerinin her ikisi de varsa, her iki değer de doldurulur.</span><span class="sxs-lookup"><span data-stu-id="07405-1162">When values for both `filename` and `ext` exist, both values are populated.</span></span> <span data-ttu-id="07405-1163">URL 'de yalnızca `filename` için bir değer varsa, bitiş dönemi (`.`) isteğe bağlı olduğundan yol eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1163">If only a value for `filename` exists in the URL, the route matches because the trailing period (`.`) is  optional.</span></span> <span data-ttu-id="07405-1164">Aşağıdaki URL 'Ler bu rota ile eşleşiyor:</span><span class="sxs-lookup"><span data-stu-id="07405-1164">The following URLs match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile`

<span data-ttu-id="07405-1165">Yıldız işaretini (`*`) URI 'nin geri kalanına bağlamak için bir yol parametresinin öneki olarak kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="07405-1165">You can use the asterisk (`*`) as a prefix to a route parameter to bind to the rest of the URI.</span></span> <span data-ttu-id="07405-1166">Buna *catch-all* parametresi denir.</span><span class="sxs-lookup"><span data-stu-id="07405-1166">This is called a *catch-all* parameter.</span></span> <span data-ttu-id="07405-1167">Örneğin, `blog/{*slug}` `/blog` ile başlayan ve ondan sonraki bir değere sahip olan `slug` yol değerine atanan tüm URI ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1167">For example, `blog/{*slug}` matches any URI that starts with `/blog` and has any value following it, which is assigned to the `slug` route value.</span></span> <span data-ttu-id="07405-1168">Catch-all parametreleri boş dizeyle de aynı olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1168">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="07405-1169">Yol ayırıcısı (`/`) karakterleri de dahil olmak üzere bir URL oluşturmak için bir yol kullanıldığında, catch-all parametresi uygun karakterleri çıkar.</span><span class="sxs-lookup"><span data-stu-id="07405-1169">The catch-all parameter escapes the appropriate characters when the route is used to generate a URL, including path separator (`/`) characters.</span></span> <span data-ttu-id="07405-1170">Örneğin yol `foo/{*path}` rota değerleriyle `{ path = "my/path" }` `foo/my%2Fpath`üretir.</span><span class="sxs-lookup"><span data-stu-id="07405-1170">For example, the route `foo/{*path}` with route values `{ path = "my/path" }` generates `foo/my%2Fpath`.</span></span> <span data-ttu-id="07405-1171">Atlanan eğik çizgiye göz önünde edin.</span><span class="sxs-lookup"><span data-stu-id="07405-1171">Note the escaped forward slash.</span></span>

<span data-ttu-id="07405-1172">Yol parametrelerinin, parametre adından sonra varsayılan değer belirtilerek bir eşittir işareti (`=`) ile ayrıldıktan sonra belirlenen *varsayılan değerleri* olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1172">Route parameters may have *default values* designated by specifying the default value after the parameter name separated by an equals sign (`=`).</span></span> <span data-ttu-id="07405-1173">Örneğin, `Home` `controller`için varsayılan değer olarak `{controller=Home}` tanımlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1173">For example, `{controller=Home}` defines `Home` as the default value for `controller`.</span></span> <span data-ttu-id="07405-1174">Parametresi için URL 'de hiçbir değer yoksa varsayılan değer kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1174">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="07405-1175">Yol parametreleri, `id?`gibi parametre adının sonuna bir soru işareti (`?`) eklenerek isteğe bağlı olarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1175">Route parameters are made optional by appending a question mark (`?`) to the end of the parameter name, as in `id?`.</span></span> <span data-ttu-id="07405-1176">İsteğe bağlı değerler ve varsayılan yol parametreleri arasındaki fark, varsayılan değere sahip bir yol parametresinin her zaman bir değer ürettiğinden&mdash;isteğe bağlı bir parametre yalnızca istek URL 'SI tarafından bir değer sağlandığında bir değere sahip olur.</span><span class="sxs-lookup"><span data-stu-id="07405-1176">The difference between optional values and default route parameters is that a route parameter with a default value always produces a value&mdash;an optional parameter has a value only when a value is provided by the request URL.</span></span>

<span data-ttu-id="07405-1177">Rota parametrelerinin URL 'den bağlanan rota değeriyle eşleşmesi gereken kısıtlamaları olabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1177">Route parameters may have constraints that must match the route value bound from the URL.</span></span> <span data-ttu-id="07405-1178">Yol parametre adından sonra bir iki nokta üst üste (`:`) ve kısıtlama adının eklenmesi, bir yol parametresi üzerinde bir *satır içi kısıtlamayı* belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-1178">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="07405-1179">Kısıtlama bağımsız değişkenler gerektiriyorsa, kısıtlama adından sonra parantez (`(...)`) içine alınır.</span><span class="sxs-lookup"><span data-stu-id="07405-1179">If the constraint requires arguments, they're enclosed in parentheses (`(...)`) after the constraint name.</span></span> <span data-ttu-id="07405-1180">Birden çok satır içi kısıtlama, başka bir iki nokta (`:`) ve kısıtlama adı eklenerek belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1180">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span>

<span data-ttu-id="07405-1181">Kısıtlama adı ve bağımsız değişkenler, URL işlemede kullanılacak bir <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> örneği oluşturmak için <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> hizmetine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1181">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="07405-1182">Örneğin, yol şablonu `blog/{article:minlength(10)}`, `10`bağımsız değişkeniyle bir `minlength` kısıtlaması belirtir.</span><span class="sxs-lookup"><span data-stu-id="07405-1182">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="07405-1183">Yol kısıtlamaları ve Framework tarafından sunulan kısıtlamaların bir listesi hakkında daha fazla bilgi için, [route kısıtlama başvurusu](#route-constraint-reference) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-1183">For more information on route constraints and a list of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

<span data-ttu-id="07405-1184">Aşağıdaki tabloda örnek yol şablonları ve bunların davranışları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-1184">The following table demonstrates example route templates and their behavior.</span></span>

| <span data-ttu-id="07405-1185">Rota şablonu</span><span class="sxs-lookup"><span data-stu-id="07405-1185">Route Template</span></span>                           | <span data-ttu-id="07405-1186">Örnek eşleşen URI</span><span class="sxs-lookup"><span data-stu-id="07405-1186">Example Matching URI</span></span>    | <span data-ttu-id="07405-1187">İstek URI 'SI&hellip;</span><span class="sxs-lookup"><span data-stu-id="07405-1187">The request URI&hellip;</span></span>                                                    |
| ---------------------------------------- | ----------------------- | -------------------------------------------------------------------------- |
| `hello`                                  | `/hello`                | <span data-ttu-id="07405-1188">Yalnızca `/hello`tek yol ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1188">Only matches the single path `/hello`.</span></span>                                     |
| `{Page=Home}`                            | `/`                     | <span data-ttu-id="07405-1189">`Home``Page` eşleşir ve ayarlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1189">Matches and sets `Page` to `Home`.</span></span>                                         |
| `{Page=Home}`                            | `/Contact`              | <span data-ttu-id="07405-1190">`Contact``Page` eşleşir ve ayarlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1190">Matches and sets `Page` to `Contact`.</span></span>                                      |
| `{controller}/{action}/{id?}`            | `/Products/List`        | <span data-ttu-id="07405-1191">`Products` denetleyicisi ve `List` eylemiyle eşlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-1191">Maps to the `Products` controller and `List` action.</span></span>                       |
| `{controller}/{action}/{id?}`            | `/Products/Details/123` | <span data-ttu-id="07405-1192">`Products` denetleyicisi ve `Details` eylemine eşlenir (`id` 123 olarak ayarlanır).</span><span class="sxs-lookup"><span data-stu-id="07405-1192">Maps to the `Products` controller and  `Details` action (`id` set to 123).</span></span> |
| `{controller=Home}/{action=Index}/{id?}` | `/`                     | <span data-ttu-id="07405-1193">`Home` denetleyicisi ve `Index` yöntemiyle eşlenir (`id` yok sayılır).</span><span class="sxs-lookup"><span data-stu-id="07405-1193">Maps to the `Home` controller and `Index` method (`id` is ignored).</span></span>        |

<span data-ttu-id="07405-1194">Bir şablon kullanmak genellikle yönlendirmeye en basit yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1194">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="07405-1195">Kısıtlamalar ve varsayılanlar, yol şablonu dışında da belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1195">Constraints and defaults can also be specified outside the route template.</span></span>

> [!TIP]
> <span data-ttu-id="07405-1196"><xref:Microsoft.AspNetCore.Routing.Route>, istekleri eşleştirme gibi yerleşik yönlendirme uygulamalarının nasıl yapıldığını görmek için [günlük kaydını](xref:fundamentals/logging/index) etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="07405-1196">Enable [Logging](xref:fundamentals/logging/index) to see how the built-in routing implementations, such as <xref:Microsoft.AspNetCore.Routing.Route>, match requests.</span></span>

## <a name="reserved-routing-names"></a><span data-ttu-id="07405-1197">Ayrılmış yönlendirme adları</span><span class="sxs-lookup"><span data-stu-id="07405-1197">Reserved routing names</span></span>

<span data-ttu-id="07405-1198">Aşağıdaki anahtar sözcükler ayrılmış isimlerdir ve yol adları veya parametreler olarak kullanılamaz:</span><span class="sxs-lookup"><span data-stu-id="07405-1198">The following keywords are reserved names and can't be used as route names or parameters:</span></span>

* `action`
* `area`
* `controller`
* `handler`
* `page`

## <a name="route-constraint-reference"></a><span data-ttu-id="07405-1199">Yol kısıtlama başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-1199">Route constraint reference</span></span>

<span data-ttu-id="07405-1200">Yol kısıtlamaları, gelen URL 'de bir eşleşme meydana geldiğinde ve URL yolu yol değerlerinde simgeleştirilir yürütülür.</span><span class="sxs-lookup"><span data-stu-id="07405-1200">Route constraints execute when a match has occurred to the incoming URL and the URL path is tokenized into route values.</span></span> <span data-ttu-id="07405-1201">Rota kısıtlamaları genellikle yol şablonu aracılığıyla ilişkili rota değerini inceler ve değerin kabul edilebilir olup olmadığı konusunda bir Evet/Hayır kararı getirir.</span><span class="sxs-lookup"><span data-stu-id="07405-1201">Route constraints generally inspect the route value associated via the route template and make a yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="07405-1202">Bazı rota kısıtlamaları, isteğin yönlendirilip yönlendirilmeyeceğini göz önünde bulundurmanız için yol değeri dışındaki verileri kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1202">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="07405-1203">Örneğin <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint>, HTTP fiiline bağlı olarak bir isteği kabul edebilir veya reddedebilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1203">For example, the <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> can accept or reject a request based on its HTTP verb.</span></span> <span data-ttu-id="07405-1204">Kısıtlamalar, yönlendirme isteklerinde ve bağlantı oluşturmada kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1204">Constraints are used in routing requests and link generation.</span></span>

> [!WARNING]
> <span data-ttu-id="07405-1205">**Giriş doğrulaması**için kısıtlamaları kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="07405-1205">Don't use constraints for **input validation**.</span></span> <span data-ttu-id="07405-1206">**Giriş doğrulaması**için kısıtlamalar kullanılıyorsa, doğru bir hata iletisine sahip *400-Bad isteği* yerine *404-* olmayan bir Yanıt ile geçersiz giriş oluşur.</span><span class="sxs-lookup"><span data-stu-id="07405-1206">If constraints are used for **input validation**, invalid input results in a *404 - Not Found* response instead of a *400 - Bad Request* with an appropriate error message.</span></span> <span data-ttu-id="07405-1207">Yol kısıtlamaları, belirli bir rota için girdileri doğrulamak üzere değil, benzer yolların **belirsizliğini ortadan** kaldırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1207">Route constraints are used to **disambiguate** similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="07405-1208">Aşağıdaki tabloda örnek yol kısıtlamaları ve bunların beklenen davranışları gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-1208">The following table demonstrates example route constraints and their expected behavior.</span></span>

| <span data-ttu-id="07405-1209">kısıtlama</span><span class="sxs-lookup"><span data-stu-id="07405-1209">constraint</span></span> | <span data-ttu-id="07405-1210">Örnek</span><span class="sxs-lookup"><span data-stu-id="07405-1210">Example</span></span> | <span data-ttu-id="07405-1211">Örnek eşleşmeler</span><span class="sxs-lookup"><span data-stu-id="07405-1211">Example Matches</span></span> | <span data-ttu-id="07405-1212">Notlar</span><span class="sxs-lookup"><span data-stu-id="07405-1212">Notes</span></span> |
| ---------- | ------- | --------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="07405-1213">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="07405-1213">`123456789`, `-123456789`</span></span> | <span data-ttu-id="07405-1214">Herhangi bir tamsayıyla eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-1214">Matches any integer</span></span> |
| `bool` | `{active:bool}` | <span data-ttu-id="07405-1215">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="07405-1215">`true`, `FALSE`</span></span> | <span data-ttu-id="07405-1216">`true` veya `false` eşleşir (büyük/küçük harfe duyarsız)</span><span class="sxs-lookup"><span data-stu-id="07405-1216">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="07405-1217">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="07405-1217">`2016-12-31`, `2016-12-31 7:32pm`</span></span> | <span data-ttu-id="07405-1218">Geçerli bir `DateTime` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-1218">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="07405-1219">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="07405-1219">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="07405-1220">Geçerli bir `decimal` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-1220">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double` | `{weight:double}` | <span data-ttu-id="07405-1221">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="07405-1221">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="07405-1222">Geçerli bir `double` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-1222">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float` | `{weight:float}` | <span data-ttu-id="07405-1223">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="07405-1223">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="07405-1224">Geçerli bir `float` değeriyle eşleşir (Sabit kültür içinde, bkz. uyarı)</span><span class="sxs-lookup"><span data-stu-id="07405-1224">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid` | `{id:guid}` | <span data-ttu-id="07405-1225">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="07405-1225">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="07405-1226">Geçerli bir `Guid` değeriyle eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-1226">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="07405-1227">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="07405-1227">`123456789`, `-123456789`</span></span> | <span data-ttu-id="07405-1228">Geçerli bir `long` değeriyle eşleşir</span><span class="sxs-lookup"><span data-stu-id="07405-1228">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="07405-1229">Dize en az 4 karakter olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-1229">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="07405-1230">Dize 8 karakterden uzun olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-1230">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="07405-1231">Dize tam olarak 12 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-1231">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="07405-1232">Dize en az 8 ve en fazla 16 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-1232">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="07405-1233">Tamsayı değeri en az 18 olmalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-1233">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` | `91` | <span data-ttu-id="07405-1234">Tamsayı değeri 120 ' ten fazla olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-1234">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="07405-1235">Tamsayı değeri en az 18 olmalı ancak 120 ' ten fazla olmamalıdır</span><span class="sxs-lookup"><span data-stu-id="07405-1235">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="07405-1236">Dize bir veya daha fazla alfabetik karakterden oluşmalıdır (`a`-`z`, büyük/küçük harfe duyarsız)</span><span class="sxs-lookup"><span data-stu-id="07405-1236">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="07405-1237">Dize, normal ifadeyle eşleşmelidir (normal ifade tanımlama hakkında ipuçlarına bakın)</span><span class="sxs-lookup"><span data-stu-id="07405-1237">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required` | `{name:required}` | `Rick` | <span data-ttu-id="07405-1238">URL oluşturma sırasında parametre olmayan bir değerin mevcut olduğunu zorlamak için kullanılır</span><span class="sxs-lookup"><span data-stu-id="07405-1238">Used to enforce that a non-parameter value is present during URL generation</span></span> |

<span data-ttu-id="07405-1239">Birden çok, iki nokta üst üste sınırlı kısıtlama tek bir parametreye uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1239">Multiple, colon-delimited constraints can be applied to a single parameter.</span></span> <span data-ttu-id="07405-1240">Örneğin, aşağıdaki kısıtlama bir parametreyi 1 veya daha büyük bir tamsayı değeriyle kısıtlar:</span><span class="sxs-lookup"><span data-stu-id="07405-1240">For example, the following constraint restricts a parameter to an integer value of 1 or greater:</span></span>

```csharp
[Route("users/{id:int:min(1)}")]
public User GetUserById(int id) { }
```

> [!WARNING]
> <span data-ttu-id="07405-1241">URL 'YI doğrulayan ve bir CLR türüne (`int` veya `DateTime`) dönüştürülen yol kısıtlamaları her zaman sabit kültürü kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1241">Route constraints that verify the URL and are converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture.</span></span> <span data-ttu-id="07405-1242">Bu kısıtlamalar, URL 'nin yerelleştirilemeyen olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="07405-1242">These constraints assume that the URL is non-localizable.</span></span> <span data-ttu-id="07405-1243">Framework tarafından sunulan yol kısıtlamaları, yol değerlerinde depolanan değerleri değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="07405-1243">The framework-provided route constraints don't modify the values stored in route values.</span></span> <span data-ttu-id="07405-1244">URL 'den Ayrıştırılan tüm rota değerleri dizeler olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1244">All route values parsed from the URL are stored as strings.</span></span> <span data-ttu-id="07405-1245">Örneğin, `float` kısıtlaması yol değerini bir float öğesine dönüştürmeye çalışır, ancak dönüştürülen değer yalnızca bir float öğesine dönüştürülebileceğini doğrulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1245">For example, the `float` constraint attempts to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="07405-1246">Normal ifadeler</span><span class="sxs-lookup"><span data-stu-id="07405-1246">Regular expressions</span></span>

<span data-ttu-id="07405-1247">ASP.NET Core Framework, normal ifade oluşturucusuna `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` ekler.</span><span class="sxs-lookup"><span data-stu-id="07405-1247">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="07405-1248">Bu üyelerin açıklaması için bkz. <xref:System.Text.RegularExpressions.RegexOptions>.</span><span class="sxs-lookup"><span data-stu-id="07405-1248">See <xref:System.Text.RegularExpressions.RegexOptions> for a description of these members.</span></span>

<span data-ttu-id="07405-1249">Normal ifadeler, C# yönlendirme ve dil tarafından kullanılanlarla aynı sınırlayıcıları ve belirteçleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="07405-1249">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="07405-1250">Normal ifade belirteçlerinin atlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1250">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="07405-1251">`^\d{3}-\d{2}-\d{4}$` normal ifade ' i yönlendirmede kullanmak için, ifadede, C# kaynak `\` dosyadaki `\\` (çift ters eğik çizgi) karakter olarak belirtilen `\` (tek ters eğik çizgi) karakterlere sahip olması gerekir. karakter (tam [dize sabit değerleri](/dotnet/csharp/language-reference/keywords/string)kullanmadıkça).</span><span class="sxs-lookup"><span data-stu-id="07405-1251">To use the regular expression `^\d{3}-\d{2}-\d{4}$` in routing, the expression must have the `\` (single backslash) characters provided in the string as `\\` (double backslash) characters in the C# source file in order to escape the `\` string escape character (unless using [verbatim string literals](/dotnet/csharp/language-reference/keywords/string)).</span></span> <span data-ttu-id="07405-1252">Yönlendirme parametresi sınırlayıcı karakterlerini (`{`, `}`, `[`, `]`) atlamak için, ifadedeki karakterleri çift (`{{`, `}`, `[[`, `]]`).</span><span class="sxs-lookup"><span data-stu-id="07405-1252">To escape routing parameter delimiter characters (`{`, `}`, `[`, `]`), double the characters in the expression (`{{`, `}`, `[[`, `]]`).</span></span> <span data-ttu-id="07405-1253">Aşağıdaki tabloda, bir normal ifade ve kaçan sürümü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-1253">The following table shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="07405-1254">Normal ifade</span><span class="sxs-lookup"><span data-stu-id="07405-1254">Regular Expression</span></span>    | <span data-ttu-id="07405-1255">Kaçan normal Ifade</span><span class="sxs-lookup"><span data-stu-id="07405-1255">Escaped Regular Expression</span></span>     |
| --------------------- | ------------------------------ |
| `^\d{3}-\d{2}-\d{4}$` | `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` |
| `^[a-z]{2}$`          | `^[[a-z]]{{2}}$`               |

<span data-ttu-id="07405-1256">Yönlendirmelerde kullanılan normal ifadeler, genellikle şapka işareti (`^`) karakteriyle başlar ve dizenin başlangıç konumuyla eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1256">Regular expressions used in routing often start with the caret (`^`) character and match starting position of the string.</span></span> <span data-ttu-id="07405-1257">İfadeler genellikle dolar işareti (`$`) karakteriyle biter ve dizenin sonuyla eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1257">The expressions often end with the dollar sign (`$`) character and match end of the string.</span></span> <span data-ttu-id="07405-1258">`^` ve `$` karakterler, normal ifadenin tüm yol parametresi değeri ile eşleştiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="07405-1258">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="07405-1259">`^` ve `$` karakterleri olmadan normal ifade, dize içindeki herhangi bir alt dizeden eşleşir ve bu genellikle istenmeyen bir ifadedir.</span><span class="sxs-lookup"><span data-stu-id="07405-1259">Without the `^` and `$` characters, the regular expression match any substring within the string, which is often undesirable.</span></span> <span data-ttu-id="07405-1260">Aşağıdaki tabloda örnekler verilmektedir ve bunların eşleşmesinin neden eşleşmediği veya eşleşmemesi açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="07405-1260">The following table provides examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="07405-1261">İfade</span><span class="sxs-lookup"><span data-stu-id="07405-1261">Expression</span></span>   | <span data-ttu-id="07405-1262">Dize</span><span class="sxs-lookup"><span data-stu-id="07405-1262">String</span></span>    | <span data-ttu-id="07405-1263">Eşleştirme</span><span class="sxs-lookup"><span data-stu-id="07405-1263">Match</span></span> | <span data-ttu-id="07405-1264">Yorum</span><span class="sxs-lookup"><span data-stu-id="07405-1264">Comment</span></span>               |
| ------------ | --------- | :---: |  -------------------- |
| `[a-z]{2}`   | <span data-ttu-id="07405-1265">herkese</span><span class="sxs-lookup"><span data-stu-id="07405-1265">hello</span></span>     | <span data-ttu-id="07405-1266">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-1266">Yes</span></span>   | <span data-ttu-id="07405-1267">Alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="07405-1267">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="07405-1268">123abc456</span><span class="sxs-lookup"><span data-stu-id="07405-1268">123abc456</span></span> | <span data-ttu-id="07405-1269">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-1269">Yes</span></span>   | <span data-ttu-id="07405-1270">Alt dize eşleşmeleri</span><span class="sxs-lookup"><span data-stu-id="07405-1270">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="07405-1271">MZ</span><span class="sxs-lookup"><span data-stu-id="07405-1271">mz</span></span>        | <span data-ttu-id="07405-1272">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-1272">Yes</span></span>   | <span data-ttu-id="07405-1273">Eşleşen ifadesi</span><span class="sxs-lookup"><span data-stu-id="07405-1273">Matches expression</span></span>    |
| `[a-z]{2}`   | <span data-ttu-id="07405-1274">MZ</span><span class="sxs-lookup"><span data-stu-id="07405-1274">MZ</span></span>        | <span data-ttu-id="07405-1275">Evet</span><span class="sxs-lookup"><span data-stu-id="07405-1275">Yes</span></span>   | <span data-ttu-id="07405-1276">Büyük/küçük harfe duyarlı değil</span><span class="sxs-lookup"><span data-stu-id="07405-1276">Not case sensitive</span></span>    |
| `^[a-z]{2}$` | <span data-ttu-id="07405-1277">herkese</span><span class="sxs-lookup"><span data-stu-id="07405-1277">hello</span></span>     | <span data-ttu-id="07405-1278">Hayır</span><span class="sxs-lookup"><span data-stu-id="07405-1278">No</span></span>    | <span data-ttu-id="07405-1279">Yukarıdaki `^` ve `$` bakın</span><span class="sxs-lookup"><span data-stu-id="07405-1279">See `^` and `$` above</span></span> |
| `^[a-z]{2}$` | <span data-ttu-id="07405-1280">123abc456</span><span class="sxs-lookup"><span data-stu-id="07405-1280">123abc456</span></span> | <span data-ttu-id="07405-1281">Hayır</span><span class="sxs-lookup"><span data-stu-id="07405-1281">No</span></span>    | <span data-ttu-id="07405-1282">Yukarıdaki `^` ve `$` bakın</span><span class="sxs-lookup"><span data-stu-id="07405-1282">See `^` and `$` above</span></span> |

<span data-ttu-id="07405-1283">Normal ifade sözdizimi hakkında daha fazla bilgi için bkz. [.NET Framework normal ifadeler](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span><span class="sxs-lookup"><span data-stu-id="07405-1283">For more information on regular expression syntax, see [.NET Framework Regular Expressions](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>

<span data-ttu-id="07405-1284">Bir parametreyi bilinen olası değerler kümesiyle kısıtlamak için, normal bir ifade kullanın.</span><span class="sxs-lookup"><span data-stu-id="07405-1284">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="07405-1285">Örneğin `{action:regex(^(list|get|create)$)}`, yalnızca `action` Route değeri `list`, `get`veya `create`ile eşleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1285">For example, `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="07405-1286">Kısıtlama sözlüğüne geçirilirse dize `^(list|get|create)$` eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="07405-1286">If passed into the constraints dictionary, the string `^(list|get|create)$` is equivalent.</span></span> <span data-ttu-id="07405-1287">Bilinen kısıtlamalardan biriyle eşleşmeyen kısıtlama sözlüğüne (bir şablon içinde satır içi değil) geçirilen kısıtlamalar da normal ifadeler olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1287">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

## <a name="custom-route-constraints"></a><span data-ttu-id="07405-1288">Özel yol kısıtlamaları</span><span class="sxs-lookup"><span data-stu-id="07405-1288">Custom Route Constraints</span></span>

<span data-ttu-id="07405-1289">Yerleşik yol kısıtlamalarına ek olarak, <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> arabirimi uygulayarak özel yol kısıtlamaları oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1289">In addition to the built-in route constraints, custom route constraints can be created by implementing the <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface.</span></span> <span data-ttu-id="07405-1290"><xref:Microsoft.AspNetCore.Routing.IRouteConstraint> arabirimi, kısıtlama karşılandıysanız `true` döndüren `Match`tek bir yöntem içerir ve aksi takdirde `false`.</span><span class="sxs-lookup"><span data-stu-id="07405-1290">The <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> interface contains a single method, `Match`, which returns `true` if the constraint is satisfied and `false` otherwise.</span></span>

<span data-ttu-id="07405-1291">Özel bir <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>kullanmak için, yol kısıtlama türü uygulamanın hizmet kapsayıcısında uygulamanın <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> kayıtlı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="07405-1291">To use a custom <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>, the route constraint type must be registered with the app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> in the app's service container.</span></span> <span data-ttu-id="07405-1292"><xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>, yol kısıtlama anahtarlarını bu kısıtlamaları doğrulayan <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> uygulamalarla eşleyen bir sözlüktür.</span><span class="sxs-lookup"><span data-stu-id="07405-1292">A <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> is a dictionary that maps route constraint keys to <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> implementations that validate those constraints.</span></span> <span data-ttu-id="07405-1293">Bir uygulamanın <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>, bir hizmetin parçası olarak `Startup.ConfigureServices` güncelleştirilebilen olabilir [. AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) çağrısı veya <xref:Microsoft.AspNetCore.Routing.RouteOptions> doğrudan `services.Configure<RouteOptions>`ile yapılandırma.</span><span class="sxs-lookup"><span data-stu-id="07405-1293">An app's <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap> can be updated in `Startup.ConfigureServices` either as part of a [services.AddRouting](xref:Microsoft.Extensions.DependencyInjection.RoutingServiceCollectionExtensions.AddRouting*) call or by configuring <xref:Microsoft.AspNetCore.Routing.RouteOptions> directly with `services.Configure<RouteOptions>`.</span></span> <span data-ttu-id="07405-1294">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="07405-1294">For example:</span></span>

```csharp
services.AddRouting(options =>
{
    options.ConstraintMap.Add("customName", typeof(MyCustomConstraint));
});
```

<span data-ttu-id="07405-1295">Kısıtlama daha sonra, kısıtlama türü kaydedilirken belirtilen ad kullanılarak yollara her zamanki şekilde uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1295">The constraint can then be applied to routes in the usual manner, using the name specified when registering the constraint type.</span></span> <span data-ttu-id="07405-1296">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="07405-1296">For example:</span></span>

```csharp
[HttpGet("{id:customName}")]
public ActionResult<string> Get(string id)
```

## <a name="url-generation-reference"></a><span data-ttu-id="07405-1297">URL oluşturma başvurusu</span><span class="sxs-lookup"><span data-stu-id="07405-1297">URL generation reference</span></span>

<span data-ttu-id="07405-1298">Aşağıdaki örnek, yol değerlerinin bir sözlüğü ve bir <xref:Microsoft.AspNetCore.Routing.RouteCollection>için bir yol bağlantısının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="07405-1298">The following example shows how to generate a link to a route given a dictionary of route values and a <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span></span>

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

<span data-ttu-id="07405-1299">Yukarıdaki örnek sonunda oluşturulan <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> `/package/create/123`.</span><span class="sxs-lookup"><span data-stu-id="07405-1299">The <xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath> generated at the end of the preceding sample is `/package/create/123`.</span></span> <span data-ttu-id="07405-1300">Sözlük, "paket yolunu Izle" şablonunun `package/{operation}/{id}``operation` ve `id` yol değerlerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1300">The dictionary supplies the `operation` and `id` route values of the "Track Package Route" template, `package/{operation}/{id}`.</span></span> <span data-ttu-id="07405-1301">Ayrıntılar için, [yönlendirme ara yazılımı kullanma](#use-routing-middleware) bölümünde veya [örnek uygulamada](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples)örnek koda bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-1301">For details, see the sample code in the [Use Routing Middleware](#use-routing-middleware) section or the [sample app](https://github.com/aspnet/AspNetCore.Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span></span>

<span data-ttu-id="07405-1302"><xref:Microsoft.AspNetCore.Routing.VirtualPathContext> oluşturucusunun ikinci parametresi bir *ortam değerleri*koleksiyonudur.</span><span class="sxs-lookup"><span data-stu-id="07405-1302">The second parameter to the <xref:Microsoft.AspNetCore.Routing.VirtualPathContext> constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="07405-1303">Ortam değerleri, bir geliştiricinin bir istek bağlamı içinde belirtmesi gereken değer sayısını sınırlandırdığından kullanım için uygundur.</span><span class="sxs-lookup"><span data-stu-id="07405-1303">Ambient values are convenient to use because they limit the number of values a developer must specify within a request context.</span></span> <span data-ttu-id="07405-1304">Geçerli isteğin geçerli yol değerleri, bağlantı oluşturma için çevresel değerler olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="07405-1304">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="07405-1305">ASP.NET Core MVC uygulamasının `HomeController``About` eyleminde,&mdash;ortam değeri `Home` `Index` eyleme bağlamak için denetleyici yolu değerini belirtmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="07405-1305">In an ASP.NET Core MVC app's `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action&mdash;the ambient value of `Home` is used.</span></span>

<span data-ttu-id="07405-1306">Bir parametreyle eşleşmeyen çevresel değerler yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1306">Ambient values that don't match a parameter are ignored.</span></span> <span data-ttu-id="07405-1307">Ayrıca, açıkça sağlanmış bir değer çevresel değeri geçersiz kıldığında çevresel değerler de yoksayılır.</span><span class="sxs-lookup"><span data-stu-id="07405-1307">Ambient values are also ignored when an explicitly provided value overrides the ambient value.</span></span> <span data-ttu-id="07405-1308">Eşleştirme, URL 'de soldan sağa doğru gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="07405-1308">Matching occurs from left to right in the URL.</span></span>

<span data-ttu-id="07405-1309">Açık olarak sağlanmış ancak yolun bir segmentiyle eşleşmeyen değerler sorgu dizesine eklenir.</span><span class="sxs-lookup"><span data-stu-id="07405-1309">Values explicitly provided but that don't match a segment of the route are added to the query string.</span></span> <span data-ttu-id="07405-1310">Aşağıdaki tabloda `{controller}/{action}/{id?}`yol şablonu kullanılırken sonuç gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="07405-1310">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="07405-1311">Çevresel değerler</span><span class="sxs-lookup"><span data-stu-id="07405-1311">Ambient Values</span></span>                     | <span data-ttu-id="07405-1312">Açık değerler</span><span class="sxs-lookup"><span data-stu-id="07405-1312">Explicit Values</span></span>                        | <span data-ttu-id="07405-1313">Sonuç</span><span class="sxs-lookup"><span data-stu-id="07405-1313">Result</span></span>                  |
| ---------------------------------- | -------------------------------------- | ----------------------- |
| <span data-ttu-id="07405-1314">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-1314">controller = "Home"</span></span>                | <span data-ttu-id="07405-1315">Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-1315">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="07405-1316">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-1316">controller = "Home"</span></span>                | <span data-ttu-id="07405-1317">denetleyici = "Order", Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-1317">controller = "Order", action = "About"</span></span> | `/Order/About`          |
| <span data-ttu-id="07405-1318">denetleyici = "giriş", renk = "kırmızı"</span><span class="sxs-lookup"><span data-stu-id="07405-1318">controller = "Home", color = "Red"</span></span> | <span data-ttu-id="07405-1319">Action = "hakkında"</span><span class="sxs-lookup"><span data-stu-id="07405-1319">action = "About"</span></span>                       | `/Home/About`           |
| <span data-ttu-id="07405-1320">denetleyici = "giriş"</span><span class="sxs-lookup"><span data-stu-id="07405-1320">controller = "Home"</span></span>                | <span data-ttu-id="07405-1321">Action = "hakkında", color = "Red"</span><span class="sxs-lookup"><span data-stu-id="07405-1321">action = "About", color = "Red"</span></span>        | `/Home/About?color=Red` |

<span data-ttu-id="07405-1322">Bir rotada bir parametreye karşılık gelen bir varsayılan değer varsa ve bu değer açıkça sağlanmışsa, varsayılan değerle eşleşmelidir:</span><span class="sxs-lookup"><span data-stu-id="07405-1322">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
    defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="07405-1323">Bağlantı oluşturma yalnızca `controller` ve `action` için eşleşen değerler sağlandığında bu yol için bir bağlantı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="07405-1323">Link generation only generates a link for this route when the matching values for `controller` and `action` are provided.</span></span>

## <a name="complex-segments"></a><span data-ttu-id="07405-1324">Karmaşık segmentler</span><span class="sxs-lookup"><span data-stu-id="07405-1324">Complex segments</span></span>

<span data-ttu-id="07405-1325">Karmaşık segmentler (örneğin `[Route("/x{token}y")]`), sabit değerli olmayan değişmez değerler ile sağdan sola eşleştirilirken işlenir.</span><span class="sxs-lookup"><span data-stu-id="07405-1325">Complex segments (for example `[Route("/x{token}y")]`) are processed by matching up literals from right to left in a non-greedy way.</span></span> <span data-ttu-id="07405-1326">Karmaşık segmentlerin nasıl eşleştirileceği hakkında ayrıntılı bir açıklama için [bu koda](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) bakın.</span><span class="sxs-lookup"><span data-stu-id="07405-1326">See [this code](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) for a detailed explanation of how complex segments are matched.</span></span> <span data-ttu-id="07405-1327">[Kod örneği](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) ASP.NET Core tarafından kullanılmaz, ancak karmaşık segmentler hakkında iyi bir açıklama sağlar.</span><span class="sxs-lookup"><span data-stu-id="07405-1327">The [code sample](https://github.com/aspnet/AspNetCore/blob/release/2.2/src/Http/Routing/src/Patterns/RoutePatternMatcher.cs#L293) is not used by ASP.NET Core, but it provides a good explanation of complex segments.</span></span>
<!-- While that code is no longer used by ASP.NET Core for complex segment matching, it provides a good match to the current algorithm. The [current code](https://github.com/aspnet/AspNetCore/blob/91514c9af7e0f4c44029b51f05a01c6fe4c96e4c/src/Http/Routing/src/Matching/DfaMatcherBuilder.cs#L227-L244) is too abstracted from matching to be useful for understanding complex segment matching.
-->

::: moniker-end

---
title: "ASP.NET çekirdek yönlendirme"
author: ardalis
description: "ASP.NET Core yönlendirme işlevini nasıl gelen istek yönlendirme işleyicisine eşlemek için sorumlu olduğu bulur."
keywords: "ASP.NET Çekirdeği"
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.assetid: bbbcf9e4-3c4c-4f50-b91e-175fe9cae4e2
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/routing
ms.openlocfilehash: 58388f674ed5d353c1c7208a67fb338e49fdb592
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/10/2017
---
# <a name="routing-in-aspnet-core"></a><span data-ttu-id="57f31-104">ASP.NET çekirdek yönlendirme</span><span class="sxs-lookup"><span data-stu-id="57f31-104">Routing in ASP.NET Core</span></span>

<span data-ttu-id="57f31-105">Tarafından [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), ve [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="57f31-105">By [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="57f31-106">Gelen istek yönlendirme işleyicisine eşlemek için yönlendirme işlevi sorumludur.</span><span class="sxs-lookup"><span data-stu-id="57f31-106">Routing functionality is responsible for mapping an incoming request to a route handler.</span></span> <span data-ttu-id="57f31-107">Yollar ASP.NET uygulamasında tanımlanır ve uygulama başladığında yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="57f31-107">Routes are defined in the ASP.NET app and configured when the app starts up.</span></span> <span data-ttu-id="57f31-108">Bir rota, istekte bulunan URL'den değerleri isteğe bağlı olarak ayıklayabilirsiniz ve bu değerleri daha sonra isteği işleme için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-108">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="57f31-109">ASP.NET Uygulama yolu bilgileri kullanarak, yönlendirme işlevi de rota işleyicilere eşleme URL'leri oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-109">Using route information from the ASP.NET app, the routing functionality is also able to generate URLs that map to route handlers.</span></span> <span data-ttu-id="57f31-110">Bu nedenle, yönlendirme bir URL veya yol işleyicisi bilgilere göre belirli bir rota işleyicisi karşılık gelen URL göre bir rota işleyiciye bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-110">Therefore, routing can find a route handler based on a URL, or the URL corresponding to a given route handler based on route handler information.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="57f31-111">Bu belge yönlendirme düşük düzey ASP.NET Core kapsar.</span><span class="sxs-lookup"><span data-stu-id="57f31-111">This document covers the low level ASP.NET Core routing.</span></span> <span data-ttu-id="57f31-112">ASP.NET Core MVC yönlendirme için bkz: [denetleyici eylemleri için yönlendirme](../mvc/controllers/routing.md)</span><span class="sxs-lookup"><span data-stu-id="57f31-112">For ASP.NET Core MVC routing, see [Routing to Controller Actions](../mvc/controllers/routing.md)</span></span>

<span data-ttu-id="57f31-113">[Görüntülemek veya karşıdan örnek kod](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/sample) ([nasıl indirileceğini](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="57f31-113">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="57f31-114">Yönlendirme Temelleri</span><span class="sxs-lookup"><span data-stu-id="57f31-114">Routing basics</span></span>

<span data-ttu-id="57f31-115">Yönlendirme kullanır *yollar* (uygulamaları [IRouter](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.routing.irouter)) için:</span><span class="sxs-lookup"><span data-stu-id="57f31-115">Routing uses *routes* (implementations of [IRouter](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.routing.irouter)) to:</span></span>

* <span data-ttu-id="57f31-116">gelen istekleri eşleme *rota işleyicileri*</span><span class="sxs-lookup"><span data-stu-id="57f31-116">map incoming requests to *route handlers*</span></span>

* <span data-ttu-id="57f31-117">yanıtları kullanılan URL üretmek</span><span class="sxs-lookup"><span data-stu-id="57f31-117">generate URLs used in responses</span></span>

<span data-ttu-id="57f31-118">Genellikle, bir uygulamanın tek bir rota koleksiyonu yok.</span><span class="sxs-lookup"><span data-stu-id="57f31-118">Generally, an app has a single collection of routes.</span></span> <span data-ttu-id="57f31-119">Bir istek ulaştığında rota koleksiyonu sırada işlenir.</span><span class="sxs-lookup"><span data-stu-id="57f31-119">When a request arrives, the route collection is processed in order.</span></span> <span data-ttu-id="57f31-120">Gelen istek çağırarak istek URL'si eşleşen bir yol arar `RouteAsync` rota koleksiyonu içinde kullanılabilir her rotada yöntemi.</span><span class="sxs-lookup"><span data-stu-id="57f31-120">The incoming request looks for a route that matches the request URL by calling the `RouteAsync` method on each available route in the route collection.</span></span> <span data-ttu-id="57f31-121">Bunun aksine, bir yanıt rota bilgilerine dayalı URL (örneğin, yeniden yönlendirme veya bağlantılar) üretmek için yönlendirme kullanın ve bu nedenle sabit kodlu URL'lere Bakımı yardımcı olan olmamasına özen gösterin.</span><span class="sxs-lookup"><span data-stu-id="57f31-121">By contrast, a response can use routing to generate URLs (for example, for redirection or links) based on route information, and thus avoid having to hard-code URLs, which helps maintainability.</span></span>

<span data-ttu-id="57f31-122">Yönlendirme bağlı [ara yazılımı](middleware.md) tarafından kanal `RouterMiddleware` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="57f31-122">Routing is connected to the [middleware](middleware.md) pipeline by the `RouterMiddleware` class.</span></span> <span data-ttu-id="57f31-123">[ASP.NET MVC](../mvc/overview.md) yapılandırmasına bir parçası olarak ara yazılım ardışık düzene yönlendirme ekler.</span><span class="sxs-lookup"><span data-stu-id="57f31-123">[ASP.NET MVC](../mvc/overview.md) adds routing to the middleware pipeline as part of its configuration.</span></span> <span data-ttu-id="57f31-124">Bir tek başına bileşeni olarak Yönlendirme kullanma hakkında bilgi edinmek için bkz: [kullanarak-yönlendirme-Ara](#using-routing-middleware).</span><span class="sxs-lookup"><span data-stu-id="57f31-124">To learn about using routing as a standalone component, see [using-routing-middleware](#using-routing-middleware).</span></span>

<a name="url-matching-ref"></a>

### <a name="url-matching"></a><span data-ttu-id="57f31-125">URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="57f31-125">URL matching</span></span>

<span data-ttu-id="57f31-126">URL ile eşleşen işlemidir tarafından hangi yönlendirme gönderileri gelen bir istek için bir *işleyici*.</span><span class="sxs-lookup"><span data-stu-id="57f31-126">URL matching is the process by which routing dispatches an incoming request to a *handler*.</span></span> <span data-ttu-id="57f31-127">Bu işlem genellikle URL yolunu verilerde bağlıdır, ancak istekteki herhangi bir veri dikkate alınması gereken genişletilmiş.</span><span class="sxs-lookup"><span data-stu-id="57f31-127">This process is generally based on data in the URL path, but can be extended to consider any data in the request.</span></span> <span data-ttu-id="57f31-128">İşleyicileri ayırmak için istekleri gönderme olanağı, boyutu ve karmaşıklığı bir uygulamanın Ölçeklendirmesi anahtardır.</span><span class="sxs-lookup"><span data-stu-id="57f31-128">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an application.</span></span>

<span data-ttu-id="57f31-129">Gelen istekleri girin `RouterMiddleware`, çağıran `RouteAsync` dizisindeki her rotada yöntemi.</span><span class="sxs-lookup"><span data-stu-id="57f31-129">Incoming requests enter the `RouterMiddleware`, which calls the `RouteAsync` method on each route in sequence.</span></span> <span data-ttu-id="57f31-130">`IRouter` Örneği seçer kullanılıp kullanılmayacağını *işlemek* ayarlayarak isteği `RouteContext.Handler` NULL olmayan `RequestDelegate`.</span><span class="sxs-lookup"><span data-stu-id="57f31-130">The `IRouter` instance chooses whether to *handle* the request by setting the `RouteContext.Handler` to a non-null `RequestDelegate`.</span></span> <span data-ttu-id="57f31-131">Bir rota isteği için bir işleyici ayarlarsa, işlem durur ve işleyici rota isteğini işlemek için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-131">If a route sets a handler for the request, route processing stops and the handler will be invoked to process the request.</span></span> <span data-ttu-id="57f31-132">Tüm yollar denedi ve istek için hiçbir işleyici bulunamadı, ara yazılım çağırır *sonraki* ve istek ardışık düzende sonraki ara yazılımı çağrılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-132">If all routes are tried and no handler is found for the request, the middleware calls *next* and the next middleware in the request pipeline is invoked.</span></span>

<span data-ttu-id="57f31-133">İçin birincil giriş `RouteAsync` olan `RouteContext.HttpContext` geçerli istekle ilişkilendirilmiş.</span><span class="sxs-lookup"><span data-stu-id="57f31-133">The primary input to `RouteAsync` is the `RouteContext.HttpContext` associated with the current request.</span></span> <span data-ttu-id="57f31-134">`RouteContext.Handler` Ve `RouteContext.RouteData` bir rotayla eşleşen sonra ayarlanacak çıkışları şunlardır.</span><span class="sxs-lookup"><span data-stu-id="57f31-134">The `RouteContext.Handler` and `RouteContext.RouteData` are outputs that will be set after a route matches.</span></span>

<span data-ttu-id="57f31-135">Bir eşleşme sırasında `RouteAsync` özelliklerini de ayarlayacaktır `RouteContext.RouteData` kadar gerçekleştirilen istek işlemenin göre uygun değerlere.</span><span class="sxs-lookup"><span data-stu-id="57f31-135">A match during `RouteAsync` will also set the properties of the `RouteContext.RouteData` to appropriate values based on the request processing done so far.</span></span> <span data-ttu-id="57f31-136">Yol bir istek eşleşirse `RouteContext.RouteData` hakkındaki önemli durum bilgileri içeren *sonuç*.</span><span class="sxs-lookup"><span data-stu-id="57f31-136">If a route matches a request, the `RouteContext.RouteData` will contain important state information about the *result*.</span></span>

<span data-ttu-id="57f31-137">`RouteData.Values`bir dictionary'si *rota değerleri* rotadaki üretilen.</span><span class="sxs-lookup"><span data-stu-id="57f31-137">`RouteData.Values` is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="57f31-138">Bu değerler genellikle URL tokenizing tarafından belirlenir ve kullanıcı girişi kabul etmek veya daha fazla dağıtırken kararları uygulama için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-138">These values are usually determined by tokenizing the URL, and can be used to accept user input, or to make further dispatching decisions inside the application.</span></span>

<span data-ttu-id="57f31-139">`RouteData.DataTokens`eşlenen rotaya ilgili ek veriler bir özellik paketi değil.</span><span class="sxs-lookup"><span data-stu-id="57f31-139">`RouteData.DataTokens`  is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="57f31-140">`DataTokens`uygulama daha sonra rota dayalı kararlar şekilde her yol verilerle eşleşen özellikle görüntüyle durumunu desteklemek için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="57f31-140">`DataTokens` are provided to support associating state data with each route so the application can make decisions later based on which route matched.</span></span> <span data-ttu-id="57f31-141">Bu değerler geliştirici tarafından tanımlanan ve yapmak **değil** herhangi bir şekilde yönlendirme davranışını etkiler.</span><span class="sxs-lookup"><span data-stu-id="57f31-141">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="57f31-142">Ayrıca, veri belirteçleri gizli değerleri dizeler gelen ve giden kolayca dönüştürülebilir olmalıdır rota değerleri aksine herhangi bir türde olabilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-142">Additionally, values stashed in data tokens can be of any type, in contrast to route values, which must be easily convertible to and from strings.</span></span>

<span data-ttu-id="57f31-143">`RouteData.Routers`istek başarıyla eşleşen yer aldığı rotaları listesidir.</span><span class="sxs-lookup"><span data-stu-id="57f31-143">`RouteData.Routers` is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="57f31-144">Yollar iç içe geçirilemez birbirine içinde ve `Routers` özellik mantıksal ağacının bir eşleşme ile sonuçlandı yolların üzerinden yolu gösterir.</span><span class="sxs-lookup"><span data-stu-id="57f31-144">Routes can be nested inside one another, and the `Routers` property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="57f31-145">Listedeki ilk öğe genellikle `Routers` rota koleksiyonu ve URL üretmek için kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-145">Generally the first item in `Routers` is the route collection, and should be used for URL generation.</span></span> <span data-ttu-id="57f31-146">Son öğenin `Routers` eşleşen rota işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="57f31-146">The last item in `Routers` is the route handler that matched.</span></span>

### <a name="url-generation"></a><span data-ttu-id="57f31-147">URL oluşturma</span><span class="sxs-lookup"><span data-stu-id="57f31-147">URL generation</span></span>

<span data-ttu-id="57f31-148">URL oluşturma işlemidir hangi yönlendirerek rota değerleri kümesine göre bir URL yolu oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-148">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="57f31-149">Bu, işleyicileri ve bunlara erişim URL'leri arasında mantıksal ayrım sağlar.</span><span class="sxs-lookup"><span data-stu-id="57f31-149">This allows for a logical separation between your handlers and the URLs that access them.</span></span>

<span data-ttu-id="57f31-150">URL üretmek için benzer bir yinelemeli işlem takip eder, ancak bu çağırma kullanıcı ya da framework kodu ile başlayan `GetVirtualPath` yöntemi rota koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="57f31-150">URL generation follows a similar iterative process, but starts with user or framework code calling into the `GetVirtualPath` method of the route collection.</span></span> <span data-ttu-id="57f31-151">Her *rota* sonra olacaktır, `GetVirtualPath` yöntemi null olmayan bir kadar sırayla adlı `VirtualPathData` döndürülür.</span><span class="sxs-lookup"><span data-stu-id="57f31-151">Each *route* will then have its `GetVirtualPath` method called in sequence until a non-null `VirtualPathData` is returned.</span></span>

<span data-ttu-id="57f31-152">Birincil girdi için `GetVirtualPath` şunlardır:</span><span class="sxs-lookup"><span data-stu-id="57f31-152">The primary inputs to `GetVirtualPath` are:</span></span>

* `VirtualPathContext.HttpContext`

* `VirtualPathContext.Values`

* `VirtualPathContext.AmbientValues`

<span data-ttu-id="57f31-153">Yollar öncelikle tarafından sağlanan rota değerleri kullanmak `Values` ve `AmbientValues` bir URL'yi oluşturmak mümkün olduğu ve ne eklenecek değerleri karar vermek için.</span><span class="sxs-lookup"><span data-stu-id="57f31-153">Routes primarily use the route values provided by the `Values` and `AmbientValues` to decide where it is possible to generate a URL and what values to include.</span></span> <span data-ttu-id="57f31-154">`AmbientValues` Yönlendirme sistem geçerli istekle eşleşen üretilen rota değerleri kümesidir.</span><span class="sxs-lookup"><span data-stu-id="57f31-154">The `AmbientValues` are the set of route values that were produced from matching the current request with the routing system.</span></span> <span data-ttu-id="57f31-155">Buna karşılık, `Values` geçerli işlem için istenen URL'yi oluşturmak nasıl belirtin rota değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="57f31-155">In contrast, `Values` are the route values that specify how to generate the desired URL for the current operation.</span></span> <span data-ttu-id="57f31-156">`HttpContext` Hizmetleri ya da geçerli bağlamla ilişkili ek veri almak bir yol ihtiyacı kalmadığında sağlanır.</span><span class="sxs-lookup"><span data-stu-id="57f31-156">The `HttpContext` is provided in case a route needs to get services or additional data associated with the current context.</span></span>

<span data-ttu-id="57f31-157">İpucu: düşünmek `Values` geçersiz kılmalar için bir dizi olarak `AmbientValues`.</span><span class="sxs-lookup"><span data-stu-id="57f31-157">Tip: Think of `Values` as being a set of overrides for the `AmbientValues`.</span></span> <span data-ttu-id="57f31-158">URL üretmek için bağlantıları aynı yol ya da rota değerlerini kullanarak URL üretmek kolaylaştırmak için geçerli istek rota değerleri yeniden dener.</span><span class="sxs-lookup"><span data-stu-id="57f31-158">URL generation tries to reuse route values from the current request to make it easy to generate URLs for links using the same route or route values.</span></span>

<span data-ttu-id="57f31-159">Çıktısını `GetVirtualPath` olan bir `VirtualPathData`.</span><span class="sxs-lookup"><span data-stu-id="57f31-159">The output of `GetVirtualPath` is a `VirtualPathData`.</span></span> <span data-ttu-id="57f31-160">`VirtualPathData`paralel olarak olan `RouteData`; içerdiği `VirtualPath` rota tarafından ayarlanması bazı ek özellikler yanı sıra çıkış URL.</span><span class="sxs-lookup"><span data-stu-id="57f31-160">`VirtualPathData` is a parallel of `RouteData`; it contains the `VirtualPath` for the output URL as well as the some additional properties that should be set by the route.</span></span>

<span data-ttu-id="57f31-161">`VirtualPathData.VirtualPath` Özelliği içeren *sanal yol* rota tarafından üretilen.</span><span class="sxs-lookup"><span data-stu-id="57f31-161">The `VirtualPathData.VirtualPath` property contains the *virtual path* produced by the route.</span></span> <span data-ttu-id="57f31-162">Gereksinimlerinize bağlı olarak yol daha fazla işlem gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-162">Depending on your needs you may need to process the path further.</span></span> <span data-ttu-id="57f31-163">Örneğin, HTML oluşturulan URL'yi oluşturmak istiyorsanız, uygulamanın taban yolu başına gerekir.</span><span class="sxs-lookup"><span data-stu-id="57f31-163">For instance, if you want to render the generated URL in HTML you need to prepend the base path of the application.</span></span>

<span data-ttu-id="57f31-164">`VirtualPathData.Router` Başarıyla URL oluşturulan rota başvurudur.</span><span class="sxs-lookup"><span data-stu-id="57f31-164">The `VirtualPathData.Router` is a reference to the route that successfully generated the URL.</span></span>

<span data-ttu-id="57f31-165">`VirtualPathData.DataTokens` Özellikleri olan bir URL oluşturulan rota ilgili ek veri sözlüğü.</span><span class="sxs-lookup"><span data-stu-id="57f31-165">The `VirtualPathData.DataTokens` properties is a dictionary of additional data related to the route that generated the URL.</span></span> <span data-ttu-id="57f31-166">Paralel olarak budur `RouteData.DataTokens`.</span><span class="sxs-lookup"><span data-stu-id="57f31-166">This is the parallel of `RouteData.DataTokens`.</span></span>

### <a name="creating-routes"></a><span data-ttu-id="57f31-167">Yollar oluşturma</span><span class="sxs-lookup"><span data-stu-id="57f31-167">Creating routes</span></span>

<span data-ttu-id="57f31-168">Yönlendirme sağlar `Route` sınıf standart uygulaması olarak `IRouter`.</span><span class="sxs-lookup"><span data-stu-id="57f31-168">Routing provides the `Route` class as the standard implementation of `IRouter`.</span></span> <span data-ttu-id="57f31-169">`Route`kullanan *rota şablonu* karşı URL yolu ile eşleşir desenlerini tanımlamak için sözdizimi zaman `RouteAsync` olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-169">`Route` uses the *route template* syntax to define patterns that will match against the URL path when `RouteAsync` is called.</span></span> <span data-ttu-id="57f31-170">`Route`aynı yol şablonu bir URL oluşturmak için kullanacağı zaman `GetVirtualPath` olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-170">`Route` will use the same route template to generate a URL when `GetVirtualPath` is called.</span></span>

<span data-ttu-id="57f31-171">Çoğu uygulama çağırarak yollar oluşturacak `MapRoute` veya tanımlanan benzer genişletme yöntemleri `IRouteBuilder`.</span><span class="sxs-lookup"><span data-stu-id="57f31-171">Most applications will create routes by calling `MapRoute` or one of the similar extension methods defined on `IRouteBuilder`.</span></span> <span data-ttu-id="57f31-172">Bu yöntemlerin örneğini oluşturacak `Route` ve rota koleksiyonuna ekleyin.</span><span class="sxs-lookup"><span data-stu-id="57f31-172">All of these methods will create an instance of `Route` and add it to the route collection.</span></span>

<span data-ttu-id="57f31-173">Not: `MapRoute` bir rota işleyicisi parametresini - almaz yalnızca tarafından işlenen rotalar ekler `DefaultHandler`.</span><span class="sxs-lookup"><span data-stu-id="57f31-173">Note: `MapRoute` doesn't take a route handler parameter - it only adds routes that will be handled by the `DefaultHandler`.</span></span> <span data-ttu-id="57f31-174">Varsayılan işleyici olduğundan bir `IRouter`, istek işleme değil karar verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-174">Since the default handler is an `IRouter`, it may decide not to handle the request.</span></span> <span data-ttu-id="57f31-175">Örneğin, yalnızca işleme bir varsayılan işleyici eşleşen bir kullanılabilir denetleyici ve eylem istekleri gibi ASP.NET MVC genellikle yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-175">For example, ASP.NET MVC is typically configured as a default handler that only handles requests that match an available controller and action.</span></span> <span data-ttu-id="57f31-176">MVC için yönlendirme hakkında daha fazla bilgi için bkz: [denetleyici eylemleri için yönlendirme](../mvc/controllers/routing.md).</span><span class="sxs-lookup"><span data-stu-id="57f31-176">To learn more about routing to MVC, see [Routing to Controller Actions](../mvc/controllers/routing.md).</span></span>

<span data-ttu-id="57f31-177">Bu bir örnektir bir `MapRoute` tipik bir ASP.NET MVC rota tanımı tarafından kullanılan çağrısı:</span><span class="sxs-lookup"><span data-stu-id="57f31-177">This is an example of a `MapRoute` call used by a typical ASP.NET MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="57f31-178">Bu şablon bir URL yolu gibi eşleşir `/Products/Details/17` ve rota değerlerini ayıklayın `{ controller = Products, action = Details, id = 17 }`.</span><span class="sxs-lookup"><span data-stu-id="57f31-178">This template will match a URL path like `/Products/Details/17` and extract the route values `{ controller = Products, action = Details, id = 17 }`.</span></span> <span data-ttu-id="57f31-179">Rota değerlerini ve URL yolunu kesimler halinde bölme ve her segment ile eşleşen tarafından belirlenen *parametresi rota* rota şablonu adı.</span><span class="sxs-lookup"><span data-stu-id="57f31-179">The route values are determined by splitting the URL path into segments, and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="57f31-180">Rota parametrelerine olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-180">Route parameters are named.</span></span> <span data-ttu-id="57f31-181">Parametre adı kaşlı ayraç içinde kapsayan tarafından tanımlanan `{ }`.</span><span class="sxs-lookup"><span data-stu-id="57f31-181">They are defined by enclosing the parameter name in braces `{ }`.</span></span>

<span data-ttu-id="57f31-182">Yukarıdaki şablonu URL yolunu eşleşen `/` ve değerleri msgıd `{ controller = Home, action = Index }`.</span><span class="sxs-lookup"><span data-stu-id="57f31-182">The template above could also match the URL path `/` and would produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="57f31-183">Çünkü böyle `{controller}` ve `{action}` rota parametrelerinin varsayılan değerlere sahip ve `id` rota parametresinin isteğe bağlı.</span><span class="sxs-lookup"><span data-stu-id="57f31-183">This happens because the `{controller}` and `{action}` route parameters have default values, and the `id` route parameter is optional.</span></span> <span data-ttu-id="57f31-184">Bir eşittir `=` oturum ve ardından bir değerle sonra rota parametresi adı parametresi için varsayılan bir değer tanımlar.</span><span class="sxs-lookup"><span data-stu-id="57f31-184">An equals `=` sign followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="57f31-185">Bir soru işareti `?` sonra rota parametresi adı parametre isteğe bağlı olarak tanımlar.</span><span class="sxs-lookup"><span data-stu-id="57f31-185">A question mark `?` after the route parameter name defines the parameter as optional.</span></span> <span data-ttu-id="57f31-186">Rota parametrelerinin varsayılan bir değerle *her zaman* bir yönlendirme değeri üretmek rotayla eşleşen - isteğe bağlı parametreler değil oluşturacak bir yönlendirme değeri hiçbir karşılık gelen URL yol kesimi ise olduğunda.</span><span class="sxs-lookup"><span data-stu-id="57f31-186">Route parameters with a default value *always* produce a route value when the route matches - optional parameters will not produce a route value if there was no corresponding URL path segment.</span></span>

<span data-ttu-id="57f31-187">Bkz: [rota şablon başvurusu](#route-template-reference) rota şablonu özellikleri ve sözdizimi kapsamlı açıklaması.</span><span class="sxs-lookup"><span data-stu-id="57f31-187">See [route-template-reference](#route-template-reference) for a thorough description of route template features and syntax.</span></span>

<span data-ttu-id="57f31-188">Bu örnek içeren bir *rota kısıtlaması*:</span><span class="sxs-lookup"><span data-stu-id="57f31-188">This example includes a *route constraint*:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="57f31-189">Bu şablon bir URL yolu gibi eşleşir `/Products/Details/17`, ama `/Products/Details/Apples`.</span><span class="sxs-lookup"><span data-stu-id="57f31-189">This template will match a URL path like `/Products/Details/17`, but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="57f31-190">Rota parametresi tanımı `{id:int}` tanımlayan bir *rota kısıtlaması* için `id` parametre rota.</span><span class="sxs-lookup"><span data-stu-id="57f31-190">The route parameter definition `{id:int}` defines a *route constraint* for the `id` route parameter.</span></span> <span data-ttu-id="57f31-191">Rota kısıtlamalarını uygulamak `IRouteConstraint` ve onları doğrulamak için rota değerleri inceleyin.</span><span class="sxs-lookup"><span data-stu-id="57f31-191">Route constraints implement `IRouteConstraint` and inspect route values to verify them.</span></span> <span data-ttu-id="57f31-192">Bu örnekte rota değeri `id` tamsayıya dönüştürülebilir olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-192">In this example the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="57f31-193">Bkz: [rota kısıtlaması başvurusu](#route-constraint-reference) framework tarafından sağlanan rota kısıtlamalarını daha ayrıntılı bir açıklaması için.</span><span class="sxs-lookup"><span data-stu-id="57f31-193">See [route-constraint-reference](#route-constraint-reference) for a more detailed explanation of route constraints that are provided by the framework.</span></span>

<span data-ttu-id="57f31-194">Ek aşırı `MapRoute` değerleri kabul `constraints`, `dataTokens`, ve `defaults`.</span><span class="sxs-lookup"><span data-stu-id="57f31-194">Additional overloads of `MapRoute` accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="57f31-195">Bu ek parametreler, `MapRoute` türü olarak tanımlanmış `object`.</span><span class="sxs-lookup"><span data-stu-id="57f31-195">These additional parameters of `MapRoute` are defined as type `object`.</span></span> <span data-ttu-id="57f31-196">Bu parametre tipik kullanım, burada anonim tür eşlemesi özellik adlarını parametre adları yönlendirmek anonim olarak yazılmış bir nesne geçirmektir.</span><span class="sxs-lookup"><span data-stu-id="57f31-196">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="57f31-197">Aşağıdaki iki örnek eşdeğer yollar oluşturun:</span><span class="sxs-lookup"><span data-stu-id="57f31-197">The following two examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="57f31-198">İpucu: kısıtlamaları ve Varsayılanları tanımlamak için satır içi sözdizimi basit yollar için daha kullanışlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-198">Tip: The inline syntax for defining constraints and defaults can be more convenient for simple routes.</span></span> <span data-ttu-id="57f31-199">Ancak, satır içi sözdizimi tarafından desteklenmeyen veri belirteçleri gibi özellikler vardır.</span><span class="sxs-lookup"><span data-stu-id="57f31-199">However, there are features such as data tokens which are not supported by inline syntax.</span></span>

<span data-ttu-id="57f31-200">Bu örnekte birkaç daha fazla özelliği gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="57f31-200">This example demonstrates a few more features:</span></span>

```csharp
routes.MapRoute(
  name: "blog",
  template: "Blog/{*article}",
  defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="57f31-201">Bu şablon bir URL yolu gibi eşleşir `/Blog/All-About-Routing/Introduction` ve değerlerini ayıklar `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span><span class="sxs-lookup"><span data-stu-id="57f31-201">This template will match a URL path like `/Blog/All-About-Routing/Introduction` and will extract the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="57f31-202">Varsayılan rota değerleri için `controller` ve `action` olsa bile karşılık gelen hiçbir rota parametrelerinin şablonda rota tarafından üretilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-202">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="57f31-203">Varsayılan değerler rota şablonu belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-203">Default values can be specified in the route template.</span></span> <span data-ttu-id="57f31-204">`article` Rota parametresi olarak tanımlanmış bir *catch-tüm* yıldız görünümünü tarafından `*` rota parametresi adından önce.</span><span class="sxs-lookup"><span data-stu-id="57f31-204">The `article` route parameter is defined as a *catch-all* by the appearance of an asterisk `*` before the route parameter name.</span></span> <span data-ttu-id="57f31-205">Catch tüm rota parametrelerinin URL yolunu kalanı yakalamak ve boş dize de eşleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-205">Catch-all route parameters capture the remainder of the URL path, and can also match the empty string.</span></span>

<span data-ttu-id="57f31-206">Bu örnek, rota kısıtlamaları ve veri belirteçleri ekler:</span><span class="sxs-lookup"><span data-stu-id="57f31-206">This example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="57f31-207">Bu şablon bir URL yolu gibi eşleşir `/Products/5` ve değerlerini ayıklar `{ controller = Products, action = Details, id = 5 }` ve veri belirteçleri `{ locale = en-US }`.</span><span class="sxs-lookup"><span data-stu-id="57f31-207">This template will match a URL path like `/Products/5` and will extract the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![Yerel öğeler Windows belirteçleri](routing/_static/tokens.png)

<a name="id1"></a>

### <a name="url-generation"></a><span data-ttu-id="57f31-209">URL oluşturma</span><span class="sxs-lookup"><span data-stu-id="57f31-209">URL generation</span></span>

<span data-ttu-id="57f31-210">`Route` Sınıfı ayrıca gerçekleştirebilir URL oluşturma, rota şablonuyla bir rota değerleri kümesi birleştirerek.</span><span class="sxs-lookup"><span data-stu-id="57f31-210">The `Route` class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="57f31-211">Bu mantıksal URL yolunu eşleşen ters işlemidir.</span><span class="sxs-lookup"><span data-stu-id="57f31-211">This is logically the reverse process of matching the URL path.</span></span>

<span data-ttu-id="57f31-212">İpucu: URL nesil daha iyi anlamak için oluşturmak ve bu URL rota şablonu nasıl eşleşir hakkında düşünmek için istediğiniz hangi URL düşünün.</span><span class="sxs-lookup"><span data-stu-id="57f31-212">Tip: To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="57f31-213">Ne değerleri üretilen?</span><span class="sxs-lookup"><span data-stu-id="57f31-213">What values would be produced?</span></span> <span data-ttu-id="57f31-214">Bu, URL nesil nasıl çalıştığını kabaca eşdeğerdir `Route` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="57f31-214">This is the rough equivalent of how URL generation works in the `Route` class.</span></span>

<span data-ttu-id="57f31-215">Bu örnek, bir temel ASP.NET MVC stili rota kullanır:</span><span class="sxs-lookup"><span data-stu-id="57f31-215">This example uses a basic ASP.NET MVC style route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="57f31-216">Rota değerleri ile `{ controller = Products, action = List }`, bu yol URL'si oluşturur `/Products/List`.</span><span class="sxs-lookup"><span data-stu-id="57f31-216">With the route values `{ controller = Products, action = List }`, this route will generate the URL `/Products/List`.</span></span> <span data-ttu-id="57f31-217">Rota değerlerini ve URL yolunu oluşturmak karşılık gelen rota parametrelerini yerine kullanılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-217">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="57f31-218">Bu yana `id` isteğe parametresi yol, bir değere sahip olmayan herhangi bir sorun olduğunu.</span><span class="sxs-lookup"><span data-stu-id="57f31-218">Since `id` is an optional route parameter, it's no problem that it doesn't have a value.</span></span>

<span data-ttu-id="57f31-219">Rota değerleri ile `{ controller = Home, action = Index }`, bu yol URL'si oluşturur `/`.</span><span class="sxs-lookup"><span data-stu-id="57f31-219">With the route values `{ controller = Home, action = Index }`, this route will generate the URL `/`.</span></span> <span data-ttu-id="57f31-220">Bu değerlere karşılık gelen kesimleri güvenle yoksayılabilir şekilde sağlanan rota değerleri varsayılan değerleri aynı.</span><span class="sxs-lookup"><span data-stu-id="57f31-220">The route values that were provided match the default values so the segments corresponding to those values can be safely omitted.</span></span> <span data-ttu-id="57f31-221">Oluşturulan her iki URL'leri bu rota tanımıyla gidiş dönüş olur ve URL'yi oluşturmak için kullanılan aynı rota değerleri üretmek unutmayın.</span><span class="sxs-lookup"><span data-stu-id="57f31-221">Note that both URLs generated would round-trip with this route definition and produce the same route values that were used to generate the URL.</span></span>

<span data-ttu-id="57f31-222">İpucu: ASP.NET MVC kullanarak bir uygulama kullanması gereken `UrlHelper` doğrudan yönlendirme içine çağırmak yerine URL üretmek için.</span><span class="sxs-lookup"><span data-stu-id="57f31-222">Tip: An app using ASP.NET MVC should use `UrlHelper` to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="57f31-223">URL oluşturma işlemi hakkında daha fazla ayrıntı için bkz: [url oluşturma başvurusu](#url-generation-reference).</span><span class="sxs-lookup"><span data-stu-id="57f31-223">For more details about the URL generation process, see [url-generation-reference](#url-generation-reference).</span></span>

## <a name="using-routing-middleware"></a><span data-ttu-id="57f31-224">Yönlendirme ara yazılım kullanma</span><span class="sxs-lookup"><span data-stu-id="57f31-224">Using Routing Middleware</span></span>

<span data-ttu-id="57f31-225">"Microsoft.AspNetCore.Routing" NuGet paketini ekleyin.</span><span class="sxs-lookup"><span data-stu-id="57f31-225">Add the NuGet package "Microsoft.AspNetCore.Routing".</span></span>

<span data-ttu-id="57f31-226">Hizmet kapsayıcısında yönlendirme eklemek *haline*:</span><span class="sxs-lookup"><span data-stu-id="57f31-226">Add routing to the service container in *Startup.cs*:</span></span>

[!code-csharp[Main](../fundamentals/routing/sample/RoutingSample/Startup.cs?highlight=3&start=11&end=14)]

<span data-ttu-id="57f31-227">Yollar yapılandırılmalıdır `Configure` yönteminde `Startup` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="57f31-227">Routes must be configured in the `Configure` method in the `Startup` class.</span></span> <span data-ttu-id="57f31-228">Aşağıdaki örnekte bu API'leri kullanır:</span><span class="sxs-lookup"><span data-stu-id="57f31-228">The sample below uses these APIs:</span></span>

* `RouteBuilder`
* `Build`
* <span data-ttu-id="57f31-229">`MapGet`Yalnızca HTTP GET isteklerini eşleşir</span><span class="sxs-lookup"><span data-stu-id="57f31-229">`MapGet`  Matches only HTTP GET requests</span></span>
* `UseRouter`

```csharp
public void Configure(IApplicationBuilder app, ILoggerFactory loggerFactory)
{
    var trackPackageRouteHandler = new RouteHandler(context =>
    {
        var routeValues = context.GetRouteData().Values;
        return context.Response.WriteAsync(
            $"Hello! Route values: {string.Join(", ", routeValues)}");
    });

    var routeBuilder = new RouteBuilder(app, trackPackageRouteHandler);

    routeBuilder.MapRoute(
        "Track Package Route",
        "package/{operation:regex(^(track|create|detonate)$)}/{id:int}");

    routeBuilder.MapGet("hello/{name}", context =>
    {
        var name = context.GetRouteValue("name");
        // This is the route handler when HTTP GET "hello/<anything>"  matches
        // To match HTTP GET "hello/<anything>/<anything>,
        // use routeBuilder.MapGet("hello/{*name}"
        return context.Response.WriteAsync($"Hi, {name}!");
    });

    var routes = routeBuilder.Build();
    app.UseRouter(routes);
}
```

<span data-ttu-id="57f31-230">Aşağıdaki tabloda verilen URI'ler yanıtları gösterir.</span><span class="sxs-lookup"><span data-stu-id="57f31-230">The table below shows the responses with the given URIs.</span></span>

| <span data-ttu-id="57f31-231">URI</span><span class="sxs-lookup"><span data-stu-id="57f31-231">URI</span></span> | <span data-ttu-id="57f31-232">Yanıt</span><span class="sxs-lookup"><span data-stu-id="57f31-232">Response</span></span>  |
| ------- | -------- |
| <span data-ttu-id="57f31-233">/Package/Create/3</span><span class="sxs-lookup"><span data-stu-id="57f31-233">/package/create/3</span></span>  | <span data-ttu-id="57f31-234">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="57f31-234">Hello!</span></span> <span data-ttu-id="57f31-235">Rota değerleri: [işlemi, oluşturmak], [kimliği, 3]</span><span class="sxs-lookup"><span data-stu-id="57f31-235">Route values: [operation, create], [id, 3]</span></span> |
| <span data-ttu-id="57f31-236">/ /-3 Paket/İzle</span><span class="sxs-lookup"><span data-stu-id="57f31-236">/package/track/-3</span></span>  | <span data-ttu-id="57f31-237">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="57f31-237">Hello!</span></span> <span data-ttu-id="57f31-238">Rota değerleri: [işlem, izleme], [kimliği, -3]</span><span class="sxs-lookup"><span data-stu-id="57f31-238">Route values: [operation, track], [id, -3]</span></span> |
| <span data-ttu-id="57f31-239">/ paketini / /-3 izlemek /</span><span class="sxs-lookup"><span data-stu-id="57f31-239">/package/track/-3/</span></span> | <span data-ttu-id="57f31-240">Merhaba!</span><span class="sxs-lookup"><span data-stu-id="57f31-240">Hello!</span></span> <span data-ttu-id="57f31-241">Rota değerleri: [işlem, izleme], [kimliği, -3]</span><span class="sxs-lookup"><span data-stu-id="57f31-241">Route values: [operation, track], [id, -3]</span></span>  |
| <span data-ttu-id="57f31-242">/Package/İzle /</span><span class="sxs-lookup"><span data-stu-id="57f31-242">/package/track/</span></span> | <span data-ttu-id="57f31-243">\<Eşleşme aracılığıyla, kalan ></span><span class="sxs-lookup"><span data-stu-id="57f31-243">\<Fall through, no match></span></span> |
| <span data-ttu-id="57f31-244">/Hello/Joe Al</span><span class="sxs-lookup"><span data-stu-id="57f31-244">GET /hello/Joe</span></span> | <span data-ttu-id="57f31-245">Merhaba, CAN!</span><span class="sxs-lookup"><span data-stu-id="57f31-245">Hi, Joe!</span></span> |
| <span data-ttu-id="57f31-246">POST /hello/Joe</span><span class="sxs-lookup"><span data-stu-id="57f31-246">POST /hello/Joe</span></span> | <span data-ttu-id="57f31-247">\<Atlayabilir, HTTP GET yalnızca eşleşen ></span><span class="sxs-lookup"><span data-stu-id="57f31-247">\<Fall through, matches HTTP GET only></span></span> |
| <span data-ttu-id="57f31-248">/Hello/Joe/Smith Al</span><span class="sxs-lookup"><span data-stu-id="57f31-248">GET /hello/Joe/Smith</span></span> | <span data-ttu-id="57f31-249">\<Eşleşme aracılığıyla, kalan ></span><span class="sxs-lookup"><span data-stu-id="57f31-249">\<Fall through, no match></span></span> |

<span data-ttu-id="57f31-250">Tek bir yol yapılandırıyorsanız, çağrı `app.UseRouter` tümleştirilmesidir bir `IRouter` örneği.</span><span class="sxs-lookup"><span data-stu-id="57f31-250">If you are configuring a single route, call `app.UseRouter` passing in an `IRouter` instance.</span></span> <span data-ttu-id="57f31-251">Çağrı gerekmez `RouteBuilder`.</span><span class="sxs-lookup"><span data-stu-id="57f31-251">You won't need to call `RouteBuilder`.</span></span>

<span data-ttu-id="57f31-252">Framework yolları gibi oluşturmak için genişletme yöntemleri kümesini sağlar:</span><span class="sxs-lookup"><span data-stu-id="57f31-252">The framework provides a set of extension methods for creating routes such as:</span></span>

* `MapRoute`
* `MapGet`
* `MapPost`
* `MapPut`
* `MapDelete`
* `MapVerb`

<span data-ttu-id="57f31-253">Bu yöntemlerin gibi bazı `MapGet` gerektiren bir `RequestDelegate` sağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-253">Some of these methods such as `MapGet` require a `RequestDelegate` to be provided.</span></span> <span data-ttu-id="57f31-254">`RequestDelegate` Olarak kullanılan *rota işleyiciye* zaman rotayla eşleşen.</span><span class="sxs-lookup"><span data-stu-id="57f31-254">The `RequestDelegate` will be used as the *route handler* when the route matches.</span></span> <span data-ttu-id="57f31-255">Bu ailedeki diğer yöntemleri, yol işleyicisi olarak kullanılacak bir ara yazılım ardışık düzenini yapılandırma olanak verir.</span><span class="sxs-lookup"><span data-stu-id="57f31-255">Other methods in this family allow configuring a middleware pipeline which will be used as the route handler.</span></span> <span data-ttu-id="57f31-256">Varsa *harita* değil accept yöntemi bir işleyici gibi `MapRoute`, kullanacağı sonra `DefaultHandler`.</span><span class="sxs-lookup"><span data-stu-id="57f31-256">If the *Map* method doesn't accept a handler, such as `MapRoute`, then it will use the `DefaultHandler`.</span></span>

<span data-ttu-id="57f31-257">`Map[Verb]` Yöntemleri kısıtlamaları yöntem adı HTTP fiili rotaya sınırlamak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="57f31-257">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="57f31-258">Örneğin, [MapGet](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L85-L88) ve [MapVerb](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L156-L180).</span><span class="sxs-lookup"><span data-stu-id="57f31-258">For example, see [MapGet](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L85-L88) and [MapVerb](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L156-L180).</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="57f31-259">Rota şablonu başvurusu</span><span class="sxs-lookup"><span data-stu-id="57f31-259">Route Template Reference</span></span>

<span data-ttu-id="57f31-260">Süslü ayraçlar içinde belirteçleri (`{ }`) tanımlamak *rota parametreleri* hangi bağlı rotanın eşleşmesi durumunda.</span><span class="sxs-lookup"><span data-stu-id="57f31-260">Tokens within curly braces (`{ }`) define *route parameters* which will be bound if the route is matched.</span></span> <span data-ttu-id="57f31-261">Birden fazla yol parametresi bir yol kesimi tanımlayabilirsiniz, ancak bir hazır değer ile ayrılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-261">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="57f31-262">Örneğin `{controller=Home}{action=Index}` arasında değişmez değer olduğundan geçerli bir rota olmayacaktır `{controller}` ve `{action}`.</span><span class="sxs-lookup"><span data-stu-id="57f31-262">For example `{controller=Home}{action=Index}` would not be a valid route, since there is no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="57f31-263">Bu rota parametrelerinin bir adı olması gerekir ve ek öznitelikler belirtmiş olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-263">These route parameters must have a name, and may have additional attributes specified.</span></span>

<span data-ttu-id="57f31-264">Rota parametrelerine dışında düz metin (örneğin, `{id}`) ve yol ayırıcısı `/` URL metinde eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="57f31-264">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="57f31-265">Eşleşen metin URL'leri yolu kodu çözülmüş gösterimini dayalı ve büyük küçük harfe duyarsızdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-265">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="57f31-266">Değişmez değer rota parametresi sınırlayıcı eşleşecek şekilde `{` veya `}`, karakteri tekrarlayarak kaçış (`{{` veya `}}`).</span><span class="sxs-lookup"><span data-stu-id="57f31-266">To match the literal route parameter delimiter `{` or  `}`, escape it by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="57f31-267">Bir isteğe bağlı bir dosya uzantılı bir dosya adı yakalama girişimi URL desenlerini dikkat edilecek diğer noktalar vardır.</span><span class="sxs-lookup"><span data-stu-id="57f31-267">URL patterns that attempt to capture a filename with an optional file extension have additional considerations.</span></span> <span data-ttu-id="57f31-268">Örneğin, şablonu kullanarak `files/{filename}.{ext?}` - her ikisi de `filename` ve `ext` var, her iki değerin doldurulur.</span><span class="sxs-lookup"><span data-stu-id="57f31-268">For example, using the template `files/{filename}.{ext?}` - When both `filename` and `ext` exist, both values will be populated.</span></span> <span data-ttu-id="57f31-269">Yalnızca `filename` URL, yol eşleşmeleri var olduğundan, sonundaki nokta `.` isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-269">If only `filename` exists in the URL, the route matches because the trailing period `.` is  optional.</span></span> <span data-ttu-id="57f31-270">Aşağıdaki URL'ler bu rota eşleşir:</span><span class="sxs-lookup"><span data-stu-id="57f31-270">The following URLs would match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile.`
* `/files/myFile`

<span data-ttu-id="57f31-271">Kullanabileceğiniz `*` öneki olarak karakter - URI geri kalanı için bağlamak için bir rota parametresini için bu çağrılır bir *catch tüm* parametresi.</span><span class="sxs-lookup"><span data-stu-id="57f31-271">You can use the `*` character as a prefix to a route parameter to bind to the rest of the URI - this is called a *catch-all* parameter.</span></span> <span data-ttu-id="57f31-272">Örneğin, `blog/{*slug}` kullanmaya herhangi bir URL eşleşir `/blog` ve sonrasında herhangi bir değer (hangi atanabilir için `slug` rota değeri).</span><span class="sxs-lookup"><span data-stu-id="57f31-272">For example, `blog/{*slug}` would match any URI that started with `/blog` and had any value following it (which would be assigned to the `slug` route value).</span></span> <span data-ttu-id="57f31-273">Catch tüm parametreleri da boş dize eşleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-273">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="57f31-274">Rota parametrelerine sahip olabilir *varsayılan değerlerin*, ayrılmış parametre adı sonra varsayılan belirterek belirli bir `=`.</span><span class="sxs-lookup"><span data-stu-id="57f31-274">Route parameters may have *default values*, designated by specifying the default after the parameter name, separated by an `=`.</span></span> <span data-ttu-id="57f31-275">Örneğin, `{controller=Home}` tanımlarsınız `Home` için varsayılan değer olarak `controller`.</span><span class="sxs-lookup"><span data-stu-id="57f31-275">For example, `{controller=Home}` would define `Home` as the default value for `controller`.</span></span> <span data-ttu-id="57f31-276">Hiçbir değer parametresi için URL'de varsa, varsayılan değer kullanılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-276">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="57f31-277">Rota parametrelerinin varsayılan değerleri ek olarak, isteğe bağlı olabilir (ekleyerek belirtilen bir `?` parametre adı olarak da sonuna `id?`).</span><span class="sxs-lookup"><span data-stu-id="57f31-277">In addition to default values, route parameters may be optional (specified by appending a `?` to the end of the parameter name, as in `id?`).</span></span> <span data-ttu-id="57f31-278">İsteğe bağlı arasındaki farkı ve "olan varsayılan" bir rota parametresini varsayılan bir değerle her zaman bir değer; üretir yalnızca sağlandığında isteğe bağlı bir parametre bir değere sahip.</span><span class="sxs-lookup"><span data-stu-id="57f31-278">The difference between optional and "has default" is that a route parameter with a default value always produces a value; an optional parameter has a value only when one is provided.</span></span>

<span data-ttu-id="57f31-279">Rota parametrelerine URL'den bağlı rota değeriyle eşleşmelidir kısıtlamaları da sahip olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-279">Route parameters may also have constraints, which must match the route value bound from the URL.</span></span> <span data-ttu-id="57f31-280">İki nokta ekleme `:` ve rota parametresi adı belirttikten sonra kısıtlama adı bir *satır içi kısıtlama* bir rota parametresini üzerinde.</span><span class="sxs-lookup"><span data-stu-id="57f31-280">Adding a colon `:` and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="57f31-281">Kısıtlama olanlar ayraç içinde sağlanan bağımsız değişkenleri gerektiriyorsa `( )` sonra kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="57f31-281">If the constraint requires arguments those are provided enclosed in parentheses `( )` after the constraint name.</span></span> <span data-ttu-id="57f31-282">Başka bir iki nokta üst üste ekleyerek, birden çok satır içi kısıtlama belirtilebilir `:` ve kısıtlama adı.</span><span class="sxs-lookup"><span data-stu-id="57f31-282">Multiple inline constraints can be specified by appending another colon `:` and constraint name.</span></span> <span data-ttu-id="57f31-283">Kısıtlama adı geçirilir `IInlineConstraintResolver` bir örneğini oluşturmak için hizmet `IRouteConstraint` URL işlenirken kullanılacak.</span><span class="sxs-lookup"><span data-stu-id="57f31-283">The constraint name is passed to the `IInlineConstraintResolver` service to create an instance of `IRouteConstraint` to use in URL processing.</span></span> <span data-ttu-id="57f31-284">Örneğin, rota şablonu `blog/{article:minlength(10)}` belirtir `minlength` kısıtlaması bağımsız değişkeni ile `10`.</span><span class="sxs-lookup"><span data-stu-id="57f31-284">For example, the route template `blog/{article:minlength(10)}` specifies the `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="57f31-285">Daha fazla açıklama rota kısıtlamaları ve framework tarafından sağlanan kısıtlamaları bir listesi için bkz [rota kısıtlaması başvurusu](#route-constraint-reference).</span><span class="sxs-lookup"><span data-stu-id="57f31-285">For more description route constraints, and a listing of the constraints provided by the framework, see [route-constraint-reference](#route-constraint-reference).</span></span>

<span data-ttu-id="57f31-286">Aşağıdaki tabloda bazı rota şablonlarının ve davranışlarını gösterir.</span><span class="sxs-lookup"><span data-stu-id="57f31-286">The following table demonstrates some route templates and their behavior.</span></span>

| <span data-ttu-id="57f31-287">Rota şablonu</span><span class="sxs-lookup"><span data-stu-id="57f31-287">Route Template</span></span> | <span data-ttu-id="57f31-288">Örnek URL eşleştirme</span><span class="sxs-lookup"><span data-stu-id="57f31-288">Example Matching URL</span></span> | <span data-ttu-id="57f31-289">Notlar</span><span class="sxs-lookup"><span data-stu-id="57f31-289">Notes</span></span> |
| -------- | -------- | ------- |
| <span data-ttu-id="57f31-290">Merhaba</span><span class="sxs-lookup"><span data-stu-id="57f31-290">hello</span></span>  | <span data-ttu-id="57f31-291">/ Merhaba</span><span class="sxs-lookup"><span data-stu-id="57f31-291">/hello</span></span>  | <span data-ttu-id="57f31-292">Yalnızca tek bir yol ile eşleşir`/hello`</span><span class="sxs-lookup"><span data-stu-id="57f31-292">Only matches the single path `/hello`</span></span> |
| <span data-ttu-id="57f31-293">{Sayfa giriş =}</span><span class="sxs-lookup"><span data-stu-id="57f31-293">{Page=Home}</span></span> | / | <span data-ttu-id="57f31-294">Eşleşen ve ayarlar `Page` için`Home`</span><span class="sxs-lookup"><span data-stu-id="57f31-294">Matches and sets `Page` to `Home`</span></span> |
| <span data-ttu-id="57f31-295">{Sayfa giriş =}</span><span class="sxs-lookup"><span data-stu-id="57f31-295">{Page=Home}</span></span>  | <span data-ttu-id="57f31-296">/ Başvurun</span><span class="sxs-lookup"><span data-stu-id="57f31-296">/Contact</span></span>  | <span data-ttu-id="57f31-297">Eşleşen ve ayarlar `Page` için`Contact`</span><span class="sxs-lookup"><span data-stu-id="57f31-297">Matches and sets `Page` to `Contact`</span></span> |
| <span data-ttu-id="57f31-298">{controller} / {action} / {id?}</span><span class="sxs-lookup"><span data-stu-id="57f31-298">{controller}/{action}/{id?}</span></span> | <span data-ttu-id="57f31-299">/ Ürünler/listesi</span><span class="sxs-lookup"><span data-stu-id="57f31-299">/Products/List</span></span> | <span data-ttu-id="57f31-300">Eşlendiği `Products` denetleyicisi ve `List` eylem</span><span class="sxs-lookup"><span data-stu-id="57f31-300">Maps to `Products` controller and `List`  action</span></span> |
| <span data-ttu-id="57f31-301">{controller} / {action} / {id?}</span><span class="sxs-lookup"><span data-stu-id="57f31-301">{controller}/{action}/{id?}</span></span> | <span data-ttu-id="57f31-302">/ Ürünler/Ayrıntılar/123</span><span class="sxs-lookup"><span data-stu-id="57f31-302">/Products/Details/123</span></span>  |  <span data-ttu-id="57f31-303">Eşlendiği `Products` denetleyicisi ve `Details` eylem.</span><span class="sxs-lookup"><span data-stu-id="57f31-303">Maps to `Products` controller and  `Details` action.</span></span>  <span data-ttu-id="57f31-304">`id`için 123 ayarlayın</span><span class="sxs-lookup"><span data-stu-id="57f31-304">`id` set to 123</span></span> |
| <span data-ttu-id="57f31-305">{denetleyicisi giriş =} / {eylemi = dizin} / {id?}</span><span class="sxs-lookup"><span data-stu-id="57f31-305">{controller=Home}/{action=Index}/{id?}</span></span> | /  |  <span data-ttu-id="57f31-306">Eşlendiği `Home` denetleyicisi ve `Index` yöntemi; `id` göz ardı edilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-306">Maps to `Home` controller and `Index`  method; `id` is ignored.</span></span> |

<span data-ttu-id="57f31-307">Bir şablon kullanarak genellikle yönlendirme en basit yaklaşımdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-307">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="57f31-308">Ayrıca kısıtlamaları ve varsayılan rota şablonu dışında belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-308">Constraints and defaults can also be specified outside the route template.</span></span>

<span data-ttu-id="57f31-309">İpucu: Etkinleştirmek [günlüğü](xref:fundamentals/logging/index) görmek için nasıl yönlendirme uygulamalarında gibi yerleşik `Route`, eşleşen istekleri.</span><span class="sxs-lookup"><span data-stu-id="57f31-309">Tip: Enable [Logging](xref:fundamentals/logging/index) to see how the built in routing implementations, such as `Route`, match requests.</span></span>

## <a name="route-constraint-reference"></a><span data-ttu-id="57f31-310">Rota kısıtlaması başvurusu</span><span class="sxs-lookup"><span data-stu-id="57f31-310">Route Constraint Reference</span></span>

<span data-ttu-id="57f31-311">Rota kısıtlamalarını yürütme bir `Route` gelen URL söz dizimini eşleşen ve rota değerleri URL yolunu simgeleştirilmiş.</span><span class="sxs-lookup"><span data-stu-id="57f31-311">Route constraints execute when a `Route` has matched the syntax of the incoming URL and tokenized the URL path into route values.</span></span> <span data-ttu-id="57f31-312">Rota kısıtlamalarını genellikle rota şablonu ilişkili rota değeri inceleyin ve Evet/Hayır olsun veya olmasın kabul edilebilir değerdir hakkında karar basit yapın.</span><span class="sxs-lookup"><span data-stu-id="57f31-312">Route constraints generally inspect the route value associated via the route template and make a simple yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="57f31-313">Bazı rota kısıtlamalarını istek yönlendirilen olup olmadığını düşünün için rota değeri dışında verileri kullanın.</span><span class="sxs-lookup"><span data-stu-id="57f31-313">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="57f31-314">Örneğin, `HttpMethodRouteConstraint` kabul veya kendi HTTP fiiline bağlı bir istek reddedebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="57f31-314">For example, the `HttpMethodRouteConstraint` can accept or reject a request based on its HTTP verb.</span></span>

>[!WARNING]
> <span data-ttu-id="57f31-315">Kısıtlamalarını kullanmaktan kaçının **giriş doğrulama**, bunu anlamına gelir, geçersiz giriş yapmak bir 404 (bulunamadı) yerine 400 uygun bir hata iletisi ile sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="57f31-315">Avoid using constraints for **input validation**, because doing so means that invalid input will result in a 404 (Not Found) instead of a 400 with an appropriate error message.</span></span> <span data-ttu-id="57f31-316">Rota kısıtlamalarını için kullanılan **belirsizliğini ortadan kaldırmak** belirli bir rota girişleri değil doğrulanacak benzer yolları arasında.</span><span class="sxs-lookup"><span data-stu-id="57f31-316">Route constraints should be used to **disambiguate** between similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="57f31-317">Aşağıdaki tabloda bazı rota kısıtlamaları ve bunların beklenen bir davranış gösterir.</span><span class="sxs-lookup"><span data-stu-id="57f31-317">The following table demonstrates some route constraints and their expected behavior.</span></span>

| <span data-ttu-id="57f31-318">kısıtlama</span><span class="sxs-lookup"><span data-stu-id="57f31-318">constraint</span></span> | <span data-ttu-id="57f31-319">Örnek</span><span class="sxs-lookup"><span data-stu-id="57f31-319">Example</span></span> | <span data-ttu-id="57f31-320">Örnek eşleşiyor</span><span class="sxs-lookup"><span data-stu-id="57f31-320">Example Matches</span></span> | <span data-ttu-id="57f31-321">Notlar</span><span class="sxs-lookup"><span data-stu-id="57f31-321">Notes</span></span> |
| --------   | ------- | ------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="57f31-322">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="57f31-322">`123456789`, `-123456789`</span></span>  | <span data-ttu-id="57f31-323">Herhangi bir tamsayı eşleşir</span><span class="sxs-lookup"><span data-stu-id="57f31-323">Matches any integer</span></span> |
| `bool`  | `{active:bool}` | <span data-ttu-id="57f31-324">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="57f31-324">`true`, `FALSE`</span></span> | <span data-ttu-id="57f31-325">Eşleşme `true` veya `false` (büyük küçük harf duyarlı)</span><span class="sxs-lookup"><span data-stu-id="57f31-325">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="57f31-326">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="57f31-326">`2016-12-31`, `2016-12-31 7:32pm`</span></span>  | <span data-ttu-id="57f31-327">Geçerli bir eşleşen `DateTime` değeri (sabit kültür - uyarı bakın)</span><span class="sxs-lookup"><span data-stu-id="57f31-327">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="57f31-328">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="57f31-328">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="57f31-329">Geçerli bir eşleşen `decimal` değeri (sabit kültür - uyarı bakın)</span><span class="sxs-lookup"><span data-stu-id="57f31-329">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double`  | `{weight:double}` | <span data-ttu-id="57f31-330">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="57f31-330">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="57f31-331">Geçerli bir eşleşen `double` değeri (sabit kültür - uyarı bakın)</span><span class="sxs-lookup"><span data-stu-id="57f31-331">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float`  | `{weight:float}` | <span data-ttu-id="57f31-332">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="57f31-332">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="57f31-333">Geçerli bir eşleşen `float` değeri (sabit kültür - uyarı bakın)</span><span class="sxs-lookup"><span data-stu-id="57f31-333">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid`  | `{id:guid}` | <span data-ttu-id="57f31-334">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="57f31-334">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="57f31-335">Geçerli bir eşleşen `Guid` değeri</span><span class="sxs-lookup"><span data-stu-id="57f31-335">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="57f31-336">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="57f31-336">`123456789`, `-123456789`</span></span> | <span data-ttu-id="57f31-337">Geçerli bir eşleşen `long` değeri</span><span class="sxs-lookup"><span data-stu-id="57f31-337">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="57f31-338">Dize en az 4 karakter olmalıdır</span><span class="sxs-lookup"><span data-stu-id="57f31-338">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="57f31-339">Dize en fazla 8 karakter olmalıdır</span><span class="sxs-lookup"><span data-stu-id="57f31-339">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="57f31-340">Dize tam olarak 12 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="57f31-340">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="57f31-341">Dize en az 8, en fazla 16 karakter uzunluğunda olmalıdır</span><span class="sxs-lookup"><span data-stu-id="57f31-341">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="57f31-342">En az 18 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="57f31-342">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` |  `91` | <span data-ttu-id="57f31-343">En fazla 120 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="57f31-343">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="57f31-344">En az 18 ancak en fazla 120 tamsayı değeri olmalıdır</span><span class="sxs-lookup"><span data-stu-id="57f31-344">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="57f31-345">Dize, bir veya daha fazla alfabetik karakterlerden oluşmalıdır (`a`-`z`, büyük küçük harf duyarlı)</span><span class="sxs-lookup"><span data-stu-id="57f31-345">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="57f31-346">Dize normal ifade eşleşmesi gerekir (normal ifade tanımlama hakkında ipuçları bakın)</span><span class="sxs-lookup"><span data-stu-id="57f31-346">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required`  | `{name:required}` | `Rick` |  <span data-ttu-id="57f31-347">URL oluşturma sırasında bir parametre olmayan değer bulunduğunu uygulamak için kullanılan</span><span class="sxs-lookup"><span data-stu-id="57f31-347">Used to enforce that a non-parameter value is present during URL generation</span></span> |

>[!WARNING]
> <span data-ttu-id="57f31-348">URL'yi doğrulayın rota kısıtlamalarını CLR türüne dönüştürülebilir (gibi `int` veya `DateTime`) her zaman sabit kültür kullanın - URL yerelleştirilemeyen olduğu varsayılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-348">Route constraints that verify the URL can be converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture - they assume the URL is non-localizable.</span></span> <span data-ttu-id="57f31-349">Sağlanan framework rota kısıtlamalarını rota değerleri depolanan değerleri değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="57f31-349">The framework-provided route constraints do not modify the values stored in route values.</span></span> <span data-ttu-id="57f31-350">URL'den Ayrıştırılan tüm rota değerleri, dize olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="57f31-350">All route values parsed from the URL will be stored as strings.</span></span> <span data-ttu-id="57f31-351">Örneğin, [Float rota kısıtlaması](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/Constraints/FloatRouteConstraint.cs#L44-L60) rota değeri kayana dönüştürülecek deneyecek, ancak dönüştürülen değer yalnızca onu dönüştürülebilir kayana doğrulamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="57f31-351">For example, the [Float route constraint](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/Constraints/FloatRouteConstraint.cs#L44-L60) will attempt to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="57f31-352">Normal ifadeler</span><span class="sxs-lookup"><span data-stu-id="57f31-352">Regular expressions</span></span> 

<span data-ttu-id="57f31-353">ASP.NET Core framework ekler `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` normal ifade oluşturucusu.</span><span class="sxs-lookup"><span data-stu-id="57f31-353">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="57f31-354">Bkz: [RegexOptions numaralandırma](https://docs.microsoft.com/dotnet/api/system.text.regularexpressions.regexoptions) bu üyeleri açıklaması.</span><span class="sxs-lookup"><span data-stu-id="57f31-354">See [RegexOptions Enumeration](https://docs.microsoft.com/dotnet/api/system.text.regularexpressions.regexoptions) for a description of these members.</span></span>

<span data-ttu-id="57f31-355">Normal ifadeler sınırlayıcıları ve Yönlendirme ve C# dili tarafından kullanılan benzer belirteçleri kullanın.</span><span class="sxs-lookup"><span data-stu-id="57f31-355">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="57f31-356">Normal ifade belirteçleri kaçış uygulanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="57f31-356">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="57f31-357">Örneğin, normal ifade kullanmak için `^\d{3}-\d{2}-\d{4}$` olması gerekiyor, yönlendirme `\` olarak yazdığınız karakterler `\\` kaçınmak için C# kaynak dosyasında `\` dize kaçış karakteri (kullanmadığınız sürece [verbatim dize değişmez değerleri](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/string).</span><span class="sxs-lookup"><span data-stu-id="57f31-357">For example, to use the regular expression `^\d{3}-\d{2}-\d{4}$` in Routing, it needs to have the `\` characters typed in as `\\` in the C# source file to escape the `\` string escape character (unless using [verbatim string literals](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/string).</span></span> <span data-ttu-id="57f31-358">`{` , `}` , ' [' Ve ']' karakter yönlendirme parametre sınırlayıcı karakter kaçınmak için Katlama tarafından kaçış gerekir.</span><span class="sxs-lookup"><span data-stu-id="57f31-358">The `{` , `}` , '[' and ']' characters need to be escaped by doubling them to escape the Routing parameter delimiter characters.</span></span>  <span data-ttu-id="57f31-359">Aşağıdaki tabloda, normal bir ifade ve atlanan sürümünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="57f31-359">The table below shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="57f31-360">İfade</span><span class="sxs-lookup"><span data-stu-id="57f31-360">Expression</span></span>               | <span data-ttu-id="57f31-361">Not</span><span class="sxs-lookup"><span data-stu-id="57f31-361">Note</span></span> |
| ----------------- | ------------ | 
| `^\d{3}-\d{2}-\d{4}$` | <span data-ttu-id="57f31-362">Normal ifade</span><span class="sxs-lookup"><span data-stu-id="57f31-362">Regular expression</span></span> |
| `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` | <span data-ttu-id="57f31-363">Atlanan</span><span class="sxs-lookup"><span data-stu-id="57f31-363">Escaped</span></span>  |
| `^[a-z]{2}$` | <span data-ttu-id="57f31-364">Normal ifade</span><span class="sxs-lookup"><span data-stu-id="57f31-364">Regular expression</span></span> |
| `^[[a-z]]{{2}}$` | <span data-ttu-id="57f31-365">Atlanan</span><span class="sxs-lookup"><span data-stu-id="57f31-365">Escaped</span></span>  |

<span data-ttu-id="57f31-366">Normal ifadeler yönlendirmeye kullanılan ile genellikle başlayacak `^` karakter (eşleşme dizesinin konumdan başlayarak) ve ile biten `$` karakter (dize konumunu bitiş eşleşir).</span><span class="sxs-lookup"><span data-stu-id="57f31-366">Regular expressions used in routing will often start with the `^` character (match starting position of the string) and end with the `$` character (match ending position of the string).</span></span> <span data-ttu-id="57f31-367">`^` Ve `$` karakterleri tüm rota parametre değeri normal ifade eşleştirmesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="57f31-367">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="57f31-368">Olmadan `^` ve `$` karakter normal ifade istemezsiniz görülür dize içinde herhangi bir alt dize eşleşir.</span><span class="sxs-lookup"><span data-stu-id="57f31-368">Without the `^` and `$` characters the regular expression will match any sub-string within the string, which is often not what you want.</span></span> <span data-ttu-id="57f31-369">Aşağıdaki tablo bazı örnekler gösterir ve neden aynı veya eşleştirilecek başarısız açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="57f31-369">The table below shows some examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="57f31-370">İfade</span><span class="sxs-lookup"><span data-stu-id="57f31-370">Expression</span></span>               | <span data-ttu-id="57f31-371">Dize</span><span class="sxs-lookup"><span data-stu-id="57f31-371">String</span></span> | <span data-ttu-id="57f31-372">Eşleştirme</span><span class="sxs-lookup"><span data-stu-id="57f31-372">Match</span></span> | <span data-ttu-id="57f31-373">Yorum</span><span class="sxs-lookup"><span data-stu-id="57f31-373">Comment</span></span> |
| ----------------- | ------------ |  ------------ |  ------------ | 
| `[a-z]{2}` | <span data-ttu-id="57f31-374">Merhaba</span><span class="sxs-lookup"><span data-stu-id="57f31-374">hello</span></span> | <span data-ttu-id="57f31-375">Evet</span><span class="sxs-lookup"><span data-stu-id="57f31-375">yes</span></span> | <span data-ttu-id="57f31-376">eşleşmelerini</span><span class="sxs-lookup"><span data-stu-id="57f31-376">substring matches</span></span> |
| `[a-z]{2}` | <span data-ttu-id="57f31-377">123abc456</span><span class="sxs-lookup"><span data-stu-id="57f31-377">123abc456</span></span> | <span data-ttu-id="57f31-378">Evet</span><span class="sxs-lookup"><span data-stu-id="57f31-378">yes</span></span> | <span data-ttu-id="57f31-379">eşleşmelerini</span><span class="sxs-lookup"><span data-stu-id="57f31-379">substring matches</span></span> |
| `[a-z]{2}` | <span data-ttu-id="57f31-380">MZ</span><span class="sxs-lookup"><span data-stu-id="57f31-380">mz</span></span> | <span data-ttu-id="57f31-381">Evet</span><span class="sxs-lookup"><span data-stu-id="57f31-381">yes</span></span> | <span data-ttu-id="57f31-382">ifadesiyle eşleşiyor</span><span class="sxs-lookup"><span data-stu-id="57f31-382">matches expression</span></span> |
| `[a-z]{2}` | <span data-ttu-id="57f31-383">MZ</span><span class="sxs-lookup"><span data-stu-id="57f31-383">MZ</span></span> | <span data-ttu-id="57f31-384">Evet</span><span class="sxs-lookup"><span data-stu-id="57f31-384">yes</span></span> | <span data-ttu-id="57f31-385">değil büyük küçük harfe duyarlı</span><span class="sxs-lookup"><span data-stu-id="57f31-385">not case sensitive</span></span> |
| `^[a-z]{2}$` |  <span data-ttu-id="57f31-386">Merhaba</span><span class="sxs-lookup"><span data-stu-id="57f31-386">hello</span></span> | <span data-ttu-id="57f31-387">Yok</span><span class="sxs-lookup"><span data-stu-id="57f31-387">no</span></span> | <span data-ttu-id="57f31-388">bkz: `^` ve `$` yukarıda</span><span class="sxs-lookup"><span data-stu-id="57f31-388">see `^` and `$` above</span></span> |
| `^[a-z]{2}$` |  <span data-ttu-id="57f31-389">123abc456</span><span class="sxs-lookup"><span data-stu-id="57f31-389">123abc456</span></span> | <span data-ttu-id="57f31-390">Yok</span><span class="sxs-lookup"><span data-stu-id="57f31-390">no</span></span> | <span data-ttu-id="57f31-391">bkz: `^` ve `$` yukarıda</span><span class="sxs-lookup"><span data-stu-id="57f31-391">see `^` and `$` above</span></span> |

<span data-ttu-id="57f31-392">Başvurmak [.NET Framework normal ifadeleri](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference) normal ifade sözdizimi hakkında daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="57f31-392">Refer to [.NET Framework Regular Expressions](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference) for more information on regular expression syntax.</span></span>

<span data-ttu-id="57f31-393">Olası değerler bilinen bir dizi parametre sınırlamak için normal ifade kullanın.</span><span class="sxs-lookup"><span data-stu-id="57f31-393">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="57f31-394">Örneğin `{action:regex(^(list|get|create)$)}` yalnızca eşleşen `action` yönlendirmek için değer `list`, `get`, veya `create`.</span><span class="sxs-lookup"><span data-stu-id="57f31-394">For example `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="57f31-395">Dize kısıtlamaları sözlük aktarılırsa "^ (listesi | get | oluşturun) $" eşdeğer olacaktır.</span><span class="sxs-lookup"><span data-stu-id="57f31-395">If passed into the constraints dictionary, the string "^(list|get|create)$" would be equivalent.</span></span> <span data-ttu-id="57f31-396">Bilinen kısıtlamalardan biri eşleşmeyen (hizalı şablon içinde değil) kısıtlamaları sözlükte geçirilen kısıtlamaları da normal ifadeler olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-396">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

## <a name="url-generation-reference"></a><span data-ttu-id="57f31-397">URL oluşturma başvurusu</span><span class="sxs-lookup"><span data-stu-id="57f31-397">URL Generation Reference</span></span>

<span data-ttu-id="57f31-398">Aşağıdaki örnek, rota değerleri sözlüğü verilen yolu bir bağlantı oluşturmak nasıl gösterir ve `RouteCollection`.</span><span class="sxs-lookup"><span data-stu-id="57f31-398">The example below shows how to generate a link to a route given a dictionary of route values and a `RouteCollection`.</span></span>

[!code-csharp[Main](../fundamentals/routing/sample/RoutingSample/Startup.cs?range=45-59)]

<span data-ttu-id="57f31-399">`VirtualPath` Yukarıdaki örnek sonunda oluşturulmuş `/package/create/123`.</span><span class="sxs-lookup"><span data-stu-id="57f31-399">The `VirtualPath` generated at the end of the sample above is `/package/create/123`.</span></span>

<span data-ttu-id="57f31-400">İkinci parametre `VirtualPathContext` Oluşturucusu koleksiyonudur *ortam değerleri*.</span><span class="sxs-lookup"><span data-stu-id="57f31-400">The second parameter to the `VirtualPathContext` constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="57f31-401">Ortam değerleri, belirli bir istek bağlamı içinde bir geliştirici belirtmelisiniz değerlerin sayısını sınırlayarak kolaylık sağlar.</span><span class="sxs-lookup"><span data-stu-id="57f31-401">Ambient values provide convenience by limiting the number of values a developer must specify within a certain request context.</span></span> <span data-ttu-id="57f31-402">Geçerli isteğin geçerli rota değerleri bağlantı oluşturma için ortam değerleri olarak kabul edilir.</span><span class="sxs-lookup"><span data-stu-id="57f31-402">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="57f31-403">İçinde olup olmadığını Örneğin, bir ASP.NET MVC uygulamasında `About` eylemi `HomeController`, bağlantı sağlamak için denetleyici rota değeri belirtmeniz gerekmez `Index` eylemi (ortam değeri `Home` kullanılır).</span><span class="sxs-lookup"><span data-stu-id="57f31-403">For example, in an ASP.NET MVC app if you are in the `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action (the ambient value of `Home` will be used).</span></span>

<span data-ttu-id="57f31-404">Bir parametre eşleşmeyen ortam değerleri yoksayılır ve ortam değerleri de bir açıkça tarafından sağlanan değer, soldan sağa giderek değiştirdiğinde gözardı URL.</span><span class="sxs-lookup"><span data-stu-id="57f31-404">Ambient values that don't match a parameter are ignored, and ambient values are also ignored when an explicitly-provided value overrides it, going from left to right in the URL.</span></span>

<span data-ttu-id="57f31-405">Açıkça sağlanır, ancak, herhangi bir şey eşleşmeyen değerleri sorgu dizesine eklenir.</span><span class="sxs-lookup"><span data-stu-id="57f31-405">Values that are explicitly provided but which don't match anything are added to the query string.</span></span> <span data-ttu-id="57f31-406">Rota şablonu kullanırken aşağıdaki tabloda sonuç gösterilmektedir `{controller}/{action}/{id?}`.</span><span class="sxs-lookup"><span data-stu-id="57f31-406">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="57f31-407">Ortam değerleri</span><span class="sxs-lookup"><span data-stu-id="57f31-407">Ambient Values</span></span> | <span data-ttu-id="57f31-408">Açık değerler</span><span class="sxs-lookup"><span data-stu-id="57f31-408">Explicit Values</span></span> | <span data-ttu-id="57f31-409">Sonuç</span><span class="sxs-lookup"><span data-stu-id="57f31-409">Result</span></span> |
| -------------   | -------------- | ------ |
| <span data-ttu-id="57f31-410">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="57f31-410">controller="Home"</span></span> | <span data-ttu-id="57f31-411">Eylem "About" =</span><span class="sxs-lookup"><span data-stu-id="57f31-411">action="About"</span></span> | `/Home/About` |
| <span data-ttu-id="57f31-412">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="57f31-412">controller="Home"</span></span> | <span data-ttu-id="57f31-413">Denetleyici "Order", Eylem = "About" =</span><span class="sxs-lookup"><span data-stu-id="57f31-413">controller="Order",action="About"</span></span> | `/Order/About` |
| <span data-ttu-id="57f31-414">Denetleyici "Home", color = "Red" =</span><span class="sxs-lookup"><span data-stu-id="57f31-414">controller="Home",color="Red"</span></span> | <span data-ttu-id="57f31-415">Eylem "About" =</span><span class="sxs-lookup"><span data-stu-id="57f31-415">action="About"</span></span> | `/Home/About` |
| <span data-ttu-id="57f31-416">Denetleyici = "Home"</span><span class="sxs-lookup"><span data-stu-id="57f31-416">controller="Home"</span></span> | <span data-ttu-id="57f31-417">Eylem = "Hakkında", renk = "Red"</span><span class="sxs-lookup"><span data-stu-id="57f31-417">action="About",color="Red"</span></span> | `/Home/About?color=Red`

<span data-ttu-id="57f31-418">Bir rota parametresi karşılık gelmiyor varsayılan bir değeri yok ve bu değeri açıkça sağlanır, varsayılan değer eşleşmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="57f31-418">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value.</span></span> <span data-ttu-id="57f31-419">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="57f31-419">For example:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
  defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="57f31-420">Denetleyici ve eylem için eşleşen değerler sağlandığında bağlantı oluşturma yalnızca bu yol için bir bağlantı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="57f31-420">Link generation would only generate a link for this route when the matching values for controller and action are provided.</span></span>
